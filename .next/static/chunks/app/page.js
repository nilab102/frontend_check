/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnilab%2FDesktop%2Fprojects%2Fgti%2Ffubnvoicechat-frontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnilab%2FDesktop%2Fprojects%2Fgti%2Ffubnvoicechat-frontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(app-pages-browser)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZuaWxhYiUyRkRlc2t0b3AlMkZwcm9qZWN0cyUyRmd0aSUyRmZ1Ym52b2ljZWNoYXQtZnJvbnRlbmQlMkZhcHAlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLHNKQUEwRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvP2YzMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbmlsYWIvRGVza3RvcC9wcm9qZWN0cy9ndGkvZnVibnZvaWNlY2hhdC1mcm9udGVuZC9hcHAvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnilab%2FDesktop%2Fprojects%2Fgti%2Ffubnvoicechat-frontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@daily-co/daily-js/dist/daily-esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@daily-co/daily-js/dist/daily-esm.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DAILY_ACCESS_LEVEL_FULL: function() { return /* binding */ Pi; },\n/* harmony export */   DAILY_ACCESS_LEVEL_LOBBY: function() { return /* binding */ Ai; },\n/* harmony export */   DAILY_ACCESS_LEVEL_NONE: function() { return /* binding */ ji; },\n/* harmony export */   DAILY_ACCESS_UNKNOWN: function() { return /* binding */ Oi; },\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE: function() { return /* binding */ Wi; },\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_IN_USE: function() { return /* binding */ qi; },\n/* harmony export */   DAILY_CAMERA_ERROR_CONSTRAINTS: function() { return /* binding */ Ki; },\n/* harmony export */   DAILY_CAMERA_ERROR_MIC_IN_USE: function() { return /* binding */ zi; },\n/* harmony export */   DAILY_CAMERA_ERROR_NOT_FOUND: function() { return /* binding */ Qi; },\n/* harmony export */   DAILY_CAMERA_ERROR_PERMISSIONS: function() { return /* binding */ Hi; },\n/* harmony export */   DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES: function() { return /* binding */ Gi; },\n/* harmony export */   DAILY_CAMERA_ERROR_UNKNOWN: function() { return /* binding */ Yi; },\n/* harmony export */   DAILY_EVENT_ACCESS_STATE_UPDATED: function() { return /* binding */ fo; },\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_CHANGE: function() { return /* binding */ Uo; },\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE: function() { return /* binding */ Vo; },\n/* harmony export */   DAILY_EVENT_APP_MSG: function() { return /* binding */ Io; },\n/* harmony export */   DAILY_EVENT_CAMERA_ERROR: function() { return /* binding */ oo; },\n/* harmony export */   DAILY_EVENT_CPU_LOAD_CHANGE: function() { return /* binding */ qo; },\n/* harmony export */   DAILY_EVENT_ERROR: function() { return /* binding */ ns; },\n/* harmony export */   DAILY_EVENT_EXIT_FULLSCREEN: function() { return /* binding */ Ho; },\n/* harmony export */   DAILY_EVENT_FACE_COUNTS_UPDATED: function() { return /* binding */ zo; },\n/* harmony export */   DAILY_EVENT_FULLSCREEN: function() { return /* binding */ Wo; },\n/* harmony export */   DAILY_EVENT_IFRAME_LAUNCH_CONFIG: function() { return /* binding */ Zi; },\n/* harmony export */   DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG: function() { return /* binding */ Xi; },\n/* harmony export */   DAILY_EVENT_INPUT_SETTINGS_UPDATED: function() { return /* binding */ es; },\n/* harmony export */   DAILY_EVENT_JOINED_MEETING: function() { return /* binding */ ao; },\n/* harmony export */   DAILY_EVENT_JOINING_MEETING: function() { return /* binding */ so; },\n/* harmony export */   DAILY_EVENT_LANG_UPDATED: function() { return /* binding */ Xo; },\n/* harmony export */   DAILY_EVENT_LEFT_MEETING: function() { return /* binding */ co; },\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_ERROR: function() { return /* binding */ Yo; },\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STARTED: function() { return /* binding */ Go; },\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STOPPED: function() { return /* binding */ Ko; },\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_UPDATED: function() { return /* binding */ Qo; },\n/* harmony export */   DAILY_EVENT_LOADED: function() { return /* binding */ ro; },\n/* harmony export */   DAILY_EVENT_LOADING: function() { return /* binding */ to; },\n/* harmony export */   DAILY_EVENT_LOAD_ATTEMPT_FAILED: function() { return /* binding */ no; },\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED: function() { return /* binding */ Bo; },\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED: function() { return /* binding */ Ro; },\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED: function() { return /* binding */ Fo; },\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_DATA_ERROR: function() { return /* binding */ mo; },\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_STATE_UPDATED: function() { return /* binding */ go; },\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED: function() { return /* binding */ vo; },\n/* harmony export */   DAILY_EVENT_NETWORK_CONNECTION: function() { return /* binding */ $o; },\n/* harmony export */   DAILY_EVENT_NETWORK_QUALITY_CHANGE: function() { return /* binding */ Jo; },\n/* harmony export */   DAILY_EVENT_NONFATAL_ERROR: function() { return /* binding */ ts; },\n/* harmony export */   DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED: function() { return /* binding */ po; },\n/* harmony export */   DAILY_EVENT_PARTICIPANT_JOINED: function() { return /* binding */ lo; },\n/* harmony export */   DAILY_EVENT_PARTICIPANT_LEFT: function() { return /* binding */ ho; },\n/* harmony export */   DAILY_EVENT_PARTICIPANT_UPDATED: function() { return /* binding */ uo; },\n/* harmony export */   DAILY_EVENT_RECEIVE_SETTINGS_UPDATED: function() { return /* binding */ Zo; },\n/* harmony export */   DAILY_EVENT_RECORDING_DATA: function() { return /* binding */ jo; },\n/* harmony export */   DAILY_EVENT_RECORDING_ERROR: function() { return /* binding */ Po; },\n/* harmony export */   DAILY_EVENT_RECORDING_STARTED: function() { return /* binding */ Eo; },\n/* harmony export */   DAILY_EVENT_RECORDING_STATS: function() { return /* binding */ Oo; },\n/* harmony export */   DAILY_EVENT_RECORDING_STOPPED: function() { return /* binding */ To; },\n/* harmony export */   DAILY_EVENT_RECORDING_UPLOAD_COMPLETED: function() { return /* binding */ Ao; },\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED: function() { return /* binding */ Lo; },\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED: function() { return /* binding */ No; },\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED: function() { return /* binding */ Do; },\n/* harmony export */   DAILY_EVENT_STARTED_CAMERA: function() { return /* binding */ io; },\n/* harmony export */   DAILY_EVENT_THEME_UPDATED: function() { return /* binding */ eo; },\n/* harmony export */   DAILY_EVENT_TRACK_STARTED: function() { return /* binding */ wo; },\n/* harmony export */   DAILY_EVENT_TRACK_STOPPED: function() { return /* binding */ So; },\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_ERROR: function() { return /* binding */ Co; },\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_MSG: function() { return /* binding */ xo; },\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STARTED: function() { return /* binding */ ko; },\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STOPPED: function() { return /* binding */ Mo; },\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_ADDED: function() { return /* binding */ yo; },\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_REMOVED: function() { return /* binding */ _o; },\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_UPDATED: function() { return /* binding */ bo; },\n/* harmony export */   DAILY_FATAL_ERROR_CONNECTION: function() { return /* binding */ $i; },\n/* harmony export */   DAILY_FATAL_ERROR_EJECTED: function() { return /* binding */ Li; },\n/* harmony export */   DAILY_FATAL_ERROR_EOL: function() { return /* binding */ Vi; },\n/* harmony export */   DAILY_FATAL_ERROR_EXP_ROOM: function() { return /* binding */ Ri; },\n/* harmony export */   DAILY_FATAL_ERROR_EXP_TOKEN: function() { return /* binding */ Fi; },\n/* harmony export */   DAILY_FATAL_ERROR_MEETING_FULL: function() { return /* binding */ Ui; },\n/* harmony export */   DAILY_FATAL_ERROR_NBF_ROOM: function() { return /* binding */ Di; },\n/* harmony export */   DAILY_FATAL_ERROR_NBF_TOKEN: function() { return /* binding */ Ni; },\n/* harmony export */   DAILY_FATAL_ERROR_NOT_ALLOWED: function() { return /* binding */ Ji; },\n/* harmony export */   DAILY_FATAL_ERROR_NO_ROOM: function() { return /* binding */ Bi; },\n/* harmony export */   DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY: function() { return /* binding */ xi; },\n/* harmony export */   DAILY_RECEIVE_SETTINGS_BASE_KEY: function() { return /* binding */ Ii; },\n/* harmony export */   DAILY_STATE_ERROR: function() { return /* binding */ wi; },\n/* harmony export */   DAILY_STATE_JOINED: function() { return /* binding */ bi; },\n/* harmony export */   DAILY_STATE_JOINING: function() { return /* binding */ yi; },\n/* harmony export */   DAILY_STATE_LEFT: function() { return /* binding */ _i; },\n/* harmony export */   DAILY_STATE_NEW: function() { return /* binding */ vi; },\n/* harmony export */   DAILY_TRACK_STATE_BLOCKED: function() { return /* binding */ Si; },\n/* harmony export */   DAILY_TRACK_STATE_INTERRUPTED: function() { return /* binding */ Ei; },\n/* harmony export */   DAILY_TRACK_STATE_LOADING: function() { return /* binding */ Ci; },\n/* harmony export */   DAILY_TRACK_STATE_OFF: function() { return /* binding */ ki; },\n/* harmony export */   DAILY_TRACK_STATE_PLAYABLE: function() { return /* binding */ Ti; },\n/* harmony export */   DAILY_TRACK_STATE_SENDABLE: function() { return /* binding */ Mi; },\n/* harmony export */   \"default\": function() { return /* binding */ ac; }\n/* harmony export */ });\nfunction e(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}function r(e){var t=function(e,t){if(\"object\"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||\"default\");if(\"object\"!=n(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==n(t)?t:t+\"\"}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function s(e,t){if(t&&(\"object\"==n(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&c(e,t)}function u(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){d(o,r,i,s,a,\"next\",e)}function a(e){d(o,r,i,s,a,\"throw\",e)}s(void 0)}))}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var g,m={exports:{}},y=\"object\"==typeof Reflect?Reflect:null,b=y&&\"function\"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=y&&\"function\"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var _=Number.isNaN||function(e){return e!=e};function w(){w.init.call(this)}m.exports=w,m.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){\"function\"==typeof e.removeListener&&e.removeListener(\"error\",i),n([].slice.call(arguments))}j(e,t,o,{once:!0}),\"error\"!==t&&function(e,t,n){\"function\"==typeof e.on&&j(e,\"error\",t,n)}(e,i,{once:!0})}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var S=10;function k(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function M(e){return void 0===e._maxListeners?w.defaultMaxListeners:e._maxListeners}function C(e,t,n,r){var i,o,s,a;if(k(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=M(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function O(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):A(i,i.length)}function P(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function j(e,t,n,r){if(\"function\"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if(\"function\"!=typeof e.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(w,\"defaultMaxListeners\",{enumerable:!0,get:function(){return S},set:function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");S=e}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},w.prototype.getMaxListeners=function(){return M(this)},w.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=\"error\"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if(\"function\"==typeof a)b(a,this,t);else{var c=a.length,l=A(a,c);for(n=0;n<c;++n)b(l[n],this,t)}return!0},w.prototype.addListener=function(e,t){return C(this,e,t,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(e,t){return C(this,e,t,!0)},w.prototype.once=function(e,t){return k(t),this.on(e,T(this,e,t)),this},w.prototype.prependOnceListener=function(e,t){return k(t),this.prependListener(e,T(this,e,t)),this},w.prototype.removeListener=function(e,t){var n,r,i,o,s;if(k(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,s||t)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},w.prototype.listeners=function(e){return O(this,e,!0)},w.prototype.rawListeners=function(e){return O(this,e,!1)},w.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):P.call(e,t)},w.prototype.listenerCount=P,w.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};var I=m.exports,x=v(I),L=Object.prototype.hasOwnProperty;function D(e,t,n){for(n of e.keys())if(N(n,t))return n}function N(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&N(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!N(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||\"object\"==typeof e){for(n in r=0,e){if(L.call(e,n)&&++r&&!L.call(t,n))return!1;if(!(n in t)||!N(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}const R={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},F={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},B={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},U={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},V={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"};class J{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||\"\"}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||\"\"}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}static getMacOSVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}}static getAndroidVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0}static getVersionPrecision(e){return e.split(\".\").length}static compareVersions(e,t,n=!1){const r=J.getVersionPrecision(e),i=J.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=J.map([e,t],(e=>{const t=o-J.getVersionPrecision(e),n=e+new Array(t+1).join(\".0\");return J.map(n.split(\".\"),(e=>new Array(20-e.length).join(\"0\")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if(\"object\"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return R[e]}static getBrowserTypeByAlias(e){return F[e]||\"\"}}const $=/version\\/(\\d+(\\.?_?\\d+)+)/i,q=[{test:[/googlebot/i],describe(e){const t={name:\"Googlebot\"},n=J.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\\/|opios/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:\"Samsung Internet for Android\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:\"NAVER Whale Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:\"MZ Browser\"},n=J.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:\"Focus\"},n=J.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:\"Swing\"},n=J.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:\"Opera Coast\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe(e){const t={name:\"Opera Touch\"},n=J.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:\"Yandex Browser\"},n=J.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:\"UC Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:\"Maxthon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:\"Epiphany\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:\"Puffin\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:\"Sleipnir\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:\"K-Meleon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:\"WeChat\"},n=J.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},n=J.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:\"Internet Explorer\"},n=J.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\\sedg\\//i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:\"Vivaldi\"},n=J.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:\"SeaMonkey\"},n=J.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:\"Sailfish\"},n=J.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:\"Amazon Silk\"},n=J.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:\"PhantomJS\"},n=J.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:\"SlimerJS\"},n=J.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t={name:\"BlackBerry\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:\"WebOS Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:\"Bada\"},n=J.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:\"Tizen\"},n=J.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:\"QupZilla\"},n=J.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:\"Firefox\"},n=J.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:\"Electron\"},n=J.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:\"Miui\"},n=J.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:\"Chromium\"},n=J.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:\"Chrome\"},n=J.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:\"Google Search\"},n=J.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:\"Android Browser\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:\"PlayStation 4\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:\"Safari\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:J.getFirstMatch(t,e),version:J.getSecondMatch(t,e)}}}];var z=[{test:[/Roku\\/DVP/],describe(e){const t=J.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:U.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=J.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:U.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=J.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=J.getWindowsVersionName(t);return{name:U.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe(e){const t={name:U.iOS},n=J.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=J.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),n=J.getMacOSVersionName(t),r={name:U.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=J.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:U.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=J.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=J.getAndroidVersionName(t),r={name:U.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=J.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:U.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t=J.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||J.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||J.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:U.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=J.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:U.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=J.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:U.Linux})},{test:[/CrOS/],describe:()=>({name:U.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=J.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.PlayStation4,version:t}}}],W=[{test:[/googlebot/i],describe:()=>({type:\"bot\",vendor:\"Google\"})},{test:[/huawei/i],describe(e){const t=J.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",n={type:B.mobile,vendor:\"Huawei\"};return t&&(n.model=t),n}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:()=>({type:B.tablet,vendor:\"Nexus\"})},{test:[/ipad/i],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/kftt build/i],describe:()=>({type:B.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"})},{test:[/silk/i],describe:()=>({type:B.tablet,vendor:\"Amazon\"})},{test:[/tablet(?! pc)/i],describe:()=>({type:B.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=J.getFirstMatch(/(ipod|iphone)/i,e);return{type:B.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:B.mobile,vendor:\"Nexus\"})},{test:[/[^-]mobi/i],describe:()=>({type:B.mobile})},{test:e=>\"blackberry\"===e.getBrowserName(!0),describe:()=>({type:B.mobile,vendor:\"BlackBerry\"})},{test:e=>\"bada\"===e.getBrowserName(!0),describe:()=>({type:B.mobile})},{test:e=>\"windows phone\"===e.getBrowserName(),describe:()=>({type:B.mobile,vendor:\"Microsoft\"})},{test(e){const t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:()=>({type:B.tablet})},{test:e=>\"android\"===e.getOSName(!0),describe:()=>({type:B.mobile})},{test:e=>\"macos\"===e.getOSName(!0),describe:()=>({type:B.desktop,vendor:\"Apple\"})},{test:e=>\"windows\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"linux\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"playstation 4\"===e.getOSName(!0),describe:()=>({type:B.tv})},{test:e=>\"roku\"===e.getOSName(!0),describe:()=>({type:B.tv})}],H=[{test:e=>\"microsoft edge\"===e.getBrowserName(!0),describe(e){if(/\\sedg\\//i.test(e))return{name:V.Blink};const t=J.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:V.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:V.Trident},n=J.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:V.Presto},n=J.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:V.Gecko},n=J.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:()=>({name:V.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:V.WebKit},n=J.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}}];class G{constructor(e,t=!1){if(null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=J.find(q,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=J.find(z,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||\"\":t||\"\"}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||\"\":t||\"\"}parsePlatform(){this.parsedResult.platform={};const e=J.find(W,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"}parseEngine(){this.parsedResult.engine={};const e=J.find(H,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return J.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];\"string\"==typeof s?(r[o]=s,i+=1):\"object\"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=J.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=J.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=J.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=J.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(n=e.substr(1),\"=\"===e[1]?(r=!0,n=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?n=e.substr(1):\"~\"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(J.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}\n/*!\n * Bowser - a browser detector\n * https://github.com/lancedikson/bowser\n * MIT License | (c) Dustin Diaz 2012-2015\n * MIT License | (c) Denis Demchenko 2015-2019\n */class Q{static getParser(e,t=!1){if(\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new G(e,t)}static parse(e){return new G(e).getResult()}static get BROWSER_MAP(){return F}static get ENGINE_MAP(){return V}static get OS_MAP(){return U}static get PLATFORMS_MAP(){return B}}function K(){return Date.now()+Math.random().toString()}function Y(){throw new Error(\"Method must be implemented in subclass\")}function X(e,t){return null!=t&&t.proxyUrl?t.proxyUrl+(\"/\"===t.proxyUrl.slice(-1)?\"\":\"/\")+e.substring(8):e}function Z(e){return null!=e&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:X(\"https://c.daily.co/call-machine/versioned/\".concat(\"0.79.0\",\"/static/call-machine-object-bundle.js\"),e)}function ee(e){try{new URL(e)}catch(e){return!1}return!0}const te=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ne=\"8.55.0\",re=globalThis;function ie(e,t,n){const r=n||re,i=r.__SENTRY__=r.__SENTRY__||{},o=i[ne]=i[ne]||{};return o[e]||(o[e]=t())}const oe=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,se=[\"debug\",\"info\",\"warn\",\"error\",\"log\",\"assert\",\"trace\"],ae={};function ce(e){if(!(\"console\"in re))return e();const t=re.console,n={},r=Object.keys(ae);r.forEach((e=>{const r=ae[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const le=ie(\"logger\",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return oe?se.forEach((n=>{t[n]=(...t)=>{e&&ce((()=>{re.console[n](`Sentry Logger [${n}]:`,...t)}))}})):se.forEach((e=>{t[e]=()=>{}})),t})),ue=\"?\",de=/\\(error: (.*)\\)/,he=/captureMessage|captureException/;function pe(e){return e[e.length-1]||{}}const fe=\"<anonymous>\";function ve(e){try{return e&&\"function\"==typeof e&&e.name||fe}catch(e){return fe}}function ge(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const me={},ye={};function be(e,t){me[e]=me[e]||[],me[e].push(t)}function _e(e,t){if(!ye[e]){ye[e]=!0;try{t()}catch(t){oe&&le.error(`Error while instrumenting ${e}`,t)}}}function we(e,t){const n=e&&me[e];if(n)for(const r of n)try{r(t)}catch(t){oe&&le.error(`Error while triggering instrumentation handler.\\nType: ${e}\\nName: ${ve(r)}\\nError:`,t)}}let Se=null;function ke(){Se=re.onerror,re.onerror=function(e,t,n,r,i){return we(\"error\",{column:r,error:i,line:n,msg:e,url:t}),!!Se&&Se.apply(this,arguments)},re.onerror.__SENTRY_INSTRUMENTED__=!0}let Me=null;function Ce(){Me=re.onunhandledrejection,re.onunhandledrejection=function(e){return we(\"unhandledrejection\",e),!Me||Me.apply(this,arguments)},re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ee(){return Te(re),re}function Te(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ne,t[ne]=t[ne]||{}}const Oe=Object.prototype.toString;function Pe(e){switch(Oe.call(e)){case\"[object Error]\":case\"[object Exception]\":case\"[object DOMException]\":case\"[object WebAssembly.Exception]\":return!0;default:return Be(e,Error)}}function Ae(e,t){return Oe.call(e)===`[object ${t}]`}function je(e){return Ae(e,\"ErrorEvent\")}function Ie(e){return Ae(e,\"DOMError\")}function xe(e){return Ae(e,\"String\")}function Le(e){return\"object\"==typeof e&&null!==e&&\"__sentry_template_string__\"in e&&\"__sentry_template_values__\"in e}function De(e){return null===e||Le(e)||\"object\"!=typeof e&&\"function\"!=typeof e}function Ne(e){return Ae(e,\"Object\")}function Re(e){return\"undefined\"!=typeof Event&&Be(e,Event)}function Fe(e){return Boolean(e&&e.then&&\"function\"==typeof e.then)}function Be(e,t){try{return e instanceof t}catch(e){return!1}}function Ue(e){return!(\"object\"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const Ve=re;function Je(e,t={}){if(!e)return\"<unknown>\";try{let n=e;const r=5,i=[];let o=0,s=0;const a=\" > \",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(l=$e(n,u),!(\"html\"===l||o>1&&s+i.length*c+l.length>=d));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return\"<unknown>\"}}function $e(e,t){const n=e,r=[];if(!n||!n.tagName)return\"\";if(Ve.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{r.push(`[${e[0]}=\"${e[1]}\"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&xe(e)){const t=e.split(/\\s+/);for(const e of t)r.push(`.${e}`)}}const o=[\"aria-label\",\"type\",\"name\",\"title\",\"alt\"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}=\"${t}\"]`)}return r.join(\"\")}function qe(e,t=0){return\"string\"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ze(e,t){if(!Array.isArray(e))return\"\";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{Ue(r)?n.push(\"[VueViewModel]\"):n.push(String(r))}catch(e){n.push(\"[value cannot be serialized]\")}}return n.join(t)}function We(e,t,n=!1){return!!xe(e)&&(Ae(t,\"RegExp\")?t.test(e):!!xe(t)&&(n?e===t:e.includes(t)))}function He(e,t=[],n=!1){return t.some((t=>We(e,t,n)))}function Ge(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);\"function\"==typeof i&&Ke(i,r);try{e[t]=i}catch(n){oe&&le.log(`Failed to replace method \"${t}\" in object`,e)}}function Qe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){oe&&le.log(`Failed to add non-enumerable property \"${t}\" to object`,e)}}function Ke(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Qe(e,\"__sentry_original__\",t)}catch(e){}}function Ye(e){return e.__sentry_original__}function Xe(e){if(Pe(e))return{message:e.message,name:e.name,stack:e.stack,...et(e)};if(Re(e)){const t={type:e.type,target:Ze(e.target),currentTarget:Ze(e.currentTarget),...et(e)};return\"undefined\"!=typeof CustomEvent&&Be(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ze(e){try{return t=e,\"undefined\"!=typeof Element&&Be(t,Element)?Je(e):Object.prototype.toString.call(e)}catch(e){return\"<unknown>\"}var t}function et(e){if(\"object\"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function tt(e){return nt(e,new Map)}function nt(e,t){if(function(e){if(!Ne(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||\"Object\"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=nt(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(nt(e,t))})),r}return e}function rt(){return Date.now()/1e3}const it=function(){const{performance:e}=re;if(!e||!e.now)return rt;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ot(){const e=re,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,\"\");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function st(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function at(e){const{message:t,event_id:n}=e;if(t)return t;const r=st(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||\"<unknown>\":n||\"<unknown>\"}function ct(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||\"\"),o.type||(o.type=n||\"Error\")}function lt(e,t){const n=st(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:\"generic\",handled:!0,...r,...t},t&&\"data\"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function ut(e){if(function(e){try{return e.__sentry_captured__}catch(e){}}(e))return!0;try{Qe(e,\"__sentry_captured__\",!0)}catch(e){}return!1}var dt;function ht(e){return new ft((t=>{t(e)}))}function pt(e){return new ft(((t,n)=>{n(e)}))}(()=>{const{performance:e}=re;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a=\"number\"==typeof s?Math.abs(s+n-r):t;(o||a<t)&&(i<=a&&e.timeOrigin)})(),function(e){e[e.PENDING=0]=\"PENDING\";e[e.RESOLVED=1]=\"RESOLVED\";e[e.REJECTED=2]=\"REJECTED\"}(dt||(dt={}));class ft{constructor(e){ft.prototype.__init.call(this),ft.prototype.__init2.call(this),ft.prototype.__init3.call(this),ft.prototype.__init4.call(this),this._state=dt.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ft(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ft(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(dt.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(dt.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===dt.PENDING&&(Fe(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===dt.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===dt.RESOLVED&&e[1](this._value),this._state===dt.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function vt(e){const t=it(),n={sid:ot(),init:!0,timestamp:t,started:t,duration:0,status:\"ok\",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return tt({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:\"number\"==typeof e.did||\"string\"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&gt(n,e),n}function gt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||it(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ot()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),\"number\"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(\"number\"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),\"number\"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function mt(){return ot()}function yt(){return ot().substring(16)}function bt(e,t,n=2){if(!t||\"object\"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=bt(r[e],t[e],n-1));return r}const _t=\"_sentrySpan\";function wt(e,t){t?Qe(e,_t,t):delete e[_t]}function St(e){return e[_t]}class kt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:mt(),spanId:yt()}}clone(){const e=new kt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,wt(e,St(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=\"function\"==typeof e?e(this):e,[n,r]=t instanceof Mt?[t.getScopeData(),t.getRequestSession()]:Ne(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:s,contexts:a,level:c,fingerprint:l=[],propagationContext:u}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),l.length&&(this._fingerprint=l),u&&(this._propagationContext=u),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,wt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:mt()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n=\"number\"==typeof t?t:100;if(n<=0)return this;const r={timestamp:rt(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent(\"buffer_overflow\",\"log_item\")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:St(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=bt(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:yt(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture exception!\"),n;const r=new Error(\"Sentry syntheticException\");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture message!\"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ot();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(le.warn(\"No client configured on scope - will not capture event!\"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const Mt=kt;class Ct{constructor(e,t){let n,r;n=e||new Mt,r=t||new Mt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return Fe(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Et(){const e=Te(Ee());return e.stack=e.stack||new Ct(ie(\"defaultCurrentScope\",(()=>new Mt)),ie(\"defaultIsolationScope\",(()=>new Mt)))}function Tt(e){return Et().withScope(e)}function Ot(e,t){const n=Et();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function Pt(e){return Et().withScope((()=>e(Et().getIsolationScope())))}function At(e){const t=Te(e);return t.acs?t.acs:{withIsolationScope:Pt,withScope:Tt,withSetScope:Ot,withSetIsolationScope:(e,t)=>Pt(t),getCurrentScope:()=>Et().getScope(),getIsolationScope:()=>Et().getIsolationScope()}}function jt(){return At(Ee()).getCurrentScope()}function It(){return At(Ee()).getIsolationScope()}function xt(){return jt().getClient()}function Lt(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return tt({trace_id:n,span_id:r,parent_span_id:i})}function Dt(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[e,r]]of t){(n[e]||(n[e]=[])).push(tt(r))}return n}const Nt=/^sentry-/;function Rt(e){const t=function(e){if(!e||!xe(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=Ft(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{});return Ft(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Nt)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Ft(e){return e.split(\",\").map((e=>e.split(\"=\").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}let Bt=!1;function Ut(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return tt({parent_span_id:r?t:$t(e).parent_span_id,span_id:r?yt():t,trace_id:n})}function Vt(e){return\"number\"==typeof e?Jt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Jt(e.getTime()):it()}function Jt(e){return e>9999999999?e/1e3:e}function $t(e){if(function(e){return\"function\"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:c}=e;return tt({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Vt(i),timestamp:Vt(s)||void 0,status:qt(c),op:r[\"sentry.op\"],origin:r[\"sentry.origin\"],_metrics_summary:Dt(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function qt(e){if(e&&0!==e.code)return 1===e.code?\"ok\":e.message||\"unknown_error\"}function zt(e){return e._sentryRootSpan||e}function Wt(){Bt||(ce((()=>{console.warn(\"[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.\")})),Bt=!0)}const Ht=\"production\";function Gt(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=tt({environment:n.environment||Ht,release:n.release,public_key:r,trace_id:e});return t.emit(\"createDsc\",i),i}function Qt(e){const t=xt();if(!t)return{};const n=zt(e),r=n._frozenDsc;if(r)return r;const i=n.spanContext().traceState,o=i&&i.get(\"sentry.dsc\"),s=o&&Rt(o);if(s)return s;const a=Gt(e.spanContext().traceId,t),c=$t(n),l=c.data||{},u=l[\"sentry.sample_rate\"];null!=u&&(a.sample_rate=`${u}`);const d=l[\"sentry.source\"],h=c.description;return\"url\"!==d&&h&&(a.transaction=h),function(e){if(\"boolean\"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=xt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||\"tracesSampleRate\"in n||\"tracesSampler\"in n)}()&&(a.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(n))),t.emit(\"createDsc\",a,n),a}const Kt=/^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;function Yt(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:\"\"}@${n}${o?`:${o}`:\"\"}/${r?`${r}/`:r}${s}`}function Xt(e){return{protocol:e.protocol,publicKey:e.publicKey||\"\",pass:e.pass||\"\",host:e.host,port:e.port||\"\",path:e.path||\"\",projectId:e.projectId}}function Zt(e){const t=\"string\"==typeof e?function(e){const t=Kt.exec(e);if(!t)return void ce((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i=\"\",o=\"\",s=\"\",a=\"\"]=t.slice(1);let c=\"\",l=a;const u=l.split(\"/\");if(u.length>1&&(c=u.slice(0,-1).join(\"/\"),l=u.pop()),l){const e=l.match(/^\\d+/);e&&(l=e[0])}return Xt({host:o,pass:i,path:c,projectId:l,port:s,protocol:n,publicKey:r})}(e):Xt(e);if(t&&function(e){if(!oe)return!0;const{port:t,projectId:n,protocol:r}=e;return!([\"protocol\",\"publicKey\",\"host\",\"projectId\"].find((t=>!e[t]&&(le.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\\d+$/)?function(e){return\"http\"===e||\"https\"===e}(r)?t&&isNaN(parseInt(t,10))&&(le.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(le.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(le.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function en(e,t=100,n=1/0){try{return nn(\"\",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function tn(e,t=3,n=102400){const r=en(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?tn(e,t-1,n):r;var i}function nn(e,t,n=1/0,r=1/0,i=function(){const e=\"function\"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,s]=i;if(null==t||[\"boolean\",\"string\"].includes(typeof t)||\"number\"==typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if(\"domain\"===e&&t&&\"object\"==typeof t&&t._events)return\"[Domain]\";if(\"domainEmitter\"===e)return\"[DomainEmitter]\";if(\"undefined\"!=typeof __webpack_require__.g&&t===__webpack_require__.g)return\"[Global]\";if(\"undefined\"!=typeof window&&t===window)return\"[Window]\";if(\"undefined\"!=typeof document&&t===document)return\"[Document]\";if(Ue(t))return\"[VueViewModel]\";if(Ne(n=t)&&\"nativeEvent\"in n&&\"preventDefault\"in n&&\"stopPropagation\"in n)return\"[SyntheticEvent]\";if(\"number\"==typeof t&&!Number.isFinite(t))return`[${t}]`;if(\"function\"==typeof t)return`[Function: ${ve(t)}]`;if(\"symbol\"==typeof t)return`[${String(t)}]`;if(\"bigint\"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:\"null prototype\"}(t);return/^HTML(\\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith(\"[object \"))return a;if(t.__sentry_skip_normalization__)return t;const c=\"number\"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace(\"object \",\"\");if(o(t))return\"[Circular ~]\";const l=t;if(l&&\"function\"==typeof l.toJSON)try{return nn(\"\",l.toJSON(),c-1,r,i)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const h=Xe(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(d>=r){u[e]=\"[MaxProperties ~]\";break}const t=h[e];u[e]=nn(e,t,c-1,r,i),d++}return s(t),u}function rn(e,t=[]){return[e,t]}function on(e,t){const[n,r]=e;return[n,[...r,t]]}function sn(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function an(e){return re.__SENTRY__&&re.__SENTRY__.encodePolyfill?re.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function cn(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){\"string\"==typeof r?r=\"string\"==typeof e?r+e:[an(r),e]:r.push(\"string\"==typeof e?an(e):e)}for(const e of n){const[t,n]=e;if(i(`\\n${JSON.stringify(t)}\\n`),\"string\"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(en(n))}i(e)}}return\"string\"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function ln(e){const t=\"string\"==typeof e.data?an(e.data):e.data;return[tt({type:\"attachment\",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const un={session:\"session\",sessions:\"session\",attachment:\"attachment\",transaction:\"transaction\",event:\"error\",client_report:\"internal\",user_report:\"default\",profile:\"profile\",profile_chunk:\"profile\",replay_event:\"replay\",replay_recording:\"replay\",check_in:\"monitor\",feedback:\"feedback\",span:\"span\",statsd:\"metric_bucket\",raw_security:\"security\"};function dn(e){return un[e]}function hn(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function pn(e,t,n,r){const i=hn(n),o=e.type&&\"replay_event\"!==e.type?e.type:\"event\";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Yt(r)},...i&&{trace:tt({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return rn(s,[[{type:o},e]])}function fn(e,t,n,r=0){return new ft(((i,o)=>{const s=e[r];if(null===t||\"function\"!=typeof s)i(t);else{const a=s({...t},n);te&&s.id&&null===a&&le.log(`Event processor \"${s.id}\" dropped event`),Fe(a)?a.then((t=>fn(e,t,n,r+1).then(i))).then(null,o):fn(e,a,n,r+1).then(i).then(null,o)}}))}let vn,gn,mn;function yn(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,c=tt(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=tt(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=tt(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=tt(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});s&&(e.level=s);a&&\"transaction\"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Ut(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Qt(t),...e.sdkProcessingMetadata};const n=zt(t),r=$t(n).description;r&&!e.transaction&&\"transaction\"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function bn(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;_n(e,\"extra\",n),_n(e,\"tags\",r),_n(e,\"user\",i),_n(e,\"contexts\",o),e.sdkProcessingMetadata=bt(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function _n(e,t,n){e[t]=bt(e[t],n,1)}function wn(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ot(),timestamp:t.timestamp||rt()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||Ht,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);e.message&&(e.message=qe(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=qe(s.value,o));const a=e.request;a&&a.url&&(a.url=qe(a.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),i&&i.emit(\"applyFrameMetadata\",t),void 0===t.type&&function(e,t){const n=function(e){const t=re._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return mn&&n.length===gn||(gn=n.length,mn=n.reduce(((n,r)=>{vn||(vn={});const i=vn[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const o=i[e],s=o&&o.filename,a=t[r];if(s&&a){n[s]=a,vn[r]=[s,a];break}}}return n}),{})),mn}(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{n&&e.filename&&(e.debug_id=n[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Mt;return n.update(t),n}(r,n.captureContext);n.mechanism&&lt(c,n.mechanism);const d=i?i.getEventProcessors():[],h=ie(\"globalScope\",(()=>new Mt)).getScopeData();if(o){bn(h,o.getScopeData())}if(u){bn(h,u.getScopeData())}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),yn(c,h);return fn([...d,...h.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:\"sourcemap\",code_file:e,debug_id:t})}))}(e),\"number\"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}})))},...e.user&&{user:en(e.user,t,n)},...e.contexts&&{contexts:en(e.contexts,t,n)},...e.extra&&{extra:en(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=en(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}}))));e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=en(e.contexts.flags,3,n));return r}(e,s,a):e)))}function Sn(e){if(e)return function(e){return e instanceof Mt||\"function\"==typeof e}(e)||function(e){return Object.keys(e).some((e=>kn.includes(e)))}(e)?{captureContext:e}:e}const kn=[\"user\",\"level\",\"extra\",\"contexts\",\"tags\",\"fingerprint\",\"requestSession\",\"propagationContext\"];function Mn(e,t){return jt().captureEvent(e,t)}function Cn(e){const t=xt(),n=It(),r=jt(),{release:i,environment:o=Ht}=t&&t.getOptions()||{},{userAgent:s}=re.navigator||{},a=vt({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),c=n.getSession();return c&&\"ok\"===c.status&&gt(c,{status:\"exited\"}),En(),n.setSession(a),r.setSession(a),a}function En(){const e=It(),t=jt(),n=t.getSession()||e.getSession();n&&function(e,t){let n={};t?n={status:t}:\"ok\"===e.status&&(n={status:\"exited\"}),gt(e,n)}(n),Tn(),e.setSession(),t.setSession()}function Tn(){const e=It(),t=jt(),n=xt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function On(e=!1){e?En():Tn()}function Pn(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:\"\",n=e.port?`:${e.port}`:\"\";return`${t}//${e.host}${n}${e.path?`/${e.path}`:\"\"}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:\"7\"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const An=[];function jn(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function In(e,t,n){if(n[t.name])te&&le.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===An.indexOf(t.name)&&\"function\"==typeof t.setupOnce&&(t.setupOnce(),An.push(t.name)),t.setup&&\"function\"==typeof t.setup&&t.setup(e),\"function\"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on(\"preprocessEvent\",((t,r)=>n(t,r,e)))}if(\"function\"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}te&&le.log(`Integration installed: ${t.name}`)}}class xn extends Error{constructor(e,t=\"warn\"){super(e),this.message=e,this.logLevel=t}}const Ln=\"Not capturing exception because it's already been captured.\";class Dn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Zt(e.dsn):te&&le.warn(\"No DSN provided, client will not send events.\"),this._dsn){const t=Pn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}const t=[\"enableTracing\",\"tracesSampleRate\",\"tracesSampler\"].find((t=>t in e&&null==e[t]));t&&ce((()=>{console.warn(`[Sentry] Deprecation warning: \\`${t}\\` is set to undefined, which leads to tracing being enabled. In v9, a value of \\`undefined\\` will result in tracing being disabled.`)}))}captureException(e,t,n){const r=ot();if(ut(e))return te&&le.log(Ln),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:ot(),...n},o=Le(e)?e:String(e),s=De(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=ot();if(t&&t.originalException&&ut(t.originalException))return te&&le.log(Ln),r;const i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){\"string\"!=typeof e.release?te&&le.warn(\"Discarded session because of missing or non-string release\"):(this.sendSession(e),gt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit(\"flush\"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):ht(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit(\"close\"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith(\"Spotlight\"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];In(this,e,this._integrations),t||jn(this,[e])}sendEvent(e,t={}){this.emit(\"beforeSendEvent\",e,t);let n=pn(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=on(n,ln(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit(\"afterSendEvent\",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const i=hn(n);return rn({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Yt(t)}},[\"aggregates\"in e?[{type:\"sessions\"},e]:[{type:\"session\"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r=\"number\"==typeof n?n:1,i=`${e}:${t}`;te&&le.log(`Recording outcome: \"${i}\"${r>1?` (${r} times)`:\"\"}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit(\"beforeEnvelope\",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(te&&le.error(\"Error while sending envelope:\",e),e))):(te&&le.error(\"Transport disabled\"),ht({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&In(e,t,n)})),n}(this,e),jn(this,e)}_updateSessionFromEvent(e,t){let n=\"fatal\"===t.level,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o=\"ok\"===e.status;(o&&0===e.errors||o&&n)&&(gt(e,{...n&&{status:\"crashed\"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ft((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n=jt(),r=It()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit(\"preprocessEvent\",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),wn(i,e,t,n,this,r).then((e=>{if(null===e)return e;e.contexts={trace:Lt(n),...e.contexts};const t=function(e,t){const n=t.getPropagationContext();return n.dsc||Gt(n.traceId,e)}(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:t,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{te&&(e instanceof xn&&\"log\"===e.logLevel?le.log(e.message):le.warn(e))}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=Rn(e),s=Nn(e),a=e.type||\"error\",c=`before send for type \\`${a}\\``,l=void 0===i?void 0:function(e){if(\"boolean\"==typeof e)return Number(e);const t=\"string\"==typeof e?parseFloat(e):e;if(!(\"number\"!=typeof t||isNaN(t)||t<0||t>1))return t;te&&le.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(i);if(s&&\"number\"==typeof l&&Math.random()>l)return this.recordDroppedEvent(\"sample_rate\",\"error\",e),pt(new xn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,\"log\"));const u=\"replay_event\"===a?\"replay\":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent(\"event_processor\",u,e),new xn(\"An event processor returned `null`, will not send event.\",\"log\");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(Nn(n)&&i)return i(n,r);if(Rn(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):(Wt(),e.recordDroppedEvent(\"before_send\",\"span\"))}n.spans=t}if(o){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \\`null\\` or a valid event.`;if(Fe(e))return e.then((e=>{if(!Ne(e)&&null!==e)throw new xn(n);return e}),(e=>{throw new xn(`${t} rejected with ${e}`)}));if(!Ne(e)&&null!==e)throw new xn(n);return e}(i,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent(\"before_send\",u,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent(\"before_send\",\"span\",t)}throw new xn(`${c} returned \\`null\\`, will not send event.`,\"log\")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent(\"before_send\",\"span\",e)}const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e=\"custom\";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof xn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new xn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(\":\");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){te&&le.log(\"Flushing outcomes...\");const e=this._clearOutcomes();if(0===e.length)return void(te&&le.log(\"No outcomes to send\"));if(!this._dsn)return void(te&&le.log(\"No dsn provided, will not send outcomes\"));te&&le.log(\"Sending outcomes:\",e);const t=(n=e,rn((r=this._options.tunnel&&Yt(this._dsn))?{dsn:r}:{},[[{type:\"client_report\"},{timestamp:i||rt(),discarded_events:n}]]));var n,r,i;this.sendEnvelope(t)}}function Nn(e){return void 0===e.type}function Rn(e){return\"transaction\"===e.type}function Fn(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return pt(new xn(\"Not adding Promise because buffer limit was reached.\"));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new ft(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ht(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Bn(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n[\"x-sentry-rate-limits\"],s=n&&n[\"retry-after\"];if(o)for(const e of o.trim().split(\",\")){const[t,n,,,o]=e.split(\":\",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(\";\"))\"metric_bucket\"===e&&o&&!o.split(\";\").includes(\"custom\")||(i[e]=r+a);else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function Un(e,t,n=Fn(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(sn(i,((t,n)=>{const i=dn(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=Vn(t,n);e.recordDroppedEvent(\"ratelimit_backoff\",i,r)}else o.push(t)})),0===o.length)return ht({});const s=rn(i[0],o),a=t=>{sn(s,((n,r)=>{const i=Vn(n,r);e.recordDroppedEvent(t,dn(r),i)}))};return n.add((()=>t({body:cn(s)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&te&&le.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Bn(r,e),e)),(e=>{throw a(\"network_error\"),e})))).then((e=>e),(e=>{if(e instanceof xn)return te&&le.error(\"Skipped sending event because buffer is full.\"),a(\"queue_overflow\"),ht({});throw e}))},flush:e=>n.drain(e)}}function Vn(e,t){if(\"event\"===t||\"transaction\"===t)return Array.isArray(e)?e[1]:void 0}const Jn=100;function $n(e,t){const n=xt(),r=It();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Jn}=n.getOptions();if(o<=0)return;const s={timestamp:rt(),...e},a=i?ce((()=>i(s,t))):s;null!==a&&(n.emit&&n.emit(\"beforeAddBreadcrumb\",a,t),r.addBreadcrumb(a,o))}let qn;const zn=new WeakMap,Wn=()=>({name:\"FunctionToString\",setupOnce(){qn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ye(this),n=zn.has(xt())&&void 0!==t?t:this;return qn.apply(n,e)}}catch(e){}},setup(e){zn.set(e,!0)}}),Hn=[/^Script error\\.?$/,/^Javascript error: Script error\\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,\"undefined is not an object (evaluating 'a.L')\",'can\\'t redefine non-configurable property \"solana\"',\"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)\",\"Can't find variable: _AutofillCallbackHandler\",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\\d+, MethodName:simulateEvent, ParamCount:\\d+$/],Gn=(e={})=>({name:\"InboundFilters\",processEvent(t,n,r){const i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Hn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return\"SentryError\"===e.exception.values[0].type}catch(e){}return!1}(e))return te&&le.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>He(e,t)))}(e,t.ignoreErrors))return te&&le.warn(`Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${at(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&\"Error\"!==e.type||e.value))}(e))return te&&le.warn(`Event dropped due to not having an error message, error type or stacktrace.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(\"transaction\"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&He(n,t)}(e,t.ignoreTransactions))return te&&le.warn(`Event dropped due to being matched by \\`ignoreTransactions\\` option.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Qn(e);return!!n&&He(n,t)}(e,t.denyUrls))return te&&le.warn(`Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Qn(e);return!n||He(n,t)}(e,t.allowUrls))return te&&le.warn(`Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;return!1}(t,o)?null:t}});function Qn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&\"<anonymous>\"!==n.filename&&\"[native code]\"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return te&&le.error(`Cannot extract url for event ${at(e)}`),null}}function Kn(e,t,n=250,r,i,o,s){if(!(o.exception&&o.exception.values&&s&&Be(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=Yn(e,t,i,s.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=qe(e.value,l)),e)))))}function Yn(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let c=[...o];if(Be(r[i],Error)){Xn(s,a);const o=e(t,r[i]),l=c.length;Zn(o,i,l,a),c=Yn(e,t,n,r[i],i,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(Be(r,Error)){Xn(s,a);const l=e(t,r),u=c.length;Zn(l,`errors[${o}]`,u,a),c=Yn(e,t,n,r,i,[l,...c],l,u)}})),c}function Xn(e,t){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,...\"AggregateError\"===e.type&&{is_exception_group:!0},exception_id:t}}function Zn(e,t,n,r){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,type:\"chained\",source:t,exception_id:n,parent_id:r}}function er(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||\"\",r=t[8]||\"\";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function tr(){\"console\"in re&&se.forEach((function(e){e in re.console&&Ge(re.console,e,(function(t){return ae[e]=t,function(...t){we(\"console\",{args:t,level:e});const n=ae[e];n&&n.apply(re.console,t)}}))}))}function nr(e){return\"warn\"===e?\"warning\":[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"].includes(e)?e:\"log\"}const rr=()=>{let e;return{name:\"Dedupe\",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=sr(t),r=sr(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return te&&le.warn(\"Event dropped due to being a duplicate of previously captured event.\"),null}catch(e){}return e=t}}};function ir(e,t){let n=ge(e),r=ge(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function or(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join(\"\")!==r.join(\"\"))}catch(e){return!1}}function sr(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ar(e){return void 0===e?void 0:e>=400&&e<500?\"warning\":e>=500?\"error\":void 0}const cr=re;function lr(e){return e&&/^function\\s+\\w+\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(e.toString())}function ur(){if(\"string\"==typeof EdgeRuntime)return!0;if(!function(){if(!(\"fetch\"in cr))return!1;try{return new Headers,new Request(\"http://www.example.com\"),new Response,!0}catch(e){return!1}}())return!1;if(lr(cr.fetch))return!0;let e=!1;const t=cr.document;if(t&&\"function\"==typeof t.createElement)try{const n=t.createElement(\"iframe\");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=lr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){oe&&le.warn(\"Could not create sandbox iframe for pure fetch check, bailing to window.fetch: \",e)}return e}function dr(e,t){const n=\"fetch\";be(n,e),_e(n,(()=>function(e,t=!1){if(t&&!ur())return;Ge(re,\"fetch\",(function(t){return function(...n){const r=new Error,{method:i,url:o}=function(e){if(0===e.length)return{method:\"GET\",url:\"\"};if(2===e.length){const[t,n]=e;return{url:pr(t),method:hr(n,\"method\")?String(n.method).toUpperCase():\"GET\"}}const t=e[0];return{url:pr(t),method:hr(t,\"method\")?String(t.method).toUpperCase():\"GET\"}}(n),s={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*it(),virtualError:r};return e||we(\"fetch\",{...s}),t.apply(re,n).then((async t=>(e?e(t):we(\"fetch\",{...s,endTimestamp:1e3*it(),response:t}),t)),(e=>{throw we(\"fetch\",{...s,endTimestamp:1e3*it(),error:e}),Pe(e)&&void 0===e.stack&&(e.stack=r.stack,Qe(e,\"framesToPop\",1)),e}))}}))}(void 0,t)))}function hr(e,t){return!!e&&\"object\"==typeof e&&!!e[t]}function pr(e){return\"string\"==typeof e?e:e?hr(e,\"url\")?e.url:e.toString?e.toString():\"\":\"\"}const fr=re;const vr=re;let gr=0;function mr(){return gr>0}function yr(e,t={}){if(!function(e){return\"function\"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return\"function\"==typeof t?t:e;if(Ye(e))return e}catch(t){return e}const n=function(...n){try{const r=n.map((e=>yr(e,t)));return e.apply(this,r)}catch(e){throw gr++,setTimeout((()=>{gr--})),function(...e){const t=At(Ee());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}t.withScope(e[0])}((r=>{var i,o;r.addEventProcessor((e=>(t.mechanism&&(ct(e,void 0,void 0),lt(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,jt().captureException(i,Sn(o))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}Ke(n,e),Qe(e,\"__sentry_wrapped__\",n);try{Object.getOwnPropertyDescriptor(n,\"name\").configurable&&Object.defineProperty(n,\"name\",{get:()=>e.name})}catch(e){}return n}const br=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function _r(e,t){const n=kr(e,t),r={type:Er(t),value:Tr(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&\"\"===r.value&&(r.value=\"Unrecoverable error caught\"),r}function wr(e,t,n,r){const i=xt(),o=i&&i.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:tn(t,o)};if(s)return{exception:{values:[_r(e,s)]},extra:a};const c={exception:{values:[{type:Re(t)?t.constructor.name:r?\"UnhandledRejection\":\"Error\",value:Ar(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=kr(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function Sr(e,t){return{exception:{values:[_r(e,t)]}}}function kr(e,t){const n=t.stacktrace||t.stack||\"\",r=function(e){if(e&&Mr.test(e.message))return 1;return 0}(t),i=function(e){if(\"number\"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(e){}return[]}const Mr=/Minified React error #\\d+;/i;function Cr(e){return\"undefined\"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Er(e){const t=e&&e.name;if(!t&&Cr(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:\"WebAssembly.Exception\"}return t}function Tr(e){const t=e&&e.message;return t?t.error&&\"string\"==typeof t.error.message?t.error.message:Cr(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:\"No error message\"}function Or(e,t,n,r,i){let o;if(je(t)&&t.error){return Sr(e,t.error)}if(Ie(t)||Ae(t,\"DOMException\")){const i=t;if(\"stack\"in t)o=Sr(e,t);else{const t=i.name||(Ie(i)?\"DOMError\":\"DOMException\"),s=i.message?`${t}: ${i.message}`:t;o=Pr(e,s,n,r),ct(o,s)}return\"code\"in i&&(o.tags={...o.tags,\"DOMException.code\":`${i.code}`}),o}if(Pe(t))return Sr(e,t);if(Ne(t)||Re(t)){return o=wr(e,t,n,i),lt(o,{synthetic:!0}),o}return o=Pr(e,t,n,r),ct(o,`${t}`,void 0),lt(o,{synthetic:!0}),o}function Pr(e,t,n,r){const i={};if(r&&n){const r=kr(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),lt(i,{synthetic:!0})}if(Le(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Ar(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Xe(e));n.sort();const r=n[0];if(!r)return\"[object has no keys]\";if(r.length>=t)return qe(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(\", \");if(!(r.length>t))return e===n.length?r:qe(r,t)}return\"\"}(e),r=t?\"promise rejection\":\"exception\";if(je(e))return`Event \\`ErrorEvent\\` captured as ${r} with message \\`${e.message}\\``;if(Re(e)){return`Event \\`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class jr extends Dn{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r=\"npm\"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:ne}))),version:ne}),e._metadata=i}(t,\"browser\",[\"browser\"],vr.SENTRY_SDK_SOURCE||\"npm\"),super(t),t.sendClientReports&&vr.document&&vr.document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===vr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Or(e,t,n&&n.syntheticException||void 0,r);return lt(i),i.level=\"error\",n&&n.event_id&&(i.event_id=n.event_id),ht(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t=\"info\",n){return function(e,t,n=\"info\",r,i){const o=Pr(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ht(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(br&&le.warn(\"SDK not enabled, will not capture user feedback.\"));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Yt(r)}},o=function(e){return[{type:\"user_report\"},e]}(e);return rn(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||\"javascript\",super._prepareEvent(e,t,n)}}const Ir=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xr=re;let Lr,Dr,Nr,Rr;function Fr(){if(!xr.document)return;const e=we.bind(null,\"dom\"),t=Br(e,!0);xr.document.addEventListener(\"click\",t,!1),xr.document.addEventListener(\"keypress\",t,!1),[\"EventTarget\",\"Node\"].forEach((t=>{const n=xr[t],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty(\"addEventListener\")&&(Ge(r,\"addEventListener\",(function(t){return function(n,r,i){if(\"click\"===n||\"keypress\"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=Br(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}})),Ge(r,\"removeEventListener\",(function(e){return function(t,n,r){if(\"click\"===t||\"keypress\"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Br(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return\"keypress\"===e&&(!t||!t.tagName||\"INPUT\"!==t.tagName&&\"TEXTAREA\"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Qe(n,\"_sentryCaptured\",!0),r&&!r._sentryId&&Qe(r,\"_sentryId\",ot());const i=\"keypress\"===n.type?\"input\":n.type;if(!function(e){if(e.type!==Dr)return!1;try{if(!e.target||e.target._sentryId!==Nr)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Dr=n.type,Nr=r?r._sentryId:void 0}clearTimeout(Lr),Lr=xr.setTimeout((()=>{Nr=void 0,Dr=void 0}),1e3)}}function Ur(e){const t=\"history\";be(t,e),_e(t,Vr)}function Vr(){if(!function(){const e=fr.chrome,t=e&&e.app&&e.app.runtime,n=\"history\"in fr&&!!fr.history.pushState&&!!fr.history.replaceState;return!t&&n}())return;const e=xr.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Rr,t=String(n);Rr=t;we(\"history\",{from:e,to:t})}return e.apply(this,t)}}xr.onpopstate=function(...t){const n=xr.location.href,r=Rr;Rr=n;if(we(\"history\",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Ge(xr.history,\"pushState\",t),Ge(xr.history,\"replaceState\",t)}const Jr={};function $r(e){Jr[e]=void 0}const qr=\"__sentry_xhr_v3__\";function zr(){if(!xr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*it(),o=xe(n[0])?n[0].toUpperCase():void 0,s=function(e){if(xe(e))return e;try{return e.toString()}catch(e){}return}(n[1]);if(!o||!s)return e.apply(t,n);t[qr]={method:o,url:s,request_headers:{}},\"POST\"===o&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[qr];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}we(\"xhr\",{endTimestamp:1e3*it(),startTimestamp:i,xhr:t,virtualError:r})}};return\"onreadystatechange\"in t&&\"function\"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener(\"readystatechange\",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[qr];return o&&xe(r)&&xe(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[qr];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return we(\"xhr\",{startTimestamp:1e3*it(),xhr:t}),e.apply(t,n)}})}function Wr(e,t=function(e){const t=Jr[e];if(t)return t;let n=xr[e];if(lr(n))return Jr[e]=n.bind(xr);const r=xr.document;if(r&&\"function\"==typeof r.createElement)try{const t=r.createElement(\"iframe\");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){Ir&&le.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Jr[e]=n.bind(xr):n}(\"fetch\")){let n=0,r=0;return Un(e,(function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:\"POST\",referrerPolicy:\"origin\",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return $r(\"fetch\"),pt(\"No fetch implementation available\");try{return t(e.url,s).then((e=>(n-=o,r--,{statusCode:e.status,headers:{\"x-sentry-rate-limits\":e.headers.get(\"X-Sentry-Rate-Limits\"),\"retry-after\":e.headers.get(\"Retry-After\")}})))}catch(e){return $r(\"fetch\"),n-=o,r--,pt(e)}}))}function Hr(e,t,n,r){const i={filename:e,function:\"<anonymous>\"===t?ue:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Gr=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,Qr=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,Kr=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,Yr=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,Xr=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,Zr=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split(\"\\n\");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=de.test(n)?n.replace(de,\"$1\"):n;if(!s.match(/\\S*Error: /)){for(const e of t){const t=e(s);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(pe(t).function||\"\")&&t.pop();t.reverse(),he.test(pe(t).function||\"\")&&(t.pop(),he.test(pe(t).function||\"\")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||pe(t).filename,function:e.function||ue})))}(i.slice(r))}}(...[[30,e=>{const t=Gr.exec(e);if(t){const[,e,n,r]=t;return Hr(e,ue,+n,+r)}const n=Qr.exec(e);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){const e=Kr.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=ei(n[1]||ue,n[2]);return Hr(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=Yr.exec(e);if(t){if(t[3]&&t[3].indexOf(\" > eval\")>-1){const e=Xr.exec(t[3]);e&&(t[1]=t[1]||\"eval\",t[3]=e[1],t[4]=e[2],t[5]=\"\")}let e=t[3],n=t[1]||ue;return[n,e]=ei(n,e),Hr(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),ei=(e,t)=>{const n=-1!==e.indexOf(\"safari-extension\"),r=-1!==e.indexOf(\"safari-web-extension\");return n||r?[-1!==e.indexOf(\"@\")?e.split(\"@\")[0]:ue,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ti=1024,ni=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:\"Breadcrumbs\",setup(e){var n;t.console&&function(e){const t=\"console\";be(t,e),_e(t,tr)}(function(e){return function(t){if(xt()!==e)return;const n={category:\"console\",data:{arguments:t.args,logger:\"console\"},level:nr(t.level),message:ze(t.args,\" \")};if(\"assert\"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ze(t.args.slice(1),\" \")||\"console.assert\"}`,n.data.arguments=t.args.slice(1)}$n(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(xt()!==e)return;let r,i,o=\"object\"==typeof t?t.serializeAttribute:void 0,s=\"object\"==typeof t&&\"number\"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>ti&&(br&&le.warn(`\\`dom.maxStringLength\\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=ti),\"string\"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Je(t,{keyAttrs:o,maxStringLength:s}),i=function(e){if(!Ve.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(e){r=\"<unknown>\"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};i&&(a.data={\"ui.component_name\":i}),$n(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),be(\"dom\",n),_e(\"dom\",Fr)),t.xhr&&function(e){be(\"xhr\",e),_e(\"xhr\",zr)}(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[qr];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:c}=i,l={method:o,url:s,status_code:a},u={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};$n({category:\"xhr\",data:l,type:\"http\",level:ar(a)},u)}}(e)),t.fetch&&dr(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||\"POST\"!==t.fetchData.method))if(t.error){$n({category:\"fetch\",data:t.fetchData,level:\"error\",type:\"http\"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};$n({category:\"fetch\",data:i,type:\"http\",level:ar(i.status_code)},o)}}}(e)),t.history&&Ur(function(e){return function(t){if(xt()!==e)return;let n=t.from,r=t.to;const i=er(vr.location.href);let o=n?er(n):void 0;const s=er(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),$n({category:\"navigation\",data:{from:n,to:r}})}}(e)),t.sentry&&e.on(\"beforeSendEvent\",function(e){return function(t){xt()===e&&$n({category:\"sentry.\"+(\"transaction\"===t.type?\"transaction\":\"event\"),event_id:t.event_id,level:t.level,message:at(t)},{event:t})}}(e))}}};const ri=[\"EventTarget\",\"Window\",\"Node\",\"ApplicationCache\",\"AudioTrackList\",\"BroadcastChannel\",\"ChannelMergerNode\",\"CryptoOperation\",\"EventSource\",\"FileReader\",\"HTMLUnknownElement\",\"IDBDatabase\",\"IDBRequest\",\"IDBTransaction\",\"KeyOperation\",\"MediaController\",\"MessagePort\",\"ModalWindow\",\"Notification\",\"SVGElementInstance\",\"Screen\",\"SharedWorker\",\"TextTrack\",\"TextTrackCue\",\"TextTrackList\",\"WebSocket\",\"WebSocketWorker\",\"Worker\",\"XMLHttpRequest\",\"XMLHttpRequestEventTarget\",\"XMLHttpRequestUpload\"],ii=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:\"BrowserApiErrors\",setupOnce(){t.setTimeout&&Ge(vr,\"setTimeout\",oi),t.setInterval&&Ge(vr,\"setInterval\",oi),t.requestAnimationFrame&&Ge(vr,\"requestAnimationFrame\",si),t.XMLHttpRequest&&\"XMLHttpRequest\"in vr&&Ge(XMLHttpRequest.prototype,\"send\",ai);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ri).forEach(ci)}}}};function oi(e){return function(...t){const n=t[0];return t[0]=yr(n,{mechanism:{data:{function:ve(e)},handled:!1,type:\"instrument\"}}),e.apply(this,t)}}function si(e){return function(t){return e.apply(this,[yr(t,{mechanism:{data:{function:\"requestAnimationFrame\",handler:ve(e)},handled:!1,type:\"instrument\"}})])}}function ai(e){return function(...t){const n=this;return[\"onload\",\"onerror\",\"onprogress\",\"onreadystatechange\"].forEach((e=>{e in n&&\"function\"==typeof n[e]&&Ge(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ve(t)},handled:!1,type:\"instrument\"}},r=Ye(t);return r&&(n.mechanism.data.handler=ve(r)),yr(t,n)}))})),e.apply(this,t)}}function ci(e){const t=vr[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty(\"addEventListener\")&&(Ge(n,\"addEventListener\",(function(t){return function(n,r,i){try{\"function\"==typeof r.handleEvent&&(r.handleEvent=yr(r.handleEvent,{mechanism:{data:{function:\"handleEvent\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}))}catch(e){}return t.apply(this,[n,yr(r,{mechanism:{data:{function:\"addEventListener\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}),i])}})),Ge(n,\"removeEventListener\",(function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}})))}const li=()=>({name:\"BrowserSession\",setupOnce(){void 0!==vr.document?(Cn({ignoreDuration:!0}),On(),Ur((({from:e,to:t})=>{void 0!==e&&e!==t&&(Cn({ignoreDuration:!0}),On())}))):br&&le.warn(\"Using the `browserSessionIntegration` in non-browser environments is not supported.\")}}),ui=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:\"GlobalHandlers\",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t=\"error\";be(t,e),_e(t,ke)}((t=>{const{stackParser:n,attachStacktrace:r}=hi();if(xt()!==e||mr())return;const{msg:i,url:o,line:s,column:a,error:c}=t,l=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=r,u=n,d=xe(t)&&t.length>0?t:function(){try{return Ve.document.location.href}catch(e){return\"\"}}();0===c.length&&c.push({colno:l,filename:d,function:ue,in_app:!0,lineno:u});return e}(Or(n,c||i,void 0,r,!1),o,s,a);l.level=\"error\",Mn(l,{originalException:c,mechanism:{handled:!1,type:\"onerror\"}})}))}(e),di(\"onerror\")),t.onunhandledrejection&&(!function(e){!function(e){const t=\"unhandledrejection\";be(t,e),_e(t,Ce)}((t=>{const{stackParser:n,attachStacktrace:r}=hi();if(xt()!==e||mr())return;const i=function(e){if(De(e))return e;try{if(\"reason\"in e)return e.reason;if(\"detail\"in e&&\"reason\"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=De(i)?{exception:{values:[{type:\"UnhandledRejection\",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Or(n,i,void 0,r,!0);o.level=\"error\",Mn(o,{originalException:i,mechanism:{handled:!1,type:\"onunhandledrejection\"}})}))}(e),di(\"onunhandledrejection\"))}}};function di(e){br&&le.log(`Global Handler attached: ${e}`)}function hi(){const e=xt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const pi=()=>({name:\"HttpContext\",preprocessEvent(e){if(!vr.navigator&&!vr.location&&!vr.document)return;const t=e.request&&e.request.url||vr.location&&vr.location.href,{referrer:n}=vr.document||{},{userAgent:r}=vr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{\"User-Agent\":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),fi=(e={})=>{const t=e.limit||5,n=e.key||\"cause\";return{name:\"LinkedErrors\",preprocessEvent(e,r,i){const o=i.getOptions();Kn(_r,o.stackParser,o.maxValueLength,n,t,e,r)}}};var vi=\"new\",gi=\"loading\",mi=\"loaded\",yi=\"joining-meeting\",bi=\"joined-meeting\",_i=\"left-meeting\",wi=\"error\",Si=\"blocked\",ki=\"off\",Mi=\"sendable\",Ci=\"loading\",Ei=\"interrupted\",Ti=\"playable\",Oi=\"unknown\",Pi=\"full\",Ai=\"lobby\",ji=\"none\",Ii=\"base\",xi=\"*\",Li=\"ejected\",Di=\"nbf-room\",Ni=\"nbf-token\",Ri=\"exp-room\",Fi=\"exp-token\",Bi=\"no-room\",Ui=\"meeting-full\",Vi=\"end-of-life\",Ji=\"not-allowed\",$i=\"connection-error\",qi=\"cam-in-use\",zi=\"mic-in-use\",Wi=\"cam-mic-in-use\",Hi=\"permissions\",Gi=\"undefined-mediadevices\",Qi=\"not-found\",Ki=\"constraints\",Yi=\"unknown\",Xi=\"iframe-ready-for-launch-config\",Zi=\"iframe-launch-config\",eo=\"theme-updated\",to=\"loading\",no=\"load-attempt-failed\",ro=\"loaded\",io=\"started-camera\",oo=\"camera-error\",so=\"joining-meeting\",ao=\"joined-meeting\",co=\"left-meeting\",lo=\"participant-joined\",uo=\"participant-updated\",ho=\"participant-left\",po=\"participant-counts-updated\",fo=\"access-state-updated\",vo=\"meeting-session-summary-updated\",go=\"meeting-session-state-updated\",mo=\"meeting-session-data-error\",yo=\"waiting-participant-added\",bo=\"waiting-participant-updated\",_o=\"waiting-participant-removed\",wo=\"track-started\",So=\"track-stopped\",ko=\"transcription-started\",Mo=\"transcription-stopped\",Co=\"transcription-error\",Eo=\"recording-started\",To=\"recording-stopped\",Oo=\"recording-stats\",Po=\"recording-error\",Ao=\"recording-upload-completed\",jo=\"recording-data\",Io=\"app-message\",xo=\"transcription-message\",Lo=\"remote-media-player-started\",Do=\"remote-media-player-updated\",No=\"remote-media-player-stopped\",Ro=\"local-screen-share-started\",Fo=\"local-screen-share-stopped\",Bo=\"local-screen-share-canceled\",Uo=\"active-speaker-change\",Vo=\"active-speaker-mode-change\",Jo=\"network-quality-change\",$o=\"network-connection\",qo=\"cpu-load-change\",zo=\"face-counts-updated\",Wo=\"fullscreen\",Ho=\"exited-fullscreen\",Go=\"live-streaming-started\",Qo=\"live-streaming-updated\",Ko=\"live-streaming-stopped\",Yo=\"live-streaming-error\",Xo=\"lang-updated\",Zo=\"receive-settings-updated\",es=\"input-settings-updated\",ts=\"nonfatal-error\",ns=\"error\",rs=4096,is=102400,os=\"iframe-call-message\",ss=\"local-screen-start\",as=\"daily-method-update-live-streaming-endpoints\",cs=\"transmit-log\",ls=\"daily-custom-track\",us={NONE:\"none\",BGBLUR:\"background-blur\",BGIMAGE:\"background-image\",FACE_DETECTION:\"face-detection\"},ds={NONE:\"none\",NOISE_CANCELLATION:\"noise-cancellation\"},hs={PLAY:\"play\",PAUSE:\"pause\"},ps=[\"jpg\",\"png\",\"jpeg\"],fs=\"add-endpoints\",vs=\"remove-endpoints\",gs=\"sip-call-transfer\";function ms(){return!ys()&&\"undefined\"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:\"\"}function ys(){return\"undefined\"!=typeof navigator&&navigator.product&&\"ReactNative\"===navigator.product}function bs(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function _s(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case\"Chrome\":return t.major>=75;case\"Safari\":return RTCRtpTransceiver.prototype.hasOwnProperty(\"currentDirection\")&&!(13===t.major&&0===t.minor&&0===t.point);case\"Firefox\":return t.major>=67}return!0}(js(),Is())||ys())}function ws(){if(ys())return!1;if(!document)return!1;var e=document.createElement(\"iframe\");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Ss=\"none\",ks=\"software\",Ms=\"hardware\";var Cs=function(){try{var e,t=document.createElement(\"canvas\"),n=!1;(e=t.getContext(\"webgl2\",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext(\"webgl2\"));var r=null!=e;return t.remove(),r?n?ks:Ms:Ss}catch(e){return Ss}}();function Es(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!ys()&&(Cs!==Ss&&(e?function(){if(As())return!1;return[\"Chrome\",\"Firefox\"].includes(js())}():function(){if(As())return!1;var e=js();if(\"Safari\"===e){var t=Ns();if(t.major<15||15===t.major&&t.minor<4)return!1}if(\"Chrome\"===e){return xs().major>=77}if(\"Firefox\"===e){return Rs().major>=97}return[\"Chrome\",\"Firefox\",\"Safari\"].includes(e)}()))}function Ts(){if(ys())return!1;if(Ps())return!1;if(\"undefined\"==typeof AudioWorkletNode)return!1;switch(js()){case\"Chrome\":case\"Firefox\":return!0;case\"Safari\":var e=Is();return e.major>17||17===e.major&&e.minor>=4}return!1}function Os(){return bs()&&!function(){var e,t=js();if(!ms())return!0;switch(t){case\"Chrome\":return(e=xs()).major&&e.major>0&&e.major<75;case\"Firefox\":return(e=Rs()).major<91;case\"Safari\":return(e=Ns()).major<13||13===e.major&&e.minor<1;default:return!0}}()}function Ps(){return ms().match(/Linux; Android/)}function As(){var e,t=ms(),n=t.match(/Mac/)&&(!ys()&&\"undefined\"!=typeof window&&null!==(e=window)&&void 0!==e&&null!==(e=e.navigator)&&void 0!==e&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||(!!ms().match(/DailyAnd\\//)||void 0)}function js(){if(\"undefined\"!=typeof window){var e=ms();return Ls()?\"Safari\":e.indexOf(\"Edge\")>-1?\"Edge\":e.match(/Chrome\\//)?\"Chrome\":e.indexOf(\"Safari\")>-1||Ds()?\"Safari\":e.indexOf(\"Firefox\")>-1?\"Firefox\":e.indexOf(\"MSIE\")>-1||e.indexOf(\".NET\")>-1?\"IE\":\"Unknown Browser\"}}function Is(){switch(js()){case\"Chrome\":return xs();case\"Safari\":return Ns();case\"Firefox\":return Rs();case\"Edge\":return function(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Edge\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}()}}function xs(){var e=0,t=0,n=0,r=0,i=!1;if(\"undefined\"!=typeof window){var o=ms(),s=o.match(/Chrome\\/(\\d+).(\\d+).(\\d+).(\\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),n=parseInt(s[3]),r=parseInt(s[4]),i=o.indexOf(\"OPR/\")>-1}catch(e){}}return{major:e,minor:t,build:n,patch:r,opera:i}}function Ls(){return!!ms().match(/iPad|iPhone|iPod/i)&&bs()}function Ds(){return ms().indexOf(\"AppleWebKit/605.1.15\")>-1}function Ns(){var e=0,t=0,n=0;if(\"undefined\"!=typeof window){var r=ms().match(/Version\\/(\\d+).(\\d+)(.(\\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch(e){}else(Ls()||Ds())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function Rs(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Firefox\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}var Fs=function(){return o((function e(){t(this,e)}),[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){Y()}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){Y()}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){Y()}},{key:\"sendMessageToDailyJs\",value:function(e,t){Y()}},{key:\"removeListener\",value:function(e){Y()}}])}();function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vs=function(){return!!e})()}var Js=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),(n=s(r,Vs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)))._wrappedListeners={},n._messageCallbacks={},n}return l(e,Fs),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){var r=this,i=function(i){if(i.data&&\"iframe-call-message\"===i.data.what&&(!i.data.callClientId||i.data.callClientId===t)&&(!i.data.from||\"module\"!==i.data.from)){var o=Us({},i.data);if(delete o.from,o.callbackStamp&&r._messageCallbacks[o.callbackStamp]){var s=o.callbackStamp;r._messageCallbacks[s].call(n,o),delete r._messageCallbacks[s]}delete o.what,delete o.callbackStamp,e.call(n,o)}};this._wrappedListeners[e]=i,window.addEventListener(\"message\",i)}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){var r=function(r){var i;if(!(!r.data||r.data.what!==os||!r.data.action||r.data.from&&\"module\"!==r.data.from||r.data.callClientId&&t&&r.data.callClientId!==t||null!=r&&null!==(i=r.data)&&void 0!==i&&i.callFrameId)){var o=r.data;e.call(n,o)}};this._wrappedListeners[e]=r,window.addEventListener(\"message\",r)}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){if(!n)throw new Error(\"undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?\");var i=Us({},e);if(i.what=os,i.from=\"module\",i.callClientId=n,t){var o=K();this._messageCallbacks[o]=t,i.callbackStamp=o}var s=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&s.postMessage(i,a)}},{key:\"sendMessageToDailyJs\",value:function(e,t){e.what=os,e.callClientId=t,e.from=\"embedded\",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e,t,n){var r=Us({},e);r.callClientId=n;var i=t?t.contentWindow:window,o=this._callMachineTargetOrigin(t);o&&i.postMessage(r,o)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e,t){var n=function(n){if(n.data&&\"iframe-call-message\"===n.data.what&&(!n.data.callClientId||n.data.callClientId===t)&&(!n.data.from||\"module\"!==n.data.from)){var r=n.data;e(r)}};return this._wrappedListeners[e]=n,window.addEventListener(\"message\",n),e}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_callMachineTargetOrigin\",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:\"_targetOriginFromWindowLocation\",value:function(){return\"file:\"===window.location.protocol?\"*\":window.location.origin}}])}();function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qs=function(){return!!e})()}var zs=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),n=s(r,qs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)),__webpack_require__.g.callMachineToDailyJsEmitter=__webpack_require__.g.callMachineToDailyJsEmitter||new I.EventEmitter,__webpack_require__.g.dailyJsToCallMachineEmitter=__webpack_require__.g.dailyJsToCallMachineEmitter||new I.EventEmitter,n._wrappedListeners={},n._messageCallbacks={},n}return l(e,Fs),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){this._addListener(e,__webpack_require__.g.callMachineToDailyJsEmitter,t,n,\"received call machine message\")}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){this._addListener(e,__webpack_require__.g.dailyJsToCallMachineEmitter,t,n,\"received daily-js message\")}},{key:\"sendMessageToCallMachine\",value:function(e,t,n){this._sendMessage(e,__webpack_require__.g.dailyJsToCallMachineEmitter,n,t,\"sending message to call machine\")}},{key:\"sendMessageToDailyJs\",value:function(e,t){this._sendMessage(e,__webpack_require__.g.callMachineToDailyJsEmitter,t,null,\"sending message to daily-js\")}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(__webpack_require__.g.callMachineToDailyJsEmitter.removeListener(\"message\",t),__webpack_require__.g.dailyJsToCallMachineEmitter.removeListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_addListener\",value:function(e,t,n,r,i){var o=this,s=function(t){if(t.callClientId===n){if(t.callbackStamp&&o._messageCallbacks[t.callbackStamp]){var i=t.callbackStamp;o._messageCallbacks[i].call(r,t),delete o._messageCallbacks[i]}e.call(r,t)}};this._wrappedListeners[e]=s,t.addListener(\"message\",s)}},{key:\"_sendMessage\",value:function(e,t,n,r,i){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if(o.callClientId=n,r){var s=K();this._messageCallbacks[s]=r,o.callbackStamp=s}t.emit(\"message\",o)}}])}(),Ws=\"replace\",Hs=\"shallow-merge\",Gs=[Ws,Hs];var Qs=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.data,i=n.mergeStrategy,o=void 0===i?Ws:i;t(this,e),e._validateMergeStrategy(o),e._validateData(r,o),this.mergeStrategy=o,this.data=r}return o(e,[{key:\"isNoOp\",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:\"isNoOpUpdate\",value:function(e,t){return 0===Object.keys(e).length&&t===Hs}},{key:\"_validateMergeStrategy\",value:function(e){if(!Gs.includes(e))throw Error(\"Unrecognized mergeStrategy provided. Options are: [\".concat(Gs,\"]\"))}},{key:\"_validateData\",value:function(e,t){if(!function(e){if(null==e||\"object\"!==n(e))return!1;var t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}(e))throw Error(\"Meeting session data must be a plain (map-like) object\");var r;try{if(r=JSON.stringify(e),t===Ws){var i=JSON.parse(r);N(i,e)||console.warn(\"The meeting session data provided will be modified when serialized.\",i,e)}else if(t===Hs)for(var o in e)if(Object.hasOwnProperty.call(e,o)&&void 0!==e[o]){var s=JSON.parse(JSON.stringify(e[o]));N(e[o],s)||console.warn(\"At least one key in the meeting session data provided will be modified when serialized.\",s,e[o])}}catch(e){throw Error(\"Meeting session data must be serializable to JSON: \".concat(e))}if(r.length>is)throw Error(\"Meeting session data is too large (\".concat(r.length,\" characters). Maximum size suppported is \").concat(is,\".\"))}}])}();function Ks(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ks=function(){return!!e})()}function Ys(e){var t=\"function\"==typeof Map?new Map:void 0;return Ys=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf(\"[native code]\")}catch(t){return\"function\"==typeof e}}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Ks())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&c(i,n.prototype),i}(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Ys(e)}function Xs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xs=function(){return!!e})()}function Zs(e){var t,n=null===(t=window._daily)||void 0===t?void 0:t.pendings;if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}var ea=function(){return o((function e(n){t(this,e),this._currentLoad=null,this._callClientId=n}),[{key:\"load\",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new ta(n,(function(){r(!1)}),(function(e,n){n||Zs(t._callClientId),i(e,n)})),this._currentLoad.start()}},{key:\"cancel\",value:function(){this._currentLoad&&this._currentLoad.cancel(),Zs(this._callClientId)}},{key:\"loaded\",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),ta=function(){return o((function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;t(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout((function(){e._currentAttempt.cancelled||(e._currentAttempt=new ia(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())}),3e3))};this._currentAttempt=new ia(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:\"cancel\",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:\"cancelled\",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:\"succeeded\",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),na=function(){function e(){return t(this,e),n=this,i=arguments,r=a(r=e),s(n,Xs()?Reflect.construct(r,i||[],a(n).constructor):r.apply(n,i));var n,r,i}return l(e,Ys(Error)),o(e)}(),ra=2e4,ia=function(){return o((function e(n,r,i){t(this,e),this._loadAttemptImpl=ys()||!n.avoidEval?new oa(n,r,i):new sa(n,r,i)}),[{key:\"start\",value:(e=h((function*(){return this._loadAttemptImpl.start()})),function(){return e.apply(this,arguments)})},{key:\"cancel\",value:function(){this._loadAttemptImpl.cancel()}},{key:\"cancelled\",get:function(){return this._loadAttemptImpl.cancelled}},{key:\"succeeded\",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),oa=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=\"undefined\"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:(i=h((function*(){var e=Z(this._dailyConfig);!(yield this._tryLoadFromIOSCache(e))&&this._loadFromNetwork(e)})),function(){return i.apply(this,arguments)})},{key:\"cancel\",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:\"_tryLoadFromIOSCache\",value:(r=h((function*(e){if(!this._iosCache)return!1;try{var t=yield this._iosCache.get(e);return!!this.cancelled||!!t&&(t.code?(Function('\"use strict\";'+t.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=t.refetchHeaders,!1))}catch(e){return!1}})),function(e){return r.apply(this,arguments)})},{key:\"_loadFromNetwork\",value:(n=h((function*(e){var t=this;this._networkTimeout=setTimeout((function(){t._networkTimedOut=!0,t._failureCallback({msg:\"Timed out (>\".concat(ra,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ra);try{var n=this._refetchHeaders?{headers:this._refetchHeaders}:{},r=yield fetch(e,n);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new na;var i=yield this._getBundleCodeFromResponse(e,r);if(this.cancelled)throw new na;Function('\"use strict\";'+i)(),this._iosCache&&this._iosCache.set(e,i,r.headers),this.succeeded=!0,this._successCallback()}catch(t){if(clearTimeout(this._networkTimeout),t instanceof na||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:\"Failed to load call object bundle \".concat(e,\": \").concat(t),type:t.message})}})),function(e){return n.apply(this,arguments)})},{key:\"_getBundleCodeFromResponse\",value:(e=h((function*(e,t){if(t.ok)return yield t.text();if(this._iosCache&&304===t.status)return(yield this._iosCache.renew(e,t.headers)).code;throw new Error(\"Received \".concat(t.status,\" response\"))})),function(t,n){return e.apply(this,arguments)})}]);var e,n,r,i}(),sa=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i,this._attemptId=K(),this._networkTimeout=null,this._scriptElement=null}),[{key:\"start\",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Z(this._dailyConfig);\"object\"===(\"undefined\"==typeof document?\"undefined\":n(document))?this._startLoading(e):this._failureCallback({msg:\"Call object bundle must be loaded in a DOM/web context\",type:\"missing context\"})}},{key:\"cancel\",value:function(){this._stopLoading(),this.cancelled=!0}},{key:\"_startLoading\",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){t._stopLoading(),t._failureCallback({msg:\"Timed out (>\".concat(ra,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ra);var n=document.getElementsByTagName(\"head\")[0],r=document.createElement(\"script\");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(e){t._stopLoading(),t._failureCallback({msg:\"Failed to load call object bundle \".concat(e.target.src),type:e.message})},r.src=e,n.appendChild(r)}},{key:\"_stopLoading\",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:\"_signUpForCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:\"_withdrawFromCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),aa=function(e,t,n){return!0===ua(e.local,t,n)},ca=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream[\"get\".concat(\"video\"===n?\"Video\":\"Audio\",\"Tracks\")]()[0]},la=function(e,t,n,r){var i=da(e,t,n,r);return i&&i.pendingTrack},ua=function(e,t,n){if(!e)return!1;var r=function(e){switch(e){case\"avatar\":return!0;case\"staged\":return e;default:return!!e}},i=e.public.subscribedTracks;return i&&i[t]?-1===[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\"].indexOf(n)&&i[t].custom?[!0,\"staged\"].includes(i[t].custom)?r(i[t].custom):r(i[t].custom[n]):r(i[t][n]):!i||r(i.ALL)},da=function(e,t,n,r){var i=Object.values(e.streams||{}).filter((function(e){return e.participantId===t&&e.type===n&&e.pendingTrack&&e.pendingTrack.kind===r})).sort((function(e,t){return new Date(t.starttime)-new Date(e.starttime)}));return i&&i[0]},ha=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function pa(e,t){for(var n=t.getState(),r=0,i=[\"cam\",\"screen\"];r<i.length;r++)for(var o=i[r],s=0,a=[\"video\",\"audio\"];s<a.length;s++){var c=a[s],l=\"cam\"===o?c:\"screen\".concat(c.charAt(0).toUpperCase()+c.slice(1)),u=e.tracks[l];if(u){var d=e.local?ca(n,o,c):la(n,e.session_id,o,c);\"playable\"===u.state&&(u.track=d),u.persistentTrack=d}}}function fa(e,t){try{var n=t.getState();for(var r in e.tracks)if(!va(r)){var i=e.tracks[r].kind;if(i){var o=e.tracks[r];if(o){var s=e.local?ha(n,r):la(n,e.session_id,r,i);\"playable\"===o.state&&(e.tracks[r].track=s),o.persistentTrack=s}}else console.error(\"unknown type for custom track\")}}catch(e){console.error(e)}}function va(e){return[\"video\",\"audio\",\"screenVideo\",\"screenAudio\"].includes(e)}function ga(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch(e){}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch(e){}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){}}else{var i=!0;try{var o=r.participants[e.session_id];o&&o.public&&o.public.rtcType&&\"peer-to-peer\"===o.public.rtcType.impl&&o.private&&![\"connected\",\"completed\"].includes(o.private.peeringState)&&(i=!1)}catch(e){console.error(e)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{r.streams;if(e.audio&&aa(r,e.session_id,\"cam-audio\")){var s=la(r,e.session_id,\"cam\",\"audio\");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&aa(r,e.session_id,\"cam-video\")){var a=la(r,e.session_id,\"cam\",\"video\");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&aa(r,e.session_id,\"screen-audio\")){var c=la(r,e.session_id,\"screen\",\"audio\");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&aa(r,e.session_id,\"screen-video\")){var l=la(r,e.session_id,\"screen\",\"video\");l&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===l.id?e.screenVideoTrack=l:l.muted||(e.screenVideoTrack=l))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){console.error(\"unexpected error matching up tracks\",e)}}}function ma(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return ya(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ba=new Map,_a=null;function wa(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return Sa(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sa(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ka=new Map,Ma=null;function Ca(e){Ta()?function(e){ba.has(e)||(ba.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){ba.has(e)&&(ba.get(e).lastDevicesString=JSON.stringify(t),_a||(_a=function(){var e=h((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=ma(ba.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==ba.get(r).lastDevicesString&&(ba.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}}));return function(){return e.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener(\"devicechange\",_a)))})).catch((function(){})))}(e):function(e){ka.has(e)||(ka.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){ka.has(e)&&(ka.get(e).lastDevicesString=JSON.stringify(t),Ma||(Ma=setInterval(h((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=wa(ka.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==ka.get(r).lastDevicesString&&(ka.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}})),3e3)))})))}(e)}function Ea(e){Ta()?function(e){ba.has(e)&&(ba.delete(e),0===ba.size&&_a&&(navigator.mediaDevices.removeEventListener(\"devicechange\",_a),_a=null))}(e):function(e){ka.has(e)&&(ka.delete(e),0===ka.size&&Ma&&(clearInterval(Ma),Ma=null))}(e)}function Ta(){var e;return ys()||void 0!==(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.ondevicechange)}var Oa=new Set;function Pa(e,t){var n=t.isLocalScreenVideo;return e&&\"live\"===e.readyState&&!function(e,t){return(!t.isLocalScreenVideo||\"Chrome\"!==js())&&e.muted&&!Oa.has(e.id)}(e,{isLocalScreenVideo:n})}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=Object.freeze({VIDEO:\"video\",AUDIO:\"audio\",SCREEN_VIDEO:\"screenVideo\",SCREEN_AUDIO:\"screenAudio\",CUSTOM_VIDEO:\"customVideo\",CUSTOM_AUDIO:\"customAudio\"}),xa=Object.freeze({PARTICIPANTS:\"participants\",STREAMING:\"streaming\",TRANSCRIPTION:\"transcription\"}),La=Object.values(Ia),Da=[\"v\",\"a\",\"sv\",\"sa\",\"cv\",\"ca\"];Object.freeze(La.reduce((function(e,t,n){return e[t]=Da[n],e}),{})),Object.freeze(Da.reduce((function(e,t,n){return e[t]=La[n],e}),{}));var Na=[Ia.VIDEO,Ia.AUDIO,Ia.SCREEN_VIDEO,Ia.SCREEN_AUDIO],Ra=Object.values(xa),Fa=[\"p\",\"s\",\"t\"];Object.freeze(Ra.reduce((function(e,t,n){return e[t]=Fa[n],e}),{})),Object.freeze(Fa.reduce((function(e,t,n){return e[t]=Ra[n],e}),{}));var Ba=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.base,i=n.byUserId,o=n.byParticipantId;t(this,e),this.base=r,this.byUserId=i,this.byParticipantId=o}return o(e,[{key:\"clone\",value:function(){var t=new e;if(this.base instanceof Ua?t.base=this.base.clone():t.base=this.base,void 0!==this.byUserId)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Ua?r.clone():r}if(void 0!==this.byParticipantId)for(var i in t.byParticipantId={},this.byParticipantId){var o=this.byParticipantId[i];t.byParticipantId[i]=o instanceof Ua?o.clone():o}return t}},{key:\"toJSONObject\",value:function(){var e={};if(\"boolean\"==typeof this.base?e.base=this.base:this.base instanceof Ua&&(e.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var t in e.byUserId={},this.byUserId){var n=this.byUserId[t];e.byUserId[t]=n instanceof Ua?n.toJSONObject():n}if(void 0!==this.byParticipantId)for(var r in e.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[r];e.byParticipantId[r]=i instanceof Ua?i.toJSONObject():i}return e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};if(void 0!==this.base&&(\"boolean\"==typeof this.base?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var t in e.u={},this.byUserId){var n=this.byUserId[t];e.u[t]=\"boolean\"==typeof n?n:n.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var r in e.p={},this.byParticipantId){var i=this.byParticipantId[r];e.p[r]=\"boolean\"==typeof i?i:i.toMinifiedJSONObject()}return e}},{key:\"normalize\",value:function(){return this.base instanceof Ua&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ua?r.normalize():r]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ua?r.normalize():r]})))),this}}],[{key:\"fromJSONObject\",value:function(t){var n,r,i;if(void 0!==t.base&&(n=\"boolean\"==typeof t.base?t.base:Ua.fromJSONObject(t.base)),void 0!==t.byUserId)for(var o in r={},t.byUserId){var s=t.byUserId[o];r[o]=\"boolean\"==typeof s?s:Ua.fromJSONObject(s)}if(void 0!==t.byParticipantId)for(var a in i={},t.byParticipantId){var c=t.byParticipantId[a];i[a]=\"boolean\"==typeof c?c:Ua.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"fromMinifiedJSONObject\",value:function(t){var n,r,i;if(void 0!==t.b&&(n=\"boolean\"==typeof t.b?t.b:Ua.fromMinifiedJSONObject(t.b)),void 0!==t.u)for(var o in r={},t.u){var s=t.u[o];r[o]=\"boolean\"==typeof s?s:Ua.fromMinifiedJSONObject(s)}if(void 0!==t.p)for(var a in i={},t.p){var c=t.p[a];i[a]=\"boolean\"==typeof c?c:Ua.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"validateJSONObject\",value:function(e){if(\"object\"!==n(e))return[!1,\"canReceive must be an object\"];for(var t=[\"base\",\"byUserId\",\"byParticipantId\"],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(!t.includes(o))return[!1,\"canReceive can only contain keys (\".concat(t.join(\", \"),\")\")];if(\"base\"===o){var s=f(Ua.validateJSONObject(e.base,!0),2),a=s[0],c=s[1];if(!a)return[!1,c]}else{if(\"object\"!==n(e[o]))return[!1,\"invalid (non-object) value for field '\".concat(o,\"' in canReceive\")];for(var l=0,u=Object.values(e[o]);l<u.length;l++){var d=u[l],h=f(Ua.validateJSONObject(d),2),p=h[0],v=h[1];if(!p)return[!1,v]}}}return[!0]}}])}(),Ua=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.video,i=n.audio,o=n.screenVideo,s=n.screenAudio,a=n.customVideo,c=n.customAudio;t(this,e),this.video=r,this.audio=i,this.screenVideo=o,this.screenAudio=s,this.customVideo=a,this.customAudio=c}return o(e,[{key:\"clone\",value:function(){var t=new e;return void 0!==this.video&&(t.video=this.video),void 0!==this.audio&&(t.audio=this.audio),void 0!==this.screenVideo&&(t.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(t.screenAudio=this.screenAudio),void 0!==this.customVideo&&(t.customVideo=ja({},this.customVideo)),void 0!==this.customAudio&&(t.customAudio=ja({},this.customAudio)),t}},{key:\"toJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.video=this.video),void 0!==this.audio&&(e.audio=this.audio),void 0!==this.screenVideo&&(e.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(e.screenAudio=this.screenAudio),void 0!==this.customVideo&&(e.customVideo=ja({},this.customVideo)),void 0!==this.customAudio&&(e.customAudio=ja({},this.customAudio)),e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.v=this.video),void 0!==this.audio&&(e.a=this.audio),void 0!==this.screenVideo&&(e.sv=this.screenVideo),void 0!==this.screenAudio&&(e.sa=this.screenAudio),void 0!==this.customVideo&&(e.cv=ja({},this.customVideo)),void 0!==this.customAudio&&(e.ca=ja({},this.customAudio)),e}},{key:\"normalize\",value:function(){function e(e,t){return e&&1===Object.keys(e).length&&e[\"*\"]===t}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:\"fromBoolean\",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{\"*\":t},customAudio:{\"*\":t}})}},{key:\"fromJSONObject\",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:void 0!==t.customVideo?ja({},t.customVideo):void 0,customAudio:void 0!==t.customAudio?ja({},t.customAudio):void 0})}},{key:\"fromMinifiedJSONObject\",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:\"validateJSONObject\",value:function(e,t){if(\"boolean\"==typeof e)return[!0];if(\"object\"!==n(e))return[!1,\"invalid (non-object, non-boolean) value in canReceive\"];for(var r=Object.keys(e),i=0,o=r;i<o.length;i++){var s=o[i];if(!La.includes(s))return[!1,\"invalid media type '\".concat(s,\"' in canReceive\")];if(Na.includes(s)){if(\"boolean\"!=typeof e[s])return[!1,\"invalid (non-boolean) value for media type '\".concat(s,\"' in canReceive\")]}else{if(\"object\"!==n(e[s]))return[!1,\"invalid (non-object) value for media type '\".concat(s,\"' in canReceive\")];for(var a=0,c=Object.values(e[s]);a<c.length;a++){if(\"boolean\"!=typeof c[a])return[!1,\"invalid (non-boolean) value for entry within '\".concat(s,\"' in canReceive\")]}if(t&&void 0===e[s][\"*\"])return[!1,'canReceive \"base\" permission must specify \"*\" as an entry within \\''.concat(s,\"'\")]}}return t&&r.length!==La.length?[!1,'canReceive \"base\" permission must specify all media types: '.concat(La.join(\", \"),\" (or be set to a boolean shorthand)\")]:[!0]}}])}(),Va=[\"result\"],Ja=[\"preserveIframe\"];function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function za(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(za=function(){return!!e})()}function Wa(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return Ha(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ha(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ga={};var Qa=\"video\",Ka=\"voice\",Ya=ys()?{data:{}}:{data:{},topology:\"none\"},Xa={present:0,hidden:0},Za={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},ec=Object.keys(Za),tc=[\"state\",\"volume\",\"simulcastEncodings\"],nc={androidInCallNotification:{title:\"string\",subtitle:\"string\",iconName:\"string\",disableForCustomOverride:\"boolean\"},disableAutoDeviceManagement:{audio:\"boolean\",video:\"boolean\"}},rc={id:{iconPath:\"string\",iconPathDarkMode:\"string\",label:\"string\",tooltip:\"string\",visualState:\"'default' | 'sidebar-open' | 'active'\"}},ic={id:{allow:\"string\",controlledBy:\"'*' | 'owners' | string[]\",csp:\"string\",iconURL:\"string\",label:\"string\",loading:\"'eager' | 'lazy'\",location:\"'main' | 'sidebar'\",name:\"string\",referrerPolicy:\"string\",sandbox:\"string\",src:\"string\",srcdoc:\"string\",shared:\"string[] | 'owners' | boolean\"}},oc={customIntegrations:{validate:Pc,help:Tc()},customTrayButtons:{validate:Oc,help:\"customTrayButtons should be a dictionary of the type \".concat(JSON.stringify(rc))},url:{validate:function(e){return\"string\"==typeof e},help:\"url should be a string\"},baseUrl:{validate:function(e){return\"string\"==typeof e},help:\"baseUrl should be a string\"},token:{validate:function(e){return\"string\"==typeof e},help:\"token should be a string\",queryString:\"t\"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(e){console.error(\"Failed to validate dailyConfig\",e)}return!1},help:\"Unsupported dailyConfig. Check error logs for detailed info.\"},reactNativeConfig:{validate:function(e){return Ac(e,nc)},help:\"reactNativeConfig should look like \".concat(JSON.stringify(nc),\", all fields optional\")},lang:{validate:function(e){return[\"da\",\"de\",\"en-us\",\"en\",\"es\",\"fi\",\"fr\",\"it\",\"jp\",\"ka\",\"nl\",\"no\",\"pl\",\"pt\",\"pt-BR\",\"ru\",\"sv\",\"tr\",\"user\"].includes(e)},help:\"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user\"},userName:!0,userData:{validate:function(e){try{return yc(e),!0}catch(e){return console.error(e),!1}},help:\"invalid userData type provided\"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.videoTrack,\"string\"!=typeof e)return console.error(\"videoSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.audioTrack,\"string\"!=typeof e)return console.error(\"audioSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=[\"accent\",\"accentText\",\"background\",\"backgroundAccent\",\"baseText\",\"border\",\"mainAreaBg\",\"mainAreaBgAccent\",\"mainAreaText\",\"supportiveText\"],r=function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!t.includes(i))return console.error('unsupported color \"'.concat(i,'\". Valid colors: ').concat(t.join(\", \"))),!1;if(!e[i].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error(\"\".concat(i,' theme color should be provided in valid hex color format. Received: \"').concat(e[i],'\"')),!1}return!0};return\"object\"===n(e)&&(\"light\"in e&&\"dark\"in e||\"colors\"in e)?\"light\"in e&&\"dark\"in e?\"colors\"in e.light?\"colors\"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing \"colors\" property.',e),!1):(console.error('Light theme is missing \"colors\" property.',e),!1):r(e.colors):(console.error('Theme must contain either both \"light\" and \"dark\" properties, or \"colors\".',e),!1)},help:\"unsupported theme configuration. Check error logs for detailed info.\"},layoutConfig:{validate:function(e){if(\"grid\"in e){var t=e.grid;if(\"maxTilesPerPage\"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error(\"grid.maxTilesPerPage should be an integer. You passed \".concat(t.maxTilesPerPage,\".\")),!1;if(t.maxTilesPerPage>49)return console.error(\"grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case.\"),!1}if(\"minTilesPerPage\"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error(\"grid.minTilesPerPage should be an integer. You passed \".concat(t.minTilesPerPage,\".\")),!1;if(t.minTilesPerPage<1)return console.error(\"grid.minTilesPerPage can't be lower than 1.\"),!1;if(\"maxTilesPerPage\"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error(\"grid.minTilesPerPage can't be higher than grid.maxTilesPerPage.\"),!1}}return!0},help:\"unsupported layoutConfig. Check error logs for detailed info.\"},receiveSettings:{validate:function(e){return bc(e,{allowAllParticipantsKey:!1})},help:Ec({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(e,t){try{return t.validateUpdateSendSettings(e),!0}catch(e){return console.error(\"Failed to validate send settings\",e),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:\"Invalid sendSettings provided. Check error logs for detailed info.\"},inputSettings:{validate:function(e,t){var n;return!!_c(e)&&(t._inputSettings||(t._inputSettings={}),wc(e,null===(n=t.properties)||void 0===n?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Cc()},layout:{validate:function(e){return\"custom-v1\"===e||\"browser\"===e||\"none\"===e},help:'layout may only be set to \"custom-v1\"',queryString:\"layout\"},emb:{queryString:\"emb\"},embHref:{queryString:\"embHref\"},dailyJsVersion:{queryString:\"dailyJsVersion\"},proxy:{queryString:\"proxy\"},strictMode:!0,allowMultipleCallInstances:!0},sc={styles:{validate:function(e){for(var t in e)if(\"cam\"!==t&&\"screen\"!==t)return!1;if(e.cam)for(var n in e.cam)if(\"div\"!==n&&\"video\"!==n)return!1;if(e.screen)for(var r in e.screen)if(\"div\"!==r&&\"video\"!==r)return!1;return!0},help:\"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }\"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,\"staged\"];if(n.includes(e)||!ys()&&\"avatar\"===e)return!0;var r=[\"audio\",\"video\",\"screenAudio\",\"screenVideo\",\"rmpAudio\",\"rmpVideo\"],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var o in e)if(\"custom\"===o){if(!n.includes(e[o])&&!i(e[o],!0))return!1}else{var s=!t&&!r.includes(o),a=!n.includes(e[o]);if(s||a)return!1}return!0};return i(e)},help:\"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: \"+\"true\".concat(ys()?\"\":\" | 'avatar'\",\" | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }\")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return!1===e},help:\"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares\"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=f(n[t],2),i=r[0],o=r[1];switch(i){case\"hasPresence\":if(\"boolean\"!=typeof o)return!1;break;case\"canSend\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var s,a=[\"video\",\"audio\",\"screenVideo\",\"screenAudio\",\"customVideo\",\"customAudio\"],c=Wa(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!a.includes(l))return!1}}catch(e){c.e(e)}finally{c.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canSend=new Set(o));break;case\"canReceive\":var u=f(Ba.validateJSONObject(o),2),d=u[0],h=u[1];if(!d)return console.error(h),!1;break;case\"canAdmin\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var p,v=[\"participants\",\"streaming\",\"transcription\"],g=Wa(o);try{for(g.s();!(p=g.n()).done;){var m=p.value;if(!v.includes(m))return!1}}catch(e){g.e(e)}finally{g.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canAdmin=new Set(o));break;default:return!1}}return!0},help:\"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription).\"}};Promise.any||(Promise.any=function(){var e=h((function*(e){return new Promise((function(t,n){var r=[];e.forEach((function(i){return Promise.resolve(i).then((function(e){t(e)})).catch((function(t){r.push(t),r.length===e.length&&n(r)}))}))}))}));return function(t){return e.apply(this,arguments)}}());var ac=function(){function r(e){var n,i,o,c,l,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,r),o=this,c=a(c=r),u(i=s(o,za()?Reflect.construct(c,l||[],a(o).constructor):c.apply(o,l)),\"startListeningForDeviceChanges\",(function(){Ca(i.handleDeviceChange)})),u(i,\"stopListeningForDeviceChanges\",(function(){Ea(i.handleDeviceChange)})),u(i,\"handleDeviceChange\",(function(e){e=e.map((function(e){return JSON.parse(JSON.stringify(e))})),i.emitDailyJSEvent({action:\"available-devices-updated\",availableDevices:e})})),u(i,\"handleNativeAppStateChange\",function(){var e=h((function*(e){if(\"destroyed\"===e)return console.warn(\"App has been destroyed before leaving the meeting. Cleaning up all the resources!\"),void(yield i.destroy());var t=\"active\"===e;i.disableReactNativeAutoDeviceManagement(\"video\")||(t?i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!0):(i.camUnmutedBeforeLosingNativeActiveState=i.localVideo(),i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!1)))}));return function(t){return e.apply(this,arguments)}}()),u(i,\"handleNativeAudioFocusChange\",(function(e){i.disableReactNativeAutoDeviceManagement(\"audio\")||(i._hasNativeAudioFocus=e,i.toggleParticipantAudioBasedOnNativeAudioFocus(),i._hasNativeAudioFocus?i.micUnmutedBeforeLosingNativeAudioFocus&&i.setLocalAudio(!0):(i.micUnmutedBeforeLosingNativeAudioFocus=i.localAudio(),i.setLocalAudio(!1)))})),u(i,\"handleNativeSystemScreenCaptureStop\",(function(){i.stopScreenShare()})),i.strictMode=void 0===p.strictMode||p.strictMode,i.allowMultipleCallInstances=null!==(n=p.allowMultipleCallInstances)&&void 0!==n&&n,Object.keys(Ga).length&&(i._logDuplicateInstanceAttempt(),!i.allowMultipleCallInstances)){if(i.strictMode)throw new Error(\"Duplicate DailyIframe instances are not allowed\");console.warn(\"Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`\")}if(window._daily||(window._daily={pendings:[],instances:{}}),i.callClientId=K(),Ga[(d=i).callClientId]=d,window._daily.instances[i.callClientId]={},i._sharedTracks={},window._daily.instances[i.callClientId].tracks=i._sharedTracks,p.dailyJsVersion=r.version(),i._iframe=e,i._callObjectMode=\"none\"===p.layout&&!i._iframe,i._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==p.showLocalVideo?i._callObjectMode?console.error(\"showLocalVideo is not available in call object mode\"):i._showLocalVideo=!!p.showLocalVideo:i._showLocalVideo=!0,void 0!==p.showParticipantsBar?i._callObjectMode?console.error(\"showParticipantsBar is not available in call object mode\"):i._showParticipantsBar=!!p.showParticipantsBar:i._showParticipantsBar=!0,void 0!==p.customIntegrations?i._callObjectMode?console.error(\"customIntegrations is not available in call object mode\"):i._customIntegrations=p.customIntegrations:i._customIntegrations={},void 0!==p.customTrayButtons?i._callObjectMode?console.error(\"customTrayButtons is not available in call object mode\"):i._customTrayButtons=p.customTrayButtons:i._customTrayButtons={},void 0!==p.activeSpeakerMode?i._callObjectMode?console.error(\"activeSpeakerMode is not available in call object mode\"):i._activeSpeakerMode=!!p.activeSpeakerMode:i._activeSpeakerMode=!1,p.receiveSettings?i._callObjectMode?i._receiveSettings=p.receiveSettings:console.error(\"receiveSettings is only available in call object mode\"):i._receiveSettings={},i.validateProperties(p),i.properties=qa({},p),i._inputSettings||(i._inputSettings={}),i._callObjectLoader=i._callObjectMode?new ea(i.callClientId):null,i._callState=vi,i._isPreparingToJoin=!1,i._accessState={access:Oi},i._meetingSessionSummary={},i._finalSummaryOfPrevSession={},i._meetingSessionState=Lc(Ya,i._callObjectMode),i._nativeInCallAudioMode=Qa,i._participants={},i._isScreenSharing=!1,i._participantCounts=Xa,i._rmpPlayerState={},i._waitingParticipants={},i._network={threshold:\"good\",quality:100,networkState:\"unknown\",stats:{}},i._activeSpeaker={},i._localAudioLevel=0,i._isLocalAudioLevelObserverRunning=!1,i._remoteParticipantsAudioLevel={},i._isRemoteParticipantsAudioLevelObserverRunning=!1,i._maxAppMessageSize=rs,i._messageChannel=ys()?new zs:new Js,i._iframe&&(i._iframe.requestFullscreen?i._iframe.addEventListener(\"fullscreenchange\",(function(){document.fullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))})):i._iframe.webkitRequestFullscreen&&i._iframe.addEventListener(\"webkitfullscreenchange\",(function(){document.webkitFullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))}))),ys()){var f=i.nativeUtils();f.addAudioFocusChangeListener&&f.removeAudioFocusChangeListener&&f.addAppStateChangeListener&&f.removeAppStateChangeListener&&f.addSystemScreenCaptureStopListener&&f.removeSystemScreenCaptureStopListener||console.warn(\"expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native\"),i._hasNativeAudioFocus=!0,f.addAudioFocusChangeListener(i.handleNativeAudioFocusChange),f.addAppStateChangeListener(i.handleNativeAppStateChange),f.addSystemScreenCaptureStopListener(i.handleNativeSystemScreenCaptureStop)}return i._callObjectMode&&i.startListeningForDeviceChanges(),i._messageChannel.addListenerForMessagesFromCallMachine(i.handleMessageFromCallMachine,i.callClientId,i),i}return l(r,x),o(r,[{key:\"destroy\",value:(ee=h((function*(){var e;try{yield this.leave()}catch(e){}var t=this._iframe;if(t){var n=t.parentElement;n&&n.removeChild(t)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ys()){var r=this.nativeUtils();r.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),r.removeAppStateChangeListener(this.handleNativeAppStateChange),r.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:\"call-instance-destroyed\"}),delete Ga[this.callClientId],(null===(e=window)||void 0===e||null===(e=e._daily)||void 0===e?void 0:e.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return ee.apply(this,arguments)})},{key:\"isDestroyed\",value:function(){return!!this._destroyed}},{key:\"loadCss\",value:function(e){var t=e.bodyClass,n=e.cssFile,r=e.cssText;return gc(),this.sendMessageToCallMachine({action:\"load-css\",cssFile:this.absoluteUrl(n),bodyClass:t,cssText:r}),this}},{key:\"iframe\",value:function(){return gc(),this._iframe}},{key:\"meetingState\",value:function(){return this._callState}},{key:\"accessState\",value:function(){return fc(this._callObjectMode,\"accessState()\"),this._accessState}},{key:\"participants\",value:function(){return this._participants}},{key:\"participantCounts\",value:function(){return this._participantCounts}},{key:\"waitingParticipants\",value:function(){return fc(this._callObjectMode,\"waitingParticipants()\"),this._waitingParticipants}},{key:\"validateParticipantProperties\",value:function(e,t){for(var n in t){if(!sc[n])throw new Error(\"unrecognized updateParticipant property \".concat(n));if(sc[n].validate&&!sc[n].validate(t[n],this,this._participants[e]))throw new Error(sc[n].help)}}},{key:\"updateParticipant\",value:function(e,t){return this._participants.local&&this._participants.local.session_id===e&&(e=\"local\"),e&&t&&(this.validateParticipantProperties(e,t),this.sendMessageToCallMachine({action:\"update-participant\",id:e,properties:t})),this}},{key:\"updateParticipants\",value:function(e){var t=this._participants.local&&this._participants.local.session_id;for(var n in e)n===t&&(n=\"local\"),n&&e[n]&&this.validateParticipantProperties(n,e[n]);return this.sendMessageToCallMachine({action:\"update-participants\",participants:e}),this}},{key:\"updateWaitingParticipant\",value:(Y=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fc(this._callObjectMode,\"updateWaitingParticipant()\"),lc(this._callState,\"updateWaitingParticipant()\"),\"string\"!=typeof t||\"object\"!==n(r))throw new Error(\"updateWaitingParticipant() must take an id string and a updates object\");return new Promise((function(n,i){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participant\",id:t,updates:r},(function(e){e.error&&i(e.error),e.id||i(new Error(\"unknown error in updateWaitingParticipant()\")),n({id:e.id})}))}))})),function(){return Y.apply(this,arguments)})},{key:\"updateWaitingParticipants\",value:(G=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fc(this._callObjectMode,\"updateWaitingParticipants()\"),lc(this._callState,\"updateWaitingParticipants()\"),\"object\"!==n(t))throw new Error(\"updateWaitingParticipants() must take a mapping between ids and update objects\");return new Promise((function(n,r){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participants\",updatesById:t},(function(e){e.error&&r(e.error),e.ids||r(new Error(\"unknown error in updateWaitingParticipants()\")),n({ids:e.ids})}))}))})),function(){return G.apply(this,arguments)})},{key:\"requestAccess\",value:(H=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.access,r=void 0===n?{level:Pi}:n,i=t.name,o=void 0===i?\"\":i;return fc(this._callObjectMode,\"requestAccess()\"),lc(this._callState,\"requestAccess()\"),new Promise((function(t,n){e.sendMessageToCallMachine({action:\"daily-method-request-access\",access:r,name:o},(function(e){e.error&&n(e.error),e.access||n(new Error(\"unknown error in requestAccess()\")),t({access:e.access,granted:e.granted})}))}))})),function(){return H.apply(this,arguments)})},{key:\"localAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.audio.state):null}},{key:\"localVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.video.state):null}},{key:\"setLocalAudio\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return\"forceDiscardTrack\"in t&&(ys()?(console.warn(\"forceDiscardTrack option not supported in React Native; ignoring\"),t={}):e&&(console.warn(\"forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring\"),t={})),this.sendMessageToCallMachine({action:\"local-audio\",state:e,options:t}),this}},{key:\"localScreenAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:\"localScreenVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:\"updateScreenShare\",value:function(e){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:\"local-screen-update\",options:e}),this;console.warn(\"There is no screen share in progress. Try calling startScreenShare first.\")}},{key:\"setLocalVideo\",value:function(e){return this.sendMessageToCallMachine({action:\"local-video\",state:e}),this}},{key:\"_setAllowLocalAudio\",value:function(e){if(this._preloadCache.allowLocalAudio=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-audio\",state:e}),this}},{key:\"_setAllowLocalVideo\",value:function(e){if(this._preloadCache.allowLocalVideo=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-video\",state:e}),this}},{key:\"getReceiveSettings\",value:(W=h((function*(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,i=void 0!==r&&r;if(fc(this._callObjectMode,\"getReceiveSettings()\"),!this._callMachineInitialized)return this._receiveSettings;switch(n(e)){case\"string\":return new Promise((function(n){t.sendMessageToCallMachine({action:\"get-single-participant-receive-settings\",id:e,showInheritedValues:i},(function(e){n(e.receiveSettings)}))}));case\"undefined\":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or \"base\"), or there should be no arguments')}})),function(e){return W.apply(this,arguments)})},{key:\"updateReceiveSettings\",value:(z=h((function*(e){var t=this;if(fc(this._callObjectMode,\"updateReceiveSettings()\"),!bc(e,{allowAllParticipantsKey:!0}))throw new Error(Ec({allowAllParticipantsKey:!0}));return lc(this._callState,\"updateReceiveSettings()\",\"To specify receive settings earlier, use the receiveSettings config property.\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"update-receive-settings\",receiveSettings:e},(function(e){n({receiveSettings:e.receiveSettings})}))}))})),function(e){return z.apply(this,arguments)})},{key:\"_prepInputSettingsForSharing\",value:function(e,t){if(e){var n={};if(e.audio){var r,i,o;e.audio.settings&&(!Object.keys(e.audio.settings).length&&t||(n.audio={settings:qa({},e.audio.settings)})),t&&null!==(r=n.audio)&&void 0!==r&&null!==(r=r.settings)&&void 0!==r&&r.customTrack&&(n.audio.settings={customTrack:this._sharedTracks.audioTrack});var s=\"none\"===(null===(i=e.audio.processor)||void 0===i?void 0:i.type)&&(null===(o=e.audio.processor)||void 0===o?void 0:o._isDefaultWhenNone);if(e.audio.processor&&!s){var a=qa({},e.audio.processor);delete a._isDefaultWhenNone,n.audio=qa(qa({},n.audio),{},{processor:a})}}if(e.video){var c,l,u;e.video.settings&&(!Object.keys(e.video.settings).length&&t||(n.video={settings:qa({},e.video.settings)})),t&&null!==(c=n.video)&&void 0!==c&&null!==(c=c.settings)&&void 0!==c&&c.customTrack&&(n.video.settings={customTrack:this._sharedTracks.videoTrack});var d=\"none\"===(null===(l=e.video.processor)||void 0===l?void 0:l.type)&&(null===(u=e.video.processor)||void 0===u?void 0:u._isDefaultWhenNone);if(e.video.processor&&!d){var h=qa({},e.video.processor);delete h._isDefaultWhenNone,n.video=qa(qa({},n.video),{},{processor:h})}}return n}}},{key:\"getInputSettings\",value:function(){var e=this;return gc(),new Promise((function(t){t(e._getInputSettings())}))}},{key:\"_getInputSettings\",value:function(){var e,t,n,r,i,o,s={processor:{type:\"none\",_isDefaultWhenNone:!0}};this._inputSettings?(e=(null===(n=this._inputSettings)||void 0===n?void 0:n.video)||s,t=(null===(r=this._inputSettings)||void 0===r?void 0:r.audio)||s):(e=(null===(i=this._preloadCache)||void 0===i||null===(i=i.inputSettings)||void 0===i?void 0:i.video)||s,t=(null===(o=this._preloadCache)||void 0===o||null===(o=o.inputSettings)||void 0===o?void 0:o.audio)||s);var a={audio:t,video:e};return this._prepInputSettingsForSharing(a,!0)}},{key:\"_updatePreloadCacheInputSettings\",value:function(e,t){var n=this._inputSettings||{},r={};if(e.video){var i,o,s;if(r.video={},e.video.settings)r.video.settings={},t||e.video.settings.customTrack||null===(s=n.video)||void 0===s||!s.settings?r.video.settings=e.video.settings:r.video.settings=qa(qa({},n.video.settings),e.video.settings),Object.keys(r.video.settings).length||delete r.video.settings;else null!==(i=n.video)&&void 0!==i&&i.settings&&(r.video.settings=n.video.settings);e.video.processor?r.video.processor=e.video.processor:null!==(o=n.video)&&void 0!==o&&o.processor&&(r.video.processor=n.video.processor)}else n.video&&(r.video=n.video);if(e.audio){var a,c,l;if(r.audio={},e.audio.settings)r.audio.settings={},t||e.audio.settings.customTrack||null===(l=n.audio)||void 0===l||!l.settings?r.audio.settings=e.audio.settings:r.audio.settings=qa(qa({},n.audio.settings),e.audio.settings),Object.keys(r.audio.settings).length||delete r.audio.settings;else null!==(a=n.audio)&&void 0!==a&&a.settings&&(r.audio.settings=n.audio.settings);e.audio.processor?r.audio.processor=e.audio.processor:null!==(c=n.audio)&&void 0!==c&&c.processor&&(r.audio.processor=n.audio.processor)}else n.audio&&(r.audio=n.audio);this._maybeUpdateInputSettings(r)}},{key:\"_devicesFromInputSettings\",value:function(e){var t,n,r=(null==e||null===(t=e.video)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.deviceId)||null,i=(null==e||null===(n=e.audio)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.deviceId)||null,o=this._preloadCache.outputDeviceId||null;return{camera:r?{deviceId:r}:{},mic:i?{deviceId:i}:{},speaker:o?{deviceId:o}:{}}}},{key:\"updateInputSettings\",value:(q=h((function*(e){var t=this;return gc(),_c(e)?e.video||e.audio?(wc(e,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(e,!0),this._getInputSettings()):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-input-settings\",inputSettings:e},(function(i){if(i.error)r(i.error);else{if(i.returnPreloadCache)return t._updatePreloadCacheInputSettings(e,!0),void n(t._getInputSettings());t._maybeUpdateInputSettings(i.inputSettings),n(t._prepInputSettingsForSharing(i.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Cc()),Promise.reject(Cc()))})),function(e){return q.apply(this,arguments)})},{key:\"setBandwidth\",value:function(e){var t=e.kbs,n=e.trackConstraints;if(gc(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-bandwidth\",kbs:t,trackConstraints:n}),this}},{key:\"getDailyLang\",value:function(){var e=this;if(gc(),this._callMachineInitialized)return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-daily-lang\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))}},{key:\"setDailyLang\",value:function(e){return gc(),this.sendMessageToCallMachine({action:\"set-daily-lang\",lang:e}),this}},{key:\"setProxyUrl\",value:function(e){return this.sendMessageToCallMachine({action:\"set-proxy-url\",proxyUrl:e}),this}},{key:\"setIceConfig\",value:function(e){return this.sendMessageToCallMachine({action:\"set-ice-config\",iceConfig:e}),this}},{key:\"meetingSessionSummary\",value:function(){return[_i,wi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:\"getMeetingSession\",value:($=h((function*(){var e=this;return console.warn(\"getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately\"),lc(this._callState,\"getMeetingSession()\"),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-meeting-session\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return $.apply(this,arguments)})},{key:\"meetingSessionState\",value:function(){return lc(this._callState,\"meetingSessionState\"),this._meetingSessionState}},{key:\"setMeetingSessionData\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"replace\";fc(this._callObjectMode,\"setMeetingSessionData()\"),lc(this._callState,\"setMeetingSessionData\");try{!function(e,t){new Qs({data:e,mergeStrategy:t})}(e,t)}catch(e){throw console.error(e),e}try{this.sendMessageToCallMachine({action:\"set-session-data\",data:e,mergeStrategy:t})}catch(e){throw new Error(\"Error setting meeting session data: \".concat(e))}}},{key:\"setUserName\",value:function(e,t){var n=this;return this.properties.userName=e,new Promise((function(r){n.sendMessageToCallMachine({action:\"set-user-name\",name:null!=e?e:\"\",thisMeetingOnly:ys()||!!t&&!!t.thisMeetingOnly},(function(e){delete e.action,delete e.callbackStamp,r(e)}))}))}},{key:\"setUserData\",value:(J=h((function*(e){var t=this;try{yc(e)}catch(e){throw console.error(e),e}if(this.properties.userData=e,this._callMachineInitialized)return new Promise((function(n){try{t.sendMessageToCallMachine({action:\"set-user-data\",userData:e},(function(e){delete e.action,delete e.callbackStamp,n(e)}))}catch(e){throw new Error(\"Error setting user data: \".concat(e))}}))})),function(e){return J.apply(this,arguments)})},{key:\"validateAudioLevelInterval\",value:function(e){if(e&&(e<100||\"number\"!=typeof e))throw new Error(\"The interval must be a number greater than or equal to 100 milliseconds.\")}},{key:\"startLocalAudioLevelObserver\",value:function(e){var t=this;if(\"undefined\"==typeof AudioWorkletNode&&!ys())throw new Error(\"startLocalAudioLevelObserver() is not supported on this browser\");if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-local-audio-level-observer\",interval:e},(function(e){t._isLocalAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isLocalAudioLevelObserverRunning\",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:\"stopLocalAudioLevelObserver\",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-local-audio-level-observer\"})}},{key:\"startRemoteParticipantsAudioLevelObserver\",value:function(e){var t=this;if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-remote-participants-audio-level-observer\",interval:e},(function(e){t._isRemoteParticipantsAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isRemoteParticipantsAudioLevelObserverRunning\",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:\"stopRemoteParticipantsAudioLevelObserver\",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-remote-participants-audio-level-observer\"})}},{key:\"startCamera\",value:(V=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fc(this._callObjectMode,\"startCamera()\"),dc(this._callState,this._isPreparingToJoin,\"startCamera()\",\"Did you mean to use setLocalAudio() and/or setLocalVideo() instead?\"),this.needsLoad())try{yield this.load(t)}catch(e){return Promise.reject(e)}else{if(this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in startCamera() is different than the one used in preAuth()\"),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in startCamera() is different than the one used in preAuth()\"),Promise.reject()}this.validateProperties(t),this.properties=qa(qa({},this.properties),t)}return new Promise((function(t){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"start-camera\",properties:cc(e.properties,e.callClientId),preloadCache:cc(e._preloadCache,e.callClientId)},(function(e){t({camera:e.camera,mic:e.mic,speaker:e.speaker})}))}))})),function(){return V.apply(this,arguments)})},{key:\"validateCustomTrack\",value:function(e,t,n){if(n&&n.length>50)throw new Error(\"Custom track `trackName` must not be more than 50 characters\");if(t&&\"music\"!==t&&\"speech\"!==t&&!(t instanceof Object))throw new Error(\"Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`\");if(!!n&&[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\",\"customVideoDefaults\"].includes(n))throw new Error(\"Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo\");if(!(e instanceof MediaStreamTrack))throw new Error(\"Custom tracks provided must be instances of MediaStreamTrack\")}},{key:\"startCustomTrack\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName};return gc(),lc(this._callState,\"startCustomTrack()\"),this.validateCustomTrack(t.track,t.mode,t.trackName),new Promise((function(n,r){e._sharedTracks.customTrack=t.track,t.track=ls,e.sendMessageToCallMachine({action:\"start-custom-track\",properties:t},(function(e){e.error?r({error:e.error}):n(e.mediaTag)}))}))}},{key:\"stopCustomTrack\",value:function(e){var t=this;return gc(),lc(this._callState,\"stopCustomTrack()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"stop-custom-track\",mediaTag:e},(function(e){n(e.mediaTag)}))}))}},{key:\"setCamera\",value:function(e){var t=this;return mc(),hc(this._callMachineInitialized,\"setCamera()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"set-camera\",cameraDeviceId:e},(function(e){n({device:e.device})}))}))}},{key:\"setAudioDevice\",value:(U=h((function*(e){return mc(),this.nativeUtils().setAudioDevice(e),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(e){return U.apply(this,arguments)})},{key:\"cycleCamera\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){e.sendMessageToCallMachine({action:\"cycle-camera\",properties:t},(function(e){n({device:e.device})}))}))}},{key:\"cycleMic\",value:function(){var e=this;return gc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"cycle-mic\"},(function(e){t({device:e.device})}))}))}},{key:\"getCameraFacingMode\",value:function(){var e=this;return mc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-camera-facing-mode\"},(function(e){t(e.facingMode)}))}))}},{key:\"setInputDevicesAsync\",value:(B=h((function*(e){var t=this,n=e.audioDeviceId,r=e.videoDeviceId,i=e.audioSource,o=e.videoSource;if(gc(),void 0!==i&&(n=i),void 0!==o&&(r=o),\"boolean\"==typeof n&&(this._setAllowLocalAudio(n),n=void 0),\"boolean\"==typeof r&&(this._setAllowLocalVideo(r),r=void 0),!n&&!r)return yield this.getInputDevices();var s={};return n&&(n instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=n,n=ls,s.audio={settings:{customTrack:n}}):(delete this._sharedTracks.audioTrack,s.audio={settings:{deviceId:n}})),r&&(r instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=r,r=ls,s.video={settings:{customTrack:r}}):(delete this._sharedTracks.videoTrack,s.video={settings:{deviceId:r}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(s,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-input-devices\",audioDeviceId:n,videoDeviceId:r},(function(n){if(delete n.action,delete n.callbackStamp,n.returnPreloadCache)return t._updatePreloadCacheInputSettings(s,!1),void e(t._devicesFromInputSettings(t._inputSettings));e(n)}))}))})),function(e){return B.apply(this,arguments)})},{key:\"setOutputDeviceAsync\",value:(F=h((function*(e){var t=this,n=e.outputDeviceId;return gc(),n&&(this._preloadCache.outputDeviceId=n),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-output-device\",outputDeviceId:n},(function(n){delete n.action,delete n.callbackStamp,n.returnPreloadCache?e(t._devicesFromInputSettings(t._inputSettings)):e(n)}))}))})),function(e){return F.apply(this,arguments)})},{key:\"getInputDevices\",value:(R=h((function*(){var e=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-input-devices\"},(function(n){n.returnPreloadCache?t(e._devicesFromInputSettings(e._inputSettings)):t({camera:n.camera,mic:n.mic,speaker:n.speaker})}))}))})),function(){return R.apply(this,arguments)})},{key:\"nativeInCallAudioMode\",value:function(){return mc(),this._nativeInCallAudioMode}},{key:\"setNativeInCallAudioMode\",value:function(e){if(mc(),[Qa,Ka].includes(e)){if(e!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=e,!this.disableReactNativeAutoDeviceManagement(\"audio\")&&uc(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error(\"invalid in-call audio mode specified: \",e)}},{key:\"preAuth\",value:(D=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fc(this._callObjectMode,\"preAuth()\"),dc(this._callState,this._isPreparingToJoin,\"preAuth()\"),this.needsLoad()&&(yield this.load(t)),!t.url)throw new Error(\"preAuth() requires at least a url to be provided\");return this.validateProperties(t),this.properties=qa(qa({},this.properties),t),new Promise((function(t,n){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"daily-method-preauth\",properties:cc(e.properties,e.callClientId),preloadCache:cc(e._preloadCache,e.callClientId)},(function(r){return r.error?n(r.error):r.access?(e._didPreAuth=!0,void t({access:r.access})):n(new Error(\"unknown error in preAuth()\"))}))}))})),function(){return D.apply(this,arguments)})},{key:\"load\",value:(L=h((function*(e){var t=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");if(e&&(this.validateProperties(e),this.properties=qa(qa({},this.properties),e)),!this._callObjectMode&&!this.properties.url)throw new Error(\"can't load iframe meeting because url property isn't set\");return this._updateCallState(gi),this.emitDailyJSEvent({action:to}),this._callObjectMode?new Promise((function(e,n){t._callObjectLoader.cancel();var r=Date.now();t._callObjectLoader.load(t.properties.dailyConfig,(function(n){t._bundleLoadTime=n?\"no-op\":Date.now()-r,t._updateCallState(mi),n&&t.emitDailyJSEvent({action:ro}),e()}),(function(e,r){if(t.emitDailyJSEvent({action:no}),!r){t._updateCallState(wi),t.resetMeetingDependentVars();var i={action:ns,errorMsg:e.msg,error:{type:\"connection-error\",msg:\"Failed to load call object bundle.\",details:{on:\"load\",sourceError:e,bundleUrl:Z(t.properties.dailyConfig)}}};t._maybeSendToSentry(i),t.emitDailyJSEvent(i),n(e.msg)}}))})):(this._iframe.src=X(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(e,n){t._loadedCallback=function(r){t._callState!==wi?(t._updateCallState(mi),(t.properties.cssFile||t.properties.cssText)&&t.loadCss(t.properties),e()):n(r)}})))}})),function(e){return L.apply(this,arguments)})},{key:\"join\",value:(I=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var n=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(t)}catch(e){return this.updateIsPreparingToJoin(!1),Promise.reject(e)}}else{if(n=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(t.url&&!this._callObjectMode&&t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in load() (\".concat(this.properties.url,\" -> \").concat(t.url,\")\")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(t),this.properties=qa(qa({},this.properties),t)}return void 0!==t.showLocalVideo&&(this._callObjectMode?console.error(\"showLocalVideo is not available in callObject mode\"):this._showLocalVideo=!!t.showLocalVideo),void 0!==t.showParticipantsBar&&(this._callObjectMode?console.error(\"showParticipantsBar is not available in callObject mode\"):this._showParticipantsBar=!!t.showParticipantsBar),this._callState===bi||this._callState===yi?(console.warn(\"already joined meeting, call leave() before joining again\"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(yi,!1),this.emitDailyJSEvent({action:so}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:\"join-meeting\",properties:cc(this.properties,this.callClientId),preloadCache:cc(this._preloadCache,this.callClientId)}),new Promise((function(t,r){e._joinedCallback=function(i,o){if(e._callState!==wi){if(e._updateCallState(bi),i)for(var s in i){if(e._callObjectMode){var a=e._callMachine().store;pa(i[s],a),fa(i[s],a),ga(i[s],e._participants[s],a)}e._participants[s]=qa({},i[s]),e.toggleParticipantAudioBasedOnNativeAudioFocus()}n&&e.loadCss(e.properties),t(i)}else r(o)}})))})),function(){return I.apply(this,arguments)})},{key:\"leave\",value:(j=h((function*(){var e=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(t){e._callState===_i||e._callState===wi?t():e._callObjectLoader&&!e._callObjectLoader.loaded?(e._callObjectLoader.cancel(),e._updateCallState(_i),e.resetMeetingDependentVars(),e.emitDailyJSEvent({action:_i}),t()):(e._resolveLeave=t,e.sendMessageToCallMachine({action:\"leave-meeting\"}))}))})),function(){return j.apply(this,arguments)})},{key:\"startScreenShare\",value:(A=h((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(hc(this._callMachineInitialized,\"startScreenShare()\"),t.screenVideoSendSettings&&this._validateVideoSendSettings(\"screenVideo\",t.screenVideoSendSettings),t.mediaStream&&(this._sharedTracks.screenMediaStream=t.mediaStream,t.mediaStream=ls),\"undefined\"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var n=this.nativeUtils();if(yield n.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:ts,type:\"screen-share-error\",errorMsg:\"Could not start the screen sharing. The screen is already been captured!\"});n.setSystemScreenCaptureStartCallback((function(){n.setSystemScreenCaptureStartCallback(null),e.sendMessageToCallMachine({action:ss,captureOptions:t})})),n.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:ss,captureOptions:t})})),function(){return A.apply(this,arguments)})},{key:\"stopScreenShare\",value:function(){hc(this._callMachineInitialized,\"stopScreenShare()\"),this.sendMessageToCallMachine({action:\"local-screen-stop\"})}},{key:\"startRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;if(t&&\"cloud\"!==t&&\"raw-tracks\"!==t&&\"local\"!==t)throw new Error(\"invalid type: \".concat(t,\", allowed values 'cloud', 'raw-tracks', or 'local'\"));this.sendMessageToCallMachine(qa({action:\"local-recording-start\"},e))}},{key:\"updateRecording\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-recording\",layout:n,instanceId:r})}},{key:\"stopRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(qa({action:\"local-recording-stop\"},e))}},{key:\"startLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(qa({action:\"daily-method-start-live-streaming\"},e))}},{key:\"updateLiveStreaming\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-live-streaming\",layout:n,instanceId:r})}},{key:\"addLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:fs,endpoints:t,instanceId:n})}},{key:\"removeLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:vs,endpoints:t,instanceId:n})}},{key:\"stopLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(qa({action:\"daily-method-stop-live-streaming\"},e))}},{key:\"validateDailyConfig\",value:function(e){e.camSimulcastEncodings&&(console.warn(\"camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings.\"),this.validateSimulcastEncodings(e.camSimulcastEncodings)),e.screenSimulcastEncodings&&console.warn(\"screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings.\"),Ps()&&e.noAutoDefaultDeviceChange&&console.warn(\"noAutoDefaultDeviceChange is not supported on Android, and will be ignored.\")}},{key:\"validateSimulcastEncodings\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(!(e instanceof Array||Array.isArray(e)))throw new Error(\"encodings must be an Array\");if(!xc(e.length,1,3))throw new Error(\"encodings must be an Array with between 1 to \".concat(3,\" layers\"));for(var r=0;r<e.length;r++){var i=e[r];for(var o in this._validateEncodingLayerHasValidProperties(i),i)if(ec.includes(o)){if(\"number\"!=typeof i[o])throw new Error(\"\".concat(o,\" must be a number\"));if(t){var s=t[o],a=s.min,c=s.max;if(!xc(i[o],a,c))throw new Error(\"\".concat(o,\" value not in range. valid range: \").concat(a,\" to \").concat(c))}}else if(![\"active\",\"scalabilityMode\"].includes(o))throw new Error(\"Invalid key \".concat(o,\", valid keys are:\")+Object.values(ec));if(n&&!i.hasOwnProperty(\"maxBitrate\"))throw new Error(\"maxBitrate is not specified\")}}}},{key:\"startRemoteMediaPlayer\",value:(P=h((function*(e){var t=this,n=e.url,r=e.settings,i=void 0===r?{state:hs.PLAY}:r;try{!function(e){if(\"string\"!=typeof e)throw new Error('url parameter must be \"string\" type')}(n),Ic(i),function(e){for(var t in e)if(!tc.includes(t))throw new Error(\"Invalid key \".concat(t,\", valid keys are: \").concat(tc));e.simulcastEncodings&&this.validateSimulcastEncodings(e.simulcastEncodings,Za,!0)}(i)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('startRemoteMediaPlayer arguments must be of the form:\\n  { url: \"playback url\",\\n  settings?:\\n  {state: \"play\"|\"pause\", simulcastEncodings?: [{}] } }'),e}return new Promise((function(e,r){t.sendMessageToCallMachine({action:\"daily-method-start-remote-media-player\",url:n,settings:i},(function(t){t.error?r({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return P.apply(this,arguments)})},{key:\"stopRemoteMediaPlayer\",value:(O=h((function*(e){var t=this;if(\"string\"!=typeof e)throw new Error(\" remotePlayerID must be of type string\");return new Promise((function(n,r){t.sendMessageToCallMachine({action:\"daily-method-stop-remote-media-player\",session_id:e},(function(e){e.error?r({error:e.error,errorMsg:e.errorMsg}):n()}))}))})),function(e){return O.apply(this,arguments)})},{key:\"updateRemoteMediaPlayer\",value:(T=h((function*(e){var t=this,n=e.session_id,r=e.settings;try{Ic(r)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('updateRemoteMediaPlayer arguments must be of the form:\\n  session_id: \"participant session\",\\n  { settings?: {state: \"play\"|\"pause\"} }'),e}return new Promise((function(e,i){t.sendMessageToCallMachine({action:\"daily-method-update-remote-media-player\",session_id:n,settings:r},(function(t){t.error?i({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return T.apply(this,arguments)})},{key:\"startTranscription\",value:function(e){lc(this._callState,\"startTranscription()\"),this.sendMessageToCallMachine(qa({action:\"daily-method-start-transcription\"},e))}},{key:\"updateTranscription\",value:function(e){if(lc(this._callState,\"updateTranscription()\"),!e)throw new Error(\"updateTranscription Error: options is mandatory\");if(\"object\"!==n(e))throw new Error(\"updateTranscription Error: options must be object type\");if(e.participants&&!Array.isArray(e.participants))throw new Error(\"updateTranscription Error: participants must be an array\");this.sendMessageToCallMachine(qa({action:\"daily-method-update-transcription\"},e))}},{key:\"stopTranscription\",value:function(e){if(lc(this._callState,\"stopTranscription()\"),e&&\"object\"!==n(e))throw new Error(\"stopTranscription Error: options must be object type\");if(e&&!e.instanceId)throw new Error('\"instanceId\" not provided');this.sendMessageToCallMachine(qa({action:\"daily-method-stop-transcription\"},e))}},{key:\"startDialOut\",value:(E=h((function*(e){var t=this;lc(this._callState,\"startDialOut()\");var n=function(e){if(e){if(!Array.isArray(e))throw new Error(\"Error starting dial out: audio codec must be an array\");if(e.length<=0)throw new Error(\"Error starting dial out: audio codec array specified but empty\");e.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: audio codec must be a string\");if(\"OPUS\"!==e&&\"PCMU\"!==e&&\"PCMA\"!==e&&\"G722\"!==e)throw new Error(\"Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722\")}))}};if(!e.sipUri&&!e.phoneNumber)throw new Error(\"Error starting dial out: either a sip uri or phone number must be provided\");if(e.sipUri&&e.phoneNumber)throw new Error(\"Error starting dial out: only one of sip uri or phone number must be provided\");if(e.sipUri){if(\"string\"!=typeof e.sipUri)throw new Error(\"Error starting dial out: sipUri must be a string\");if(!e.sipUri.startsWith(\"sip:\"))throw new Error(\"Error starting dial out: Invalid SIP URI, must start with 'sip:'\");if(e.video&&\"boolean\"!=typeof e.video)throw new Error(\"Error starting dial out: video must be a boolean value\");!function(e){if(e&&(n(e.audio),e.video)){if(!Array.isArray(e.video))throw new Error(\"Error starting dial out: video codec must be an array\");if(e.video.length<=0)throw new Error(\"Error starting dial out: video codec array specified but empty\");e.video.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: video codec must be a string\");if(\"H264\"!==e&&\"VP8\"!==e)throw new Error(\"Error starting dial out: video codec must be H264 or VP8\")}))}}(e.codecs)}if(e.phoneNumber){if(\"string\"!=typeof e.phoneNumber)throw new Error(\"Error starting dial out: phoneNumber must be a string\");if(!/^\\+\\d{1,}$/.test(e.phoneNumber))throw new Error(\"Error starting dial out: Invalid phone number, must be valid phone number as per E.164\");e.codecs&&n(e.codecs.audio)}if(e.callerId){if(\"string\"!=typeof e.callerId)throw new Error(\"Error starting dial out: callerId must be a string\");if(e.sipUri)throw new Error(\"Error starting dial out: callerId not allowed with sipUri\")}if(e.displayName){if(\"string\"!=typeof e.displayName)throw new Error(\"Error starting dial out: displayName must be a string\");if(e.displayName.length>=200)throw new Error(\"Error starting dial out: displayName length must be less than 200\")}if(e.userId){if(\"string\"!=typeof e.userId)throw new Error(\"Error starting dial out: userId must be a string\");if(e.userId.length>36)throw new Error(\"Error starting dial out: userId length must be less than or equal to 36\")}return new Promise((function(n,r){t.sendMessageToCallMachine(qa({action:\"dialout-start\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return E.apply(this,arguments)})},{key:\"stopDialOut\",value:function(e){var t=this;return lc(this._callState,\"stopDialOut()\"),new Promise((function(n,r){t.sendMessageToCallMachine(qa({action:\"dialout-stop\"},e),(function(e){e.error?r(e.error):n(e)}))}))}},{key:\"sipCallTransfer\",value:(C=h((function*(e){var t=this;if(lc(this._callState,\"sipCallTransfer()\"),!e)throw new Error(\"sipCallTransfer() requires a sessionId and toEndPoint\");return e.useSipRefer=!1,jc(e,\"sipCallTransfer\"),new Promise((function(n,r){t.sendMessageToCallMachine(qa({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return C.apply(this,arguments)})},{key:\"sipRefer\",value:(M=h((function*(e){var t=this;if(lc(this._callState,\"sipRefer()\"),!e)throw new Error(\"sessionId and toEndPoint are mandatory parameter\");return e.useSipRefer=!0,jc(e,\"sipRefer\"),new Promise((function(n,r){t.sendMessageToCallMachine(qa({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return M.apply(this,arguments)})},{key:\"sendDTMF\",value:(k=h((function*(e){var t=this;return lc(this._callState,\"sendDTMF()\"),function(e){var t=e.sessionId,n=e.tones;if(!t||!n)throw new Error(\"sessionId and tones are mandatory parameter\");if(\"string\"!=typeof t||\"string\"!=typeof n)throw new Error(\"sessionId and tones should be of string type\");if(n.length>20)throw new Error(\"tones string must be upto 20 characters\");var r=/[^0-9A-D*#]/g,i=n.match(r);if(i&&i[0])throw new Error(\"\".concat(i[0],\" is not valid DTMF tone\"))}(e),new Promise((function(n,r){t.sendMessageToCallMachine(qa({action:\"send-dtmf\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return k.apply(this,arguments)})},{key:\"getNetworkStats\",value:function(){var e=this;if(this._callState!==bi){return Promise.resolve(qa({stats:{latest:{}}},this._network))}return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-calc-stats\"},(function(n){t(qa(qa({},e._network),{},{stats:n.stats}))}))}))}},{key:\"testWebsocketConnectivity\",value:(S=h((function*(){var e=this;if(pc(this._testCallInProgress,\"testWebsocketConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}return new Promise((function(t,n){e.sendMessageToCallMachine({action:\"test-websocket-connectivity\"},(function(e){e.error?n(e.error):t(e.results)}))}))})),function(){return S.apply(this,arguments)})},{key:\"abortTestWebsocketConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-websocket-connectivity\"})}},{key:\"_validateVideoTrackForNetworkTests\",value:function(e){return e?e instanceof MediaStreamTrack?!!Pa(e,{isLocalScreenVideo:!1})||(console.error(\"Video track is not playable. This test needs a live video track.\"),!1):(console.error(\"Video track needs to be of type `MediaStreamTrack`.\"),!1):(console.error(\"Missing video track. You must provide a video track in order to run this test.\"),!1)}},{key:\"testCallQuality\",value:(w=h((function*(){var t=this;gc(),fc(this._callObjectMode,\"testCallQuality()\"),hc(this._callMachineInitialized,\"testCallQuality()\",null,!0),dc(this._callState,this._isPreparingToJoin,\"testCallQuality()\");var n=this._testCallAlreadyInProgress,r=function(e){n||(t._testCallInProgress=e)};if(r(!0),this.needsLoad())try{var i=this._callState;yield this.load(),this._callState=i}catch(e){return r(!1),Promise.reject(e)}return new Promise((function(n){t.sendMessageToCallMachine({action:\"test-call-quality\",dailyJsVersion:t.properties.dailyJsVersion},(function(i){var o=i.results,s=o.result,a=e(o,Va);if(\"failed\"===s){var c,l=qa({},a);null!==(c=a.error)&&void 0!==c&&c.details?(a.error.details=JSON.parse(a.error.details),l.error=qa(qa({},l.error),{},{details:qa({},l.error.details)}),l.error.details.duringTest=\"testCallQuality\"):(l.error=l.error?qa({},l.error):{},l.error.details={duringTest:\"testCallQuality\"}),t._maybeSendToSentry(l)}r(!1),n(qa({result:s},a))}))}))})),function(){return w.apply(this,arguments)})},{key:\"stopTestCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-call-quality\"})}},{key:\"testConnectionQuality\",value:(_=h((function*(e){var t;ys()?(console.warn(\"testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead\"),t=yield this.testPeerToPeerCallQuality(e)):(console.warn(\"testConnectionQuality() is deprecated: use testCallQuality() instead\"),t=yield this.testCallQuality());var n={result:t.result,secondsElapsed:t.secondsElapsed};return t.data&&(n.data={maxRTT:t.data.maxRoundTripTime,packetLoss:t.data.avgRecvPacketLoss}),n})),function(e){return _.apply(this,arguments)})},{key:\"testPeerToPeerCallQuality\",value:(b=h((function*(e){var t=this;if(pc(this._testCallInProgress,\"testPeerToPeerCallQuality()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}var n=e.videoTrack,r=e.duration;if(!this._validateVideoTrackForNetworkTests(n))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForConnectionQualityTest=n,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-p2p-call-quality\",duration:r},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return b.apply(this,arguments)})},{key:\"stopTestConnectionQuality\",value:function(){ys()?(console.warn(\"stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead\"),this.stopTestPeerToPeerCallQuality()):(console.warn(\"stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead\"),this.stopTestCallQuality())}},{key:\"stopTestPeerToPeerCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-p2p-call-quality\"})}},{key:\"testNetworkConnectivity\",value:(y=h((function*(e){var t=this;if(pc(this._testCallInProgress,\"testNetworkConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}if(!this._validateVideoTrackForNetworkTests(e))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForNetworkConnectivityTest=e,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-network-connectivity\"},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return y.apply(this,arguments)})},{key:\"abortTestNetworkConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-network-connectivity\"})}},{key:\"getCpuLoadStats\",value:function(){var e=this;return new Promise((function(t){if(e._callState===bi){e.sendMessageToCallMachine({action:\"get-cpu-load-stats\"},(function(e){t(e.cpuStats)}))}else t({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:\"_validateEncodingLayerHasValidProperties\",value:function(e){var t;if(!((null===(t=Object.keys(e))||void 0===t?void 0:t.length)>0))throw new Error(\"Empty encoding is not allowed. At least one of these valid keys should be specified:\"+Object.values(ec))}},{key:\"_validateVideoSendSettings\",value:function(e,t){var r=\"screenVideo\"===e?[\"default-screen-video\",\"detail-optimized\",\"motion-optimized\",\"motion-and-detail-balanced\"]:[\"default-video\",\"bandwidth-optimized\",\"bandwidth-and-quality-balanced\",\"quality-optimized\",\"adaptive-2-layers\",\"adaptive-3-layers\"],i=\"Video send settings should be either an object or one of the supported presets: \".concat(r.join());if(\"string\"==typeof t){if(!r.includes(t))throw new Error(i)}else{if(\"object\"!==n(t))throw new Error(i);if(!t.maxQuality&&!t.encodings&&void 0===t.allowAdaptiveLayers)throw new Error(\"Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute\");if(t.maxQuality&&-1===[\"low\",\"medium\",\"high\"].indexOf(t.maxQuality))throw new Error(\"maxQuality must be either low, medium or high\");if(t.encodings){var o=!1;switch(Object.keys(t.encodings).length){case 1:o=!t.encodings.low;break;case 2:o=!t.encodings.low||!t.encodings.medium;break;case 3:o=!t.encodings.low||!t.encodings.medium||!t.encodings.high;break;default:o=!0}if(o)throw new Error(\"Encodings must be defined as: low, low and medium, or low, medium and high.\");t.encodings.low&&this._validateEncodingLayerHasValidProperties(t.encodings.low),t.encodings.medium&&this._validateEncodingLayerHasValidProperties(t.encodings.medium),t.encodings.high&&this._validateEncodingLayerHasValidProperties(t.encodings.high)}}}},{key:\"validateUpdateSendSettings\",value:function(e){var t=this;if(!e||0===Object.keys(e).length)throw new Error(\"Send settings must contain at least information for one track!\");Object.entries(e).forEach((function(e){var n=f(e,2),r=n[0],i=n[1];t._validateVideoSendSettings(r,i)}))}},{key:\"updateSendSettings\",value:function(e){var t=this;return this.validateUpdateSendSettings(e),this.needsLoad()?(this._preloadCache.sendSettings=e,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-send-settings\",sendSettings:e},(function(e){e.error?r(e.error):n(e.sendSettings)}))}))}},{key:\"getSendSettings\",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:\"getLocalAudioLevel\",value:function(){return this._localAudioLevel}},{key:\"getRemoteParticipantsAudioLevel\",value:function(){return this._remoteParticipantsAudioLevel}},{key:\"getActiveSpeaker\",value:function(){return gc(),this._activeSpeaker}},{key:\"setActiveSpeakerMode\",value:function(e){return gc(),this.sendMessageToCallMachine({action:\"set-active-speaker-mode\",enabled:e}),this}},{key:\"activeSpeakerMode\",value:function(){return gc(),this._activeSpeakerMode}},{key:\"subscribeToTracksAutomatically\",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:\"setSubscribeToTracksAutomatically\",value:function(e){return lc(this._callState,\"setSubscribeToTracksAutomatically()\",\"Use the subscribeToTracksAutomatically configuration property.\"),this._preloadCache.subscribeToTracksAutomatically=e,this.sendMessageToCallMachine({action:\"daily-method-subscribe-to-tracks-automatically\",enabled:e}),this}},{key:\"enumerateDevices\",value:(m=h((function*(){var e=this;if(this._callObjectMode){var t=yield navigator.mediaDevices.enumerateDevices();return\"Firefox\"===js()&&Is().major>115&&Is().major<123&&(t=t.filter((function(e){return\"audiooutput\"!==e.kind}))),{devices:t.map((function(e){var t=JSON.parse(JSON.stringify(e));if(!ys()&&\"videoinput\"===e.kind&&e.getCapabilities){var n,r=e.getCapabilities();t.facing=(null==r||null===(n=r.facingMode)||void 0===n?void 0:n.length)>=1?r.facingMode[0]:void 0}return t}))}}return new Promise((function(t){e.sendMessageToCallMachine({action:\"enumerate-devices\"},(function(e){t({devices:e.devices})}))}))})),function(){return m.apply(this,arguments)})},{key:\"sendAppMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";if(lc(this._callState,\"sendAppMessage()\"),JSON.stringify(e).length>this._maxAppMessageSize)throw new Error(\"Message data too large. Max size is \"+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:\"app-msg\",data:e,to:t}),this}},{key:\"addFakeParticipant\",value:function(e){return gc(),lc(this._callState,\"addFakeParticipant()\"),this.sendMessageToCallMachine(qa({action:\"add-fake-participant\"},e)),this}},{key:\"setShowNamesMode\",value:function(e){return vc(this._callObjectMode,\"setShowNamesMode()\"),gc(),e&&\"always\"!==e&&\"never\"!==e?(console.error('setShowNamesMode argument should be \"always\", \"never\", or false'),this):(this.sendMessageToCallMachine({action:\"set-show-names\",mode:e}),this)}},{key:\"setShowLocalVideo\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return vc(this._callObjectMode,\"setShowLocalVideo()\"),gc(),lc(this._callState,\"setShowLocalVideo()\"),\"boolean\"!=typeof e?(console.error(\"setShowLocalVideo only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-local-video\",show:e}),this._showLocalVideo=e,this)}},{key:\"showLocalVideo\",value:function(){return vc(this._callObjectMode,\"showLocalVideo()\"),gc(),this._showLocalVideo}},{key:\"setShowParticipantsBar\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return vc(this._callObjectMode,\"setShowParticipantsBar()\"),gc(),lc(this._callState,\"setShowParticipantsBar()\"),\"boolean\"!=typeof e?(console.error(\"setShowParticipantsBar only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-participants-bar\",show:e}),this._showParticipantsBar=e,this)}},{key:\"showParticipantsBar\",value:function(){return vc(this._callObjectMode,\"showParticipantsBar()\"),gc(),this._showParticipantsBar}},{key:\"customIntegrations\",value:function(){return gc(),vc(this._callObjectMode,\"customIntegrations()\"),this._customIntegrations}},{key:\"setCustomIntegrations\",value:function(e){return gc(),vc(this._callObjectMode,\"setCustomIntegrations()\"),lc(this._callState,\"setCustomIntegrations()\"),Pc(e)?(this.sendMessageToCallMachine({action:\"set-custom-integrations\",integrations:e}),this._customIntegrations=e,this):this}},{key:\"startCustomIntegrations\",value:function(e){var t=this;if(gc(),vc(this._callObjectMode,\"startCustomIntegrations()\"),lc(this._callState,\"startCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"startCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"start-custom-integrations\",ids:n}),this)}},{key:\"stopCustomIntegrations\",value:function(e){var t=this;if(gc(),vc(this._callObjectMode,\"stopCustomIntegrations()\"),lc(this._callState,\"stopCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"stopCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"stop-custom-integrations\",ids:n}),this)}},{key:\"customTrayButtons\",value:function(){return vc(this._callObjectMode,\"customTrayButtons()\"),gc(),this._customTrayButtons}},{key:\"updateCustomTrayButtons\",value:function(e){return vc(this._callObjectMode,\"updateCustomTrayButtons()\"),gc(),lc(this._callState,\"updateCustomTrayButtons()\"),Oc(e)?(this.sendMessageToCallMachine({action:\"update-custom-tray-buttons\",btns:e}),this._customTrayButtons=e,this):(console.error(\"updateCustomTrayButtons only accepts a dictionary of the type \".concat(JSON.stringify(rc))),this)}},{key:\"theme\",value:function(){return vc(this._callObjectMode,\"theme()\"),this.properties.theme}},{key:\"setTheme\",value:function(e){var t=this;return vc(this._callObjectMode,\"setTheme()\"),new Promise((function(n,r){try{t.validateProperties({theme:e}),t.properties.theme=qa({},e),t.sendMessageToCallMachine({action:\"set-theme\",theme:t.properties.theme});try{t.emitDailyJSEvent({action:eo,theme:t.properties.theme})}catch(e){console.log(\"could not emit 'theme-updated'\",e)}n(t.properties.theme)}catch(e){r(e)}}))}},{key:\"requestFullscreen\",value:(g=h((function*(){if(gc(),this._iframe&&!document.fullscreenElement&&ws())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(e){console.log(\"could not make video call fullscreen\",e)}})),function(){return g.apply(this,arguments)})},{key:\"exitFullscreen\",value:function(){gc(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:\"getSidebarView\",value:(v=h((function*(){var e=this;return this._callObjectMode?(console.error(\"getSidebarView is not available in callObject mode\"),Promise.resolve(null)):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-sidebar-view\"},(function(e){t(e.view)}))}))})),function(){return v.apply(this,arguments)})},{key:\"setSidebarView\",value:function(e){return this._callObjectMode?(console.error(\"setSidebarView is not available in callObject mode\"),this):(this.sendMessageToCallMachine({action:\"set-sidebar-view\",view:e}),this)}},{key:\"room\",value:(p=h((function*(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,n=void 0===t||t;return this._accessState.access===Oi||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(t){e.sendMessageToCallMachine({action:\"lib-room-info\",includeRoomConfigDefaults:n},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return p.apply(this,arguments)})},{key:\"geo\",value:(d=h((function*(){try{var e=yield fetch(\"https://gs.daily.co/_ks_/x-swsl/:\");return{current:(yield e.json()).geo}}catch(e){return console.error(\"geo lookup failed\",e),{current:\"\"}}})),function(){return d.apply(this,arguments)})},{key:\"setNetworkTopology\",value:(c=h((function*(e){var t=this;return gc(),lc(this._callState,\"setNetworkTopology()\"),new Promise((function(n,r){t.sendMessageToCallMachine({action:\"set-network-topology\",opts:e},(function(e){e.error?r({error:e.error}):n({workerId:e.workerId})}))}))})),function(e){return c.apply(this,arguments)})},{key:\"getNetworkTopology\",value:(i=h((function*(){var e=this;return new Promise((function(t,n){e.needsLoad()&&t({topology:\"none\"}),e.sendMessageToCallMachine({action:\"get-network-topology\"},(function(e){e.error?n({error:e.error}):t({topology:e.topology})}))}))})),function(){return i.apply(this,arguments)})},{key:\"setPlayNewParticipantSound\",value:function(e){if(gc(),\"number\"!=typeof e&&!0!==e&&!1!==e)throw new Error(\"argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is \".concat(e));this.sendMessageToCallMachine({action:\"daily-method-set-play-ding\",arg:e})}},{key:\"on\",value:function(e,t){return x.prototype.on.call(this,e,t)}},{key:\"once\",value:function(e,t){return x.prototype.once.call(this,e,t)}},{key:\"off\",value:function(e,t){return x.prototype.off.call(this,e,t)}},{key:\"validateProperties\",value:function(e){var t,n;if(null!=e&&null!==(t=e.dailyConfig)&&void 0!==t&&t.userMediaAudioConstraints){var r,i;ys()||console.warn(\"userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.\");var o=e.inputSettings||{};o.audio=(null===(r=e.inputSettings)||void 0===r?void 0:r.audio)||{},o.audio.settings=(null===(i=e.inputSettings)||void 0===i||null===(i=i.audio)||void 0===i?void 0:i.settings)||{},o.audio.settings=qa(qa({},o.audio.settings),e.dailyConfig.userMediaAudioConstraints),e.inputSettings=o,delete e.dailyConfig.userMediaAudioConstraints}if(null!=e&&null!==(n=e.dailyConfig)&&void 0!==n&&n.userMediaVideoConstraints){var s,a;ys()||console.warn(\"userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.\");var c=e.inputSettings||{};c.video=(null===(s=e.inputSettings)||void 0===s?void 0:s.video)||{},c.video.settings=(null===(a=e.inputSettings)||void 0===a||null===(a=a.video)||void 0===a?void 0:a.settings)||{},c.video.settings=qa(qa({},c.video.settings),e.dailyConfig.userMediaVideoConstraints),e.inputSettings=c,delete e.dailyConfig.userMediaVideoConstraints}for(var l in e){if(!oc[l])throw new Error(\"unrecognized property '\".concat(l,\"'\"));if(oc[l].validate&&!oc[l].validate(e[l],this))throw new Error(\"property '\".concat(l,\"': \").concat(oc[l].help))}}},{key:\"assembleMeetingUrl\",value:function(){var e,t,n=qa(qa({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!==(e=this.properties.dailyConfig)&&void 0!==e&&e.proxyUrl?encodeURIComponent(null===(t=this.properties.dailyConfig)||void 0===t?void 0:t.proxyUrl):void 0}),r=n.url.match(/\\?/)?\"&\":\"?\";return n.url+r+Object.keys(oc).filter((function(e){return oc[e].queryString&&void 0!==n[e]})).map((function(e){return\"\".concat(oc[e].queryString,\"=\").concat(n[e])})).join(\"&\")}},{key:\"needsLoad\",value:function(){return[vi,gi,_i,wi].includes(this._callState)}},{key:\"sendMessageToCallMachine\",value:function(e,t){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");this._messageChannel.sendMessageToCallMachine(e,t,this.callClientId,this._iframe)}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e){this._messageChannel.forwardPackagedMessageToCallMachine(e,this._iframe,this.callClientId)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(e,this.callClientId)}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(e)}},{key:\"handleMessageFromCallMachine\",value:function(t){switch(t.action){case Xi:this.sendMessageToCallMachine(qa({action:Zi},this.properties));break;case\"call-machine-initialized\":this._callMachineInitialized=!0;var n={action:cs,level:\"log\",code:1011,stats:{event:\"bundle load\",time:\"no-op\"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:\"no-op\"===this._bundleLoadTime,url:Z(this.properties.dailyConfig)}};this.sendMessageToCallMachine(n),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case ro:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(t);break;case ao:var r,i=qa({},t);delete i.internal,this._maxAppMessageSize=(null===(r=t.internal)||void 0===r?void 0:r._maxAppMessageSize)||rs,this._joinedCallback&&(this._joinedCallback(t.participants),this._joinedCallback=null),this.emitDailyJSEvent(i);break;case lo:case uo:if(this._callState===_i)return;if(t.participant&&t.participant.session_id){var o=t.participant.local?\"local\":t.participant.session_id;if(this._callObjectMode){var s=this._callMachine().store;pa(t.participant,s),fa(t.participant,s),ga(t.participant,this._participants[o],s)}try{this.maybeParticipantTracksStopped(this._participants[o],t.participant),this.maybeParticipantTracksStarted(this._participants[o],t.participant),this.maybeEventRecordingStopped(this._participants[o],t.participant),this.maybeEventRecordingStarted(this._participants[o],t.participant)}catch(e){console.error(\"track events error\",e)}this.compareEqualForParticipantUpdateEvent(t.participant,this._participants[o])||(this._participants[o]=qa({},t.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(t))}break;case ho:if(t.participant&&t.participant.session_id){var a=this._participants[t.participant.session_id];a&&this.maybeParticipantTracksStopped(a,null),delete this._participants[t.participant.session_id],this.emitDailyJSEvent(t)}break;case po:N(this._participantCounts,t.participantCounts)||(this._participantCounts=t.participantCounts,this.emitDailyJSEvent(t));break;case fo:var c={access:t.access};t.awaitingAccess&&(c.awaitingAccess=t.awaitingAccess),N(this._accessState,c)||(this._accessState=c,this.emitDailyJSEvent(t));break;case vo:if(t.meetingSession){this._meetingSessionSummary=t.meetingSession,this.emitDailyJSEvent(t);var l=qa(qa({},t),{},{action:\"meeting-session-updated\"});this.emitDailyJSEvent(l)}break;case ns:var u;this._iframe&&!t.preserveIframe&&(this._iframe.src=\"\"),this._updateCallState(wi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(t.errorMsg),this._loadedCallback=null),t.preserveIframe;var d=e(t,Ja);null!=d&&null!==(u=d.error)&&void 0!==u&&u.details&&(d.error.details=JSON.parse(d.error.details)),this._maybeSendToSentry(t),this._joinedCallback&&(this._joinedCallback(null,d),this._joinedCallback=null),this.emitDailyJSEvent(d);break;case co:this._callState!==wi&&this._updateCallState(_i),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(t);break;case\"selected-devices-updated\":t.devices&&this.emitDailyJSEvent(t);break;case Jo:var h=t.state,p=t.threshold,f=t.quality,v=h.state,g=h.reasons;v===this._network.networkState&&N(g,this._network.networkStateReasons)&&p===this._network.threshold&&f===this._network.quality||(this._network.networkState=v,this._network.networkStateReasons=g,this._network.quality=f,this._network.threshold=p,t.networkState=v,g.length&&(t.networkStateReasons=g),delete t.state,this.emitDailyJSEvent(t));break;case qo:t&&t.cpuLoadState&&this.emitDailyJSEvent(t);break;case zo:t&&void 0!==t.faceCounts&&this.emitDailyJSEvent(t);break;case Uo:var m=t.activeSpeaker;this._activeSpeaker.peerId!==m.peerId&&(this._activeSpeaker.peerId=m.peerId,this.emitDailyJSEvent({action:t.action,activeSpeaker:this._activeSpeaker}));break;case\"show-local-video-changed\":if(this._callObjectMode)return;var y=t.show;this._showLocalVideo=y,this.emitDailyJSEvent({action:t.action,show:y});break;case Vo:var b=t.enabled;this._activeSpeakerMode!==b&&(this._activeSpeakerMode=b,this.emitDailyJSEvent({action:t.action,enabled:this._activeSpeakerMode}));break;case yo:case bo:case _o:this._waitingParticipants=t.allWaitingParticipants,this.emitDailyJSEvent({action:t.action,participant:t.participant});break;case Zo:N(this._receiveSettings,t.receiveSettings)||(this._receiveSettings=t.receiveSettings,this.emitDailyJSEvent({action:t.action,receiveSettings:t.receiveSettings}));break;case es:this._maybeUpdateInputSettings(t.inputSettings);break;case\"send-settings-updated\":N(this._sendSettings,t.sendSettings)||(this._sendSettings=t.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:t.action,sendSettings:t.sendSettings}));break;case\"local-audio-level\":this._localAudioLevel=t.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case\"remote-participants-audio-level\":this._remoteParticipantsAudioLevel=t.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case Lo:var _=t.session_id;this._rmpPlayerState[_]=t.playerState,this.emitDailyJSEvent(t);break;case No:delete this._rmpPlayerState[t.session_id],this.emitDailyJSEvent(t);break;case Do:var w=t.session_id,S=this._rmpPlayerState[w];S&&this.compareEqualForRMPUpdateEvent(S,t.remoteMediaPlayerState)||(this._rmpPlayerState[w]=t.remoteMediaPlayerState,this.emitDailyJSEvent(t));break;case\"custom-button-click\":case\"sidebar-view-changed\":this.emitDailyJSEvent(t);break;case go:var k=this._meetingSessionState.topology!==(t.meetingSessionState&&t.meetingSessionState.topology);this._meetingSessionState=Lc(t.meetingSessionState,this._callObjectMode),(this._callObjectMode||k)&&this.emitDailyJSEvent(t);break;case Ro:this._isScreenSharing=!0,this.emitDailyJSEvent(t);break;case Fo:case Bo:this._isScreenSharing=!1,this.emitDailyJSEvent(t);break;case Eo:case To:case Oo:case Po:case Ao:case ko:case Mo:case Co:case io:case oo:case Io:case xo:case\"test-completed\":case $o:case jo:case Go:case Qo:case Ko:case Yo:case ts:case Xo:case\"dialin-ready\":case\"dialin-connected\":case\"dialin-error\":case\"dialin-stopped\":case\"dialin-warning\":case\"dialout-connected\":case\"dialout-answered\":case\"dialout-error\":case\"dialout-stopped\":case\"dialout-warning\":this.emitDailyJSEvent(t);break;case\"request-fullscreen\":this.requestFullscreen();break;case\"request-exit-fullscreen\":this.exitFullscreen()}}},{key:\"maybeEventRecordingStopped\",value:function(e,t){var n=\"record\";e&&(t.local||!1!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:To}))}},{key:\"maybeEventRecordingStarted\",value:function(e,t){var n=\"record\";e&&(t.local||!0!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:Eo}))}},{key:\"_trackStatePlayable\",value:function(e){return!(!e||e.state!==Ti)}},{key:\"_trackChanged\",value:function(e,t){return!((null==e?void 0:e.id)===(null==t?void 0:t.id))}},{key:\"maybeEventTrackStopped\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==o?void 0:o.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(a,null==s?void 0:s.track);c&&(l&&!u||this.emitDailyJSEvent({action:So,track:a,participant:null!=n?n:t,type:e}))}}},{key:\"maybeEventTrackStarted\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==s?void 0:s.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(null==o?void 0:o.track,a);l&&(c&&!u||this.emitDailyJSEvent({action:wo,track:a,participant:n,type:e}))}}},{key:\"maybeParticipantTracksStopped\",value:function(e,t){if(e)for(var n in e.tracks)this.maybeEventTrackStopped(n,e,t)}},{key:\"maybeParticipantTracksStarted\",value:function(e,t){if(t)for(var n in t.tracks)this.maybeEventTrackStarted(n,e,t)}},{key:\"compareEqualForRMPUpdateEvent\",value:function(e,t){var n,r;return e.state===t.state&&(null===(n=e.settings)||void 0===n?void 0:n.volume)===(null===(r=t.settings)||void 0===r?void 0:r.volume)}},{key:\"emitDailyJSEvent\",value:function(e){try{e.callClientId=this.callClientId,this.emit(e.action,e)}catch(t){console.log(\"could not emit\",e,t)}}},{key:\"compareEqualForParticipantUpdateEvent\",value:function(e,t){return!!N(e,t)&&((!e.videoTrack||!t.videoTrack||e.videoTrack.id===t.videoTrack.id&&e.videoTrack.muted===t.videoTrack.muted&&e.videoTrack.enabled===t.videoTrack.enabled)&&(!e.audioTrack||!t.audioTrack||e.audioTrack.id===t.audioTrack.id&&e.audioTrack.muted===t.audioTrack.muted&&e.audioTrack.enabled===t.audioTrack.enabled))}},{key:\"nativeUtils\",value:function(){return ys()?\"undefined\"==typeof DailyNativeUtils?(console.warn(\"in React Native, DailyNativeUtils is expected to be available\"),null):DailyNativeUtils:null}},{key:\"updateIsPreparingToJoin\",value:function(e){this._updateCallState(this._callState,e)}},{key:\"_updateCallState\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(e!==this._callState||t!==this._isPreparingToJoin){var n=this._callState,r=this._isPreparingToJoin;this._callState=e,this._isPreparingToJoin=t;var i=this._callState===bi;this.updateShowAndroidOngoingMeetingNotification(i);var o=uc(n,r),s=uc(this._callState,this._isPreparingToJoin);o!==s&&(this.updateKeepDeviceAwake(s),this.updateDeviceAudioMode(s),this.updateNoOpRecordingEnsuringBackgroundContinuity(s))}}},{key:\"resetMeetingDependentVars\",value:function(){this._participants={},this._participantCounts=Xa,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Oi},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Lc(Ya,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=rs,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:\"updateKeepDeviceAwake\",value:function(e){ys()&&this.nativeUtils().setKeepDeviceAwake(e,this.callClientId)}},{key:\"updateDeviceAudioMode\",value:function(e){if(ys()&&!this.disableReactNativeAutoDeviceManagement(\"audio\")){var t=e?this._nativeInCallAudioMode:\"idle\";this.nativeUtils().setAudioMode(t)}}},{key:\"updateShowAndroidOngoingMeetingNotification\",value:function(e){if(ys()&&this.nativeUtils().setShowOngoingMeetingNotification){var t,n,r,i;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var o=this.properties.reactNativeConfig.androidInCallNotification;t=o.title,n=o.subtitle,r=o.iconName,i=o.disableForCustomOverride}i&&(e=!1),this.nativeUtils().setShowOngoingMeetingNotification(e,t,n,r,this.callClientId)}}},{key:\"updateNoOpRecordingEnsuringBackgroundContinuity\",value:function(e){ys()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(e)}},{key:\"toggleParticipantAudioBasedOnNativeAudioFocus\",value:function(){var e;if(ys()){var t=null===(e=this._callMachine())||void 0===e||null===(e=e.store)||void 0===e?void 0:e.getState();for(var n in null==t?void 0:t.streams){var r=t.streams[n];r&&r.pendingTrack&&\"audio\"===r.pendingTrack.kind&&(r.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:\"disableReactNativeAutoDeviceManagement\",value:function(e){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[e]}},{key:\"absoluteUrl\",value:function(e){if(void 0!==e){var t=document.createElement(\"a\");return t.href=e,t.href}}},{key:\"sayHello\",value:function(){var e=\"hello, world.\";return console.log(e),e}},{key:\"_logUseAfterDestroy\",value:function(){var e=Object.values(Ga)[0];if(this.needsLoad()){if(e&&!e.needsLoad()){var t={action:cs,level:\"error\",code:this.strictMode?9995:9997};e.sendMessageToCallMachine(t)}else if(!this.strictMode){console.error(\"You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.\")}}else{var n={action:cs,level:\"error\",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(n,null,this.callClientId,this._iframe)}}},{key:\"_logDuplicateInstanceAttempt\",value:function(){for(var e=0,t=Object.values(Ga);e<t.length;e++){var n=t[e];n._callMachineInitialized?(n.sendMessageToCallMachine({action:cs,level:\"warn\",code:this.allowMultipleCallInstances?9993:9992}),n._delayDuplicateInstanceLog=!1):n._delayDuplicateInstanceLog=!0}}},{key:\"_maybeSendToSentry\",value:function(e){var t,n,i,o;if(null!==(t=e.error)&&void 0!==t&&t.type){if(![$i,Vi,Bi].includes(e.error.type))return;if(e.error.type===Bi&&e.error.msg.includes(\"deleted\"))return}var s=null!==(n=this.properties)&&void 0!==n&&n.url?new URL(this.properties.url):void 0,a=\"production\";s&&s.host.includes(\".staging.daily\")&&(a=\"staging\");var c,l,u,d,h,p=function(e){const t=[Gn(),Wn(),ii(),ni(),ui(),fi(),rr(),pi()];return!1!==e.autoSessionTracking&&t.push(li()),t}({}).filter((function(e){return![\"BrowserApiErrors\",\"Breadcrumbs\",\"GlobalHandlers\"].includes(e.name)})),f=new jr({dsn:\"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844\",transport:Wr,stackParser:Zr,integrations:p,environment:a}),v=new Mt;if(v.setClient(f),f.init(),this.session_id&&v.setExtra(\"sessionId\",this.session_id),this.properties){var g=qa({},this.properties);g.userName=g.userName?\"[Filtered]\":void 0,g.userData=g.userData?\"[Filtered]\":void 0,g.token=g.token?\"[Filtered]\":void 0,v.setExtra(\"properties\",g)}if(s){var m=s.searchParams.get(\"domain\");if(!m){var y=s.host.match(/(.*?)\\./);m=y&&y[1]||\"\"}m&&v.setTag(\"domain\",m)}e.error&&(v.setTag(\"fatalErrorType\",e.error.type),v.setExtra(\"errorDetails\",e.error.details),(null===(c=e.error.details)||void 0===c?void 0:c.uri)&&v.setTag(\"serverAddress\",e.error.details.uri),(null===(l=e.error.details)||void 0===l?void 0:l.workerGroup)&&v.setTag(\"workerGroup\",e.error.details.workerGroup),(null===(u=e.error.details)||void 0===u?void 0:u.geoGroup)&&v.setTag(\"geoGroup\",e.error.details.geoGroup),(null===(d=e.error.details)||void 0===d?void 0:d.on)&&v.setTag(\"connectionAttempt\",e.error.details.on),null!==(h=e.error.details)&&void 0!==h&&h.bundleUrl&&(v.setTag(\"bundleUrl\",e.error.details.bundleUrl),v.setTag(\"bundleError\",e.error.details.sourceError.type)));v.setTags({callMode:this._callObjectMode?ys()?\"reactNative\":null!==(i=this.properties)&&void 0!==i&&null!==(i=i.dailyConfig)&&void 0!==i&&null!==(i=i.callMode)&&void 0!==i&&i.includes(\"prebuilt\")?this.properties.dailyConfig.callMode:\"custom\":\"prebuilt-frame\",version:r.version()});var b=(null===(o=e.error)||void 0===o?void 0:o.msg)||e.errorMsg;v.captureException(new Error(b))}},{key:\"_callMachine\",value:function(){var e;return null===(e=window._daily)||void 0===e||null===(e=e.instances)||void 0===e||null===(e=e[this.callClientId])||void 0===e?void 0:e.callMachine}},{key:\"_maybeUpdateInputSettings\",value:function(e){if(!N(this._inputSettings,e)){var t=this._getInputSettings();this._inputSettings=e;var n=this._getInputSettings();N(t,n)||this.emitDailyJSEvent({action:es,inputSettings:n})}}}],[{key:\"supportedBrowser\",value:function(){if(ys())return{supported:!0,mobile:!0,name:\"React Native\",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var e=Q.getParser(ms());return{supported:!!Os(),mobile:\"mobile\"===e.getPlatformType(),name:e.getBrowserName(),version:e.getBrowserVersion(),supportsFullscreen:!!ws(),supportsScreenShare:!!_s(),supportsSfu:!!Os(),supportsVideoProcessing:Es(),supportsAudioProcessing:Ts()}}},{key:\"version\",value:function(){return\"0.79.0\"}},{key:\"createCallObject\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layout=\"none\",new r(null,e)}},{key:\"wrap\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gc(),!e||!e.contentWindow||\"string\"!=typeof e.src)throw new Error(\"DailyIframe::Wrap needs an iframe-like first argument\");return t.layout||(t.customLayout?t.layout=\"custom-v1\":t.layout=\"browser\"),new r(e,t)}},{key:\"createFrame\",value:function(e,t){var n,i;gc(),e&&t?(n=e,i=t):e&&e.append?(n=e,i={}):(n=document.body,i=e||{});var o=i.iframeStyle;o||(o=n===document.body?{position:\"fixed\",border:\"1px solid black\",backgroundColor:\"white\",width:\"375px\",height:\"450px\",right:\"1em\",bottom:\"1em\"}:{border:0,width:\"100%\",height:\"100%\"});var s=document.createElement(\"iframe\");window.navigator&&window.navigator.userAgent.match(/Chrome\\/61\\./)?s.allow=\"microphone, camera\":s.allow=\"microphone; camera; autoplay; display-capture; screen-wake-lock\",s.style.visibility=\"hidden\",n.appendChild(s),s.style.visibility=null,Object.keys(o).forEach((function(e){return s.style[e]=o[e]})),i.layout||(i.customLayout?i.layout=\"custom-v1\":i.layout=\"browser\");try{return new r(s,i)}catch(e){throw n.removeChild(s),e}}},{key:\"createTransparentFrame\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gc();var t=document.createElement(\"iframe\");return t.allow=\"microphone; camera; autoplay\",t.style.cssText=\"\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      border: 0;\\n      pointer-events: none;\\n    \",document.body.appendChild(t),e.layout||(e.layout=\"custom-v1\"),r.wrap(t,e)}},{key:\"getCallInstance\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?Ga[e]:Object.values(Ga)[0]}}]);var i,c,d,p,v,g,m,y,b,_,w,S,k,M,C,E,T,O,P,A,j,I,L,D,R,F,B,U,V,J,$,q,z,W,H,G,Y,ee}();function cc(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn(\"MediaStreamTrack found in props or cache.\",r),n[r]=ls;else if(\"dailyConfig\"===r){if(e[r].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var o=window._daily.instances[t].customCallbacks||{};o.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=o,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function lc(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==bi){var n=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" only supported after join.\");throw t&&(n+=\" \".concat(t)),console.error(n),new Error(n)}}function uc(e,t){return[yi,bi].includes(e)||t}function dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"This daily-js method\",r=arguments.length>3?arguments[3]:void 0;if(uc(e,t)){var i=\"\".concat(n,\" not supported after joining a meeting.\");throw r&&(i+=\" \".concat(r)),console.error(i),new Error(i)}}function hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",n=arguments.length>2?arguments[2]:void 0;if(!e){var r=\"\".concat(t,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?\" requires preAuth() or startCamera() to initialize call state.\":\" requires preAuth(), startCamera(), or join() to initialize call state.\");throw n&&(r+=\" \".concat(n)),console.error(r),new Error(r)}}function pc(e){if(e){var t=\"A pre-call quality test is in progress. Please try \".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" again once testing has completed. Use stopTestCallQuality() to end it early.\");throw console.error(t),new Error(t)}}function fc(e){if(!e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported on custom callObject instances\");throw console.error(t),new Error(t)}}function vc(e){if(e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported as part of Daily's Prebuilt\");throw console.error(t),new Error(t)}}function gc(){if(ys())throw new Error(\"This daily-js method is not currently supported in React Native\")}function mc(){if(!ys())throw new Error(\"This daily-js method is only supported in React Native\")}function yc(e){if(void 0===e)return!0;var t;if(\"string\"==typeof e)t=e;else try{t=JSON.stringify(e),N(JSON.parse(t),e)||console.warn(\"The userData provided will be modified when serialized.\")}catch(e){throw Error(\"userData must be serializable to JSON: \".concat(e))}if(t.length>4096)throw Error(\"userData is too large (\".concat(t.length,\" characters). Maximum size suppported is \").concat(4096,\".\"));return!0}function bc(e,t){for(var n=t.allowAllParticipantsKey,r=function(e){var t=[\"local\"];return n||t.push(\"*\"),e&&!t.includes(e)},i=function(e){return!!(void 0===e.layer||Number.isInteger(e.layer)&&e.layer>=0||\"inherit\"===e.layer)},o=function(e){return!!e&&(!(e.video&&!i(e.video))&&!(e.screenVideo&&!i(e.screenVideo)))},s=0,a=Object.entries(e);s<a.length;s++){var c=f(a[s],2),l=c[0],u=c[1];if(!r(l)||!o(u))return!1}return!0}function _c(e){if(\"object\"!==n(e))return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var i=f(r[t],2),o=i[0],s=i[1];switch(o){case\"video\":if(\"object\"!==n(s))return!1;for(var a=0,c=Object.entries(s);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"processor\":if(!kc(d))return!1;break;case\"settings\":if(!Mc(d))return!1;break;default:return!1}}break;case\"audio\":if(\"object\"!==n(s))return!1;for(var h=0,p=Object.entries(s);h<p.length;h++){var v=f(p[h],2),g=v[0],m=v[1];switch(g){case\"processor\":if(!Sc(m))return!1;break;case\"settings\":if(!Mc(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function wc(e,t,n){var r,i=[];e.video&&e.video.processor&&(Es(null!==(r=null==t?void 0:t.useLegacyVideoProcessor)&&void 0!==r&&r)||(e.video.settings?delete e.video.processor:delete e.video,i.push(\"video\")));e.audio&&e.audio.processor&&(Ts()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push(\"audio\"))),i.length>0&&console.error(\"Ignoring settings for browser- or platform-unsupported input processor(s): \".concat(i.join(\", \"))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:ls}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:ls}):delete n.videoTrack)}function Sc(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\"];return!!e&&(\"object\"===n(e)&&(Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> audio -> processor : \".concat(t)),delete e[t]})),!!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(ds).includes(e))return console.error(\"inputSettings audio processor type invalid\"),!1;return!0}(e.type)))}function kc(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\",\"config\"];if(!e)return!1;if(\"object\"!==n(e))return!1;if(!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(us).includes(e))return console.error(\"inputSettings video processor type invalid\"),!1;return!0}(e.type))return!1;if(e.config){if(\"object\"!==n(e.config))return!1;if(!function(e,t){var n=Object.keys(t);if(0===n.length)return!0;var r=\"invalid object in inputSettings -> video -> processor -> config\";switch(e){case us.BGBLUR:return n.length>1||\"strength\"!==n[0]?(console.error(r),!1):!(\"number\"!=typeof t.strength||t.strength<=0||t.strength>1||isNaN(t.strength))||(console.error(\"\".concat(r,\"; expected: {0 < strength <= 1}, got: \").concat(t.strength)),!1);case us.BGIMAGE:return!(void 0!==t.source&&!function(e){if(\"default\"===e.source)return e.type=\"default\",!0;if(e.source instanceof ArrayBuffer)return!0;if(ee(e.source))return e.type=\"url\",!!function(e){var t=new URL(e),n=t.pathname;if(\"data:\"===t.protocol)try{var r=n.substring(n.indexOf(\":\")+1,n.indexOf(\";\")).split(\"/\")[1];return ps.includes(r)}catch(e){return console.error(\"failed to deduce blob content type\",e),!1}var i=n.split(\".\").at(-1).toLowerCase().trim();return ps.includes(i)}(e.source)||(console.error(\"invalid image type; supported types: [\".concat(ps.join(\", \"),\"]\")),!1);return t=e.source,n=Number(t),isNaN(n)||!Number.isInteger(n)||n<=0||n>10?(console.error(\"invalid image selection; must be an int, > 0, <= \".concat(10)),!1):(e.type=\"daily-preselect\",!0);var t,n}(t));default:return!0}}(e.type,e.config))return!1}return Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> video -> processor : \".concat(t)),delete e[t]})),!0}function Mc(e){return\"object\"===n(e)&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Cc(){var e=Object.values(us).join(\" | \"),t=Object.values(ds).join(\" | \");return\"inputSettings must be of the form: { video?: { processor?: { type: [ \".concat(e,\" ], config?: {} } }, audio?: { processor: {type: [ \").concat(t,\" ] } } }\")}function Ec(e){var t=e.allowAllParticipantsKey;return\"receiveSettings must be of the form { [<remote participant id> | \".concat(Ii).concat(t?' | \"'.concat(\"*\",'\"'):\"\",\"]: \")+'{ [video: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]], [screenVideo: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]] }}}'}function Tc(){return\"customIntegrations should be an object of type \".concat(JSON.stringify(ic),\".\")}function Oc(e){if(e&&\"object\"!==n(e)||Array.isArray(e))return console.error(\"customTrayButtons should be an Object of the type \".concat(JSON.stringify(rc),\".\")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var i=f(r[t],1)[0],o=0,s=Object.entries(e[i]);o<s.length;o++){var a=f(s[o],2),c=a[0],l=a[1],u=rc.id[c];if(!u)return console.error(\"customTrayButton does not support key \".concat(c)),!1;switch(c){case\"iconPath\":case\"iconPathDarkMode\":if(!ee(l))return console.error(\"customTrayButton \".concat(c,\" should be a url.\")),!1;break;case\"visualState\":if(![\"default\",\"sidebar-open\",\"active\"].includes(l))return console.error(\"customTrayButton \".concat(c,\" should be \").concat(u,\". Got: \").concat(l)),!1;break;default:if(n(l)!==u)return console.error(\"customTrayButton \".concat(c,\" should be a \").concat(u,\".\")),!1}}return!0}function Pc(e){if(!e||e&&\"object\"!==n(e)||Array.isArray(e))return console.error(Tc()),!1;for(var t=function(e){return\"\".concat(e,\" should be \").concat(ic.id[e])},r=function(e,t){return console.error(\"customIntegration \".concat(e,\": \").concat(t))},i=0,o=Object.entries(e);i<o.length;i++){var s=f(o[i],1)[0];if(!(\"label\"in e[s]))return r(s,\"label is required\"),!1;if(!(\"location\"in e[s]))return r(s,\"location is required\"),!1;if(!(\"src\"in e[s])&&!(\"srcdoc\"in e[s]))return r(s,\"src or srcdoc is required\"),!1;for(var a=0,c=Object.entries(e[s]);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"allow\":case\"csp\":case\"name\":case\"referrerPolicy\":case\"sandbox\":if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"iconURL\":if(!ee(d))return r(s,\"\".concat(u,\" should be a url\")),!1;break;case\"src\":if(\"srcdoc\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(!ee(d))return r(s,'src \"'.concat(d,'\" is not a valid URL')),!1;break;case\"srcdoc\":if(\"src\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"location\":if(![\"main\",\"sidebar\"].includes(d))return r(s,t(u)),!1;break;case\"controlledBy\":if(\"*\"!==d&&\"owners\"!==d&&(!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e}))))return r(s,t(u)),!1;break;case\"shared\":if((!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e})))&&\"owners\"!==d&&\"boolean\"!=typeof d)return r(s,t(u)),!1;break;default:if(!ic.id[u])return console.error(\"customIntegration does not support key \".concat(u)),!1}}}return!0}function Ac(e,t){if(void 0===t)return!1;switch(n(t)){case\"string\":return n(e)===t;case\"object\":if(\"object\"!==n(e))return!1;for(var r in e)if(!Ac(e[r],t[r]))return!1;return!0;default:return!1}}function jc(e,t){var n=e.sessionId,r=e.toEndPoint,i=e.callerId,o=e.useSipRefer;if(!n||!r)throw new Error(\"\".concat(t,\"() requires a sessionId and toEndPoint\"));if(\"string\"!=typeof n||\"string\"!=typeof r)throw new Error(\"Invalid paramater: sessionId and toEndPoint must be of type string\");if(o&&!r.startsWith(\"sip:\"))throw new Error('\"toEndPoint\" must be a \"sip\" address');if(!r.startsWith(\"sip:\")&&!r.startsWith(\"+\"))throw new Error(\"toEndPoint: \".concat(r,' must starts with either \"sip:\" or \"+\"'));if(i&&\"string\"!=typeof i)throw new Error(\"callerId must be of type string\");if(i&&!r.startsWith(\"+\"))throw new Error(\"callerId is only valid when transferring to a PSTN number\")}function Ic(e){if(\"object\"!==n(e))throw new Error('RemoteMediaPlayerSettings: must be \"object\" type');if(e.state&&!Object.values(hs).includes(e.state))throw new Error(\"Invalid value for RemoteMediaPlayerSettings.state, valid values are: \"+JSON.stringify(hs));if(e.volume){if(\"number\"!=typeof e.volume)throw new Error('RemoteMediaPlayerSettings.volume: must be \"number\" type');if(e.volume<0||e.volume>2)throw new Error(\"RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0\")}}function xc(e,t,n){return!(\"number\"!=typeof e||e<t||e>n)}function Lc(e,t){return e&&!t&&delete e.data,e}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZGFpbHktY28vZGFpbHktanMvZGlzdC9kYWlseS1lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQixvQkFBb0Isd0JBQXdCLG9CQUFvQixTQUFTLG9CQUFvQiwyQkFBMkIsOEJBQThCLFVBQVUsU0FBUyxNQUFNLGlDQUFpQyxzQ0FBc0MsUUFBUSxXQUFXLGdDQUFnQyw2Q0FBNkMsU0FBUyxnQkFBZ0IsOEVBQThFLGNBQWMsaUZBQWlGLGdCQUFnQixhQUFhLG9HQUFvRyxNQUFNLGNBQWMsb0JBQW9CLCtCQUErQiw0QkFBNEIsZUFBZSw2QkFBNkIsMkJBQTJCLG9FQUFvRSxzQ0FBc0MsYUFBYSw0QkFBNEIsZ0JBQWdCLFlBQVksV0FBVyxLQUFLLFdBQVcsa0hBQWtILGtCQUFrQiwwRUFBMEUsWUFBWSxJQUFJLGdCQUFnQixzREFBc0QsOEZBQThGLG1CQUFtQixvR0FBb0csU0FBUyxJQUFJLGNBQWMsd0VBQXdFLDZDQUE2QyxNQUFNLGdCQUFnQiwwRUFBMEUsdUJBQXVCLFFBQVEsZ0JBQWdCLDRHQUE0RywwQ0FBMEMsYUFBYSxxQ0FBcUMsdUNBQXVDLFlBQVksWUFBWSxrQkFBa0IsOENBQThDLGtEQUFrRCxXQUFXLDBCQUEwQixJQUFJLHdCQUF3QixTQUFTLGlCQUFpQix5Q0FBeUMsY0FBYyxrQkFBa0IsdUJBQXVCLGtDQUFrQyxtQkFBbUIsY0FBYyxzQkFBc0IsY0FBYyx1QkFBdUIsVUFBVSxJQUFJLGdCQUFnQixvQ0FBb0MsdUJBQXVCLElBQUksY0FBYyxTQUFTLGdCQUFnQixtQkFBbUIsNkJBQTZCLG1CQUFtQixtRkFBbUYsWUFBWSwyQkFBMkIsSUFBSSwrQkFBK0Isd0JBQXdCLEtBQUssVUFBVSx3REFBd0QsT0FBTyxT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LHdCQUF3QixNQUFNLHdEQUF3RCx5QkFBeUIsMkRBQTJELE1BQU0sb0dBQW9HLFNBQVMsaUJBQWlCLHVCQUF1QixhQUFhLDZCQUE2Qix5Q0FBeUMsMENBQTBDLFNBQVMsa0JBQWtCLGlCQUFpQiw4REFBOEQsaUZBQWlGLGdJQUFnSSxvRkFBb0YsZ0lBQWdJLDRFQUE0RSxzR0FBc0csZUFBZSx1RkFBdUYsNkpBQTZKLGFBQWEsd0dBQXdHLDBHQUEwRyxtQkFBbUIsc0NBQXNDLGlCQUFpQiw4QkFBNDFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AZGFpbHktY28vZGFpbHktanMvZGlzdC9kYWlseS1lc20uanM/ZjZhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixyLGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKWlmKHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSxyKSl7aWYoLTEhPT10LmluZGV4T2YocikpY29udGludWU7bltyXT1lW3JdfXJldHVybiBufShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sLTE9PT10LmluZGV4T2YobikmJnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxuKSYmKGlbbl09ZVtuXSl9cmV0dXJuIGl9ZnVuY3Rpb24gdChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxuKGUpfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT1uKGUpfHwhZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIGk9ci5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPW4oaSkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1uKHQpP3Q6dCtcIlwifWZ1bmN0aW9uIGkoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscihpLmtleSksaSl9fWZ1bmN0aW9uIG8oZSx0LG4pe3JldHVybiB0JiZpKGUucHJvdG90eXBlLHQpLG4mJmkoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gcyhlLHQpe2lmKHQmJihcIm9iamVjdFwiPT1uKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSlyZXR1cm4gdDtpZih2b2lkIDAhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9KGUpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9LGEoZSl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sYyhlLHQpfWZ1bmN0aW9uIGwoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdCYmYyhlLHQpfWZ1bmN0aW9uIHUoZSx0LG4pe3JldHVybih0PXIodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gZChlLHQsbixyLGksbyxzKXt0cnl7dmFyIGE9ZVtvXShzKSxjPWEudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1hLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLGkpfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIG89ZS5hcHBseSh0LG4pO2Z1bmN0aW9uIHMoZSl7ZChvLHIsaSxzLGEsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gYShlKXtkKG8scixpLHMsYSxcInRocm93XCIsZSl9cyh2b2lkIDApfSkpfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLGksbyxzLGE9W10sYz0hMCxsPSExO3RyeXtpZihvPShuPW4uY2FsbChlKSkubmV4dCwwPT09dCl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47Yz0hMX1lbHNlIGZvcig7IShjPShyPW8uY2FsbChuKSkuZG9uZSkmJihhLnB1c2goci52YWx1ZSksYS5sZW5ndGghPT10KTtjPSEwKTt9Y2F0Y2goZSl7bD0hMCxpPWV9ZmluYWxseXt0cnl7aWYoIWMmJm51bGwhPW4ucmV0dXJuJiYocz1uLnJldHVybigpLE9iamVjdChzKSE9PXMpKXJldHVybn1maW5hbGx5e2lmKGwpdGhyb3cgaX19cmV0dXJuIGF9fShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/cChlLHQpOnZvaWQgMH19KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiB2KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgZyxtPXtleHBvcnRzOnt9fSx5PVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxiPXkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHkuYXBwbHk/eS5hcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxuKX07Zz15JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB5Lm93bktleXM/eS5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgXz1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiB3KCl7dy5pbml0LmNhbGwodGhpcyl9bS5leHBvcnRzPXcsbS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaShuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbykscihuKX1mdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaSksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWooZSx0LG8se29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmaihlLFwiZXJyb3JcIix0LG4pfShlLGkse29uY2U6ITB9KX0pKX0sdy5FdmVudEVtaXR0ZXI9dyx3LnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCx3LnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCx3LnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgUz0xMDtmdW5jdGlvbiBrKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP3cuZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gQyhlLHQsbixyKXt2YXIgaSxvLHMsYTtpZihrKG4pLHZvaWQgMD09PShvPWUuX2V2ZW50cyk/KG89ZS5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksZS5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PW8ubmV3TGlzdGVuZXImJihlLmVtaXQoXCJuZXdMaXN0ZW5lclwiLHQsbi5saXN0ZW5lcj9uLmxpc3RlbmVyOm4pLG89ZS5fZXZlbnRzKSxzPW9bdF0pLHZvaWQgMD09PXMpcz1vW3RdPW4sKytlLl9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHM/cz1vW3RdPXI/W24sc106W3Msbl06cj9zLnVuc2hpZnQobik6cy5wdXNoKG4pLChpPU0oZSkpPjAmJnMubGVuZ3RoPmkmJiFzLndhcm5lZCl7cy53YXJuZWQ9ITA7dmFyIGM9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitzLmxlbmd0aCtcIiBcIitTdHJpbmcodCkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtjLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixjLmVtaXR0ZXI9ZSxjLnR5cGU9dCxjLmNvdW50PXMubGVuZ3RoLGE9Yyxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihhKX1yZXR1cm4gZX1mdW5jdGlvbiBFKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBUKGUsdCxuKXt2YXIgcj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6bn0saT1FLmJpbmQocik7cmV0dXJuIGkubGlzdGVuZXI9bixyLndyYXBGbj1pLGl9ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHI9ZS5fZXZlbnRzO2lmKHZvaWQgMD09PXIpcmV0dXJuW107dmFyIGk9clt0XTtyZXR1cm4gdm9pZCAwPT09aT9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP24/W2kubGlzdGVuZXJ8fGldOltpXTpuP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MDtuPHQubGVuZ3RoOysrbil0W25dPWVbbl0ubGlzdGVuZXJ8fGVbbl07cmV0dXJuIHR9KGkpOkEoaSxpLmxlbmd0aCl9ZnVuY3Rpb24gUChlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09dCl7dmFyIG49dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiAxO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIEEoZSx0KXtmb3IodmFyIG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7KytyKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBqKGUsdCxuLHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24pci5vbmNlP2Uub25jZSh0LG4pOmUub24odCxuKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtlLmFkZEV2ZW50TGlzdGVuZXIodCwoZnVuY3Rpb24gaShvKXtyLm9uY2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGkpLG4obyl9KSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3LFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBTfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8XyhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7Uz1lfX0pLHcuaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LHcucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxfKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sdy5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIE0odGhpcyl9LHcucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO3ZhciByPVwiZXJyb3JcIj09PWUsaT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09aSlyPXImJnZvaWQgMD09PWkuZXJyb3I7ZWxzZSBpZighcilyZXR1cm4hMTtpZihyKXt2YXIgbztpZih0Lmxlbmd0aD4wJiYobz10WzBdKSxvIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbzt2YXIgcz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKG8/XCIgKFwiK28ubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgcy5jb250ZXh0PW8sc312YXIgYT1pW2VdO2lmKHZvaWQgMD09PWEpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYSliKGEsdGhpcyx0KTtlbHNle3ZhciBjPWEubGVuZ3RoLGw9QShhLGMpO2ZvcihuPTA7bjxjOysrbiliKGxbbl0sdGhpcyx0KX1yZXR1cm4hMH0sdy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQyh0aGlzLGUsdCwhMSl9LHcucHJvdG90eXBlLm9uPXcucHJvdG90eXBlLmFkZExpc3RlbmVyLHcucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBDKHRoaXMsZSx0LCEwKX0sdy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBrKHQpLHRoaXMub24oZSxUKHRoaXMsZSx0KSksdGhpc30sdy5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBrKHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsVCh0aGlzLGUsdCkpLHRoaXN9LHcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scztpZihrKHQpLHZvaWQgMD09PShyPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49cltlXSkpcmV0dXJuIHRoaXM7aWYobj09PXR8fG4ubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSByW2VdLHIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXtmb3IoaT0tMSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0paWYobltvXT09PXR8fG5bb10ubGlzdGVuZXI9PT10KXtzPW5bb10ubGlzdGVuZXIsaT1vO2JyZWFrfWlmKGk8MClyZXR1cm4gdGhpczswPT09aT9uLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0obixpKSwxPT09bi5sZW5ndGgmJihyW2VdPW5bMF0pLHZvaWQgMCE9PXIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxzfHx0KX1yZXR1cm4gdGhpc30sdy5wcm90b3R5cGUub2ZmPXcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLHcucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuLHI7aWYodm9pZCAwPT09KG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1uLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09bltlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpLG89T2JqZWN0LmtleXMobik7Zm9yKHI9MDtyPG8ubGVuZ3RoOysrcilcInJlbW92ZUxpc3RlbmVyXCIhPT0oaT1vW3JdKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoaSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9bltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3Iocj10Lmxlbmd0aC0xO3I+PTA7ci0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W3JdKTtyZXR1cm4gdGhpc30sdy5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBPKHRoaXMsZSwhMCl9LHcucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gTyh0aGlzLGUsITEpfSx3Lmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOlAuY2FsbChlLHQpfSx3LnByb3RvdHlwZS5saXN0ZW5lckNvdW50PVAsdy5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2codGhpcy5fZXZlbnRzKTpbXX07dmFyIEk9bS5leHBvcnRzLHg9dihJKSxMPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gRChlLHQsbil7Zm9yKG4gb2YgZS5rZXlzKCkpaWYoTihuLHQpKXJldHVybiBufWZ1bmN0aW9uIE4oZSx0KXt2YXIgbixyLGk7aWYoZT09PXQpcmV0dXJuITA7aWYoZSYmdCYmKG49ZS5jb25zdHJ1Y3Rvcik9PT10LmNvbnN0cnVjdG9yKXtpZihuPT09RGF0ZSlyZXR1cm4gZS5nZXRUaW1lKCk9PT10LmdldFRpbWUoKTtpZihuPT09UmVnRXhwKXJldHVybiBlLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCk7aWYobj09PUFycmF5KXtpZigocj1lLmxlbmd0aCk9PT10Lmxlbmd0aClmb3IoO3ItLSYmTihlW3JdLHRbcl0pOyk7cmV0dXJuLTE9PT1yfWlmKG49PT1TZXQpe2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IociBvZiBlKXtpZigoaT1yKSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJiEoaT1EKHQsaSkpKXJldHVybiExO2lmKCF0LmhhcyhpKSlyZXR1cm4hMX1yZXR1cm4hMH1pZihuPT09TWFwKXtpZihlLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKHIgb2YgZSl7aWYoKGk9clswXSkmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiYhKGk9RCh0LGkpKSlyZXR1cm4hMTtpZighTihyWzFdLHQuZ2V0KGkpKSlyZXR1cm4hMX1yZXR1cm4hMH1pZihuPT09QXJyYXlCdWZmZXIpZT1uZXcgVWludDhBcnJheShlKSx0PW5ldyBVaW50OEFycmF5KHQpO2Vsc2UgaWYobj09PURhdGFWaWV3KXtpZigocj1lLmJ5dGVMZW5ndGgpPT09dC5ieXRlTGVuZ3RoKWZvcig7ci0tJiZlLmdldEludDgocik9PT10LmdldEludDgocik7KTtyZXR1cm4tMT09PXJ9aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtpZigocj1lLmJ5dGVMZW5ndGgpPT09dC5ieXRlTGVuZ3RoKWZvcig7ci0tJiZlW3JdPT09dFtyXTspO3JldHVybi0xPT09cn1pZighbnx8XCJvYmplY3RcIj09dHlwZW9mIGUpe2ZvcihuIGluIHI9MCxlKXtpZihMLmNhbGwoZSxuKSYmKytyJiYhTC5jYWxsKHQsbikpcmV0dXJuITE7aWYoIShuIGluIHQpfHwhTihlW25dLHRbbl0pKXJldHVybiExfXJldHVybiBPYmplY3Qua2V5cyh0KS5sZW5ndGg9PT1yfX1yZXR1cm4gZSE9ZSYmdCE9dH1jb25zdCBSPXtcIkFtYXpvbiBTaWxrXCI6XCJhbWF6b25fc2lsa1wiLFwiQW5kcm9pZCBCcm93c2VyXCI6XCJhbmRyb2lkXCIsQmFkYTpcImJhZGFcIixCbGFja0JlcnJ5OlwiYmxhY2tiZXJyeVwiLENocm9tZTpcImNocm9tZVwiLENocm9taXVtOlwiY2hyb21pdW1cIixFbGVjdHJvbjpcImVsZWN0cm9uXCIsRXBpcGhhbnk6XCJlcGlwaGFueVwiLEZpcmVmb3g6XCJmaXJlZm94XCIsRm9jdXM6XCJmb2N1c1wiLEdlbmVyaWM6XCJnZW5lcmljXCIsXCJHb29nbGUgU2VhcmNoXCI6XCJnb29nbGVfc2VhcmNoXCIsR29vZ2xlYm90OlwiZ29vZ2xlYm90XCIsXCJJbnRlcm5ldCBFeHBsb3JlclwiOlwiaWVcIixcIkstTWVsZW9uXCI6XCJrX21lbGVvblwiLE1heHRob246XCJtYXh0aG9uXCIsXCJNaWNyb3NvZnQgRWRnZVwiOlwiZWRnZVwiLFwiTVogQnJvd3NlclwiOlwibXpcIixcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIjpcIm5hdmVyXCIsT3BlcmE6XCJvcGVyYVwiLFwiT3BlcmEgQ29hc3RcIjpcIm9wZXJhX2NvYXN0XCIsUGhhbnRvbUpTOlwicGhhbnRvbWpzXCIsUHVmZmluOlwicHVmZmluXCIsUXVwWmlsbGE6XCJxdXB6aWxsYVwiLFFROlwicXFcIixRUUxpdGU6XCJxcWxpdGVcIixTYWZhcmk6XCJzYWZhcmlcIixTYWlsZmlzaDpcInNhaWxmaXNoXCIsXCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCI6XCJzYW1zdW5nX2ludGVybmV0XCIsU2VhTW9ua2V5Olwic2VhbW9ua2V5XCIsU2xlaXBuaXI6XCJzbGVpcG5pclwiLFN3aW5nOlwic3dpbmdcIixUaXplbjpcInRpemVuXCIsXCJVQyBCcm93c2VyXCI6XCJ1Y1wiLFZpdmFsZGk6XCJ2aXZhbGRpXCIsXCJXZWJPUyBCcm93c2VyXCI6XCJ3ZWJvc1wiLFdlQ2hhdDpcIndlY2hhdFwiLFwiWWFuZGV4IEJyb3dzZXJcIjpcInlhbmRleFwiLFJva3U6XCJyb2t1XCJ9LEY9e2FtYXpvbl9zaWxrOlwiQW1hem9uIFNpbGtcIixhbmRyb2lkOlwiQW5kcm9pZCBCcm93c2VyXCIsYmFkYTpcIkJhZGFcIixibGFja2JlcnJ5OlwiQmxhY2tCZXJyeVwiLGNocm9tZTpcIkNocm9tZVwiLGNocm9taXVtOlwiQ2hyb21pdW1cIixlbGVjdHJvbjpcIkVsZWN0cm9uXCIsZXBpcGhhbnk6XCJFcGlwaGFueVwiLGZpcmVmb3g6XCJGaXJlZm94XCIsZm9jdXM6XCJGb2N1c1wiLGdlbmVyaWM6XCJHZW5lcmljXCIsZ29vZ2xlYm90OlwiR29vZ2xlYm90XCIsZ29vZ2xlX3NlYXJjaDpcIkdvb2dsZSBTZWFyY2hcIixpZTpcIkludGVybmV0IEV4cGxvcmVyXCIsa19tZWxlb246XCJLLU1lbGVvblwiLG1heHRob246XCJNYXh0aG9uXCIsZWRnZTpcIk1pY3Jvc29mdCBFZGdlXCIsbXo6XCJNWiBCcm93c2VyXCIsbmF2ZXI6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCIsb3BlcmE6XCJPcGVyYVwiLG9wZXJhX2NvYXN0OlwiT3BlcmEgQ29hc3RcIixwaGFudG9tanM6XCJQaGFudG9tSlNcIixwdWZmaW46XCJQdWZmaW5cIixxdXB6aWxsYTpcIlF1cFppbGxhXCIscXE6XCJRUSBCcm93c2VyXCIscXFsaXRlOlwiUVEgQnJvd3NlciBMaXRlXCIsc2FmYXJpOlwiU2FmYXJpXCIsc2FpbGZpc2g6XCJTYWlsZmlzaFwiLHNhbXN1bmdfaW50ZXJuZXQ6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCIsc2VhbW9ua2V5OlwiU2VhTW9ua2V5XCIsc2xlaXBuaXI6XCJTbGVpcG5pclwiLHN3aW5nOlwiU3dpbmdcIix0aXplbjpcIlRpemVuXCIsdWM6XCJVQyBCcm93c2VyXCIsdml2YWxkaTpcIlZpdmFsZGlcIix3ZWJvczpcIldlYk9TIEJyb3dzZXJcIix3ZWNoYXQ6XCJXZUNoYXRcIix5YW5kZXg6XCJZYW5kZXggQnJvd3NlclwifSxCPXt0YWJsZXQ6XCJ0YWJsZXRcIixtb2JpbGU6XCJtb2JpbGVcIixkZXNrdG9wOlwiZGVza3RvcFwiLHR2OlwidHZcIn0sVT17V2luZG93c1Bob25lOlwiV2luZG93cyBQaG9uZVwiLFdpbmRvd3M6XCJXaW5kb3dzXCIsTWFjT1M6XCJtYWNPU1wiLGlPUzpcImlPU1wiLEFuZHJvaWQ6XCJBbmRyb2lkXCIsV2ViT1M6XCJXZWJPU1wiLEJsYWNrQmVycnk6XCJCbGFja0JlcnJ5XCIsQmFkYTpcIkJhZGFcIixUaXplbjpcIlRpemVuXCIsTGludXg6XCJMaW51eFwiLENocm9tZU9TOlwiQ2hyb21lIE9TXCIsUGxheVN0YXRpb240OlwiUGxheVN0YXRpb24gNFwiLFJva3U6XCJSb2t1XCJ9LFY9e0VkZ2VIVE1MOlwiRWRnZUhUTUxcIixCbGluazpcIkJsaW5rXCIsVHJpZGVudDpcIlRyaWRlbnRcIixQcmVzdG86XCJQcmVzdG9cIixHZWNrbzpcIkdlY2tvXCIsV2ViS2l0OlwiV2ViS2l0XCJ9O2NsYXNzIEp7c3RhdGljIGdldEZpcnN0TWF0Y2goZSx0KXtjb25zdCBuPXQubWF0Y2goZSk7cmV0dXJuIG4mJm4ubGVuZ3RoPjAmJm5bMV18fFwiXCJ9c3RhdGljIGdldFNlY29uZE1hdGNoKGUsdCl7Y29uc3Qgbj10Lm1hdGNoKGUpO3JldHVybiBuJiZuLmxlbmd0aD4xJiZuWzJdfHxcIlwifXN0YXRpYyBtYXRjaEFuZFJldHVybkNvbnN0KGUsdCxuKXtpZihlLnRlc3QodCkpcmV0dXJuIG59c3RhdGljIGdldFdpbmRvd3NWZXJzaW9uTmFtZShlKXtzd2l0Y2goZSl7Y2FzZVwiTlRcIjpyZXR1cm5cIk5UXCI7Y2FzZVwiWFBcIjpjYXNlXCJOVCA1LjFcIjpyZXR1cm5cIlhQXCI7Y2FzZVwiTlQgNS4wXCI6cmV0dXJuXCIyMDAwXCI7Y2FzZVwiTlQgNS4yXCI6cmV0dXJuXCIyMDAzXCI7Y2FzZVwiTlQgNi4wXCI6cmV0dXJuXCJWaXN0YVwiO2Nhc2VcIk5UIDYuMVwiOnJldHVyblwiN1wiO2Nhc2VcIk5UIDYuMlwiOnJldHVyblwiOFwiO2Nhc2VcIk5UIDYuM1wiOnJldHVyblwiOC4xXCI7Y2FzZVwiTlQgMTAuMFwiOnJldHVyblwiMTBcIjtkZWZhdWx0OnJldHVybn19c3RhdGljIGdldE1hY09TVmVyc2lvbk5hbWUoZSl7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKS5zcGxpY2UoMCwyKS5tYXAoKGU9PnBhcnNlSW50KGUsMTApfHwwKSk7aWYodC5wdXNoKDApLDEwPT09dFswXSlzd2l0Y2godFsxXSl7Y2FzZSA1OnJldHVyblwiTGVvcGFyZFwiO2Nhc2UgNjpyZXR1cm5cIlNub3cgTGVvcGFyZFwiO2Nhc2UgNzpyZXR1cm5cIkxpb25cIjtjYXNlIDg6cmV0dXJuXCJNb3VudGFpbiBMaW9uXCI7Y2FzZSA5OnJldHVyblwiTWF2ZXJpY2tzXCI7Y2FzZSAxMDpyZXR1cm5cIllvc2VtaXRlXCI7Y2FzZSAxMTpyZXR1cm5cIkVsIENhcGl0YW5cIjtjYXNlIDEyOnJldHVyblwiU2llcnJhXCI7Y2FzZSAxMzpyZXR1cm5cIkhpZ2ggU2llcnJhXCI7Y2FzZSAxNDpyZXR1cm5cIk1vamF2ZVwiO2Nhc2UgMTU6cmV0dXJuXCJDYXRhbGluYVwiO2RlZmF1bHQ6cmV0dXJufX1zdGF0aWMgZ2V0QW5kcm9pZFZlcnNpb25OYW1lKGUpe2NvbnN0IHQ9ZS5zcGxpdChcIi5cIikuc3BsaWNlKDAsMikubWFwKChlPT5wYXJzZUludChlLDEwKXx8MCkpO2lmKHQucHVzaCgwKSwhKDE9PT10WzBdJiZ0WzFdPDUpKXJldHVybiAxPT09dFswXSYmdFsxXTw2P1wiQ3VwY2FrZVwiOjE9PT10WzBdJiZ0WzFdPj02P1wiRG9udXRcIjoyPT09dFswXSYmdFsxXTwyP1wiRWNsYWlyXCI6Mj09PXRbMF0mJjI9PT10WzFdP1wiRnJveW9cIjoyPT09dFswXSYmdFsxXT4yP1wiR2luZ2VyYnJlYWRcIjozPT09dFswXT9cIkhvbmV5Y29tYlwiOjQ9PT10WzBdJiZ0WzFdPDE/XCJJY2UgQ3JlYW0gU2FuZHdpY2hcIjo0PT09dFswXSYmdFsxXTw0P1wiSmVsbHkgQmVhblwiOjQ9PT10WzBdJiZ0WzFdPj00P1wiS2l0S2F0XCI6NT09PXRbMF0/XCJMb2xsaXBvcFwiOjY9PT10WzBdP1wiTWFyc2htYWxsb3dcIjo3PT09dFswXT9cIk5vdWdhdFwiOjg9PT10WzBdP1wiT3Jlb1wiOjk9PT10WzBdP1wiUGllXCI6dm9pZCAwfXN0YXRpYyBnZXRWZXJzaW9uUHJlY2lzaW9uKGUpe3JldHVybiBlLnNwbGl0KFwiLlwiKS5sZW5ndGh9c3RhdGljIGNvbXBhcmVWZXJzaW9ucyhlLHQsbj0hMSl7Y29uc3Qgcj1KLmdldFZlcnNpb25QcmVjaXNpb24oZSksaT1KLmdldFZlcnNpb25QcmVjaXNpb24odCk7bGV0IG89TWF0aC5tYXgocixpKSxzPTA7Y29uc3QgYT1KLm1hcChbZSx0XSwoZT0+e2NvbnN0IHQ9by1KLmdldFZlcnNpb25QcmVjaXNpb24oZSksbj1lK25ldyBBcnJheSh0KzEpLmpvaW4oXCIuMFwiKTtyZXR1cm4gSi5tYXAobi5zcGxpdChcIi5cIiksKGU9Pm5ldyBBcnJheSgyMC1lLmxlbmd0aCkuam9pbihcIjBcIikrZSkpLnJldmVyc2UoKX0pKTtmb3IobiYmKHM9by1NYXRoLm1pbihyLGkpKSxvLT0xO28+PXM7KXtpZihhWzBdW29dPmFbMV1bb10pcmV0dXJuIDE7aWYoYVswXVtvXT09PWFbMV1bb10pe2lmKG89PT1zKXJldHVybiAwO28tPTF9ZWxzZSBpZihhWzBdW29dPGFbMV1bb10pcmV0dXJuLTF9fXN0YXRpYyBtYXAoZSx0KXtjb25zdCBuPVtdO2xldCByO2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLHQpO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0xKW4ucHVzaCh0KGVbcl0pKTtyZXR1cm4gbn1zdGF0aWMgZmluZChlLHQpe2xldCBuLHI7aWYoQXJyYXkucHJvdG90eXBlLmZpbmQpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZSx0KTtmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rPTEpe2NvbnN0IHI9ZVtuXTtpZih0KHIsbikpcmV0dXJuIHJ9fXN0YXRpYyBhc3NpZ24oZSwuLi50KXtjb25zdCBuPWU7bGV0IHIsaTtpZihPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduKGUsLi4udCk7Zm9yKHI9MCxpPXQubGVuZ3RoO3I8aTtyKz0xKXtjb25zdCBlPXRbcl07aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0PT57blt0XT1lW3RdfSkpfX1yZXR1cm4gZX1zdGF0aWMgZ2V0QnJvd3NlckFsaWFzKGUpe3JldHVybiBSW2VdfXN0YXRpYyBnZXRCcm93c2VyVHlwZUJ5QWxpYXMoZSl7cmV0dXJuIEZbZV18fFwiXCJ9fWNvbnN0ICQ9L3ZlcnNpb25cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2kscT1be3Rlc3Q6Wy9nb29nbGVib3QvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkdvb2dsZWJvdFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvZ29vZ2xlYm90XFwvKFxcZCsoXFwuXFxkKykpL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wZXJhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/Om9wZXJhKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9vcHJcXC98b3Bpb3MvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpvcHJ8b3Bpb3MpW1xccy9dKFxcUyspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1NhbXN1bmdCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86U2Ftc3VuZ0Jyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1doYWxlL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86d2hhbGUpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTVpCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNWiBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpNWkJyb3dzZXIpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2ZvY3VzL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJGb2N1c1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3N3aW5nL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTd2luZ1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86c3dpbmcpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2NvYXN0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYSBDb2FzdFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmNvYXN0KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9vcHRcXC9cXGQrKD86Lj9fP1xcZCspKy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmEgVG91Y2hcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Om9wdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3lhYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiWWFuZGV4IEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3VjYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVUMgQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OnVjYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTWF4dGhvbnxteGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWF4dGhvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/Ok1heHRob258bXhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VwaXBoYW55L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJFcGlwaGFueVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmVwaXBoYW55KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9wdWZmaW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlB1ZmZpblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OnB1ZmZpbilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2xlaXBuaXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNsZWlwbmlyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86c2xlaXBuaXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2stbWVsZW9uL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJLLU1lbGVvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmstbWVsZW9uKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9taWNyb21lc3Nlbmdlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiV2VDaGF0XCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzptaWNyb21lc3NlbmdlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3FxYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOi9xcWJyb3dzZXJsaXRlL2kudGVzdChlKT9cIlFRIEJyb3dzZXIgTGl0ZVwiOlwiUVEgQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86cXFicm93c2VybGl0ZXxxcWJyb3dzZXIpWy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxKLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9tc2llfHRyaWRlbnQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkludGVybmV0IEV4cGxvcmVyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1xcc2VkZ1xcLy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0sbj1KLmdldEZpcnN0TWF0Y2goL1xcc2VkZ1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9lZGcoW2VhXXxpb3MpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxuPUouZ2V0U2Vjb25kTWF0Y2goL2VkZyhbZWFdfGlvcylcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvdml2YWxkaS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVml2YWxkaVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvdml2YWxkaVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zZWFtb25rZXkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNlYU1vbmtleVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhaWxmaXNoL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYWlsZmlzaFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJBbWF6b24gU2lsa1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2lsa1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9waGFudG9tL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJQaGFudG9tSlNcIn0sbj1KLmdldEZpcnN0TWF0Y2goL3BoYW50b21qc1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zbGltZXJqcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2xpbWVySlNcIn0sbj1KLmdldEZpcnN0TWF0Y2goL3NsaW1lcmpzXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQmxhY2tCZXJyeVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goL2JsYWNrYmVycnlbXFxkXStcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvKHdlYnxocHcpW28wXXMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIldlYk9TIEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKXx8Si5nZXRGaXJzdE1hdGNoKC93KD86ZWIpP1tvMF1zYnJvd3NlclxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJCYWRhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9kb2xmaW5cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlRpemVuXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3F1cHppbGxhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJRdXBaaWxsYVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxKLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9maXJlZm94fGljZXdlYXNlbHxmeGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRmlyZWZveFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VsZWN0cm9uL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJFbGVjdHJvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86ZWxlY3Ryb24pXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL01pdWlCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaXVpXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpNaXVpQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY2hyb21pdW0vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkNocm9taXVtXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWl1bSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2Nocm9tZXxjcmlvc3xjcm1vL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJDaHJvbWVcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9HU0EvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkdvb2dsZSBTZWFyY2hcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OkdTQSlcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0KGUpe2NvbnN0IHQ9IWUudGVzdCgvbGlrZSBhbmRyb2lkL2kpLG49ZS50ZXN0KC9hbmRyb2lkL2kpO3JldHVybiB0JiZufSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQW5kcm9pZCBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcGxheXN0YXRpb24gNC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiUGxheVN0YXRpb24gNFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhZmFyaXxhcHBsZXdlYmtpdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2FmYXJpXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvLiovaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD0tMSE9PWUuc2VhcmNoKFwiXFxcXChcIik/L14oLiopXFwvKC4qKVsgXFx0XVxcKCguKikvOi9eKC4qKVxcLyguKikgLztyZXR1cm57bmFtZTpKLmdldEZpcnN0TWF0Y2godCxlKSx2ZXJzaW9uOkouZ2V0U2Vjb25kTWF0Y2godCxlKX19fV07dmFyIHo9W3t0ZXN0OlsvUm9rdVxcL0RWUC9dLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9Sb2t1XFwvRFZQLShcXGQrXFwuXFxkKykvaSxlKTtyZXR1cm57bmFtZTpVLlJva3UsdmVyc2lvbjp0fX19LHt0ZXN0Olsvd2luZG93cyBwaG9uZS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvd2luZG93cyBwaG9uZSAoPzpvcyk/XFxzPyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLldpbmRvd3NQaG9uZSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIC9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXFxkXFxkPy5cXGQpPykvaSxlKSxuPUouZ2V0V2luZG93c1ZlcnNpb25OYW1lKHQpO3JldHVybntuYW1lOlUuV2luZG93cyx2ZXJzaW9uOnQsdmVyc2lvbk5hbWU6bn19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlUuaU9TfSxuPUouZ2V0U2Vjb25kTWF0Y2goLyhWZXJzaW9uXFwvKShcXGRbXFxkLl0rKS8sZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvbWFjaW50b3NoL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9tYWMgb3MgeCAoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpLG49Si5nZXRNYWNPU1ZlcnNpb25OYW1lKHQpLHI9e25hbWU6VS5NYWNPUyx2ZXJzaW9uOnR9O3JldHVybiBuJiYoci52ZXJzaW9uTmFtZT1uKSxyfX0se3Rlc3Q6Wy8oaXBvZHxpcGhvbmV8aXBhZCkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pLGUpLnJlcGxhY2UoL1tfXFxzXS9nLFwiLlwiKTtyZXR1cm57bmFtZTpVLmlPUyx2ZXJzaW9uOnR9fX0se3Rlc3QoZSl7Y29uc3QgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSksbj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJm59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9hbmRyb2lkW1xccy8tXShcXGQrKFxcLlxcZCspKikvaSxlKSxuPUouZ2V0QW5kcm9pZFZlcnNpb25OYW1lKHQpLHI9e25hbWU6VS5BbmRyb2lkLHZlcnNpb246dH07cmV0dXJuIG4mJihyLnZlcnNpb25OYW1lPW4pLHJ9fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KVtvMF1zXFwvKFxcZCsoXFwuXFxkKykqKS9pLGUpLG49e25hbWU6VS5XZWJPU307cmV0dXJuIHQmJnQubGVuZ3RoJiYobi52ZXJzaW9uPXQpLG59fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvcmltXFxzdGFibGV0XFxzb3NcXHMoXFxkKyhcXC5cXGQrKSopL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVxcZCtcXC8oXFxkKyhbX1xcc11cXGQrKSopL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgvXFxiYmIoXFxkKykvaSxlKTtyZXR1cm57bmFtZTpVLkJsYWNrQmVycnksdmVyc2lvbjp0fX19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvYmFkYVxcLyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLkJhZGEsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL3RpemVuWy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlUuVGl6ZW4sdmVyc2lvbjp0fX19LHt0ZXN0OlsvbGludXgvaV0sZGVzY3JpYmU6KCk9Pih7bmFtZTpVLkxpbnV4fSl9LHt0ZXN0OlsvQ3JPUy9dLGRlc2NyaWJlOigpPT4oe25hbWU6VS5DaHJvbWVPU30pfSx7dGVzdDpbL1BsYXlTdGF0aW9uIDQvXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvUGxheVN0YXRpb24gNFsvXFxzXShcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLlBsYXlTdGF0aW9uNCx2ZXJzaW9uOnR9fX1dLFc9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6XCJib3RcIix2ZW5kb3I6XCJHb29nbGVcIn0pfSx7dGVzdDpbL2h1YXdlaS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvKGNhbi1sMDEpL2ksZSkmJlwiTm92YVwiLG49e3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiSHVhd2VpXCJ9O3JldHVybiB0JiYobi5tb2RlbD10KSxufX0se3Rlc3Q6Wy9uZXh1c1xccyooPzo3fDh8OXwxMCkuKi9pXSxkZXNjcmliZTooKT0+KHt0eXBlOkIudGFibGV0LHZlbmRvcjpcIk5leHVzXCJ9KX0se3Rlc3Q6Wy9pcGFkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDpcImlQYWRcIn0pfSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZTooKT0+KHt0eXBlOkIudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9KX0se3Rlc3Q6Wy9rZnR0IGJ1aWxkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCIsbW9kZWw6XCJLaW5kbGUgRmlyZSBIRCA3XCJ9KX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCJ9KX0se3Rlc3Q6Wy90YWJsZXQoPyEgcGMpL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXR9KX0se3Rlc3QoZSl7Y29uc3QgdD1lLnRlc3QoL2lwb2R8aXBob25lL2kpLG49ZS50ZXN0KC9saWtlIChpcG9kfGlwaG9uZSkvaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lKS9pLGUpO3JldHVybnt0eXBlOkIubW9iaWxlLHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6dH19fSx7dGVzdDpbL25leHVzXFxzKlswLTZdLiovaSwvZ2FsYXh5IG5leHVzL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiTmV4dXNcIn0pfSx7dGVzdDpbL1teLV1tb2JpL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJibGFja2JlcnJ5XCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIubW9iaWxlLHZlbmRvcjpcIkJsYWNrQmVycnlcIn0pfSx7dGVzdDplPT5cImJhZGFcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJ3aW5kb3dzIHBob25lXCI9PT1lLmdldEJyb3dzZXJOYW1lKCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLm1vYmlsZSx2ZW5kb3I6XCJNaWNyb3NvZnRcIn0pfSx7dGVzdChlKXtjb25zdCB0PU51bWJlcihTdHJpbmcoZS5nZXRPU1ZlcnNpb24oKSkuc3BsaXQoXCIuXCIpWzBdKTtyZXR1cm5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSYmdD49M30sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldH0pfSx7dGVzdDplPT5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIubW9iaWxlfSl9LHt0ZXN0OmU9PlwibWFjb3NcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIuZGVza3RvcCx2ZW5kb3I6XCJBcHBsZVwifSl9LHt0ZXN0OmU9Plwid2luZG93c1wiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5kZXNrdG9wfSl9LHt0ZXN0OmU9PlwibGludXhcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIuZGVza3RvcH0pfSx7dGVzdDplPT5cInBsYXlzdGF0aW9uIDRcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIudHZ9KX0se3Rlc3Q6ZT0+XCJyb2t1XCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnR2fSl9XSxIPVt7dGVzdDplPT5cIm1pY3Jvc29mdCBlZGdlXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZShlKXtpZigvXFxzZWRnXFwvL2kudGVzdChlKSlyZXR1cm57bmFtZTpWLkJsaW5rfTtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvZWRnZVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm57bmFtZTpWLkVkZ2VIVE1MLHZlcnNpb246dH19fSx7dGVzdDpbL3RyaWRlbnQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpWLlRyaWRlbnR9LG49Si5nZXRGaXJzdE1hdGNoKC90cmlkZW50XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDplPT5lLnRlc3QoL3ByZXN0by9pKSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlYuUHJlc3RvfSxuPUouZ2V0Rmlyc3RNYXRjaCgvcHJlc3RvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdChlKXtjb25zdCB0PWUudGVzdCgvZ2Vja28vaSksbj1lLnRlc3QoL2xpa2UgZ2Vja28vaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlYuR2Vja299LG49Si5nZXRGaXJzdE1hdGNoKC9nZWNrb1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdFxcLzUzN1xcLjM2L2ldLGRlc2NyaWJlOigpPT4oe25hbWU6Vi5CbGlua30pfSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6Vi5XZWJLaXR9LG49Si5nZXRGaXJzdE1hdGNoKC93ZWJraXRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19XTtjbGFzcyBHe2NvbnN0cnVjdG9yKGUsdD0hMSl7aWYobnVsbD09ZXx8XCJcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHBhcmFtZXRlciBjYW4ndCBiZSBlbXB0eVwiKTt0aGlzLl91YT1lLHRoaXMucGFyc2VkUmVzdWx0PXt9LCEwIT09dCYmdGhpcy5wYXJzZSgpfWdldFVBKCl7cmV0dXJuIHRoaXMuX3VhfXRlc3QoZSl7cmV0dXJuIGUudGVzdCh0aGlzLl91YSl9cGFyc2VCcm93c2VyKCl7dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj17fTtjb25zdCBlPUouZmluZChxLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcn1nZXRCcm93c2VyKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI/dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcjp0aGlzLnBhcnNlQnJvd3NlcigpfWdldEJyb3dzZXJOYW1lKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEJyb3dzZXIoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0QnJvd3NlcigpLm5hbWV8fFwiXCJ9Z2V0QnJvd3NlclZlcnNpb24oKXtyZXR1cm4gdGhpcy5nZXRCcm93c2VyKCkudmVyc2lvbn1nZXRPUygpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5vcz90aGlzLnBhcnNlZFJlc3VsdC5vczp0aGlzLnBhcnNlT1MoKX1wYXJzZU9TKCl7dGhpcy5wYXJzZWRSZXN1bHQub3M9e307Y29uc3QgZT1KLmZpbmQoeiwoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQub3M9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5vc31nZXRPU05hbWUoZSl7Y29uc3R7bmFtZTp0fT10aGlzLmdldE9TKCk7cmV0dXJuIGU/U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dHx8XCJcIn1nZXRPU1ZlcnNpb24oKXtyZXR1cm4gdGhpcy5nZXRPUygpLnZlcnNpb259Z2V0UGxhdGZvcm0oKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm0/dGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm06dGhpcy5wYXJzZVBsYXRmb3JtKCl9Z2V0UGxhdGZvcm1UeXBlKGU9ITEpe2NvbnN0e3R5cGU6dH09dGhpcy5nZXRQbGF0Zm9ybSgpO3JldHVybiBlP1N0cmluZyh0KS50b0xvd2VyQ2FzZSgpfHxcIlwiOnR8fFwiXCJ9cGFyc2VQbGF0Zm9ybSgpe3RoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPXt9O2NvbnN0IGU9Si5maW5kKFcsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm19Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT90aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU6dGhpcy5wYXJzZUVuZ2luZSgpfWdldEVuZ2luZU5hbWUoZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0RW5naW5lKCkubmFtZSkudG9Mb3dlckNhc2UoKXx8XCJcIjp0aGlzLmdldEVuZ2luZSgpLm5hbWV8fFwiXCJ9cGFyc2VFbmdpbmUoKXt0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9e307Y29uc3QgZT1KLmZpbmQoSCwoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lfXBhcnNlKCl7cmV0dXJuIHRoaXMucGFyc2VCcm93c2VyKCksdGhpcy5wYXJzZU9TKCksdGhpcy5wYXJzZVBsYXRmb3JtKCksdGhpcy5wYXJzZUVuZ2luZSgpLHRoaXN9Z2V0UmVzdWx0KCl7cmV0dXJuIEouYXNzaWduKHt9LHRoaXMucGFyc2VkUmVzdWx0KX1zYXRpc2ZpZXMoZSl7Y29uc3QgdD17fTtsZXQgbj0wO2NvbnN0IHI9e307bGV0IGk9MDtpZihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChvPT57Y29uc3Qgcz1lW29dO1wic3RyaW5nXCI9PXR5cGVvZiBzPyhyW29dPXMsaSs9MSk6XCJvYmplY3RcIj09dHlwZW9mIHMmJih0W29dPXMsbis9MSl9KSksbj4wKXtjb25zdCBlPU9iamVjdC5rZXlzKHQpLG49Si5maW5kKGUsKGU9PnRoaXMuaXNPUyhlKSkpO2lmKG4pe2NvbnN0IGU9dGhpcy5zYXRpc2ZpZXModFtuXSk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZX1jb25zdCByPUouZmluZChlLChlPT50aGlzLmlzUGxhdGZvcm0oZSkpKTtpZihyKXtjb25zdCBlPXRoaXMuc2F0aXNmaWVzKHRbcl0pO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGV9fWlmKGk+MCl7Y29uc3QgZT1PYmplY3Qua2V5cyhyKSx0PUouZmluZChlLChlPT50aGlzLmlzQnJvd3NlcihlLCEwKSkpO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oclt0XSl9fWlzQnJvd3NlcihlLHQ9ITEpe2NvbnN0IG49dGhpcy5nZXRCcm93c2VyTmFtZSgpLnRvTG93ZXJDYXNlKCk7bGV0IHI9ZS50b0xvd2VyQ2FzZSgpO2NvbnN0IGk9Si5nZXRCcm93c2VyVHlwZUJ5QWxpYXMocik7cmV0dXJuIHQmJmkmJihyPWkudG9Mb3dlckNhc2UoKSkscj09PW59Y29tcGFyZVZlcnNpb24oZSl7bGV0IHQ9WzBdLG49ZSxyPSExO2NvbnN0IGk9dGhpcy5nZXRCcm93c2VyVmVyc2lvbigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXJldHVyblwiPlwiPT09ZVswXXx8XCI8XCI9PT1lWzBdPyhuPWUuc3Vic3RyKDEpLFwiPVwiPT09ZVsxXT8ocj0hMCxuPWUuc3Vic3RyKDIpKTp0PVtdLFwiPlwiPT09ZVswXT90LnB1c2goMSk6dC5wdXNoKC0xKSk6XCI9XCI9PT1lWzBdP249ZS5zdWJzdHIoMSk6XCJ+XCI9PT1lWzBdJiYocj0hMCxuPWUuc3Vic3RyKDEpKSx0LmluZGV4T2YoSi5jb21wYXJlVmVyc2lvbnMoaSxuLHIpKT4tMX1pc09TKGUpe3JldHVybiB0aGlzLmdldE9TTmFtZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc1BsYXRmb3JtKGUpe3JldHVybiB0aGlzLmdldFBsYXRmb3JtVHlwZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc0VuZ2luZShlKXtyZXR1cm4gdGhpcy5nZXRFbmdpbmVOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzKGUsdD0hMSl7cmV0dXJuIHRoaXMuaXNCcm93c2VyKGUsdCl8fHRoaXMuaXNPUyhlKXx8dGhpcy5pc1BsYXRmb3JtKGUpfXNvbWUoZT1bXSl7cmV0dXJuIGUuc29tZSgoZT0+dGhpcy5pcyhlKSkpfX1cbi8qIVxuICogQm93c2VyIC0gYSBicm93c2VyIGRldGVjdG9yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGFuY2VkaWtzb24vYm93c2VyXG4gKiBNSVQgTGljZW5zZSB8IChjKSBEdXN0aW4gRGlheiAyMDEyLTIwMTVcbiAqIE1JVCBMaWNlbnNlIHwgKGMpIERlbmlzIERlbWNoZW5rbyAyMDE1LTIwMTlcbiAqL2NsYXNzIFF7c3RhdGljIGdldFBhcnNlcihlLHQ9ITEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIlVzZXJBZ2VudCBzaG91bGQgYmUgYSBzdHJpbmdcIik7cmV0dXJuIG5ldyBHKGUsdCl9c3RhdGljIHBhcnNlKGUpe3JldHVybiBuZXcgRyhlKS5nZXRSZXN1bHQoKX1zdGF0aWMgZ2V0IEJST1dTRVJfTUFQKCl7cmV0dXJuIEZ9c3RhdGljIGdldCBFTkdJTkVfTUFQKCl7cmV0dXJuIFZ9c3RhdGljIGdldCBPU19NQVAoKXtyZXR1cm4gVX1zdGF0aWMgZ2V0IFBMQVRGT1JNU19NQVAoKXtyZXR1cm4gQn19ZnVuY3Rpb24gSygpe3JldHVybiBEYXRlLm5vdygpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoKX1mdW5jdGlvbiBZKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NcIil9ZnVuY3Rpb24gWChlLHQpe3JldHVybiBudWxsIT10JiZ0LnByb3h5VXJsP3QucHJveHlVcmwrKFwiL1wiPT09dC5wcm94eVVybC5zbGljZSgtMSk/XCJcIjpcIi9cIikrZS5zdWJzdHJpbmcoOCk6ZX1mdW5jdGlvbiBaKGUpe3JldHVybiBudWxsIT1lJiZlLmNhbGxPYmplY3RCdW5kbGVVcmxPdmVycmlkZT9lLmNhbGxPYmplY3RCdW5kbGVVcmxPdmVycmlkZTpYKFwiaHR0cHM6Ly9jLmRhaWx5LmNvL2NhbGwtbWFjaGluZS92ZXJzaW9uZWQvXCIuY29uY2F0KFwiMC43OS4wXCIsXCIvc3RhdGljL2NhbGwtbWFjaGluZS1vYmplY3QtYnVuZGxlLmpzXCIpLGUpfWZ1bmN0aW9uIGVlKGUpe3RyeXtuZXcgVVJMKGUpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfWNvbnN0IHRlPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLG5lPVwiOC41NS4wXCIscmU9Z2xvYmFsVGhpcztmdW5jdGlvbiBpZShlLHQsbil7Y29uc3Qgcj1ufHxyZSxpPXIuX19TRU5UUllfXz1yLl9fU0VOVFJZX198fHt9LG89aVtuZV09aVtuZV18fHt9O3JldHVybiBvW2VdfHwob1tlXT10KCkpfWNvbnN0IG9lPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLHNlPVtcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiLFwibG9nXCIsXCJhc3NlcnRcIixcInRyYWNlXCJdLGFlPXt9O2Z1bmN0aW9uIGNlKGUpe2lmKCEoXCJjb25zb2xlXCJpbiByZSkpcmV0dXJuIGUoKTtjb25zdCB0PXJlLmNvbnNvbGUsbj17fSxyPU9iamVjdC5rZXlzKGFlKTtyLmZvckVhY2goKGU9Pntjb25zdCByPWFlW2VdO25bZV09dFtlXSx0W2VdPXJ9KSk7dHJ5e3JldHVybiBlKCl9ZmluYWxseXtyLmZvckVhY2goKGU9Pnt0W2VdPW5bZV19KSl9fWNvbnN0IGxlPWllKFwibG9nZ2VyXCIsKGZ1bmN0aW9uKCl7bGV0IGU9ITE7Y29uc3QgdD17ZW5hYmxlOigpPT57ZT0hMH0sZGlzYWJsZTooKT0+e2U9ITF9LGlzRW5hYmxlZDooKT0+ZX07cmV0dXJuIG9lP3NlLmZvckVhY2goKG49Pnt0W25dPSguLi50KT0+e2UmJmNlKCgoKT0+e3JlLmNvbnNvbGVbbl0oYFNlbnRyeSBMb2dnZXIgWyR7bn1dOmAsLi4udCl9KSl9fSkpOnNlLmZvckVhY2goKGU9Pnt0W2VdPSgpPT57fX0pKSx0fSkpLHVlPVwiP1wiLGRlPS9cXChlcnJvcjogKC4qKVxcKS8saGU9L2NhcHR1cmVNZXNzYWdlfGNhcHR1cmVFeGNlcHRpb24vO2Z1bmN0aW9uIHBlKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfHx7fX1jb25zdCBmZT1cIjxhbm9ueW1vdXM+XCI7ZnVuY3Rpb24gdmUoZSl7dHJ5e3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLm5hbWV8fGZlfWNhdGNoKGUpe3JldHVybiBmZX19ZnVuY3Rpb24gZ2UoZSl7Y29uc3QgdD1lLmV4Y2VwdGlvbjtpZih0KXtjb25zdCBlPVtdO3RyeXtyZXR1cm4gdC52YWx1ZXMuZm9yRWFjaCgodD0+e3Quc3RhY2t0cmFjZS5mcmFtZXMmJmUucHVzaCguLi50LnN0YWNrdHJhY2UuZnJhbWVzKX0pKSxlfWNhdGNoKGUpe3JldHVybn19fWNvbnN0IG1lPXt9LHllPXt9O2Z1bmN0aW9uIGJlKGUsdCl7bWVbZV09bWVbZV18fFtdLG1lW2VdLnB1c2godCl9ZnVuY3Rpb24gX2UoZSx0KXtpZigheWVbZV0pe3llW2VdPSEwO3RyeXt0KCl9Y2F0Y2godCl7b2UmJmxlLmVycm9yKGBFcnJvciB3aGlsZSBpbnN0cnVtZW50aW5nICR7ZX1gLHQpfX19ZnVuY3Rpb24gd2UoZSx0KXtjb25zdCBuPWUmJm1lW2VdO2lmKG4pZm9yKGNvbnN0IHIgb2Ygbil0cnl7cih0KX1jYXRjaCh0KXtvZSYmbGUuZXJyb3IoYEVycm9yIHdoaWxlIHRyaWdnZXJpbmcgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXIuXFxuVHlwZTogJHtlfVxcbk5hbWU6ICR7dmUocil9XFxuRXJyb3I6YCx0KX19bGV0IFNlPW51bGw7ZnVuY3Rpb24ga2UoKXtTZT1yZS5vbmVycm9yLHJlLm9uZXJyb3I9ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gd2UoXCJlcnJvclwiLHtjb2x1bW46cixlcnJvcjppLGxpbmU6bixtc2c6ZSx1cmw6dH0pLCEhU2UmJlNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmUub25lcnJvci5fX1NFTlRSWV9JTlNUUlVNRU5URURfXz0hMH1sZXQgTWU9bnVsbDtmdW5jdGlvbiBDZSgpe01lPXJlLm9udW5oYW5kbGVkcmVqZWN0aW9uLHJlLm9udW5oYW5kbGVkcmVqZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB3ZShcInVuaGFuZGxlZHJlamVjdGlvblwiLGUpLCFNZXx8TWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZS5vbnVuaGFuZGxlZHJlamVjdGlvbi5fX1NFTlRSWV9JTlNUUlVNRU5URURfXz0hMH1mdW5jdGlvbiBFZSgpe3JldHVybiBUZShyZSkscmV9ZnVuY3Rpb24gVGUoZSl7Y29uc3QgdD1lLl9fU0VOVFJZX189ZS5fX1NFTlRSWV9ffHx7fTtyZXR1cm4gdC52ZXJzaW9uPXQudmVyc2lvbnx8bmUsdFtuZV09dFtuZV18fHt9fWNvbnN0IE9lPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gUGUoZSl7c3dpdGNoKE9lLmNhbGwoZSkpe2Nhc2VcIltvYmplY3QgRXJyb3JdXCI6Y2FzZVwiW29iamVjdCBFeGNlcHRpb25dXCI6Y2FzZVwiW29iamVjdCBET01FeGNlcHRpb25dXCI6Y2FzZVwiW29iamVjdCBXZWJBc3NlbWJseS5FeGNlcHRpb25dXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4gQmUoZSxFcnJvcil9fWZ1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIE9lLmNhbGwoZSk9PT1gW29iamVjdCAke3R9XWB9ZnVuY3Rpb24gamUoZSl7cmV0dXJuIEFlKGUsXCJFcnJvckV2ZW50XCIpfWZ1bmN0aW9uIEllKGUpe3JldHVybiBBZShlLFwiRE9NRXJyb3JcIil9ZnVuY3Rpb24geGUoZSl7cmV0dXJuIEFlKGUsXCJTdHJpbmdcIil9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcIl9fc2VudHJ5X3RlbXBsYXRlX3N0cmluZ19fXCJpbiBlJiZcIl9fc2VudHJ5X3RlbXBsYXRlX3ZhbHVlc19fXCJpbiBlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBudWxsPT09ZXx8TGUoZSl8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfWZ1bmN0aW9uIE5lKGUpe3JldHVybiBBZShlLFwiT2JqZWN0XCIpfWZ1bmN0aW9uIFJlKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBFdmVudCYmQmUoZSxFdmVudCl9ZnVuY3Rpb24gRmUoZSl7cmV0dXJuIEJvb2xlYW4oZSYmZS50aGVuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW4pfWZ1bmN0aW9uIEJlKGUsdCl7dHJ5e3JldHVybiBlIGluc3RhbmNlb2YgdH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gVWUoZSl7cmV0dXJuIShcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fCFlLl9faXNWdWUmJiFlLl9pc1Z1ZSl9Y29uc3QgVmU9cmU7ZnVuY3Rpb24gSmUoZSx0PXt9KXtpZighZSlyZXR1cm5cIjx1bmtub3duPlwiO3RyeXtsZXQgbj1lO2NvbnN0IHI9NSxpPVtdO2xldCBvPTAscz0wO2NvbnN0IGE9XCIgPiBcIixjPWEubGVuZ3RoO2xldCBsO2NvbnN0IHU9QXJyYXkuaXNBcnJheSh0KT90OnQua2V5QXR0cnMsZD0hQXJyYXkuaXNBcnJheSh0KSYmdC5tYXhTdHJpbmdMZW5ndGh8fDgwO2Zvcig7biYmbysrPHImJihsPSRlKG4sdSksIShcImh0bWxcIj09PWx8fG8+MSYmcytpLmxlbmd0aCpjK2wubGVuZ3RoPj1kKSk7KWkucHVzaChsKSxzKz1sLmxlbmd0aCxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gaS5yZXZlcnNlKCkuam9pbihhKX1jYXRjaChlKXtyZXR1cm5cIjx1bmtub3duPlwifX1mdW5jdGlvbiAkZShlLHQpe2NvbnN0IG49ZSxyPVtdO2lmKCFufHwhbi50YWdOYW1lKXJldHVyblwiXCI7aWYoVmUuSFRNTEVsZW1lbnQmJm4gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmbi5kYXRhc2V0KXtpZihuLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiBuLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKG4uZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiBuLmRhdGFzZXQuc2VudHJ5RWxlbWVudH1yLnB1c2gobi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO2NvbnN0IGk9dCYmdC5sZW5ndGg/dC5maWx0ZXIoKGU9Pm4uZ2V0QXR0cmlidXRlKGUpKSkubWFwKChlPT5bZSxuLmdldEF0dHJpYnV0ZShlKV0pKTpudWxsO2lmKGkmJmkubGVuZ3RoKWkuZm9yRWFjaCgoZT0+e3IucHVzaChgWyR7ZVswXX09XCIke2VbMV19XCJdYCl9KSk7ZWxzZXtuLmlkJiZyLnB1c2goYCMke24uaWR9YCk7Y29uc3QgZT1uLmNsYXNzTmFtZTtpZihlJiZ4ZShlKSl7Y29uc3QgdD1lLnNwbGl0KC9cXHMrLyk7Zm9yKGNvbnN0IGUgb2YgdClyLnB1c2goYC4ke2V9YCl9fWNvbnN0IG89W1wiYXJpYS1sYWJlbFwiLFwidHlwZVwiLFwibmFtZVwiLFwidGl0bGVcIixcImFsdFwiXTtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCB0PW4uZ2V0QXR0cmlidXRlKGUpO3QmJnIucHVzaChgWyR7ZX09XCIke3R9XCJdYCl9cmV0dXJuIHIuam9pbihcIlwiKX1mdW5jdGlvbiBxZShlLHQ9MCl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDA9PT10fHxlLmxlbmd0aDw9dD9lOmAke2Uuc2xpY2UoMCx0KX0uLi5gfWZ1bmN0aW9uIHplKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuXCJcIjtjb25zdCBuPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF07dHJ5e1VlKHIpP24ucHVzaChcIltWdWVWaWV3TW9kZWxdXCIpOm4ucHVzaChTdHJpbmcocikpfWNhdGNoKGUpe24ucHVzaChcIlt2YWx1ZSBjYW5ub3QgYmUgc2VyaWFsaXplZF1cIil9fXJldHVybiBuLmpvaW4odCl9ZnVuY3Rpb24gV2UoZSx0LG49ITEpe3JldHVybiEheGUoZSkmJihBZSh0LFwiUmVnRXhwXCIpP3QudGVzdChlKTohIXhlKHQpJiYobj9lPT09dDplLmluY2x1ZGVzKHQpKSl9ZnVuY3Rpb24gSGUoZSx0PVtdLG49ITEpe3JldHVybiB0LnNvbWUoKHQ9PldlKGUsdCxuKSkpfWZ1bmN0aW9uIEdlKGUsdCxuKXtpZighKHQgaW4gZSkpcmV0dXJuO2NvbnN0IHI9ZVt0XSxpPW4ocik7XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmS2UoaSxyKTt0cnl7ZVt0XT1pfWNhdGNoKG4pe29lJiZsZS5sb2coYEZhaWxlZCB0byByZXBsYWNlIG1ldGhvZCBcIiR7dH1cIiBpbiBvYmplY3RgLGUpfX1mdW5jdGlvbiBRZShlLHQsbil7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2gobil7b2UmJmxlLmxvZyhgRmFpbGVkIHRvIGFkZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBcIiR7dH1cIiB0byBvYmplY3RgLGUpfX1mdW5jdGlvbiBLZShlLHQpe3RyeXtjb25zdCBuPXQucHJvdG90eXBlfHx7fTtlLnByb3RvdHlwZT10LnByb3RvdHlwZT1uLFFlKGUsXCJfX3NlbnRyeV9vcmlnaW5hbF9fXCIsdCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBZZShlKXtyZXR1cm4gZS5fX3NlbnRyeV9vcmlnaW5hbF9ffWZ1bmN0aW9uIFhlKGUpe2lmKFBlKGUpKXJldHVybnttZXNzYWdlOmUubWVzc2FnZSxuYW1lOmUubmFtZSxzdGFjazplLnN0YWNrLC4uLmV0KGUpfTtpZihSZShlKSl7Y29uc3QgdD17dHlwZTplLnR5cGUsdGFyZ2V0OlplKGUudGFyZ2V0KSxjdXJyZW50VGFyZ2V0OlplKGUuY3VycmVudFRhcmdldCksLi4uZXQoZSl9O3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBDdXN0b21FdmVudCYmQmUoZSxDdXN0b21FdmVudCkmJih0LmRldGFpbD1lLmRldGFpbCksdH1yZXR1cm4gZX1mdW5jdGlvbiBaZShlKXt0cnl7cmV0dXJuIHQ9ZSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRWxlbWVudCYmQmUodCxFbGVtZW50KT9KZShlKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9Y2F0Y2goZSl7cmV0dXJuXCI8dW5rbm93bj5cIn12YXIgdH1mdW5jdGlvbiBldChlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9cmV0dXJue319ZnVuY3Rpb24gdHQoZSl7cmV0dXJuIG50KGUsbmV3IE1hcCl9ZnVuY3Rpb24gbnQoZSx0KXtpZihmdW5jdGlvbihlKXtpZighTmUoZSkpcmV0dXJuITE7dHJ5e2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNvbnN0cnVjdG9yLm5hbWU7cmV0dXJuIXR8fFwiT2JqZWN0XCI9PT10fWNhdGNoKGUpe3JldHVybiEwfX0oZSkpe2NvbnN0IG49dC5nZXQoZSk7aWYodm9pZCAwIT09bilyZXR1cm4gbjtjb25zdCByPXt9O3Quc2V0KGUscik7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkpdm9pZCAwIT09ZVtuXSYmKHJbbl09bnQoZVtuXSx0KSk7cmV0dXJuIHJ9aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgbj10LmdldChlKTtpZih2b2lkIDAhPT1uKXJldHVybiBuO2NvbnN0IHI9W107cmV0dXJuIHQuc2V0KGUsciksZS5mb3JFYWNoKChlPT57ci5wdXNoKG50KGUsdCkpfSkpLHJ9cmV0dXJuIGV9ZnVuY3Rpb24gcnQoKXtyZXR1cm4gRGF0ZS5ub3coKS8xZTN9Y29uc3QgaXQ9ZnVuY3Rpb24oKXtjb25zdHtwZXJmb3JtYW5jZTplfT1yZTtpZighZXx8IWUubm93KXJldHVybiBydDtjb25zdCB0PURhdGUubm93KCktZS5ub3coKSxuPW51bGw9PWUudGltZU9yaWdpbj90OmUudGltZU9yaWdpbjtyZXR1cm4oKT0+KG4rZS5ub3coKSkvMWUzfSgpO2Z1bmN0aW9uIG90KCl7Y29uc3QgZT1yZSx0PWUuY3J5cHRvfHxlLm1zQ3J5cHRvO2xldCBuPSgpPT4xNipNYXRoLnJhbmRvbSgpO3RyeXtpZih0JiZ0LnJhbmRvbVVVSUQpcmV0dXJuIHQucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZyxcIlwiKTt0JiZ0LmdldFJhbmRvbVZhbHVlcyYmKG49KCk9Pntjb25zdCBlPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiB0LmdldFJhbmRvbVZhbHVlcyhlKSxlWzBdfSl9Y2F0Y2goZSl7fXJldHVybihbMWU3XSsxZTMrNGUzKzhlMysxZTExKS5yZXBsYWNlKC9bMDE4XS9nLChlPT4oZV4oMTUmbigpKT4+ZS80KS50b1N0cmluZygxNikpKX1mdW5jdGlvbiBzdChlKXtyZXR1cm4gZS5leGNlcHRpb24mJmUuZXhjZXB0aW9uLnZhbHVlcz9lLmV4Y2VwdGlvbi52YWx1ZXNbMF06dm9pZCAwfWZ1bmN0aW9uIGF0KGUpe2NvbnN0e21lc3NhZ2U6dCxldmVudF9pZDpufT1lO2lmKHQpcmV0dXJuIHQ7Y29uc3Qgcj1zdChlKTtyZXR1cm4gcj9yLnR5cGUmJnIudmFsdWU/YCR7ci50eXBlfTogJHtyLnZhbHVlfWA6ci50eXBlfHxyLnZhbHVlfHxufHxcIjx1bmtub3duPlwiOm58fFwiPHVua25vd24+XCJ9ZnVuY3Rpb24gY3QoZSx0LG4pe2NvbnN0IHI9ZS5leGNlcHRpb249ZS5leGNlcHRpb258fHt9LGk9ci52YWx1ZXM9ci52YWx1ZXN8fFtdLG89aVswXT1pWzBdfHx7fTtvLnZhbHVlfHwoby52YWx1ZT10fHxcIlwiKSxvLnR5cGV8fChvLnR5cGU9bnx8XCJFcnJvclwiKX1mdW5jdGlvbiBsdChlLHQpe2NvbnN0IG49c3QoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9bi5tZWNoYW5pc207aWYobi5tZWNoYW5pc209e3R5cGU6XCJnZW5lcmljXCIsaGFuZGxlZDohMCwuLi5yLC4uLnR9LHQmJlwiZGF0YVwiaW4gdCl7Y29uc3QgZT17Li4uciYmci5kYXRhLC4uLnQuZGF0YX07bi5tZWNoYW5pc20uZGF0YT1lfX1mdW5jdGlvbiB1dChlKXtpZihmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUuX19zZW50cnlfY2FwdHVyZWRfX31jYXRjaChlKXt9fShlKSlyZXR1cm4hMDt0cnl7UWUoZSxcIl9fc2VudHJ5X2NhcHR1cmVkX19cIiwhMCl9Y2F0Y2goZSl7fXJldHVybiExfXZhciBkdDtmdW5jdGlvbiBodChlKXtyZXR1cm4gbmV3IGZ0KCh0PT57dChlKX0pKX1mdW5jdGlvbiBwdChlKXtyZXR1cm4gbmV3IGZ0KCgodCxuKT0+e24oZSl9KSl9KCgpPT57Y29uc3R7cGVyZm9ybWFuY2U6ZX09cmU7aWYoIWV8fCFlLm5vdylyZXR1cm47Y29uc3QgdD0zNmU1LG49ZS5ub3coKSxyPURhdGUubm93KCksaT1lLnRpbWVPcmlnaW4/TWF0aC5hYnMoZS50aW1lT3JpZ2luK24tcik6dCxvPWk8dCxzPWUudGltaW5nJiZlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsYT1cIm51bWJlclwiPT10eXBlb2Ygcz9NYXRoLmFicyhzK24tcik6dDsob3x8YTx0KSYmKGk8PWEmJmUudGltZU9yaWdpbil9KSgpLGZ1bmN0aW9uKGUpe2VbZS5QRU5ESU5HPTBdPVwiUEVORElOR1wiO2VbZS5SRVNPTFZFRD0xXT1cIlJFU09MVkVEXCI7ZVtlLlJFSkVDVEVEPTJdPVwiUkVKRUNURURcIn0oZHR8fChkdD17fSkpO2NsYXNzIGZ0e2NvbnN0cnVjdG9yKGUpe2Z0LnByb3RvdHlwZS5fX2luaXQuY2FsbCh0aGlzKSxmdC5wcm90b3R5cGUuX19pbml0Mi5jYWxsKHRoaXMpLGZ0LnByb3RvdHlwZS5fX2luaXQzLmNhbGwodGhpcyksZnQucHJvdG90eXBlLl9faW5pdDQuY2FsbCh0aGlzKSx0aGlzLl9zdGF0ZT1kdC5QRU5ESU5HLHRoaXMuX2hhbmRsZXJzPVtdO3RyeXtlKHRoaXMuX3Jlc29sdmUsdGhpcy5fcmVqZWN0KX1jYXRjaChlKXt0aGlzLl9yZWplY3QoZSl9fXRoZW4oZSx0KXtyZXR1cm4gbmV3IGZ0KCgobixyKT0+e3RoaXMuX2hhbmRsZXJzLnB1c2goWyExLHQ9PntpZihlKXRyeXtuKGUodCkpfWNhdGNoKGUpe3IoZSl9ZWxzZSBuKHQpfSxlPT57aWYodCl0cnl7bih0KGUpKX1jYXRjaChlKXtyKGUpfWVsc2UgcihlKX1dKSx0aGlzLl9leGVjdXRlSGFuZGxlcnMoKX0pKX1jYXRjaChlKXtyZXR1cm4gdGhpcy50aGVuKChlPT5lKSxlKX1maW5hbGx5KGUpe3JldHVybiBuZXcgZnQoKCh0LG4pPT57bGV0IHIsaTtyZXR1cm4gdGhpcy50aGVuKCh0PT57aT0hMSxyPXQsZSYmZSgpfSksKHQ9PntpPSEwLHI9dCxlJiZlKCl9KSkudGhlbigoKCk9PntpP24ocik6dChyKX0pKX0pKX1fX2luaXQoKXt0aGlzLl9yZXNvbHZlPWU9Pnt0aGlzLl9zZXRSZXN1bHQoZHQuUkVTT0xWRUQsZSl9fV9faW5pdDIoKXt0aGlzLl9yZWplY3Q9ZT0+e3RoaXMuX3NldFJlc3VsdChkdC5SRUpFQ1RFRCxlKX19X19pbml0Mygpe3RoaXMuX3NldFJlc3VsdD0oZSx0KT0+e3RoaXMuX3N0YXRlPT09ZHQuUEVORElORyYmKEZlKHQpP3QudGhlbih0aGlzLl9yZXNvbHZlLHRoaXMuX3JlamVjdCk6KHRoaXMuX3N0YXRlPWUsdGhpcy5fdmFsdWU9dCx0aGlzLl9leGVjdXRlSGFuZGxlcnMoKSkpfX1fX2luaXQ0KCl7dGhpcy5fZXhlY3V0ZUhhbmRsZXJzPSgpPT57aWYodGhpcy5fc3RhdGU9PT1kdC5QRU5ESU5HKXJldHVybjtjb25zdCBlPXRoaXMuX2hhbmRsZXJzLnNsaWNlKCk7dGhpcy5faGFuZGxlcnM9W10sZS5mb3JFYWNoKChlPT57ZVswXXx8KHRoaXMuX3N0YXRlPT09ZHQuUkVTT0xWRUQmJmVbMV0odGhpcy5fdmFsdWUpLHRoaXMuX3N0YXRlPT09ZHQuUkVKRUNURUQmJmVbMl0odGhpcy5fdmFsdWUpLGVbMF09ITApfSkpfX19ZnVuY3Rpb24gdnQoZSl7Y29uc3QgdD1pdCgpLG49e3NpZDpvdCgpLGluaXQ6ITAsdGltZXN0YW1wOnQsc3RhcnRlZDp0LGR1cmF0aW9uOjAsc3RhdHVzOlwib2tcIixlcnJvcnM6MCxpZ25vcmVEdXJhdGlvbjohMSx0b0pTT046KCk9PmZ1bmN0aW9uKGUpe3JldHVybiB0dCh7c2lkOmAke2Uuc2lkfWAsaW5pdDplLmluaXQsc3RhcnRlZDpuZXcgRGF0ZSgxZTMqZS5zdGFydGVkKS50b0lTT1N0cmluZygpLHRpbWVzdGFtcDpuZXcgRGF0ZSgxZTMqZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksc3RhdHVzOmUuc3RhdHVzLGVycm9yczplLmVycm9ycyxkaWQ6XCJudW1iZXJcIj09dHlwZW9mIGUuZGlkfHxcInN0cmluZ1wiPT10eXBlb2YgZS5kaWQ/YCR7ZS5kaWR9YDp2b2lkIDAsZHVyYXRpb246ZS5kdXJhdGlvbixhYm5vcm1hbF9tZWNoYW5pc206ZS5hYm5vcm1hbF9tZWNoYW5pc20sYXR0cnM6e3JlbGVhc2U6ZS5yZWxlYXNlLGVudmlyb25tZW50OmUuZW52aXJvbm1lbnQsaXBfYWRkcmVzczplLmlwQWRkcmVzcyx1c2VyX2FnZW50OmUudXNlckFnZW50fX0pfShuKX07cmV0dXJuIGUmJmd0KG4sZSksbn1mdW5jdGlvbiBndChlLHQ9e30pe2lmKHQudXNlciYmKCFlLmlwQWRkcmVzcyYmdC51c2VyLmlwX2FkZHJlc3MmJihlLmlwQWRkcmVzcz10LnVzZXIuaXBfYWRkcmVzcyksZS5kaWR8fHQuZGlkfHwoZS5kaWQ9dC51c2VyLmlkfHx0LnVzZXIuZW1haWx8fHQudXNlci51c2VybmFtZSkpLGUudGltZXN0YW1wPXQudGltZXN0YW1wfHxpdCgpLHQuYWJub3JtYWxfbWVjaGFuaXNtJiYoZS5hYm5vcm1hbF9tZWNoYW5pc209dC5hYm5vcm1hbF9tZWNoYW5pc20pLHQuaWdub3JlRHVyYXRpb24mJihlLmlnbm9yZUR1cmF0aW9uPXQuaWdub3JlRHVyYXRpb24pLHQuc2lkJiYoZS5zaWQ9MzI9PT10LnNpZC5sZW5ndGg/dC5zaWQ6b3QoKSksdm9pZCAwIT09dC5pbml0JiYoZS5pbml0PXQuaW5pdCksIWUuZGlkJiZ0LmRpZCYmKGUuZGlkPWAke3QuZGlkfWApLFwibnVtYmVyXCI9PXR5cGVvZiB0LnN0YXJ0ZWQmJihlLnN0YXJ0ZWQ9dC5zdGFydGVkKSxlLmlnbm9yZUR1cmF0aW9uKWUuZHVyYXRpb249dm9pZCAwO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQuZHVyYXRpb24pZS5kdXJhdGlvbj10LmR1cmF0aW9uO2Vsc2V7Y29uc3QgdD1lLnRpbWVzdGFtcC1lLnN0YXJ0ZWQ7ZS5kdXJhdGlvbj10Pj0wP3Q6MH10LnJlbGVhc2UmJihlLnJlbGVhc2U9dC5yZWxlYXNlKSx0LmVudmlyb25tZW50JiYoZS5lbnZpcm9ubWVudD10LmVudmlyb25tZW50KSwhZS5pcEFkZHJlc3MmJnQuaXBBZGRyZXNzJiYoZS5pcEFkZHJlc3M9dC5pcEFkZHJlc3MpLCFlLnVzZXJBZ2VudCYmdC51c2VyQWdlbnQmJihlLnVzZXJBZ2VudD10LnVzZXJBZ2VudCksXCJudW1iZXJcIj09dHlwZW9mIHQuZXJyb3JzJiYoZS5lcnJvcnM9dC5lcnJvcnMpLHQuc3RhdHVzJiYoZS5zdGF0dXM9dC5zdGF0dXMpfWZ1bmN0aW9uIG10KCl7cmV0dXJuIG90KCl9ZnVuY3Rpb24geXQoKXtyZXR1cm4gb3QoKS5zdWJzdHJpbmcoMTYpfWZ1bmN0aW9uIGJ0KGUsdCxuPTIpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8bjw9MClyZXR1cm4gdDtpZihlJiZ0JiYwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiBlO2NvbnN0IHI9ey4uLmV9O2Zvcihjb25zdCBlIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJihyW2VdPWJ0KHJbZV0sdFtlXSxuLTEpKTtyZXR1cm4gcn1jb25zdCBfdD1cIl9zZW50cnlTcGFuXCI7ZnVuY3Rpb24gd3QoZSx0KXt0P1FlKGUsX3QsdCk6ZGVsZXRlIGVbX3RdfWZ1bmN0aW9uIFN0KGUpe3JldHVybiBlW190XX1jbGFzcyBrdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX25vdGlmeWluZ0xpc3RlbmVycz0hMSx0aGlzLl9zY29wZUxpc3RlbmVycz1bXSx0aGlzLl9ldmVudFByb2Nlc3NvcnM9W10sdGhpcy5fYnJlYWRjcnVtYnM9W10sdGhpcy5fYXR0YWNobWVudHM9W10sdGhpcy5fdXNlcj17fSx0aGlzLl90YWdzPXt9LHRoaXMuX2V4dHJhPXt9LHRoaXMuX2NvbnRleHRzPXt9LHRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YT17fSx0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQ9e3RyYWNlSWQ6bXQoKSxzcGFuSWQ6eXQoKX19Y2xvbmUoKXtjb25zdCBlPW5ldyBrdDtyZXR1cm4gZS5fYnJlYWRjcnVtYnM9Wy4uLnRoaXMuX2JyZWFkY3J1bWJzXSxlLl90YWdzPXsuLi50aGlzLl90YWdzfSxlLl9leHRyYT17Li4udGhpcy5fZXh0cmF9LGUuX2NvbnRleHRzPXsuLi50aGlzLl9jb250ZXh0c30sdGhpcy5fY29udGV4dHMuZmxhZ3MmJihlLl9jb250ZXh0cy5mbGFncz17dmFsdWVzOlsuLi50aGlzLl9jb250ZXh0cy5mbGFncy52YWx1ZXNdfSksZS5fdXNlcj10aGlzLl91c2VyLGUuX2xldmVsPXRoaXMuX2xldmVsLGUuX3Nlc3Npb249dGhpcy5fc2Vzc2lvbixlLl90cmFuc2FjdGlvbk5hbWU9dGhpcy5fdHJhbnNhY3Rpb25OYW1lLGUuX2ZpbmdlcnByaW50PXRoaXMuX2ZpbmdlcnByaW50LGUuX2V2ZW50UHJvY2Vzc29ycz1bLi4udGhpcy5fZXZlbnRQcm9jZXNzb3JzXSxlLl9yZXF1ZXN0U2Vzc2lvbj10aGlzLl9yZXF1ZXN0U2Vzc2lvbixlLl9hdHRhY2htZW50cz1bLi4udGhpcy5fYXR0YWNobWVudHNdLGUuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YT17Li4udGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhfSxlLl9wcm9wYWdhdGlvbkNvbnRleHQ9ey4uLnRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dH0sZS5fY2xpZW50PXRoaXMuX2NsaWVudCxlLl9sYXN0RXZlbnRJZD10aGlzLl9sYXN0RXZlbnRJZCx3dChlLFN0KHRoaXMpKSxlfXNldENsaWVudChlKXt0aGlzLl9jbGllbnQ9ZX1zZXRMYXN0RXZlbnRJZChlKXt0aGlzLl9sYXN0RXZlbnRJZD1lfWdldENsaWVudCgpe3JldHVybiB0aGlzLl9jbGllbnR9bGFzdEV2ZW50SWQoKXtyZXR1cm4gdGhpcy5fbGFzdEV2ZW50SWR9YWRkU2NvcGVMaXN0ZW5lcihlKXt0aGlzLl9zY29wZUxpc3RlbmVycy5wdXNoKGUpfWFkZEV2ZW50UHJvY2Vzc29yKGUpe3JldHVybiB0aGlzLl9ldmVudFByb2Nlc3NvcnMucHVzaChlKSx0aGlzfXNldFVzZXIoZSl7cmV0dXJuIHRoaXMuX3VzZXI9ZXx8e2VtYWlsOnZvaWQgMCxpZDp2b2lkIDAsaXBfYWRkcmVzczp2b2lkIDAsdXNlcm5hbWU6dm9pZCAwfSx0aGlzLl9zZXNzaW9uJiZndCh0aGlzLl9zZXNzaW9uLHt1c2VyOmV9KSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9Z2V0VXNlcigpe3JldHVybiB0aGlzLl91c2VyfWdldFJlcXVlc3RTZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZXNzaW9ufXNldFJlcXVlc3RTZXNzaW9uKGUpe3JldHVybiB0aGlzLl9yZXF1ZXN0U2Vzc2lvbj1lLHRoaXN9c2V0VGFncyhlKXtyZXR1cm4gdGhpcy5fdGFncz17Li4udGhpcy5fdGFncywuLi5lfSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0VGFnKGUsdCl7cmV0dXJuIHRoaXMuX3RhZ3M9ey4uLnRoaXMuX3RhZ3MsW2VdOnR9LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRFeHRyYXMoZSl7cmV0dXJuIHRoaXMuX2V4dHJhPXsuLi50aGlzLl9leHRyYSwuLi5lfSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0RXh0cmEoZSx0KXtyZXR1cm4gdGhpcy5fZXh0cmE9ey4uLnRoaXMuX2V4dHJhLFtlXTp0fSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0RmluZ2VycHJpbnQoZSl7cmV0dXJuIHRoaXMuX2ZpbmdlcnByaW50PWUsdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldExldmVsKGUpe3JldHVybiB0aGlzLl9sZXZlbD1lLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRUcmFuc2FjdGlvbk5hbWUoZSl7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uTmFtZT1lLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRDb250ZXh0KGUsdCl7cmV0dXJuIG51bGw9PT10P2RlbGV0ZSB0aGlzLl9jb250ZXh0c1tlXTp0aGlzLl9jb250ZXh0c1tlXT10LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRTZXNzaW9uKGUpe3JldHVybiBlP3RoaXMuX3Nlc3Npb249ZTpkZWxldGUgdGhpcy5fc2Vzc2lvbix0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9Z2V0U2Vzc2lvbigpe3JldHVybiB0aGlzLl9zZXNzaW9ufXVwZGF0ZShlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0aGlzKTplLFtuLHJdPXQgaW5zdGFuY2VvZiBNdD9bdC5nZXRTY29wZURhdGEoKSx0LmdldFJlcXVlc3RTZXNzaW9uKCldOk5lKHQpP1tlLGUucmVxdWVzdFNlc3Npb25dOltdLHt0YWdzOmksZXh0cmE6byx1c2VyOnMsY29udGV4dHM6YSxsZXZlbDpjLGZpbmdlcnByaW50Omw9W10scHJvcGFnYXRpb25Db250ZXh0OnV9PW58fHt9O3JldHVybiB0aGlzLl90YWdzPXsuLi50aGlzLl90YWdzLC4uLml9LHRoaXMuX2V4dHJhPXsuLi50aGlzLl9leHRyYSwuLi5vfSx0aGlzLl9jb250ZXh0cz17Li4udGhpcy5fY29udGV4dHMsLi4uYX0scyYmT2JqZWN0LmtleXMocykubGVuZ3RoJiYodGhpcy5fdXNlcj1zKSxjJiYodGhpcy5fbGV2ZWw9YyksbC5sZW5ndGgmJih0aGlzLl9maW5nZXJwcmludD1sKSx1JiYodGhpcy5fcHJvcGFnYXRpb25Db250ZXh0PXUpLHImJih0aGlzLl9yZXF1ZXN0U2Vzc2lvbj1yKSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzPVtdLHRoaXMuX3RhZ3M9e30sdGhpcy5fZXh0cmE9e30sdGhpcy5fdXNlcj17fSx0aGlzLl9jb250ZXh0cz17fSx0aGlzLl9sZXZlbD12b2lkIDAsdGhpcy5fdHJhbnNhY3Rpb25OYW1lPXZvaWQgMCx0aGlzLl9maW5nZXJwcmludD12b2lkIDAsdGhpcy5fcmVxdWVzdFNlc3Npb249dm9pZCAwLHRoaXMuX3Nlc3Npb249dm9pZCAwLHd0KHRoaXMsdm9pZCAwKSx0aGlzLl9hdHRhY2htZW50cz1bXSx0aGlzLnNldFByb3BhZ2F0aW9uQ29udGV4dCh7dHJhY2VJZDptdCgpfSksdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfWFkZEJyZWFkY3J1bWIoZSx0KXtjb25zdCBuPVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6MTAwO2lmKG48PTApcmV0dXJuIHRoaXM7Y29uc3Qgcj17dGltZXN0YW1wOnJ0KCksLi4uZX07cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzLnB1c2gociksdGhpcy5fYnJlYWRjcnVtYnMubGVuZ3RoPm4mJih0aGlzLl9icmVhZGNydW1icz10aGlzLl9icmVhZGNydW1icy5zbGljZSgtbiksdGhpcy5fY2xpZW50JiZ0aGlzLl9jbGllbnQucmVjb3JkRHJvcHBlZEV2ZW50KFwiYnVmZmVyX292ZXJmbG93XCIsXCJsb2dfaXRlbVwiKSksdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfWdldExhc3RCcmVhZGNydW1iKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzW3RoaXMuX2JyZWFkY3J1bWJzLmxlbmd0aC0xXX1jbGVhckJyZWFkY3J1bWJzKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzPVtdLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31hZGRBdHRhY2htZW50KGUpe3JldHVybiB0aGlzLl9hdHRhY2htZW50cy5wdXNoKGUpLHRoaXN9Y2xlYXJBdHRhY2htZW50cygpe3JldHVybiB0aGlzLl9hdHRhY2htZW50cz1bXSx0aGlzfWdldFNjb3BlRGF0YSgpe3JldHVybnticmVhZGNydW1iczp0aGlzLl9icmVhZGNydW1icyxhdHRhY2htZW50czp0aGlzLl9hdHRhY2htZW50cyxjb250ZXh0czp0aGlzLl9jb250ZXh0cyx0YWdzOnRoaXMuX3RhZ3MsZXh0cmE6dGhpcy5fZXh0cmEsdXNlcjp0aGlzLl91c2VyLGxldmVsOnRoaXMuX2xldmVsLGZpbmdlcnByaW50OnRoaXMuX2ZpbmdlcnByaW50fHxbXSxldmVudFByb2Nlc3NvcnM6dGhpcy5fZXZlbnRQcm9jZXNzb3JzLHByb3BhZ2F0aW9uQ29udGV4dDp0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQsc2RrUHJvY2Vzc2luZ01ldGFkYXRhOnRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSx0cmFuc2FjdGlvbk5hbWU6dGhpcy5fdHJhbnNhY3Rpb25OYW1lLHNwYW46U3QodGhpcyl9fXNldFNES1Byb2Nlc3NpbmdNZXRhZGF0YShlKXtyZXR1cm4gdGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhPWJ0KHRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSxlLDIpLHRoaXN9c2V0UHJvcGFnYXRpb25Db250ZXh0KGUpe3JldHVybiB0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQ9e3NwYW5JZDp5dCgpLC4uLmV9LHRoaXN9Z2V0UHJvcGFnYXRpb25Db250ZXh0KCl7cmV0dXJuIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dH1jYXB0dXJlRXhjZXB0aW9uKGUsdCl7Y29uc3Qgbj10JiZ0LmV2ZW50X2lkP3QuZXZlbnRfaWQ6b3QoKTtpZighdGhpcy5fY2xpZW50KXJldHVybiBsZS53YXJuKFwiTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIGV4Y2VwdGlvbiFcIiksbjtjb25zdCByPW5ldyBFcnJvcihcIlNlbnRyeSBzeW50aGV0aWNFeGNlcHRpb25cIik7cmV0dXJuIHRoaXMuX2NsaWVudC5jYXB0dXJlRXhjZXB0aW9uKGUse29yaWdpbmFsRXhjZXB0aW9uOmUsc3ludGhldGljRXhjZXB0aW9uOnIsLi4udCxldmVudF9pZDpufSx0aGlzKSxufWNhcHR1cmVNZXNzYWdlKGUsdCxuKXtjb25zdCByPW4mJm4uZXZlbnRfaWQ/bi5ldmVudF9pZDpvdCgpO2lmKCF0aGlzLl9jbGllbnQpcmV0dXJuIGxlLndhcm4oXCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgbWVzc2FnZSFcIikscjtjb25zdCBpPW5ldyBFcnJvcihlKTtyZXR1cm4gdGhpcy5fY2xpZW50LmNhcHR1cmVNZXNzYWdlKGUsdCx7b3JpZ2luYWxFeGNlcHRpb246ZSxzeW50aGV0aWNFeGNlcHRpb246aSwuLi5uLGV2ZW50X2lkOnJ9LHRoaXMpLHJ9Y2FwdHVyZUV2ZW50KGUsdCl7Y29uc3Qgbj10JiZ0LmV2ZW50X2lkP3QuZXZlbnRfaWQ6b3QoKTtyZXR1cm4gdGhpcy5fY2xpZW50Pyh0aGlzLl9jbGllbnQuY2FwdHVyZUV2ZW50KGUsey4uLnQsZXZlbnRfaWQ6bn0sdGhpcyksbik6KGxlLndhcm4oXCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgZXZlbnQhXCIpLG4pfV9ub3RpZnlTY29wZUxpc3RlbmVycygpe3RoaXMuX25vdGlmeWluZ0xpc3RlbmVyc3x8KHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycz0hMCx0aGlzLl9zY29wZUxpc3RlbmVycy5mb3JFYWNoKChlPT57ZSh0aGlzKX0pKSx0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnM9ITEpfX1jb25zdCBNdD1rdDtjbGFzcyBDdHtjb25zdHJ1Y3RvcihlLHQpe2xldCBuLHI7bj1lfHxuZXcgTXQscj10fHxuZXcgTXQsdGhpcy5fc3RhY2s9W3tzY29wZTpufV0sdGhpcy5faXNvbGF0aW9uU2NvcGU9cn13aXRoU2NvcGUoZSl7Y29uc3QgdD10aGlzLl9wdXNoU2NvcGUoKTtsZXQgbjt0cnl7bj1lKHQpfWNhdGNoKGUpe3Rocm93IHRoaXMuX3BvcFNjb3BlKCksZX1yZXR1cm4gRmUobik/bi50aGVuKChlPT4odGhpcy5fcG9wU2NvcGUoKSxlKSksKGU9Pnt0aHJvdyB0aGlzLl9wb3BTY29wZSgpLGV9KSk6KHRoaXMuX3BvcFNjb3BlKCksbil9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuZ2V0U3RhY2tUb3AoKS5jbGllbnR9Z2V0U2NvcGUoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlfWdldElzb2xhdGlvblNjb3BlKCl7cmV0dXJuIHRoaXMuX2lzb2xhdGlvblNjb3BlfWdldFN0YWNrVG9wKCl7cmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrLmxlbmd0aC0xXX1fcHVzaFNjb3BlKCl7Y29uc3QgZT10aGlzLmdldFNjb3BlKCkuY2xvbmUoKTtyZXR1cm4gdGhpcy5fc3RhY2sucHVzaCh7Y2xpZW50OnRoaXMuZ2V0Q2xpZW50KCksc2NvcGU6ZX0pLGV9X3BvcFNjb3BlKCl7cmV0dXJuISh0aGlzLl9zdGFjay5sZW5ndGg8PTEpJiYhIXRoaXMuX3N0YWNrLnBvcCgpfX1mdW5jdGlvbiBFdCgpe2NvbnN0IGU9VGUoRWUoKSk7cmV0dXJuIGUuc3RhY2s9ZS5zdGFja3x8bmV3IEN0KGllKFwiZGVmYXVsdEN1cnJlbnRTY29wZVwiLCgoKT0+bmV3IE10KSksaWUoXCJkZWZhdWx0SXNvbGF0aW9uU2NvcGVcIiwoKCk9Pm5ldyBNdCkpKX1mdW5jdGlvbiBUdChlKXtyZXR1cm4gRXQoKS53aXRoU2NvcGUoZSl9ZnVuY3Rpb24gT3QoZSx0KXtjb25zdCBuPUV0KCk7cmV0dXJuIG4ud2l0aFNjb3BlKCgoKT0+KG4uZ2V0U3RhY2tUb3AoKS5zY29wZT1lLHQoZSkpKSl9ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIEV0KCkud2l0aFNjb3BlKCgoKT0+ZShFdCgpLmdldElzb2xhdGlvblNjb3BlKCkpKSl9ZnVuY3Rpb24gQXQoZSl7Y29uc3QgdD1UZShlKTtyZXR1cm4gdC5hY3M/dC5hY3M6e3dpdGhJc29sYXRpb25TY29wZTpQdCx3aXRoU2NvcGU6VHQsd2l0aFNldFNjb3BlOk90LHdpdGhTZXRJc29sYXRpb25TY29wZTooZSx0KT0+UHQodCksZ2V0Q3VycmVudFNjb3BlOigpPT5FdCgpLmdldFNjb3BlKCksZ2V0SXNvbGF0aW9uU2NvcGU6KCk9PkV0KCkuZ2V0SXNvbGF0aW9uU2NvcGUoKX19ZnVuY3Rpb24ganQoKXtyZXR1cm4gQXQoRWUoKSkuZ2V0Q3VycmVudFNjb3BlKCl9ZnVuY3Rpb24gSXQoKXtyZXR1cm4gQXQoRWUoKSkuZ2V0SXNvbGF0aW9uU2NvcGUoKX1mdW5jdGlvbiB4dCgpe3JldHVybiBqdCgpLmdldENsaWVudCgpfWZ1bmN0aW9uIEx0KGUpe2NvbnN0IHQ9ZS5nZXRQcm9wYWdhdGlvbkNvbnRleHQoKSx7dHJhY2VJZDpuLHNwYW5JZDpyLHBhcmVudFNwYW5JZDppfT10O3JldHVybiB0dCh7dHJhY2VfaWQ6bixzcGFuX2lkOnIscGFyZW50X3NwYW5faWQ6aX0pfWZ1bmN0aW9uIER0KGUpe2NvbnN0IHQ9ZS5fc2VudHJ5TWV0cmljcztpZighdClyZXR1cm47Y29uc3Qgbj17fTtmb3IoY29uc3RbLFtlLHJdXW9mIHQpeyhuW2VdfHwobltlXT1bXSkpLnB1c2godHQocikpfXJldHVybiBufWNvbnN0IE50PS9ec2VudHJ5LS87ZnVuY3Rpb24gUnQoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtpZighZXx8IXhlKGUpJiYhQXJyYXkuaXNBcnJheShlKSlyZXR1cm47aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5yZWR1Y2UoKChlLHQpPT57Y29uc3Qgbj1GdCh0KTtyZXR1cm4gT2JqZWN0LmVudHJpZXMobikuZm9yRWFjaCgoKFt0LG5dKT0+e2VbdF09bn0pKSxlfSkse30pO3JldHVybiBGdChlKX0oZSk7aWYoIXQpcmV0dXJuO2NvbnN0IG49T2JqZWN0LmVudHJpZXModCkucmVkdWNlKCgoZSxbdCxuXSk9PntpZih0Lm1hdGNoKE50KSl7ZVt0LnNsaWNlKDcpXT1ufXJldHVybiBlfSkse30pO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGg+MD9uOnZvaWQgMH1mdW5jdGlvbiBGdChlKXtyZXR1cm4gZS5zcGxpdChcIixcIikubWFwKChlPT5lLnNwbGl0KFwiPVwiKS5tYXAoKGU9PmRlY29kZVVSSUNvbXBvbmVudChlLnRyaW0oKSkpKSkpLnJlZHVjZSgoKGUsW3Qsbl0pPT4odCYmbiYmKGVbdF09biksZSkpLHt9KX1sZXQgQnQ9ITE7ZnVuY3Rpb24gVXQoZSl7Y29uc3R7c3BhbklkOnQsdHJhY2VJZDpuLGlzUmVtb3RlOnJ9PWUuc3BhbkNvbnRleHQoKTtyZXR1cm4gdHQoe3BhcmVudF9zcGFuX2lkOnI/dDokdChlKS5wYXJlbnRfc3Bhbl9pZCxzcGFuX2lkOnI/eXQoKTp0LHRyYWNlX2lkOm59KX1mdW5jdGlvbiBWdChlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9KdChlKTpBcnJheS5pc0FycmF5KGUpP2VbMF0rZVsxXS8xZTk6ZSBpbnN0YW5jZW9mIERhdGU/SnQoZS5nZXRUaW1lKCkpOml0KCl9ZnVuY3Rpb24gSnQoZSl7cmV0dXJuIGU+OTk5OTk5OTk5OT9lLzFlMzplfWZ1bmN0aW9uICR0KGUpe2lmKGZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0U3BhbkpTT059KGUpKXJldHVybiBlLmdldFNwYW5KU09OKCk7dHJ5e2NvbnN0e3NwYW5JZDp0LHRyYWNlSWQ6bn09ZS5zcGFuQ29udGV4dCgpO2lmKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZTtyZXR1cm4hISh0LmF0dHJpYnV0ZXMmJnQuc3RhcnRUaW1lJiZ0Lm5hbWUmJnQuZW5kVGltZSYmdC5zdGF0dXMpfShlKSl7Y29uc3R7YXR0cmlidXRlczpyLHN0YXJ0VGltZTppLG5hbWU6byxlbmRUaW1lOnMscGFyZW50U3BhbklkOmEsc3RhdHVzOmN9PWU7cmV0dXJuIHR0KHtzcGFuX2lkOnQsdHJhY2VfaWQ6bixkYXRhOnIsZGVzY3JpcHRpb246byxwYXJlbnRfc3Bhbl9pZDphLHN0YXJ0X3RpbWVzdGFtcDpWdChpKSx0aW1lc3RhbXA6VnQocyl8fHZvaWQgMCxzdGF0dXM6cXQoYyksb3A6cltcInNlbnRyeS5vcFwiXSxvcmlnaW46cltcInNlbnRyeS5vcmlnaW5cIl0sX21ldHJpY3Nfc3VtbWFyeTpEdChlKX0pfXJldHVybntzcGFuX2lkOnQsdHJhY2VfaWQ6bn19Y2F0Y2goZSl7cmV0dXJue319fWZ1bmN0aW9uIHF0KGUpe2lmKGUmJjAhPT1lLmNvZGUpcmV0dXJuIDE9PT1lLmNvZGU/XCJva1wiOmUubWVzc2FnZXx8XCJ1bmtub3duX2Vycm9yXCJ9ZnVuY3Rpb24genQoZSl7cmV0dXJuIGUuX3NlbnRyeVJvb3RTcGFufHxlfWZ1bmN0aW9uIFd0KCl7QnR8fChjZSgoKCk9Pntjb25zb2xlLndhcm4oXCJbU2VudHJ5XSBEZXByZWNhdGlvbiB3YXJuaW5nOiBSZXR1cm5pbmcgbnVsbCBmcm9tIGBiZWZvcmVTZW5kU3BhbmAgd2lsbCBiZSBkaXNhbGxvd2VkIGZyb20gU0RLIHZlcnNpb24gOS4wLjAgb253YXJkcy4gVGhlIGNhbGxiYWNrIHdpbGwgb25seSBzdXBwb3J0IG11dGF0aW5nIHNwYW5zLiBUbyBkcm9wIGNlcnRhaW4gc3BhbnMsIGNvbmZpZ3VyZSB0aGUgcmVzcGVjdGl2ZSBpbnRlZ3JhdGlvbnMgZGlyZWN0bHkuXCIpfSkpLEJ0PSEwKX1jb25zdCBIdD1cInByb2R1Y3Rpb25cIjtmdW5jdGlvbiBHdChlLHQpe2NvbnN0IG49dC5nZXRPcHRpb25zKCkse3B1YmxpY0tleTpyfT10LmdldERzbigpfHx7fSxpPXR0KHtlbnZpcm9ubWVudDpuLmVudmlyb25tZW50fHxIdCxyZWxlYXNlOm4ucmVsZWFzZSxwdWJsaWNfa2V5OnIsdHJhY2VfaWQ6ZX0pO3JldHVybiB0LmVtaXQoXCJjcmVhdGVEc2NcIixpKSxpfWZ1bmN0aW9uIFF0KGUpe2NvbnN0IHQ9eHQoKTtpZighdClyZXR1cm57fTtjb25zdCBuPXp0KGUpLHI9bi5fZnJvemVuRHNjO2lmKHIpcmV0dXJuIHI7Y29uc3QgaT1uLnNwYW5Db250ZXh0KCkudHJhY2VTdGF0ZSxvPWkmJmkuZ2V0KFwic2VudHJ5LmRzY1wiKSxzPW8mJlJ0KG8pO2lmKHMpcmV0dXJuIHM7Y29uc3QgYT1HdChlLnNwYW5Db250ZXh0KCkudHJhY2VJZCx0KSxjPSR0KG4pLGw9Yy5kYXRhfHx7fSx1PWxbXCJzZW50cnkuc2FtcGxlX3JhdGVcIl07bnVsbCE9dSYmKGEuc2FtcGxlX3JhdGU9YCR7dX1gKTtjb25zdCBkPWxbXCJzZW50cnkuc291cmNlXCJdLGg9Yy5kZXNjcmlwdGlvbjtyZXR1cm5cInVybFwiIT09ZCYmaCYmKGEudHJhbnNhY3Rpb249aCksZnVuY3Rpb24oZSl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBfX1NFTlRSWV9UUkFDSU5HX18mJiFfX1NFTlRSWV9UUkFDSU5HX18pcmV0dXJuITE7Y29uc3QgdD14dCgpLG49ZXx8dCYmdC5nZXRPcHRpb25zKCk7cmV0dXJuISFuJiYobi5lbmFibGVUcmFjaW5nfHxcInRyYWNlc1NhbXBsZVJhdGVcImluIG58fFwidHJhY2VzU2FtcGxlclwiaW4gbil9KCkmJihhLnNhbXBsZWQ9U3RyaW5nKGZ1bmN0aW9uKGUpe2NvbnN0e3RyYWNlRmxhZ3M6dH09ZS5zcGFuQ29udGV4dCgpO3JldHVybiAxPT09dH0obikpKSx0LmVtaXQoXCJjcmVhdGVEc2NcIixhLG4pLGF9Y29uc3QgS3Q9L14oPzooXFx3Kyk6KVxcL1xcLyg/OihcXHcrKSg/OjooXFx3Kyk/KT9AKShbXFx3Li1dKykoPzo6KFxcZCspKT9cXC8oLispLztmdW5jdGlvbiBZdChlLHQ9ITEpe2NvbnN0e2hvc3Q6bixwYXRoOnIscGFzczppLHBvcnQ6byxwcm9qZWN0SWQ6cyxwcm90b2NvbDphLHB1YmxpY0tleTpjfT1lO3JldHVybmAke2F9Oi8vJHtjfSR7dCYmaT9gOiR7aX1gOlwiXCJ9QCR7bn0ke28/YDoke299YDpcIlwifS8ke3I/YCR7cn0vYDpyfSR7c31gfWZ1bmN0aW9uIFh0KGUpe3JldHVybntwcm90b2NvbDplLnByb3RvY29sLHB1YmxpY0tleTplLnB1YmxpY0tleXx8XCJcIixwYXNzOmUucGFzc3x8XCJcIixob3N0OmUuaG9zdCxwb3J0OmUucG9ydHx8XCJcIixwYXRoOmUucGF0aHx8XCJcIixwcm9qZWN0SWQ6ZS5wcm9qZWN0SWR9fWZ1bmN0aW9uIFp0KGUpe2NvbnN0IHQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZnVuY3Rpb24oZSl7Y29uc3QgdD1LdC5leGVjKGUpO2lmKCF0KXJldHVybiB2b2lkIGNlKCgoKT0+e2NvbnNvbGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogJHtlfWApfSkpO2NvbnN0W24scixpPVwiXCIsbz1cIlwiLHM9XCJcIixhPVwiXCJdPXQuc2xpY2UoMSk7bGV0IGM9XCJcIixsPWE7Y29uc3QgdT1sLnNwbGl0KFwiL1wiKTtpZih1Lmxlbmd0aD4xJiYoYz11LnNsaWNlKDAsLTEpLmpvaW4oXCIvXCIpLGw9dS5wb3AoKSksbCl7Y29uc3QgZT1sLm1hdGNoKC9eXFxkKy8pO2UmJihsPWVbMF0pfXJldHVybiBYdCh7aG9zdDpvLHBhc3M6aSxwYXRoOmMscHJvamVjdElkOmwscG9ydDpzLHByb3RvY29sOm4scHVibGljS2V5OnJ9KX0oZSk6WHQoZSk7aWYodCYmZnVuY3Rpb24oZSl7aWYoIW9lKXJldHVybiEwO2NvbnN0e3BvcnQ6dCxwcm9qZWN0SWQ6bixwcm90b2NvbDpyfT1lO3JldHVybiEoW1wicHJvdG9jb2xcIixcInB1YmxpY0tleVwiLFwiaG9zdFwiLFwicHJvamVjdElkXCJdLmZpbmQoKHQ9PiFlW3RdJiYobGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogJHt0fSBtaXNzaW5nYCksITApKSl8fChuLm1hdGNoKC9eXFxkKyQvKT9mdW5jdGlvbihlKXtyZXR1cm5cImh0dHBcIj09PWV8fFwiaHR0cHNcIj09PWV9KHIpP3QmJmlzTmFOKHBhcnNlSW50KHQsMTApKSYmKGxlLmVycm9yKGBJbnZhbGlkIFNlbnRyeSBEc246IEludmFsaWQgcG9ydCAke3R9YCksMSk6KGxlLmVycm9yKGBJbnZhbGlkIFNlbnRyeSBEc246IEludmFsaWQgcHJvdG9jb2wgJHtyfWApLDEpOihsZS5lcnJvcihgSW52YWxpZCBTZW50cnkgRHNuOiBJbnZhbGlkIHByb2plY3RJZCAke259YCksMSkpKX0odCkpcmV0dXJuIHR9ZnVuY3Rpb24gZW4oZSx0PTEwMCxuPTEvMCl7dHJ5e3JldHVybiBubihcIlwiLGUsdCxuKX1jYXRjaChlKXtyZXR1cm57RVJST1I6YCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2V9KWB9fX1mdW5jdGlvbiB0bihlLHQ9MyxuPTEwMjQwMCl7Y29uc3Qgcj1lbihlLHQpO3JldHVybiBpPXIsZnVuY3Rpb24oZSl7cmV0dXJufi1lbmNvZGVVUkkoZSkuc3BsaXQoLyUuLnwuLykubGVuZ3RofShKU09OLnN0cmluZ2lmeShpKSk+bj90bihlLHQtMSxuKTpyO3ZhciBpfWZ1bmN0aW9uIG5uKGUsdCxuPTEvMCxyPTEvMCxpPWZ1bmN0aW9uKCl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0LHQ9ZT9uZXcgV2Vha1NldDpbXTtyZXR1cm5bZnVuY3Rpb24obil7aWYoZSlyZXR1cm4hIXQuaGFzKG4pfHwodC5hZGQobiksITEpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV09PT1uKXJldHVybiEwO3JldHVybiB0LnB1c2gobiksITF9LGZ1bmN0aW9uKG4pe2lmKGUpdC5kZWxldGUobik7ZWxzZSBmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdPT09bil7dC5zcGxpY2UoZSwxKTticmVha319XX0oKSl7Y29uc3RbbyxzXT1pO2lmKG51bGw9PXR8fFtcImJvb2xlYW5cIixcInN0cmluZ1wiXS5pbmNsdWRlcyh0eXBlb2YgdCl8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZOdW1iZXIuaXNGaW5pdGUodCkpcmV0dXJuIHQ7Y29uc3QgYT1mdW5jdGlvbihlLHQpe3RyeXtpZihcImRvbWFpblwiPT09ZSYmdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuX2V2ZW50cylyZXR1cm5cIltEb21haW5dXCI7aWYoXCJkb21haW5FbWl0dGVyXCI9PT1lKXJldHVyblwiW0RvbWFpbkVtaXR0ZXJdXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmdD09PWdsb2JhbClyZXR1cm5cIltHbG9iYWxdXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdD09PXdpbmRvdylyZXR1cm5cIltXaW5kb3ddXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0PT09ZG9jdW1lbnQpcmV0dXJuXCJbRG9jdW1lbnRdXCI7aWYoVWUodCkpcmV0dXJuXCJbVnVlVmlld01vZGVsXVwiO2lmKE5lKG49dCkmJlwibmF0aXZlRXZlbnRcImluIG4mJlwicHJldmVudERlZmF1bHRcImluIG4mJlwic3RvcFByb3BhZ2F0aW9uXCJpbiBuKXJldHVyblwiW1N5bnRoZXRpY0V2ZW50XVwiO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYhTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybmBbJHt0fV1gO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuYFtGdW5jdGlvbjogJHt2ZSh0KX1dYDtpZihcInN5bWJvbFwiPT10eXBlb2YgdClyZXR1cm5gWyR7U3RyaW5nKHQpfV1gO2lmKFwiYmlnaW50XCI9PXR5cGVvZiB0KXJldHVybmBbQmlnSW50OiAke1N0cmluZyh0KX1dYDtjb25zdCByPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiB0P3QuY29uc3RydWN0b3IubmFtZTpcIm51bGwgcHJvdG90eXBlXCJ9KHQpO3JldHVybi9eSFRNTChcXHcqKUVsZW1lbnQkLy50ZXN0KHIpP2BbSFRNTEVsZW1lbnQ6ICR7cn1dYDpgW29iamVjdCAke3J9XWB9Y2F0Y2goZSl7cmV0dXJuYCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2V9KWB9dmFyIG59KGUsdCk7aWYoIWEuc3RhcnRzV2l0aChcIltvYmplY3QgXCIpKXJldHVybiBhO2lmKHQuX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18pcmV0dXJuIHQ7Y29uc3QgYz1cIm51bWJlclwiPT10eXBlb2YgdC5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18/dC5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX186bjtpZigwPT09YylyZXR1cm4gYS5yZXBsYWNlKFwib2JqZWN0IFwiLFwiXCIpO2lmKG8odCkpcmV0dXJuXCJbQ2lyY3VsYXIgfl1cIjtjb25zdCBsPXQ7aWYobCYmXCJmdW5jdGlvblwiPT10eXBlb2YgbC50b0pTT04pdHJ5e3JldHVybiBubihcIlwiLGwudG9KU09OKCksYy0xLHIsaSl9Y2F0Y2goZSl7fWNvbnN0IHU9QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtsZXQgZD0wO2NvbnN0IGg9WGUodCk7Zm9yKGNvbnN0IGUgaW4gaCl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGUpKWNvbnRpbnVlO2lmKGQ+PXIpe3VbZV09XCJbTWF4UHJvcGVydGllcyB+XVwiO2JyZWFrfWNvbnN0IHQ9aFtlXTt1W2VdPW5uKGUsdCxjLTEscixpKSxkKyt9cmV0dXJuIHModCksdX1mdW5jdGlvbiBybihlLHQ9W10pe3JldHVybltlLHRdfWZ1bmN0aW9uIG9uKGUsdCl7Y29uc3RbbixyXT1lO3JldHVybltuLFsuLi5yLHRdXX1mdW5jdGlvbiBzbihlLHQpe2NvbnN0IG49ZVsxXTtmb3IoY29uc3QgZSBvZiBuKXtpZih0KGUsZVswXS50eXBlKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBhbihlKXtyZXR1cm4gcmUuX19TRU5UUllfXyYmcmUuX19TRU5UUllfXy5lbmNvZGVQb2x5ZmlsbD9yZS5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsKGUpOihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKX1mdW5jdGlvbiBjbihlKXtjb25zdFt0LG5dPWU7bGV0IHI9SlNPTi5zdHJpbmdpZnkodCk7ZnVuY3Rpb24gaShlKXtcInN0cmluZ1wiPT10eXBlb2Ygcj9yPVwic3RyaW5nXCI9PXR5cGVvZiBlP3IrZTpbYW4ociksZV06ci5wdXNoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2FuKGUpOmUpfWZvcihjb25zdCBlIG9mIG4pe2NvbnN0W3Qsbl09ZTtpZihpKGBcXG4ke0pTT04uc3RyaW5naWZ5KHQpfVxcbmApLFwic3RyaW5nXCI9PXR5cGVvZiBufHxuIGluc3RhbmNlb2YgVWludDhBcnJheSlpKG4pO2Vsc2V7bGV0IGU7dHJ5e2U9SlNPTi5zdHJpbmdpZnkobil9Y2F0Y2godCl7ZT1KU09OLnN0cmluZ2lmeShlbihuKSl9aShlKX19cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/cjpmdW5jdGlvbihlKXtjb25zdCB0PWUucmVkdWNlKCgoZSx0KT0+ZSt0Lmxlbmd0aCksMCksbj1uZXcgVWludDhBcnJheSh0KTtsZXQgcj0wO2Zvcihjb25zdCB0IG9mIGUpbi5zZXQodCxyKSxyKz10Lmxlbmd0aDtyZXR1cm4gbn0ocil9ZnVuY3Rpb24gbG4oZSl7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhP2FuKGUuZGF0YSk6ZS5kYXRhO3JldHVyblt0dCh7dHlwZTpcImF0dGFjaG1lbnRcIixsZW5ndGg6dC5sZW5ndGgsZmlsZW5hbWU6ZS5maWxlbmFtZSxjb250ZW50X3R5cGU6ZS5jb250ZW50VHlwZSxhdHRhY2htZW50X3R5cGU6ZS5hdHRhY2htZW50VHlwZX0pLHRdfWNvbnN0IHVuPXtzZXNzaW9uOlwic2Vzc2lvblwiLHNlc3Npb25zOlwic2Vzc2lvblwiLGF0dGFjaG1lbnQ6XCJhdHRhY2htZW50XCIsdHJhbnNhY3Rpb246XCJ0cmFuc2FjdGlvblwiLGV2ZW50OlwiZXJyb3JcIixjbGllbnRfcmVwb3J0OlwiaW50ZXJuYWxcIix1c2VyX3JlcG9ydDpcImRlZmF1bHRcIixwcm9maWxlOlwicHJvZmlsZVwiLHByb2ZpbGVfY2h1bms6XCJwcm9maWxlXCIscmVwbGF5X2V2ZW50OlwicmVwbGF5XCIscmVwbGF5X3JlY29yZGluZzpcInJlcGxheVwiLGNoZWNrX2luOlwibW9uaXRvclwiLGZlZWRiYWNrOlwiZmVlZGJhY2tcIixzcGFuOlwic3BhblwiLHN0YXRzZDpcIm1ldHJpY19idWNrZXRcIixyYXdfc2VjdXJpdHk6XCJzZWN1cml0eVwifTtmdW5jdGlvbiBkbihlKXtyZXR1cm4gdW5bZV19ZnVuY3Rpb24gaG4oZSl7aWYoIWV8fCFlLnNkaylyZXR1cm47Y29uc3R7bmFtZTp0LHZlcnNpb246bn09ZS5zZGs7cmV0dXJue25hbWU6dCx2ZXJzaW9uOm59fWZ1bmN0aW9uIHBuKGUsdCxuLHIpe2NvbnN0IGk9aG4obiksbz1lLnR5cGUmJlwicmVwbGF5X2V2ZW50XCIhPT1lLnR5cGU/ZS50eXBlOlwiZXZlbnRcIjshZnVuY3Rpb24oZSx0KXt0JiYoZS5zZGs9ZS5zZGt8fHt9LGUuc2RrLm5hbWU9ZS5zZGsubmFtZXx8dC5uYW1lLGUuc2RrLnZlcnNpb249ZS5zZGsudmVyc2lvbnx8dC52ZXJzaW9uLGUuc2RrLmludGVncmF0aW9ucz1bLi4uZS5zZGsuaW50ZWdyYXRpb25zfHxbXSwuLi50LmludGVncmF0aW9uc3x8W11dLGUuc2RrLnBhY2thZ2VzPVsuLi5lLnNkay5wYWNrYWdlc3x8W10sLi4udC5wYWNrYWdlc3x8W11dKX0oZSxuJiZuLnNkayk7Y29uc3Qgcz1mdW5jdGlvbihlLHQsbixyKXtjb25zdCBpPWUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhJiZlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YS5keW5hbWljU2FtcGxpbmdDb250ZXh0O3JldHVybntldmVudF9pZDplLmV2ZW50X2lkLHNlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLnQmJntzZGs6dH0sLi4uISFuJiZyJiZ7ZHNuOll0KHIpfSwuLi5pJiZ7dHJhY2U6dHQoey4uLml9KX19fShlLGkscix0KTtkZWxldGUgZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE7cmV0dXJuIHJuKHMsW1t7dHlwZTpvfSxlXV0pfWZ1bmN0aW9uIGZuKGUsdCxuLHI9MCl7cmV0dXJuIG5ldyBmdCgoKGksbyk9Pntjb25zdCBzPWVbcl07aWYobnVsbD09PXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpaSh0KTtlbHNle2NvbnN0IGE9cyh7Li4udH0sbik7dGUmJnMuaWQmJm51bGw9PT1hJiZsZS5sb2coYEV2ZW50IHByb2Nlc3NvciBcIiR7cy5pZH1cIiBkcm9wcGVkIGV2ZW50YCksRmUoYSk/YS50aGVuKCh0PT5mbihlLHQsbixyKzEpLnRoZW4oaSkpKS50aGVuKG51bGwsbyk6Zm4oZSxhLG4scisxKS50aGVuKGkpLnRoZW4obnVsbCxvKX19KSl9bGV0IHZuLGduLG1uO2Z1bmN0aW9uIHluKGUsdCl7Y29uc3R7ZmluZ2VycHJpbnQ6bixzcGFuOnIsYnJlYWRjcnVtYnM6aSxzZGtQcm9jZXNzaW5nTWV0YWRhdGE6b309dDshZnVuY3Rpb24oZSx0KXtjb25zdHtleHRyYTpuLHRhZ3M6cix1c2VyOmksY29udGV4dHM6byxsZXZlbDpzLHRyYW5zYWN0aW9uTmFtZTphfT10LGM9dHQobik7YyYmT2JqZWN0LmtleXMoYykubGVuZ3RoJiYoZS5leHRyYT17Li4uYywuLi5lLmV4dHJhfSk7Y29uc3QgbD10dChyKTtsJiZPYmplY3Qua2V5cyhsKS5sZW5ndGgmJihlLnRhZ3M9ey4uLmwsLi4uZS50YWdzfSk7Y29uc3QgdT10dChpKTt1JiZPYmplY3Qua2V5cyh1KS5sZW5ndGgmJihlLnVzZXI9ey4uLnUsLi4uZS51c2VyfSk7Y29uc3QgZD10dChvKTtkJiZPYmplY3Qua2V5cyhkKS5sZW5ndGgmJihlLmNvbnRleHRzPXsuLi5kLC4uLmUuY29udGV4dHN9KTtzJiYoZS5sZXZlbD1zKTthJiZcInRyYW5zYWN0aW9uXCIhPT1lLnR5cGUmJihlLnRyYW5zYWN0aW9uPWEpfShlLHQpLHImJmZ1bmN0aW9uKGUsdCl7ZS5jb250ZXh0cz17dHJhY2U6VXQodCksLi4uZS5jb250ZXh0c30sZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9e2R5bmFtaWNTYW1wbGluZ0NvbnRleHQ6UXQodCksLi4uZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGF9O2NvbnN0IG49enQodCkscj0kdChuKS5kZXNjcmlwdGlvbjtyJiYhZS50cmFuc2FjdGlvbiYmXCJ0cmFuc2FjdGlvblwiPT09ZS50eXBlJiYoZS50cmFuc2FjdGlvbj1yKX0oZSxyKSxmdW5jdGlvbihlLHQpe2UuZmluZ2VycHJpbnQ9ZS5maW5nZXJwcmludD9BcnJheS5pc0FycmF5KGUuZmluZ2VycHJpbnQpP2UuZmluZ2VycHJpbnQ6W2UuZmluZ2VycHJpbnRdOltdLHQmJihlLmZpbmdlcnByaW50PWUuZmluZ2VycHJpbnQuY29uY2F0KHQpKTtlLmZpbmdlcnByaW50JiYhZS5maW5nZXJwcmludC5sZW5ndGgmJmRlbGV0ZSBlLmZpbmdlcnByaW50fShlLG4pLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bLi4uZS5icmVhZGNydW1ic3x8W10sLi4udF07ZS5icmVhZGNydW1icz1uLmxlbmd0aD9uOnZvaWQgMH0oZSxpKSxmdW5jdGlvbihlLHQpe2Uuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXsuLi5lLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSwuLi50fX0oZSxvKX1mdW5jdGlvbiBibihlLHQpe2NvbnN0e2V4dHJhOm4sdGFnczpyLHVzZXI6aSxjb250ZXh0czpvLGxldmVsOnMsc2RrUHJvY2Vzc2luZ01ldGFkYXRhOmEsYnJlYWRjcnVtYnM6YyxmaW5nZXJwcmludDpsLGV2ZW50UHJvY2Vzc29yczp1LGF0dGFjaG1lbnRzOmQscHJvcGFnYXRpb25Db250ZXh0OmgsdHJhbnNhY3Rpb25OYW1lOnAsc3BhbjpmfT10O19uKGUsXCJleHRyYVwiLG4pLF9uKGUsXCJ0YWdzXCIsciksX24oZSxcInVzZXJcIixpKSxfbihlLFwiY29udGV4dHNcIixvKSxlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YT1idChlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSxhLDIpLHMmJihlLmxldmVsPXMpLHAmJihlLnRyYW5zYWN0aW9uTmFtZT1wKSxmJiYoZS5zcGFuPWYpLGMubGVuZ3RoJiYoZS5icmVhZGNydW1icz1bLi4uZS5icmVhZGNydW1icywuLi5jXSksbC5sZW5ndGgmJihlLmZpbmdlcnByaW50PVsuLi5lLmZpbmdlcnByaW50LC4uLmxdKSx1Lmxlbmd0aCYmKGUuZXZlbnRQcm9jZXNzb3JzPVsuLi5lLmV2ZW50UHJvY2Vzc29ycywuLi51XSksZC5sZW5ndGgmJihlLmF0dGFjaG1lbnRzPVsuLi5lLmF0dGFjaG1lbnRzLC4uLmRdKSxlLnByb3BhZ2F0aW9uQ29udGV4dD17Li4uZS5wcm9wYWdhdGlvbkNvbnRleHQsLi4uaH19ZnVuY3Rpb24gX24oZSx0LG4pe2VbdF09YnQoZVt0XSxuLDEpfWZ1bmN0aW9uIHduKGUsdCxuLHIsaSxvKXtjb25zdHtub3JtYWxpemVEZXB0aDpzPTMsbm9ybWFsaXplTWF4QnJlYWR0aDphPTFlM309ZSxjPXsuLi50LGV2ZW50X2lkOnQuZXZlbnRfaWR8fG4uZXZlbnRfaWR8fG90KCksdGltZXN0YW1wOnQudGltZXN0YW1wfHxydCgpfSxsPW4uaW50ZWdyYXRpb25zfHxlLmludGVncmF0aW9ucy5tYXAoKGU9PmUubmFtZSkpOyFmdW5jdGlvbihlLHQpe2NvbnN0e2Vudmlyb25tZW50Om4scmVsZWFzZTpyLGRpc3Q6aSxtYXhWYWx1ZUxlbmd0aDpvPTI1MH09dDtlLmVudmlyb25tZW50PWUuZW52aXJvbm1lbnR8fG58fEh0LCFlLnJlbGVhc2UmJnImJihlLnJlbGVhc2U9cik7IWUuZGlzdCYmaSYmKGUuZGlzdD1pKTtlLm1lc3NhZ2UmJihlLm1lc3NhZ2U9cWUoZS5tZXNzYWdlLG8pKTtjb25zdCBzPWUuZXhjZXB0aW9uJiZlLmV4Y2VwdGlvbi52YWx1ZXMmJmUuZXhjZXB0aW9uLnZhbHVlc1swXTtzJiZzLnZhbHVlJiYocy52YWx1ZT1xZShzLnZhbHVlLG8pKTtjb25zdCBhPWUucmVxdWVzdDthJiZhLnVybCYmKGEudXJsPXFlKGEudXJsLG8pKX0oYyxlKSxmdW5jdGlvbihlLHQpe3QubGVuZ3RoPjAmJihlLnNkaz1lLnNka3x8e30sZS5zZGsuaW50ZWdyYXRpb25zPVsuLi5lLnNkay5pbnRlZ3JhdGlvbnN8fFtdLC4uLnRdKX0oYyxsKSxpJiZpLmVtaXQoXCJhcHBseUZyYW1lTWV0YWRhdGFcIix0KSx2b2lkIDA9PT10LnR5cGUmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1mdW5jdGlvbihlKXtjb25zdCB0PXJlLl9zZW50cnlEZWJ1Z0lkcztpZighdClyZXR1cm57fTtjb25zdCBuPU9iamVjdC5rZXlzKHQpO3JldHVybiBtbiYmbi5sZW5ndGg9PT1nbnx8KGduPW4ubGVuZ3RoLG1uPW4ucmVkdWNlKCgobixyKT0+e3ZufHwodm49e30pO2NvbnN0IGk9dm5bcl07aWYoaSluW2lbMF1dPWlbMV07ZWxzZXtjb25zdCBpPWUocik7Zm9yKGxldCBlPWkubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IG89aVtlXSxzPW8mJm8uZmlsZW5hbWUsYT10W3JdO2lmKHMmJmEpe25bc109YSx2bltyXT1bcyxhXTticmVha319fXJldHVybiBufSkse30pKSxtbn0odCk7dHJ5e2UuZXhjZXB0aW9uLnZhbHVlcy5mb3JFYWNoKChlPT57ZS5zdGFja3RyYWNlLmZyYW1lcy5mb3JFYWNoKChlPT57biYmZS5maWxlbmFtZSYmKGUuZGVidWdfaWQ9bltlLmZpbGVuYW1lXSl9KSl9KSl9Y2F0Y2goZSl7fX0oYyxlLnN0YWNrUGFyc2VyKTtjb25zdCB1PWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIGU7Y29uc3Qgbj1lP2UuY2xvbmUoKTpuZXcgTXQ7cmV0dXJuIG4udXBkYXRlKHQpLG59KHIsbi5jYXB0dXJlQ29udGV4dCk7bi5tZWNoYW5pc20mJmx0KGMsbi5tZWNoYW5pc20pO2NvbnN0IGQ9aT9pLmdldEV2ZW50UHJvY2Vzc29ycygpOltdLGg9aWUoXCJnbG9iYWxTY29wZVwiLCgoKT0+bmV3IE10KSkuZ2V0U2NvcGVEYXRhKCk7aWYobyl7Ym4oaCxvLmdldFNjb3BlRGF0YSgpKX1pZih1KXtibihoLHUuZ2V0U2NvcGVEYXRhKCkpfWNvbnN0IHA9Wy4uLm4uYXR0YWNobWVudHN8fFtdLC4uLmguYXR0YWNobWVudHNdO3AubGVuZ3RoJiYobi5hdHRhY2htZW50cz1wKSx5bihjLGgpO3JldHVybiBmbihbLi4uZCwuLi5oLmV2ZW50UHJvY2Vzc29yc10sYyxuKS50aGVuKChlPT4oZSYmZnVuY3Rpb24oZSl7Y29uc3QgdD17fTt0cnl7ZS5leGNlcHRpb24udmFsdWVzLmZvckVhY2goKGU9PntlLnN0YWNrdHJhY2UuZnJhbWVzLmZvckVhY2goKGU9PntlLmRlYnVnX2lkJiYoZS5hYnNfcGF0aD90W2UuYWJzX3BhdGhdPWUuZGVidWdfaWQ6ZS5maWxlbmFtZSYmKHRbZS5maWxlbmFtZV09ZS5kZWJ1Z19pZCksZGVsZXRlIGUuZGVidWdfaWQpfSkpfSkpfWNhdGNoKGUpe31pZigwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybjtlLmRlYnVnX21ldGE9ZS5kZWJ1Z19tZXRhfHx7fSxlLmRlYnVnX21ldGEuaW1hZ2VzPWUuZGVidWdfbWV0YS5pbWFnZXN8fFtdO2NvbnN0IG49ZS5kZWJ1Z19tZXRhLmltYWdlcztPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKCgoW2UsdF0pPT57bi5wdXNoKHt0eXBlOlwic291cmNlbWFwXCIsY29kZV9maWxlOmUsZGVidWdfaWQ6dH0pfSkpfShlKSxcIm51bWJlclwiPT10eXBlb2YgcyYmcz4wP2Z1bmN0aW9uKGUsdCxuKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCByPXsuLi5lLC4uLmUuYnJlYWRjcnVtYnMmJnticmVhZGNydW1iczplLmJyZWFkY3J1bWJzLm1hcCgoZT0+KHsuLi5lLC4uLmUuZGF0YSYme2RhdGE6ZW4oZS5kYXRhLHQsbil9fSkpKX0sLi4uZS51c2VyJiZ7dXNlcjplbihlLnVzZXIsdCxuKX0sLi4uZS5jb250ZXh0cyYme2NvbnRleHRzOmVuKGUuY29udGV4dHMsdCxuKX0sLi4uZS5leHRyYSYme2V4dHJhOmVuKGUuZXh0cmEsdCxuKX19O2UuY29udGV4dHMmJmUuY29udGV4dHMudHJhY2UmJnIuY29udGV4dHMmJihyLmNvbnRleHRzLnRyYWNlPWUuY29udGV4dHMudHJhY2UsZS5jb250ZXh0cy50cmFjZS5kYXRhJiYoci5jb250ZXh0cy50cmFjZS5kYXRhPWVuKGUuY29udGV4dHMudHJhY2UuZGF0YSx0LG4pKSk7ZS5zcGFucyYmKHIuc3BhbnM9ZS5zcGFucy5tYXAoKGU9Pih7Li4uZSwuLi5lLmRhdGEmJntkYXRhOmVuKGUuZGF0YSx0LG4pfX0pKSkpO2UuY29udGV4dHMmJmUuY29udGV4dHMuZmxhZ3MmJnIuY29udGV4dHMmJihyLmNvbnRleHRzLmZsYWdzPWVuKGUuY29udGV4dHMuZmxhZ3MsMyxuKSk7cmV0dXJuIHJ9KGUscyxhKTplKSkpfWZ1bmN0aW9uIFNuKGUpe2lmKGUpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTXR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV9KGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZSgoZT0+a24uaW5jbHVkZXMoZSkpKX0oZSk/e2NhcHR1cmVDb250ZXh0OmV9OmV9Y29uc3Qga249W1widXNlclwiLFwibGV2ZWxcIixcImV4dHJhXCIsXCJjb250ZXh0c1wiLFwidGFnc1wiLFwiZmluZ2VycHJpbnRcIixcInJlcXVlc3RTZXNzaW9uXCIsXCJwcm9wYWdhdGlvbkNvbnRleHRcIl07ZnVuY3Rpb24gTW4oZSx0KXtyZXR1cm4ganQoKS5jYXB0dXJlRXZlbnQoZSx0KX1mdW5jdGlvbiBDbihlKXtjb25zdCB0PXh0KCksbj1JdCgpLHI9anQoKSx7cmVsZWFzZTppLGVudmlyb25tZW50Om89SHR9PXQmJnQuZ2V0T3B0aW9ucygpfHx7fSx7dXNlckFnZW50OnN9PXJlLm5hdmlnYXRvcnx8e30sYT12dCh7cmVsZWFzZTppLGVudmlyb25tZW50Om8sdXNlcjpyLmdldFVzZXIoKXx8bi5nZXRVc2VyKCksLi4ucyYme3VzZXJBZ2VudDpzfSwuLi5lfSksYz1uLmdldFNlc3Npb24oKTtyZXR1cm4gYyYmXCJva1wiPT09Yy5zdGF0dXMmJmd0KGMse3N0YXR1czpcImV4aXRlZFwifSksRW4oKSxuLnNldFNlc3Npb24oYSksci5zZXRTZXNzaW9uKGEpLGF9ZnVuY3Rpb24gRW4oKXtjb25zdCBlPUl0KCksdD1qdCgpLG49dC5nZXRTZXNzaW9uKCl8fGUuZ2V0U2Vzc2lvbigpO24mJmZ1bmN0aW9uKGUsdCl7bGV0IG49e307dD9uPXtzdGF0dXM6dH06XCJva1wiPT09ZS5zdGF0dXMmJihuPXtzdGF0dXM6XCJleGl0ZWRcIn0pLGd0KGUsbil9KG4pLFRuKCksZS5zZXRTZXNzaW9uKCksdC5zZXRTZXNzaW9uKCl9ZnVuY3Rpb24gVG4oKXtjb25zdCBlPUl0KCksdD1qdCgpLG49eHQoKSxyPXQuZ2V0U2Vzc2lvbigpfHxlLmdldFNlc3Npb24oKTtyJiZuJiZuLmNhcHR1cmVTZXNzaW9uKHIpfWZ1bmN0aW9uIE9uKGU9ITEpe2U/RW4oKTpUbigpfWZ1bmN0aW9uIFBuKGUsdCxuKXtyZXR1cm4gdHx8YCR7ZnVuY3Rpb24oZSl7cmV0dXJuYCR7ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnByb3RvY29sP2Ake2UucHJvdG9jb2x9OmA6XCJcIixuPWUucG9ydD9gOiR7ZS5wb3J0fWA6XCJcIjtyZXR1cm5gJHt0fS8vJHtlLmhvc3R9JHtufSR7ZS5wYXRoP2AvJHtlLnBhdGh9YDpcIlwifS9hcGkvYH0oZSl9JHtlLnByb2plY3RJZH0vZW52ZWxvcGUvYH0oZSl9PyR7ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXtzZW50cnlfdmVyc2lvbjpcIjdcIn07cmV0dXJuIGUucHVibGljS2V5JiYobi5zZW50cnlfa2V5PWUucHVibGljS2V5KSx0JiYobi5zZW50cnlfY2xpZW50PWAke3QubmFtZX0vJHt0LnZlcnNpb259YCksbmV3IFVSTFNlYXJjaFBhcmFtcyhuKS50b1N0cmluZygpfShlLG4pfWB9Y29uc3QgQW49W107ZnVuY3Rpb24gam4oZSx0KXtmb3IoY29uc3QgbiBvZiB0KW4mJm4uYWZ0ZXJBbGxTZXR1cCYmbi5hZnRlckFsbFNldHVwKGUpfWZ1bmN0aW9uIEluKGUsdCxuKXtpZihuW3QubmFtZV0pdGUmJmxlLmxvZyhgSW50ZWdyYXRpb24gc2tpcHBlZCBiZWNhdXNlIGl0IHdhcyBhbHJlYWR5IGluc3RhbGxlZDogJHt0Lm5hbWV9YCk7ZWxzZXtpZihuW3QubmFtZV09dCwtMT09PUFuLmluZGV4T2YodC5uYW1lKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zZXR1cE9uY2UmJih0LnNldHVwT25jZSgpLEFuLnB1c2godC5uYW1lKSksdC5zZXR1cCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zZXR1cCYmdC5zZXR1cChlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnByZXByb2Nlc3NFdmVudCl7Y29uc3Qgbj10LnByZXByb2Nlc3NFdmVudC5iaW5kKHQpO2Uub24oXCJwcmVwcm9jZXNzRXZlbnRcIiwoKHQscik9Pm4odCxyLGUpKSl9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5wcm9jZXNzRXZlbnQpe2NvbnN0IG49dC5wcm9jZXNzRXZlbnQuYmluZCh0KSxyPU9iamVjdC5hc3NpZ24oKCh0LHIpPT5uKHQscixlKSkse2lkOnQubmFtZX0pO2UuYWRkRXZlbnRQcm9jZXNzb3Iocil9dGUmJmxlLmxvZyhgSW50ZWdyYXRpb24gaW5zdGFsbGVkOiAke3QubmFtZX1gKX19Y2xhc3MgeG4gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQ9XCJ3YXJuXCIpe3N1cGVyKGUpLHRoaXMubWVzc2FnZT1lLHRoaXMubG9nTGV2ZWw9dH19Y29uc3QgTG49XCJOb3QgY2FwdHVyaW5nIGV4Y2VwdGlvbiBiZWNhdXNlIGl0J3MgYWxyZWFkeSBiZWVuIGNhcHR1cmVkLlwiO2NsYXNzIERue2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX29wdGlvbnM9ZSx0aGlzLl9pbnRlZ3JhdGlvbnM9e30sdGhpcy5fbnVtUHJvY2Vzc2luZz0wLHRoaXMuX291dGNvbWVzPXt9LHRoaXMuX2hvb2tzPXt9LHRoaXMuX2V2ZW50UHJvY2Vzc29ycz1bXSxlLmRzbj90aGlzLl9kc249WnQoZS5kc24pOnRlJiZsZS53YXJuKFwiTm8gRFNOIHByb3ZpZGVkLCBjbGllbnQgd2lsbCBub3Qgc2VuZCBldmVudHMuXCIpLHRoaXMuX2Rzbil7Y29uc3QgdD1Qbih0aGlzLl9kc24sZS50dW5uZWwsZS5fbWV0YWRhdGE/ZS5fbWV0YWRhdGEuc2RrOnZvaWQgMCk7dGhpcy5fdHJhbnNwb3J0PWUudHJhbnNwb3J0KHt0dW5uZWw6dGhpcy5fb3B0aW9ucy50dW5uZWwscmVjb3JkRHJvcHBlZEV2ZW50OnRoaXMucmVjb3JkRHJvcHBlZEV2ZW50LmJpbmQodGhpcyksLi4uZS50cmFuc3BvcnRPcHRpb25zLHVybDp0fSl9Y29uc3QgdD1bXCJlbmFibGVUcmFjaW5nXCIsXCJ0cmFjZXNTYW1wbGVSYXRlXCIsXCJ0cmFjZXNTYW1wbGVyXCJdLmZpbmQoKHQ9PnQgaW4gZSYmbnVsbD09ZVt0XSkpO3QmJmNlKCgoKT0+e2NvbnNvbGUud2FybihgW1NlbnRyeV0gRGVwcmVjYXRpb24gd2FybmluZzogXFxgJHt0fVxcYCBpcyBzZXQgdG8gdW5kZWZpbmVkLCB3aGljaCBsZWFkcyB0byB0cmFjaW5nIGJlaW5nIGVuYWJsZWQuIEluIHY5LCBhIHZhbHVlIG9mIFxcYHVuZGVmaW5lZFxcYCB3aWxsIHJlc3VsdCBpbiB0cmFjaW5nIGJlaW5nIGRpc2FibGVkLmApfSkpfWNhcHR1cmVFeGNlcHRpb24oZSx0LG4pe2NvbnN0IHI9b3QoKTtpZih1dChlKSlyZXR1cm4gdGUmJmxlLmxvZyhMbikscjtjb25zdCBpPXtldmVudF9pZDpyLC4uLnR9O3JldHVybiB0aGlzLl9wcm9jZXNzKHRoaXMuZXZlbnRGcm9tRXhjZXB0aW9uKGUsaSkudGhlbigoZT0+dGhpcy5fY2FwdHVyZUV2ZW50KGUsaSxuKSkpKSxpLmV2ZW50X2lkfWNhcHR1cmVNZXNzYWdlKGUsdCxuLHIpe2NvbnN0IGk9e2V2ZW50X2lkOm90KCksLi4ubn0sbz1MZShlKT9lOlN0cmluZyhlKSxzPURlKGUpP3RoaXMuZXZlbnRGcm9tTWVzc2FnZShvLHQsaSk6dGhpcy5ldmVudEZyb21FeGNlcHRpb24oZSxpKTtyZXR1cm4gdGhpcy5fcHJvY2VzcyhzLnRoZW4oKGU9PnRoaXMuX2NhcHR1cmVFdmVudChlLGkscikpKSksaS5ldmVudF9pZH1jYXB0dXJlRXZlbnQoZSx0LG4pe2NvbnN0IHI9b3QoKTtpZih0JiZ0Lm9yaWdpbmFsRXhjZXB0aW9uJiZ1dCh0Lm9yaWdpbmFsRXhjZXB0aW9uKSlyZXR1cm4gdGUmJmxlLmxvZyhMbikscjtjb25zdCBpPXtldmVudF9pZDpyLC4uLnR9LG89KGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhfHx7fSkuY2FwdHVyZWRTcGFuU2NvcGU7cmV0dXJuIHRoaXMuX3Byb2Nlc3ModGhpcy5fY2FwdHVyZUV2ZW50KGUsaSxvfHxuKSksaS5ldmVudF9pZH1jYXB0dXJlU2Vzc2lvbihlKXtcInN0cmluZ1wiIT10eXBlb2YgZS5yZWxlYXNlP3RlJiZsZS53YXJuKFwiRGlzY2FyZGVkIHNlc3Npb24gYmVjYXVzZSBvZiBtaXNzaW5nIG9yIG5vbi1zdHJpbmcgcmVsZWFzZVwiKToodGhpcy5zZW5kU2Vzc2lvbihlKSxndChlLHtpbml0OiExfSkpfWdldERzbigpe3JldHVybiB0aGlzLl9kc259Z2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfWdldFNka01ldGFkYXRhKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMuX21ldGFkYXRhfWdldFRyYW5zcG9ydCgpe3JldHVybiB0aGlzLl90cmFuc3BvcnR9Zmx1c2goZSl7Y29uc3QgdD10aGlzLl90cmFuc3BvcnQ7cmV0dXJuIHQ/KHRoaXMuZW1pdChcImZsdXNoXCIpLHRoaXMuX2lzQ2xpZW50RG9uZVByb2Nlc3NpbmcoZSkudGhlbigobj0+dC5mbHVzaChlKS50aGVuKChlPT5uJiZlKSkpKSk6aHQoITApfWNsb3NlKGUpe3JldHVybiB0aGlzLmZsdXNoKGUpLnRoZW4oKGU9Pih0aGlzLmdldE9wdGlvbnMoKS5lbmFibGVkPSExLHRoaXMuZW1pdChcImNsb3NlXCIpLGUpKSl9Z2V0RXZlbnRQcm9jZXNzb3JzKCl7cmV0dXJuIHRoaXMuX2V2ZW50UHJvY2Vzc29yc31hZGRFdmVudFByb2Nlc3NvcihlKXt0aGlzLl9ldmVudFByb2Nlc3NvcnMucHVzaChlKX1pbml0KCl7KHRoaXMuX2lzRW5hYmxlZCgpfHx0aGlzLl9vcHRpb25zLmludGVncmF0aW9ucy5zb21lKCgoe25hbWU6ZX0pPT5lLnN0YXJ0c1dpdGgoXCJTcG90bGlnaHRcIikpKSkmJnRoaXMuX3NldHVwSW50ZWdyYXRpb25zKCl9Z2V0SW50ZWdyYXRpb25CeU5hbWUoZSl7cmV0dXJuIHRoaXMuX2ludGVncmF0aW9uc1tlXX1hZGRJbnRlZ3JhdGlvbihlKXtjb25zdCB0PXRoaXMuX2ludGVncmF0aW9uc1tlLm5hbWVdO0luKHRoaXMsZSx0aGlzLl9pbnRlZ3JhdGlvbnMpLHR8fGpuKHRoaXMsW2VdKX1zZW5kRXZlbnQoZSx0PXt9KXt0aGlzLmVtaXQoXCJiZWZvcmVTZW5kRXZlbnRcIixlLHQpO2xldCBuPXBuKGUsdGhpcy5fZHNuLHRoaXMuX29wdGlvbnMuX21ldGFkYXRhLHRoaXMuX29wdGlvbnMudHVubmVsKTtmb3IoY29uc3QgZSBvZiB0LmF0dGFjaG1lbnRzfHxbXSluPW9uKG4sbG4oZSkpO2NvbnN0IHI9dGhpcy5zZW5kRW52ZWxvcGUobik7ciYmci50aGVuKCh0PT50aGlzLmVtaXQoXCJhZnRlclNlbmRFdmVudFwiLGUsdCkpLG51bGwpfXNlbmRTZXNzaW9uKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LG4scil7Y29uc3QgaT1obihuKTtyZXR1cm4gcm4oe3NlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLmkmJntzZGs6aX0sLi4uISFyJiZ0JiZ7ZHNuOll0KHQpfX0sW1wiYWdncmVnYXRlc1wiaW4gZT9be3R5cGU6XCJzZXNzaW9uc1wifSxlXTpbe3R5cGU6XCJzZXNzaW9uXCJ9LGUudG9KU09OKCldXSl9KGUsdGhpcy5fZHNuLHRoaXMuX29wdGlvbnMuX21ldGFkYXRhLHRoaXMuX29wdGlvbnMudHVubmVsKTt0aGlzLnNlbmRFbnZlbG9wZSh0KX1yZWNvcmREcm9wcGVkRXZlbnQoZSx0LG4pe2lmKHRoaXMuX29wdGlvbnMuc2VuZENsaWVudFJlcG9ydHMpe2NvbnN0IHI9XCJudW1iZXJcIj09dHlwZW9mIG4/bjoxLGk9YCR7ZX06JHt0fWA7dGUmJmxlLmxvZyhgUmVjb3JkaW5nIG91dGNvbWU6IFwiJHtpfVwiJHtyPjE/YCAoJHtyfSB0aW1lcylgOlwiXCJ9YCksdGhpcy5fb3V0Y29tZXNbaV09KHRoaXMuX291dGNvbWVzW2ldfHwwKStyfX1vbihlLHQpe2NvbnN0IG49dGhpcy5faG9va3NbZV09dGhpcy5faG9va3NbZV18fFtdO3JldHVybiBuLnB1c2godCksKCk9Pntjb25zdCBlPW4uaW5kZXhPZih0KTtlPi0xJiZuLnNwbGljZShlLDEpfX1lbWl0KGUsLi4udCl7Y29uc3Qgbj10aGlzLl9ob29rc1tlXTtuJiZuLmZvckVhY2goKGU9PmUoLi4udCkpKX1zZW5kRW52ZWxvcGUoZSl7cmV0dXJuIHRoaXMuZW1pdChcImJlZm9yZUVudmVsb3BlXCIsZSksdGhpcy5faXNFbmFibGVkKCkmJnRoaXMuX3RyYW5zcG9ydD90aGlzLl90cmFuc3BvcnQuc2VuZChlKS50aGVuKG51bGwsKGU9Pih0ZSYmbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIGVudmVsb3BlOlwiLGUpLGUpKSk6KHRlJiZsZS5lcnJvcihcIlRyYW5zcG9ydCBkaXNhYmxlZFwiKSxodCh7fSkpfV9zZXR1cEludGVncmF0aW9ucygpe2NvbnN0e2ludGVncmF0aW9uczplfT10aGlzLl9vcHRpb25zO3RoaXMuX2ludGVncmF0aW9ucz1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307cmV0dXJuIHQuZm9yRWFjaCgodD0+e3QmJkluKGUsdCxuKX0pKSxufSh0aGlzLGUpLGpuKHRoaXMsZSl9X3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQoZSx0KXtsZXQgbj1cImZhdGFsXCI9PT10LmxldmVsLHI9ITE7Y29uc3QgaT10LmV4Y2VwdGlvbiYmdC5leGNlcHRpb24udmFsdWVzO2lmKGkpe3I9ITA7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgdD1lLm1lY2hhbmlzbTtpZih0JiYhMT09PXQuaGFuZGxlZCl7bj0hMDticmVha319fWNvbnN0IG89XCJva1wiPT09ZS5zdGF0dXM7KG8mJjA9PT1lLmVycm9yc3x8byYmbikmJihndChlLHsuLi5uJiZ7c3RhdHVzOlwiY3Jhc2hlZFwifSxlcnJvcnM6ZS5lcnJvcnN8fE51bWJlcihyfHxuKX0pLHRoaXMuY2FwdHVyZVNlc3Npb24oZSkpfV9pc0NsaWVudERvbmVQcm9jZXNzaW5nKGUpe3JldHVybiBuZXcgZnQoKHQ9PntsZXQgbj0wO2NvbnN0IHI9c2V0SW50ZXJ2YWwoKCgpPT57MD09dGhpcy5fbnVtUHJvY2Vzc2luZz8oY2xlYXJJbnRlcnZhbChyKSx0KCEwKSk6KG4rPTEsZSYmbj49ZSYmKGNsZWFySW50ZXJ2YWwociksdCghMSkpKX0pLDEpfSkpfV9pc0VuYWJsZWQoKXtyZXR1cm4hMSE9PXRoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQmJnZvaWQgMCE9PXRoaXMuX3RyYW5zcG9ydH1fcHJlcGFyZUV2ZW50KGUsdCxuPWp0KCkscj1JdCgpKXtjb25zdCBpPXRoaXMuZ2V0T3B0aW9ucygpLG89T2JqZWN0LmtleXModGhpcy5faW50ZWdyYXRpb25zKTtyZXR1cm4hdC5pbnRlZ3JhdGlvbnMmJm8ubGVuZ3RoPjAmJih0LmludGVncmF0aW9ucz1vKSx0aGlzLmVtaXQoXCJwcmVwcm9jZXNzRXZlbnRcIixlLHQpLGUudHlwZXx8ci5zZXRMYXN0RXZlbnRJZChlLmV2ZW50X2lkfHx0LmV2ZW50X2lkKSx3bihpLGUsdCxuLHRoaXMscikudGhlbigoZT0+e2lmKG51bGw9PT1lKXJldHVybiBlO2UuY29udGV4dHM9e3RyYWNlOkx0KG4pLC4uLmUuY29udGV4dHN9O2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXQuZ2V0UHJvcGFnYXRpb25Db250ZXh0KCk7cmV0dXJuIG4uZHNjfHxHdChuLnRyYWNlSWQsZSl9KHRoaXMsbik7cmV0dXJuIGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXtkeW5hbWljU2FtcGxpbmdDb250ZXh0OnQsLi4uZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGF9LGV9KSl9X2NhcHR1cmVFdmVudChlLHQ9e30sbil7cmV0dXJuIHRoaXMuX3Byb2Nlc3NFdmVudChlLHQsbikudGhlbigoZT0+ZS5ldmVudF9pZCksKGU9Pnt0ZSYmKGUgaW5zdGFuY2VvZiB4biYmXCJsb2dcIj09PWUubG9nTGV2ZWw/bGUubG9nKGUubWVzc2FnZSk6bGUud2FybihlKSl9KSl9X3Byb2Nlc3NFdmVudChlLHQsbil7Y29uc3Qgcj10aGlzLmdldE9wdGlvbnMoKSx7c2FtcGxlUmF0ZTppfT1yLG89Um4oZSkscz1ObihlKSxhPWUudHlwZXx8XCJlcnJvclwiLGM9YGJlZm9yZSBzZW5kIGZvciB0eXBlIFxcYCR7YX1cXGBgLGw9dm9pZCAwPT09aT92b2lkIDA6ZnVuY3Rpb24oZSl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiBOdW1iZXIoZSk7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9wYXJzZUZsb2F0KGUpOmU7aWYoIShcIm51bWJlclwiIT10eXBlb2YgdHx8aXNOYU4odCl8fHQ8MHx8dD4xKSlyZXR1cm4gdDt0ZSYmbGUud2FybihgW1RyYWNpbmddIEdpdmVuIHNhbXBsZSByYXRlIGlzIGludmFsaWQuIFNhbXBsZSByYXRlIG11c3QgYmUgYSBib29sZWFuIG9yIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gR290ICR7SlNPTi5zdHJpbmdpZnkoZSl9IG9mIHR5cGUgJHtKU09OLnN0cmluZ2lmeSh0eXBlb2YgZSl9LmApfShpKTtpZihzJiZcIm51bWJlclwiPT10eXBlb2YgbCYmTWF0aC5yYW5kb20oKT5sKXJldHVybiB0aGlzLnJlY29yZERyb3BwZWRFdmVudChcInNhbXBsZV9yYXRlXCIsXCJlcnJvclwiLGUpLHB0KG5ldyB4bihgRGlzY2FyZGluZyBldmVudCBiZWNhdXNlIGl0J3Mgbm90IGluY2x1ZGVkIGluIHRoZSByYW5kb20gc2FtcGxlIChzYW1wbGluZyByYXRlID0gJHtpfSlgLFwibG9nXCIpKTtjb25zdCB1PVwicmVwbGF5X2V2ZW50XCI9PT1hP1wicmVwbGF5XCI6YSxkPShlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YXx8e30pLmNhcHR1cmVkU3Bhbklzb2xhdGlvblNjb3BlO3JldHVybiB0aGlzLl9wcmVwYXJlRXZlbnQoZSx0LG4sZCkudGhlbigobj0+e2lmKG51bGw9PT1uKXRocm93IHRoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwiZXZlbnRfcHJvY2Vzc29yXCIsdSxlKSxuZXcgeG4oXCJBbiBldmVudCBwcm9jZXNzb3IgcmV0dXJuZWQgYG51bGxgLCB3aWxsIG5vdCBzZW5kIGV2ZW50LlwiLFwibG9nXCIpO2lmKHQuZGF0YSYmITA9PT10LmRhdGEuX19zZW50cnlfXylyZXR1cm4gbjtjb25zdCBpPWZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0e2JlZm9yZVNlbmQ6aSxiZWZvcmVTZW5kVHJhbnNhY3Rpb246byxiZWZvcmVTZW5kU3BhbjpzfT10O2lmKE5uKG4pJiZpKXJldHVybiBpKG4scik7aWYoUm4obikpe2lmKG4uc3BhbnMmJnMpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2Ygbi5zcGFucyl7Y29uc3Qgbj1zKHIpO24/dC5wdXNoKG4pOihXdCgpLGUucmVjb3JkRHJvcHBlZEV2ZW50KFwiYmVmb3JlX3NlbmRcIixcInNwYW5cIikpfW4uc3BhbnM9dH1pZihvKXtpZihuLnNwYW5zKXtjb25zdCBlPW4uc3BhbnMubGVuZ3RoO24uc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXsuLi5uLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSxzcGFuQ291bnRCZWZvcmVQcm9jZXNzaW5nOmV9fXJldHVybiBvKG4scil9fXJldHVybiBufSh0aGlzLHIsbix0KTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPWAke3R9IG11c3QgcmV0dXJuIFxcYG51bGxcXGAgb3IgYSB2YWxpZCBldmVudC5gO2lmKEZlKGUpKXJldHVybiBlLnRoZW4oKGU9PntpZighTmUoZSkmJm51bGwhPT1lKXRocm93IG5ldyB4bihuKTtyZXR1cm4gZX0pLChlPT57dGhyb3cgbmV3IHhuKGAke3R9IHJlamVjdGVkIHdpdGggJHtlfWApfSkpO2lmKCFOZShlKSYmbnVsbCE9PWUpdGhyb3cgbmV3IHhuKG4pO3JldHVybiBlfShpLGMpfSkpLnRoZW4oKHI9PntpZihudWxsPT09cil7aWYodGhpcy5yZWNvcmREcm9wcGVkRXZlbnQoXCJiZWZvcmVfc2VuZFwiLHUsZSksbyl7Y29uc3QgdD0xKyhlLnNwYW5zfHxbXSkubGVuZ3RoO3RoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwiYmVmb3JlX3NlbmRcIixcInNwYW5cIix0KX10aHJvdyBuZXcgeG4oYCR7Y30gcmV0dXJuZWQgXFxgbnVsbFxcYCwgd2lsbCBub3Qgc2VuZCBldmVudC5gLFwibG9nXCIpfWNvbnN0IGk9biYmbi5nZXRTZXNzaW9uKCk7aWYoIW8mJmkmJnRoaXMuX3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQoaSxyKSxvKXtjb25zdCBlPShyLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSYmci5zZGtQcm9jZXNzaW5nTWV0YWRhdGEuc3BhbkNvdW50QmVmb3JlUHJvY2Vzc2luZ3x8MCktKHIuc3BhbnM/ci5zcGFucy5sZW5ndGg6MCk7ZT4wJiZ0aGlzLnJlY29yZERyb3BwZWRFdmVudChcImJlZm9yZV9zZW5kXCIsXCJzcGFuXCIsZSl9Y29uc3Qgcz1yLnRyYW5zYWN0aW9uX2luZm87aWYobyYmcyYmci50cmFuc2FjdGlvbiE9PWUudHJhbnNhY3Rpb24pe2NvbnN0IGU9XCJjdXN0b21cIjtyLnRyYW5zYWN0aW9uX2luZm89ey4uLnMsc291cmNlOmV9fXJldHVybiB0aGlzLnNlbmRFdmVudChyLHQpLHJ9KSkudGhlbihudWxsLChlPT57aWYoZSBpbnN0YW5jZW9mIHhuKXRocm93IGU7dGhyb3cgdGhpcy5jYXB0dXJlRXhjZXB0aW9uKGUse2RhdGE6e19fc2VudHJ5X186ITB9LG9yaWdpbmFsRXhjZXB0aW9uOmV9KSxuZXcgeG4oYEV2ZW50IHByb2Nlc3NpbmcgcGlwZWxpbmUgdGhyZXcgYW4gZXJyb3IsIG9yaWdpbmFsIGV2ZW50IHdpbGwgbm90IGJlIHNlbnQuIERldGFpbHMgaGF2ZSBiZWVuIHNlbnQgYXMgYSBuZXcgZXZlbnQuXFxuUmVhc29uOiAke2V9YCl9KSl9X3Byb2Nlc3MoZSl7dGhpcy5fbnVtUHJvY2Vzc2luZysrLGUudGhlbigoZT0+KHRoaXMuX251bVByb2Nlc3NpbmctLSxlKSksKGU9Pih0aGlzLl9udW1Qcm9jZXNzaW5nLS0sZSkpKX1fY2xlYXJPdXRjb21lcygpe2NvbnN0IGU9dGhpcy5fb3V0Y29tZXM7cmV0dXJuIHRoaXMuX291dGNvbWVzPXt9LE9iamVjdC5lbnRyaWVzKGUpLm1hcCgoKFtlLHRdKT0+e2NvbnN0W24scl09ZS5zcGxpdChcIjpcIik7cmV0dXJue3JlYXNvbjpuLGNhdGVnb3J5OnIscXVhbnRpdHk6dH19KSl9X2ZsdXNoT3V0Y29tZXMoKXt0ZSYmbGUubG9nKFwiRmx1c2hpbmcgb3V0Y29tZXMuLi5cIik7Y29uc3QgZT10aGlzLl9jbGVhck91dGNvbWVzKCk7aWYoMD09PWUubGVuZ3RoKXJldHVybiB2b2lkKHRlJiZsZS5sb2coXCJObyBvdXRjb21lcyB0byBzZW5kXCIpKTtpZighdGhpcy5fZHNuKXJldHVybiB2b2lkKHRlJiZsZS5sb2coXCJObyBkc24gcHJvdmlkZWQsIHdpbGwgbm90IHNlbmQgb3V0Y29tZXNcIikpO3RlJiZsZS5sb2coXCJTZW5kaW5nIG91dGNvbWVzOlwiLGUpO2NvbnN0IHQ9KG49ZSxybigocj10aGlzLl9vcHRpb25zLnR1bm5lbCYmWXQodGhpcy5fZHNuKSk/e2RzbjpyfTp7fSxbW3t0eXBlOlwiY2xpZW50X3JlcG9ydFwifSx7dGltZXN0YW1wOml8fHJ0KCksZGlzY2FyZGVkX2V2ZW50czpufV1dKSk7dmFyIG4scixpO3RoaXMuc2VuZEVudmVsb3BlKHQpfX1mdW5jdGlvbiBObihlKXtyZXR1cm4gdm9pZCAwPT09ZS50eXBlfWZ1bmN0aW9uIFJuKGUpe3JldHVyblwidHJhbnNhY3Rpb25cIj09PWUudHlwZX1mdW5jdGlvbiBGbihlKXtjb25zdCB0PVtdO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKVswXXx8UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCl9cmV0dXJueyQ6dCxhZGQ6ZnVuY3Rpb24ocil7aWYoISh2b2lkIDA9PT1lfHx0Lmxlbmd0aDxlKSlyZXR1cm4gcHQobmV3IHhuKFwiTm90IGFkZGluZyBQcm9taXNlIGJlY2F1c2UgYnVmZmVyIGxpbWl0IHdhcyByZWFjaGVkLlwiKSk7Y29uc3QgaT1yKCk7cmV0dXJuLTE9PT10LmluZGV4T2YoaSkmJnQucHVzaChpKSxpLnRoZW4oKCgpPT5uKGkpKSkudGhlbihudWxsLCgoKT0+bihpKS50aGVuKG51bGwsKCgpPT57fSkpKSksaX0sZHJhaW46ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmdCgoKG4scik9PntsZXQgaT10Lmxlbmd0aDtpZighaSlyZXR1cm4gbighMCk7Y29uc3Qgbz1zZXRUaW1lb3V0KCgoKT0+e2UmJmU+MCYmbighMSl9KSxlKTt0LmZvckVhY2goKGU9PntodChlKS50aGVuKCgoKT0+ey0taXx8KGNsZWFyVGltZW91dChvKSxuKCEwKSl9KSxyKX0pKX0pKX19fWZ1bmN0aW9uIEJuKGUse3N0YXR1c0NvZGU6dCxoZWFkZXJzOm59LHI9RGF0ZS5ub3coKSl7Y29uc3QgaT17Li4uZX0sbz1uJiZuW1wieC1zZW50cnktcmF0ZS1saW1pdHNcIl0scz1uJiZuW1wicmV0cnktYWZ0ZXJcIl07aWYobylmb3IoY29uc3QgZSBvZiBvLnRyaW0oKS5zcGxpdChcIixcIikpe2NvbnN0W3QsbiwsLG9dPWUuc3BsaXQoXCI6XCIsNSkscz1wYXJzZUludCh0LDEwKSxhPTFlMyooaXNOYU4ocyk/NjA6cyk7aWYobilmb3IoY29uc3QgZSBvZiBuLnNwbGl0KFwiO1wiKSlcIm1ldHJpY19idWNrZXRcIj09PWUmJm8mJiFvLnNwbGl0KFwiO1wiKS5pbmNsdWRlcyhcImN1c3RvbVwiKXx8KGlbZV09cithKTtlbHNlIGkuYWxsPXIrYX1lbHNlIHM/aS5hbGw9citmdW5jdGlvbihlLHQ9RGF0ZS5ub3coKSl7Y29uc3Qgbj1wYXJzZUludChgJHtlfWAsMTApO2lmKCFpc05hTihuKSlyZXR1cm4gMWUzKm47Y29uc3Qgcj1EYXRlLnBhcnNlKGAke2V9YCk7cmV0dXJuIGlzTmFOKHIpPzZlNDpyLXR9KHMscik6NDI5PT09dCYmKGkuYWxsPXIrNmU0KTtyZXR1cm4gaX1mdW5jdGlvbiBVbihlLHQsbj1GbihlLmJ1ZmZlclNpemV8fDY0KSl7bGV0IHI9e307cmV0dXJue3NlbmQ6ZnVuY3Rpb24oaSl7Y29uc3Qgbz1bXTtpZihzbihpLCgodCxuKT0+e2NvbnN0IGk9ZG4obik7aWYoZnVuY3Rpb24oZSx0LG49RGF0ZS5ub3coKSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF18fGUuYWxsfHwwfShlLHQpPm59KHIsaSkpe2NvbnN0IHI9Vm4odCxuKTtlLnJlY29yZERyb3BwZWRFdmVudChcInJhdGVsaW1pdF9iYWNrb2ZmXCIsaSxyKX1lbHNlIG8ucHVzaCh0KX0pKSwwPT09by5sZW5ndGgpcmV0dXJuIGh0KHt9KTtjb25zdCBzPXJuKGlbMF0sbyksYT10PT57c24ocywoKG4scik9Pntjb25zdCBpPVZuKG4scik7ZS5yZWNvcmREcm9wcGVkRXZlbnQodCxkbihyKSxpKX0pKX07cmV0dXJuIG4uYWRkKCgoKT0+dCh7Ym9keTpjbihzKX0pLnRoZW4oKGU9Pih2b2lkIDAhPT1lLnN0YXR1c0NvZGUmJihlLnN0YXR1c0NvZGU8MjAwfHxlLnN0YXR1c0NvZGU+PTMwMCkmJnRlJiZsZS53YXJuKGBTZW50cnkgcmVzcG9uZGVkIHdpdGggc3RhdHVzIGNvZGUgJHtlLnN0YXR1c0NvZGV9IHRvIHNlbnQgZXZlbnQuYCkscj1CbihyLGUpLGUpKSwoZT0+e3Rocm93IGEoXCJuZXR3b3JrX2Vycm9yXCIpLGV9KSkpKS50aGVuKChlPT5lKSwoZT0+e2lmKGUgaW5zdGFuY2VvZiB4bilyZXR1cm4gdGUmJmxlLmVycm9yKFwiU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuXCIpLGEoXCJxdWV1ZV9vdmVyZmxvd1wiKSxodCh7fSk7dGhyb3cgZX0pKX0sZmx1c2g6ZT0+bi5kcmFpbihlKX19ZnVuY3Rpb24gVm4oZSx0KXtpZihcImV2ZW50XCI9PT10fHxcInRyYW5zYWN0aW9uXCI9PT10KXJldHVybiBBcnJheS5pc0FycmF5KGUpP2VbMV06dm9pZCAwfWNvbnN0IEpuPTEwMDtmdW5jdGlvbiAkbihlLHQpe2NvbnN0IG49eHQoKSxyPUl0KCk7aWYoIW4pcmV0dXJuO2NvbnN0e2JlZm9yZUJyZWFkY3J1bWI6aT1udWxsLG1heEJyZWFkY3J1bWJzOm89Sm59PW4uZ2V0T3B0aW9ucygpO2lmKG88PTApcmV0dXJuO2NvbnN0IHM9e3RpbWVzdGFtcDpydCgpLC4uLmV9LGE9aT9jZSgoKCk9Pmkocyx0KSkpOnM7bnVsbCE9PWEmJihuLmVtaXQmJm4uZW1pdChcImJlZm9yZUFkZEJyZWFkY3J1bWJcIixhLHQpLHIuYWRkQnJlYWRjcnVtYihhLG8pKX1sZXQgcW47Y29uc3Qgem49bmV3IFdlYWtNYXAsV249KCk9Pih7bmFtZTpcIkZ1bmN0aW9uVG9TdHJpbmdcIixzZXR1cE9uY2UoKXtxbj1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7dHJ5e0Z1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbiguLi5lKXtjb25zdCB0PVllKHRoaXMpLG49em4uaGFzKHh0KCkpJiZ2b2lkIDAhPT10P3Q6dGhpcztyZXR1cm4gcW4uYXBwbHkobixlKX19Y2F0Y2goZSl7fX0sc2V0dXAoZSl7em4uc2V0KGUsITApfX0pLEhuPVsvXlNjcmlwdCBlcnJvclxcLj8kLywvXkphdmFzY3JpcHQgZXJyb3I6IFNjcmlwdCBlcnJvclxcLj8gb24gbGluZSAwJC8sL15SZXNpemVPYnNlcnZlciBsb29wIGNvbXBsZXRlZCB3aXRoIHVuZGVsaXZlcmVkIG5vdGlmaWNhdGlvbnMuJC8sL15DYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IGdvb2dsZXRhZyQvLFwidW5kZWZpbmVkIGlzIG5vdCBhbiBvYmplY3QgKGV2YWx1YXRpbmcgJ2EuTCcpXCIsJ2NhblxcJ3QgcmVkZWZpbmUgbm9uLWNvbmZpZ3VyYWJsZSBwcm9wZXJ0eSBcInNvbGFuYVwiJyxcInZ2KCkuZ2V0UmVzdHJpY3Rpb25zIGlzIG5vdCBhIGZ1bmN0aW9uLiAoSW4gJ3Z2KCkuZ2V0UmVzdHJpY3Rpb25zKDEsYSknLCAndnYoKS5nZXRSZXN0cmljdGlvbnMnIGlzIHVuZGVmaW5lZClcIixcIkNhbid0IGZpbmQgdmFyaWFibGU6IF9BdXRvZmlsbENhbGxiYWNrSGFuZGxlclwiLC9eTm9uLUVycm9yIHByb21pc2UgcmVqZWN0aW9uIGNhcHR1cmVkIHdpdGggdmFsdWU6IE9iamVjdCBOb3QgRm91bmQgTWF0Y2hpbmcgSWQ6XFxkKywgTWV0aG9kTmFtZTpzaW11bGF0ZUV2ZW50LCBQYXJhbUNvdW50OlxcZCskL10sR249KGU9e30pPT4oe25hbWU6XCJJbmJvdW5kRmlsdGVyc1wiLHByb2Nlc3NFdmVudCh0LG4scil7Y29uc3QgaT1yLmdldE9wdGlvbnMoKSxvPWZ1bmN0aW9uKGU9e30sdD17fSl7cmV0dXJue2FsbG93VXJsczpbLi4uZS5hbGxvd1VybHN8fFtdLC4uLnQuYWxsb3dVcmxzfHxbXV0sZGVueVVybHM6Wy4uLmUuZGVueVVybHN8fFtdLC4uLnQuZGVueVVybHN8fFtdXSxpZ25vcmVFcnJvcnM6Wy4uLmUuaWdub3JlRXJyb3JzfHxbXSwuLi50Lmlnbm9yZUVycm9yc3x8W10sLi4uZS5kaXNhYmxlRXJyb3JEZWZhdWx0cz9bXTpIbl0saWdub3JlVHJhbnNhY3Rpb25zOlsuLi5lLmlnbm9yZVRyYW5zYWN0aW9uc3x8W10sLi4udC5pZ25vcmVUcmFuc2FjdGlvbnN8fFtdXSxpZ25vcmVJbnRlcm5hbDp2b2lkIDA9PT1lLmlnbm9yZUludGVybmFsfHxlLmlnbm9yZUludGVybmFsfX0oZSxpKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0Lmlnbm9yZUludGVybmFsJiZmdW5jdGlvbihlKXt0cnl7cmV0dXJuXCJTZW50cnlFcnJvclwiPT09ZS5leGNlcHRpb24udmFsdWVzWzBdLnR5cGV9Y2F0Y2goZSl7fXJldHVybiExfShlKSlyZXR1cm4gdGUmJmxlLndhcm4oYEV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIGludGVybmFsIFNlbnRyeSBFcnJvci5cXG5FdmVudDogJHthdChlKX1gKSwhMDtpZihmdW5jdGlvbihlLHQpe2lmKGUudHlwZXx8IXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtlLm1lc3NhZ2UmJnQucHVzaChlLm1lc3NhZ2UpO2xldCBuO3RyeXtuPWUuZXhjZXB0aW9uLnZhbHVlc1tlLmV4Y2VwdGlvbi52YWx1ZXMubGVuZ3RoLTFdfWNhdGNoKGUpe31uJiZuLnZhbHVlJiYodC5wdXNoKG4udmFsdWUpLG4udHlwZSYmdC5wdXNoKGAke24udHlwZX06ICR7bi52YWx1ZX1gKSk7cmV0dXJuIHR9KGUpLnNvbWUoKGU9PkhlKGUsdCkpKX0oZSx0Lmlnbm9yZUVycm9ycykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IFxcYGlnbm9yZUVycm9yc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSl7aWYoZS50eXBlKXJldHVybiExO2lmKCFlLmV4Y2VwdGlvbnx8IWUuZXhjZXB0aW9uLnZhbHVlc3x8MD09PWUuZXhjZXB0aW9uLnZhbHVlcy5sZW5ndGgpcmV0dXJuITE7cmV0dXJuIWUubWVzc2FnZSYmIWUuZXhjZXB0aW9uLnZhbHVlcy5zb21lKChlPT5lLnN0YWNrdHJhY2V8fGUudHlwZSYmXCJFcnJvclwiIT09ZS50eXBlfHxlLnZhbHVlKSl9KGUpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gbm90IGhhdmluZyBhbiBlcnJvciBtZXNzYWdlLCBlcnJvciB0eXBlIG9yIHN0YWNrdHJhY2UuXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSx0KXtpZihcInRyYW5zYWN0aW9uXCIhPT1lLnR5cGV8fCF0fHwhdC5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgbj1lLnRyYW5zYWN0aW9uO3JldHVybiEhbiYmSGUobix0KX0oZSx0Lmlnbm9yZVRyYW5zYWN0aW9ucykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IFxcYGlnbm9yZVRyYW5zYWN0aW9uc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSx0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiExO2NvbnN0IG49UW4oZSk7cmV0dXJuISFuJiZIZShuLHQpfShlLHQuZGVueVVybHMpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gYmVpbmcgbWF0Y2hlZCBieSBcXGBkZW55VXJsc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9LlxcblVybDogJHtRbihlKX1gKSwhMDtpZighZnVuY3Rpb24oZSx0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiEwO2NvbnN0IG49UW4oZSk7cmV0dXJuIW58fEhlKG4sdCl9KGUsdC5hbGxvd1VybHMpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gbm90IGJlaW5nIG1hdGNoZWQgYnkgXFxgYWxsb3dVcmxzXFxgIG9wdGlvbi5cXG5FdmVudDogJHthdChlKX0uXFxuVXJsOiAke1FuKGUpfWApLCEwO3JldHVybiExfSh0LG8pP251bGw6dH19KTtmdW5jdGlvbiBRbihlKXt0cnl7bGV0IHQ7dHJ5e3Q9ZS5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzfWNhdGNoKGUpe31yZXR1cm4gdD9mdW5jdGlvbihlPVtdKXtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdO2lmKG4mJlwiPGFub255bW91cz5cIiE9PW4uZmlsZW5hbWUmJlwiW25hdGl2ZSBjb2RlXVwiIT09bi5maWxlbmFtZSlyZXR1cm4gbi5maWxlbmFtZXx8bnVsbH1yZXR1cm4gbnVsbH0odCk6bnVsbH1jYXRjaCh0KXtyZXR1cm4gdGUmJmxlLmVycm9yKGBDYW5ub3QgZXh0cmFjdCB1cmwgZm9yIGV2ZW50ICR7YXQoZSl9YCksbnVsbH19ZnVuY3Rpb24gS24oZSx0LG49MjUwLHIsaSxvLHMpe2lmKCEoby5leGNlcHRpb24mJm8uZXhjZXB0aW9uLnZhbHVlcyYmcyYmQmUocy5vcmlnaW5hbEV4Y2VwdGlvbixFcnJvcikpKXJldHVybjtjb25zdCBhPW8uZXhjZXB0aW9uLnZhbHVlcy5sZW5ndGg+MD9vLmV4Y2VwdGlvbi52YWx1ZXNbby5leGNlcHRpb24udmFsdWVzLmxlbmd0aC0xXTp2b2lkIDA7dmFyIGMsbDthJiYoby5leGNlcHRpb24udmFsdWVzPShjPVluKGUsdCxpLHMub3JpZ2luYWxFeGNlcHRpb24scixvLmV4Y2VwdGlvbi52YWx1ZXMsYSwwKSxsPW4sYy5tYXAoKGU9PihlLnZhbHVlJiYoZS52YWx1ZT1xZShlLnZhbHVlLGwpKSxlKSkpKSl9ZnVuY3Rpb24gWW4oZSx0LG4scixpLG8scyxhKXtpZihvLmxlbmd0aD49bisxKXJldHVybiBvO2xldCBjPVsuLi5vXTtpZihCZShyW2ldLEVycm9yKSl7WG4ocyxhKTtjb25zdCBvPWUodCxyW2ldKSxsPWMubGVuZ3RoO1puKG8saSxsLGEpLGM9WW4oZSx0LG4scltpXSxpLFtvLC4uLmNdLG8sbCl9cmV0dXJuIEFycmF5LmlzQXJyYXkoci5lcnJvcnMpJiZyLmVycm9ycy5mb3JFYWNoKCgocixvKT0+e2lmKEJlKHIsRXJyb3IpKXtYbihzLGEpO2NvbnN0IGw9ZSh0LHIpLHU9Yy5sZW5ndGg7Wm4obCxgZXJyb3JzWyR7b31dYCx1LGEpLGM9WW4oZSx0LG4scixpLFtsLC4uLmNdLGwsdSl9fSkpLGN9ZnVuY3Rpb24gWG4oZSx0KXtlLm1lY2hhbmlzbT1lLm1lY2hhbmlzbXx8e3R5cGU6XCJnZW5lcmljXCIsaGFuZGxlZDohMH0sZS5tZWNoYW5pc209ey4uLmUubWVjaGFuaXNtLC4uLlwiQWdncmVnYXRlRXJyb3JcIj09PWUudHlwZSYme2lzX2V4Y2VwdGlvbl9ncm91cDohMH0sZXhjZXB0aW9uX2lkOnR9fWZ1bmN0aW9uIFpuKGUsdCxuLHIpe2UubWVjaGFuaXNtPWUubWVjaGFuaXNtfHx7dHlwZTpcImdlbmVyaWNcIixoYW5kbGVkOiEwfSxlLm1lY2hhbmlzbT17Li4uZS5tZWNoYW5pc20sdHlwZTpcImNoYWluZWRcIixzb3VyY2U6dCxleGNlcHRpb25faWQ6bixwYXJlbnRfaWQ6cn19ZnVuY3Rpb24gZXIoZSl7aWYoIWUpcmV0dXJue307Y29uc3QgdD1lLm1hdGNoKC9eKChbXjovPyNdKyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvKTtpZighdClyZXR1cm57fTtjb25zdCBuPXRbNl18fFwiXCIscj10WzhdfHxcIlwiO3JldHVybntob3N0OnRbNF0scGF0aDp0WzVdLHByb3RvY29sOnRbMl0sc2VhcmNoOm4saGFzaDpyLHJlbGF0aXZlOnRbNV0rbityfX1mdW5jdGlvbiB0cigpe1wiY29uc29sZVwiaW4gcmUmJnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UgaW4gcmUuY29uc29sZSYmR2UocmUuY29uc29sZSxlLChmdW5jdGlvbih0KXtyZXR1cm4gYWVbZV09dCxmdW5jdGlvbiguLi50KXt3ZShcImNvbnNvbGVcIix7YXJnczp0LGxldmVsOmV9KTtjb25zdCBuPWFlW2VdO24mJm4uYXBwbHkocmUuY29uc29sZSx0KX19KSl9KSl9ZnVuY3Rpb24gbnIoZSl7cmV0dXJuXCJ3YXJuXCI9PT1lP1wid2FybmluZ1wiOltcImZhdGFsXCIsXCJlcnJvclwiLFwid2FybmluZ1wiLFwibG9nXCIsXCJpbmZvXCIsXCJkZWJ1Z1wiXS5pbmNsdWRlcyhlKT9lOlwibG9nXCJ9Y29uc3QgcnI9KCk9PntsZXQgZTtyZXR1cm57bmFtZTpcIkRlZHVwZVwiLHByb2Nlc3NFdmVudCh0KXtpZih0LnR5cGUpcmV0dXJuIHQ7dHJ5e2lmKGZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7aWYoZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUubWVzc2FnZSxyPXQubWVzc2FnZTtpZighbiYmIXIpcmV0dXJuITE7aWYobiYmIXJ8fCFuJiZyKXJldHVybiExO2lmKG4hPT1yKXJldHVybiExO2lmKCFvcihlLHQpKXJldHVybiExO2lmKCFpcihlLHQpKXJldHVybiExO3JldHVybiEwfShlLHQpKXJldHVybiEwO2lmKGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1zcih0KSxyPXNyKGUpO2lmKCFufHwhcilyZXR1cm4hMTtpZihuLnR5cGUhPT1yLnR5cGV8fG4udmFsdWUhPT1yLnZhbHVlKXJldHVybiExO2lmKCFvcihlLHQpKXJldHVybiExO2lmKCFpcihlLHQpKXJldHVybiExO3JldHVybiEwfShlLHQpKXJldHVybiEwO3JldHVybiExfSh0LGUpKXJldHVybiB0ZSYmbGUud2FybihcIkV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIGEgZHVwbGljYXRlIG9mIHByZXZpb3VzbHkgY2FwdHVyZWQgZXZlbnQuXCIpLG51bGx9Y2F0Y2goZSl7fXJldHVybiBlPXR9fX07ZnVuY3Rpb24gaXIoZSx0KXtsZXQgbj1nZShlKSxyPWdlKHQpO2lmKCFuJiYhcilyZXR1cm4hMDtpZihuJiYhcnx8IW4mJnIpcmV0dXJuITE7aWYoci5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgdD1yW2VdLGk9bltlXTtpZih0LmZpbGVuYW1lIT09aS5maWxlbmFtZXx8dC5saW5lbm8hPT1pLmxpbmVub3x8dC5jb2xubyE9PWkuY29sbm98fHQuZnVuY3Rpb24hPT1pLmZ1bmN0aW9uKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIG9yKGUsdCl7bGV0IG49ZS5maW5nZXJwcmludCxyPXQuZmluZ2VycHJpbnQ7aWYoIW4mJiFyKXJldHVybiEwO2lmKG4mJiFyfHwhbiYmcilyZXR1cm4hMTt0cnl7cmV0dXJuIShuLmpvaW4oXCJcIikhPT1yLmpvaW4oXCJcIikpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBzcihlKXtyZXR1cm4gZS5leGNlcHRpb24mJmUuZXhjZXB0aW9uLnZhbHVlcyYmZS5leGNlcHRpb24udmFsdWVzWzBdfWZ1bmN0aW9uIGFyKGUpe3JldHVybiB2b2lkIDA9PT1lP3ZvaWQgMDplPj00MDAmJmU8NTAwP1wid2FybmluZ1wiOmU+PTUwMD9cImVycm9yXCI6dm9pZCAwfWNvbnN0IGNyPXJlO2Z1bmN0aW9uIGxyKGUpe3JldHVybiBlJiYvXmZ1bmN0aW9uXFxzK1xcdytcXChcXClcXHMrXFx7XFxzK1xcW25hdGl2ZSBjb2RlXFxdXFxzK1xcfSQvLnRlc3QoZS50b1N0cmluZygpKX1mdW5jdGlvbiB1cigpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBFZGdlUnVudGltZSlyZXR1cm4hMDtpZighZnVuY3Rpb24oKXtpZighKFwiZmV0Y2hcImluIGNyKSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBIZWFkZXJzLG5ldyBSZXF1ZXN0KFwiaHR0cDovL3d3dy5leGFtcGxlLmNvbVwiKSxuZXcgUmVzcG9uc2UsITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpKXJldHVybiExO2lmKGxyKGNyLmZldGNoKSlyZXR1cm4hMDtsZXQgZT0hMTtjb25zdCB0PWNyLmRvY3VtZW50O2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3JlYXRlRWxlbWVudCl0cnl7Y29uc3Qgbj10LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7bi5oaWRkZW49ITAsdC5oZWFkLmFwcGVuZENoaWxkKG4pLG4uY29udGVudFdpbmRvdyYmbi5jb250ZW50V2luZG93LmZldGNoJiYoZT1scihuLmNvbnRlbnRXaW5kb3cuZmV0Y2gpKSx0LmhlYWQucmVtb3ZlQ2hpbGQobil9Y2F0Y2goZSl7b2UmJmxlLndhcm4oXCJDb3VsZCBub3QgY3JlYXRlIHNhbmRib3ggaWZyYW1lIGZvciBwdXJlIGZldGNoIGNoZWNrLCBiYWlsaW5nIHRvIHdpbmRvdy5mZXRjaDogXCIsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gZHIoZSx0KXtjb25zdCBuPVwiZmV0Y2hcIjtiZShuLGUpLF9lKG4sKCgpPT5mdW5jdGlvbihlLHQ9ITEpe2lmKHQmJiF1cigpKXJldHVybjtHZShyZSxcImZldGNoXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbiguLi5uKXtjb25zdCByPW5ldyBFcnJvcix7bWV0aG9kOmksdXJsOm99PWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm57bWV0aG9kOlwiR0VUXCIsdXJsOlwiXCJ9O2lmKDI9PT1lLmxlbmd0aCl7Y29uc3RbdCxuXT1lO3JldHVybnt1cmw6cHIodCksbWV0aG9kOmhyKG4sXCJtZXRob2RcIik/U3RyaW5nKG4ubWV0aG9kKS50b1VwcGVyQ2FzZSgpOlwiR0VUXCJ9fWNvbnN0IHQ9ZVswXTtyZXR1cm57dXJsOnByKHQpLG1ldGhvZDpocih0LFwibWV0aG9kXCIpP1N0cmluZyh0Lm1ldGhvZCkudG9VcHBlckNhc2UoKTpcIkdFVFwifX0obikscz17YXJnczpuLGZldGNoRGF0YTp7bWV0aG9kOmksdXJsOm99LHN0YXJ0VGltZXN0YW1wOjFlMyppdCgpLHZpcnR1YWxFcnJvcjpyfTtyZXR1cm4gZXx8d2UoXCJmZXRjaFwiLHsuLi5zfSksdC5hcHBseShyZSxuKS50aGVuKChhc3luYyB0PT4oZT9lKHQpOndlKFwiZmV0Y2hcIix7Li4ucyxlbmRUaW1lc3RhbXA6MWUzKml0KCkscmVzcG9uc2U6dH0pLHQpKSwoZT0+e3Rocm93IHdlKFwiZmV0Y2hcIix7Li4ucyxlbmRUaW1lc3RhbXA6MWUzKml0KCksZXJyb3I6ZX0pLFBlKGUpJiZ2b2lkIDA9PT1lLnN0YWNrJiYoZS5zdGFjaz1yLnN0YWNrLFFlKGUsXCJmcmFtZXNUb1BvcFwiLDEpKSxlfSkpfX0pKX0odm9pZCAwLHQpKSl9ZnVuY3Rpb24gaHIoZSx0KXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhIWVbdF19ZnVuY3Rpb24gcHIoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplP2hyKGUsXCJ1cmxcIik/ZS51cmw6ZS50b1N0cmluZz9lLnRvU3RyaW5nKCk6XCJcIjpcIlwifWNvbnN0IGZyPXJlO2NvbnN0IHZyPXJlO2xldCBncj0wO2Z1bmN0aW9uIG1yKCl7cmV0dXJuIGdyPjB9ZnVuY3Rpb24geXIoZSx0PXt9KXtpZighZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0oZSkpcmV0dXJuIGU7dHJ5e2NvbnN0IHQ9ZS5fX3NlbnRyeV93cmFwcGVkX187aWYodClyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZTtpZihZZShlKSlyZXR1cm4gZX1jYXRjaCh0KXtyZXR1cm4gZX1jb25zdCBuPWZ1bmN0aW9uKC4uLm4pe3RyeXtjb25zdCByPW4ubWFwKChlPT55cihlLHQpKSk7cmV0dXJuIGUuYXBwbHkodGhpcyxyKX1jYXRjaChlKXt0aHJvdyBncisrLHNldFRpbWVvdXQoKCgpPT57Z3ItLX0pKSxmdW5jdGlvbiguLi5lKXtjb25zdCB0PUF0KEVlKCkpO2lmKDI9PT1lLmxlbmd0aCl7Y29uc3RbbixyXT1lO3JldHVybiBuP3Qud2l0aFNldFNjb3BlKG4scik6dC53aXRoU2NvcGUocil9dC53aXRoU2NvcGUoZVswXSl9KChyPT57dmFyIGksbztyLmFkZEV2ZW50UHJvY2Vzc29yKChlPT4odC5tZWNoYW5pc20mJihjdChlLHZvaWQgMCx2b2lkIDApLGx0KGUsdC5tZWNoYW5pc20pKSxlLmV4dHJhPXsuLi5lLmV4dHJhLGFyZ3VtZW50czpufSxlKSkpLGk9ZSxqdCgpLmNhcHR1cmVFeGNlcHRpb24oaSxTbihvKSl9KSksZX19O3RyeXtmb3IoY29uc3QgdCBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiYoblt0XT1lW3RdKX1jYXRjaChlKXt9S2UobixlKSxRZShlLFwiX19zZW50cnlfd3JhcHBlZF9fXCIsbik7dHJ5e09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixcIm5hbWVcIikuY29uZmlndXJhYmxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm5hbWVcIix7Z2V0OigpPT5lLm5hbWV9KX1jYXRjaChlKXt9cmV0dXJuIG59Y29uc3QgYnI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fU0VOVFJZX0RFQlVHX198fF9fU0VOVFJZX0RFQlVHX187ZnVuY3Rpb24gX3IoZSx0KXtjb25zdCBuPWtyKGUsdCkscj17dHlwZTpFcih0KSx2YWx1ZTpUcih0KX07cmV0dXJuIG4ubGVuZ3RoJiYoci5zdGFja3RyYWNlPXtmcmFtZXM6bn0pLHZvaWQgMD09PXIudHlwZSYmXCJcIj09PXIudmFsdWUmJihyLnZhbHVlPVwiVW5yZWNvdmVyYWJsZSBlcnJvciBjYXVnaHRcIikscn1mdW5jdGlvbiB3cihlLHQsbixyKXtjb25zdCBpPXh0KCksbz1pJiZpLmdldE9wdGlvbnMoKS5ub3JtYWxpemVEZXB0aCxzPWZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpe2NvbnN0IG49ZVt0XTtpZihuIGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuIG59cmV0dXJufSh0KSxhPXtfX3NlcmlhbGl6ZWRfXzp0bih0LG8pfTtpZihzKXJldHVybntleGNlcHRpb246e3ZhbHVlczpbX3IoZSxzKV19LGV4dHJhOmF9O2NvbnN0IGM9e2V4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZTpSZSh0KT90LmNvbnN0cnVjdG9yLm5hbWU6cj9cIlVuaGFuZGxlZFJlamVjdGlvblwiOlwiRXJyb3JcIix2YWx1ZTpBcih0LHtpc1VuaGFuZGxlZFJlamVjdGlvbjpyfSl9XX0sZXh0cmE6YX07aWYobil7Y29uc3QgdD1rcihlLG4pO3QubGVuZ3RoJiYoYy5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2U9e2ZyYW1lczp0fSl9cmV0dXJuIGN9ZnVuY3Rpb24gU3IoZSx0KXtyZXR1cm57ZXhjZXB0aW9uOnt2YWx1ZXM6W19yKGUsdCldfX19ZnVuY3Rpb24ga3IoZSx0KXtjb25zdCBuPXQuc3RhY2t0cmFjZXx8dC5zdGFja3x8XCJcIixyPWZ1bmN0aW9uKGUpe2lmKGUmJk1yLnRlc3QoZS5tZXNzYWdlKSlyZXR1cm4gMTtyZXR1cm4gMH0odCksaT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZS5mcmFtZXNUb1BvcClyZXR1cm4gZS5mcmFtZXNUb1BvcDtyZXR1cm4gMH0odCk7dHJ5e3JldHVybiBlKG4scixpKX1jYXRjaChlKXt9cmV0dXJuW119Y29uc3QgTXI9L01pbmlmaWVkIFJlYWN0IGVycm9yICNcXGQrOy9pO2Z1bmN0aW9uIENyKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmdm9pZCAwIT09V2ViQXNzZW1ibHkuRXhjZXB0aW9uJiZlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuRXhjZXB0aW9ufWZ1bmN0aW9uIEVyKGUpe2NvbnN0IHQ9ZSYmZS5uYW1lO2lmKCF0JiZDcihlKSl7cmV0dXJuIGUubWVzc2FnZSYmQXJyYXkuaXNBcnJheShlLm1lc3NhZ2UpJiYyPT1lLm1lc3NhZ2UubGVuZ3RoP2UubWVzc2FnZVswXTpcIldlYkFzc2VtYmx5LkV4Y2VwdGlvblwifXJldHVybiB0fWZ1bmN0aW9uIFRyKGUpe2NvbnN0IHQ9ZSYmZS5tZXNzYWdlO3JldHVybiB0P3QuZXJyb3ImJlwic3RyaW5nXCI9PXR5cGVvZiB0LmVycm9yLm1lc3NhZ2U/dC5lcnJvci5tZXNzYWdlOkNyKGUpJiZBcnJheS5pc0FycmF5KGUubWVzc2FnZSkmJjI9PWUubWVzc2FnZS5sZW5ndGg/ZS5tZXNzYWdlWzFdOnQ6XCJObyBlcnJvciBtZXNzYWdlXCJ9ZnVuY3Rpb24gT3IoZSx0LG4scixpKXtsZXQgbztpZihqZSh0KSYmdC5lcnJvcil7cmV0dXJuIFNyKGUsdC5lcnJvcil9aWYoSWUodCl8fEFlKHQsXCJET01FeGNlcHRpb25cIikpe2NvbnN0IGk9dDtpZihcInN0YWNrXCJpbiB0KW89U3IoZSx0KTtlbHNle2NvbnN0IHQ9aS5uYW1lfHwoSWUoaSk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpLHM9aS5tZXNzYWdlP2Ake3R9OiAke2kubWVzc2FnZX1gOnQ7bz1QcihlLHMsbixyKSxjdChvLHMpfXJldHVyblwiY29kZVwiaW4gaSYmKG8udGFncz17Li4uby50YWdzLFwiRE9NRXhjZXB0aW9uLmNvZGVcIjpgJHtpLmNvZGV9YH0pLG99aWYoUGUodCkpcmV0dXJuIFNyKGUsdCk7aWYoTmUodCl8fFJlKHQpKXtyZXR1cm4gbz13cihlLHQsbixpKSxsdChvLHtzeW50aGV0aWM6ITB9KSxvfXJldHVybiBvPVByKGUsdCxuLHIpLGN0KG8sYCR7dH1gLHZvaWQgMCksbHQobyx7c3ludGhldGljOiEwfSksb31mdW5jdGlvbiBQcihlLHQsbixyKXtjb25zdCBpPXt9O2lmKHImJm4pe2NvbnN0IHI9a3IoZSxuKTtyLmxlbmd0aCYmKGkuZXhjZXB0aW9uPXt2YWx1ZXM6W3t2YWx1ZTp0LHN0YWNrdHJhY2U6e2ZyYW1lczpyfX1dfSksbHQoaSx7c3ludGhldGljOiEwfSl9aWYoTGUodCkpe2NvbnN0e19fc2VudHJ5X3RlbXBsYXRlX3N0cmluZ19fOmUsX19zZW50cnlfdGVtcGxhdGVfdmFsdWVzX186bn09dDtyZXR1cm4gaS5sb2dlbnRyeT17bWVzc2FnZTplLHBhcmFtczpufSxpfXJldHVybiBpLm1lc3NhZ2U9dCxpfWZ1bmN0aW9uIEFyKGUse2lzVW5oYW5kbGVkUmVqZWN0aW9uOnR9KXtjb25zdCBuPWZ1bmN0aW9uKGUsdD00MCl7Y29uc3Qgbj1PYmplY3Qua2V5cyhYZShlKSk7bi5zb3J0KCk7Y29uc3Qgcj1uWzBdO2lmKCFyKXJldHVyblwiW29iamVjdCBoYXMgbm8ga2V5c11cIjtpZihyLmxlbmd0aD49dClyZXR1cm4gcWUocix0KTtmb3IobGV0IGU9bi5sZW5ndGg7ZT4wO2UtLSl7Y29uc3Qgcj1uLnNsaWNlKDAsZSkuam9pbihcIiwgXCIpO2lmKCEoci5sZW5ndGg+dCkpcmV0dXJuIGU9PT1uLmxlbmd0aD9yOnFlKHIsdCl9cmV0dXJuXCJcIn0oZSkscj10P1wicHJvbWlzZSByZWplY3Rpb25cIjpcImV4Y2VwdGlvblwiO2lmKGplKGUpKXJldHVybmBFdmVudCBcXGBFcnJvckV2ZW50XFxgIGNhcHR1cmVkIGFzICR7cn0gd2l0aCBtZXNzYWdlIFxcYCR7ZS5tZXNzYWdlfVxcYGA7aWYoUmUoZSkpe3JldHVybmBFdmVudCBcXGAke2Z1bmN0aW9uKGUpe3RyeXtjb25zdCB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gdD90LmNvbnN0cnVjdG9yLm5hbWU6dm9pZCAwfWNhdGNoKGUpe319KGUpfVxcYCAodHlwZT0ke2UudHlwZX0pIGNhcHR1cmVkIGFzICR7cn1gfXJldHVybmBPYmplY3QgY2FwdHVyZWQgYXMgJHtyfSB3aXRoIGtleXM6ICR7bn1gfWNsYXNzIGpyIGV4dGVuZHMgRG57Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17cGFyZW50U3BhbklzQWx3YXlzUm9vdFNwYW46ITAsLi4uZX07IWZ1bmN0aW9uKGUsdCxuPVt0XSxyPVwibnBtXCIpe2NvbnN0IGk9ZS5fbWV0YWRhdGF8fHt9O2kuc2RrfHwoaS5zZGs9e25hbWU6YHNlbnRyeS5qYXZhc2NyaXB0LiR7dH1gLHBhY2thZ2VzOm4ubWFwKChlPT4oe25hbWU6YCR7cn06QHNlbnRyeS8ke2V9YCx2ZXJzaW9uOm5lfSkpKSx2ZXJzaW9uOm5lfSksZS5fbWV0YWRhdGE9aX0odCxcImJyb3dzZXJcIixbXCJicm93c2VyXCJdLHZyLlNFTlRSWV9TREtfU09VUkNFfHxcIm5wbVwiKSxzdXBlcih0KSx0LnNlbmRDbGllbnRSZXBvcnRzJiZ2ci5kb2N1bWVudCYmdnIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwoKCk9PntcImhpZGRlblwiPT09dnIuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiZ0aGlzLl9mbHVzaE91dGNvbWVzKCl9KSl9ZXZlbnRGcm9tRXhjZXB0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0IGk9T3IoZSx0LG4mJm4uc3ludGhldGljRXhjZXB0aW9ufHx2b2lkIDAscik7cmV0dXJuIGx0KGkpLGkubGV2ZWw9XCJlcnJvclwiLG4mJm4uZXZlbnRfaWQmJihpLmV2ZW50X2lkPW4uZXZlbnRfaWQpLGh0KGkpfSh0aGlzLl9vcHRpb25zLnN0YWNrUGFyc2VyLGUsdCx0aGlzLl9vcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UpfWV2ZW50RnJvbU1lc3NhZ2UoZSx0PVwiaW5mb1wiLG4pe3JldHVybiBmdW5jdGlvbihlLHQsbj1cImluZm9cIixyLGkpe2NvbnN0IG89UHIoZSx0LHImJnIuc3ludGhldGljRXhjZXB0aW9ufHx2b2lkIDAsaSk7cmV0dXJuIG8ubGV2ZWw9bixyJiZyLmV2ZW50X2lkJiYoby5ldmVudF9pZD1yLmV2ZW50X2lkKSxodChvKX0odGhpcy5fb3B0aW9ucy5zdGFja1BhcnNlcixlLHQsbix0aGlzLl9vcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UpfWNhcHR1cmVVc2VyRmVlZGJhY2soZSl7aWYoIXRoaXMuX2lzRW5hYmxlZCgpKXJldHVybiB2b2lkKGJyJiZsZS53YXJuKFwiU0RLIG5vdCBlbmFibGVkLCB3aWxsIG5vdCBjYXB0dXJlIHVzZXIgZmVlZGJhY2suXCIpKTtjb25zdCB0PWZ1bmN0aW9uKGUse21ldGFkYXRhOnQsdHVubmVsOm4sZHNuOnJ9KXtjb25zdCBpPXtldmVudF9pZDplLmV2ZW50X2lkLHNlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLnQmJnQuc2RrJiZ7c2RrOntuYW1lOnQuc2RrLm5hbWUsdmVyc2lvbjp0LnNkay52ZXJzaW9ufX0sLi4uISFuJiYhIXImJntkc246WXQocil9fSxvPWZ1bmN0aW9uKGUpe3JldHVyblt7dHlwZTpcInVzZXJfcmVwb3J0XCJ9LGVdfShlKTtyZXR1cm4gcm4oaSxbb10pfShlLHttZXRhZGF0YTp0aGlzLmdldFNka01ldGFkYXRhKCksZHNuOnRoaXMuZ2V0RHNuKCksdHVubmVsOnRoaXMuZ2V0T3B0aW9ucygpLnR1bm5lbH0pO3RoaXMuc2VuZEVudmVsb3BlKHQpfV9wcmVwYXJlRXZlbnQoZSx0LG4pe3JldHVybiBlLnBsYXRmb3JtPWUucGxhdGZvcm18fFwiamF2YXNjcmlwdFwiLHN1cGVyLl9wcmVwYXJlRXZlbnQoZSx0LG4pfX1jb25zdCBJcj1cInVuZGVmaW5lZFwiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyx4cj1yZTtsZXQgTHIsRHIsTnIsUnI7ZnVuY3Rpb24gRnIoKXtpZigheHIuZG9jdW1lbnQpcmV0dXJuO2NvbnN0IGU9d2UuYmluZChudWxsLFwiZG9tXCIpLHQ9QnIoZSwhMCk7eHIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCwhMSkseHIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdCwhMSksW1wiRXZlbnRUYXJnZXRcIixcIk5vZGVcIl0uZm9yRWFjaCgodD0+e2NvbnN0IG49eHJbdF0scj1uJiZuLnByb3RvdHlwZTtyJiZyLmhhc093blByb3BlcnR5JiZyLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSYmKEdlKHIsXCJhZGRFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIsaSl7aWYoXCJjbGlja1wiPT09bnx8XCJrZXlwcmVzc1wiPT1uKXRyeXtjb25zdCByPXRoaXMuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX189dGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfX3x8e30sbz1yW25dPXJbbl18fHtyZWZDb3VudDowfTtpZighby5oYW5kbGVyKXtjb25zdCByPUJyKGUpO28uaGFuZGxlcj1yLHQuY2FsbCh0aGlzLG4scixpKX1vLnJlZkNvdW50Kyt9Y2F0Y2goZSl7fXJldHVybiB0LmNhbGwodGhpcyxuLHIsaSl9fSkpLEdlKHIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7aWYoXCJjbGlja1wiPT09dHx8XCJrZXlwcmVzc1wiPT10KXRyeXtjb25zdCBuPXRoaXMuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX198fHt9LGk9blt0XTtpJiYoaS5yZWZDb3VudC0tLGkucmVmQ291bnQ8PTAmJihlLmNhbGwodGhpcyx0LGkuaGFuZGxlcixyKSxpLmhhbmRsZXI9dm9pZCAwLGRlbGV0ZSBuW3RdKSwwPT09T2JqZWN0LmtleXMobikubGVuZ3RoJiZkZWxldGUgdGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfXyl9Y2F0Y2goZSl7fXJldHVybiBlLmNhbGwodGhpcyx0LG4scil9fSkpKX0pKX1mdW5jdGlvbiBCcihlLHQ9ITEpe3JldHVybiBuPT57aWYoIW58fG4uX3NlbnRyeUNhcHR1cmVkKXJldHVybjtjb25zdCByPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS50YXJnZXR9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fShuKTtpZihmdW5jdGlvbihlLHQpe3JldHVyblwia2V5cHJlc3NcIj09PWUmJighdHx8IXQudGFnTmFtZXx8XCJJTlBVVFwiIT09dC50YWdOYW1lJiZcIlRFWFRBUkVBXCIhPT10LnRhZ05hbWUmJiF0LmlzQ29udGVudEVkaXRhYmxlKX0obi50eXBlLHIpKXJldHVybjtRZShuLFwiX3NlbnRyeUNhcHR1cmVkXCIsITApLHImJiFyLl9zZW50cnlJZCYmUWUocixcIl9zZW50cnlJZFwiLG90KCkpO2NvbnN0IGk9XCJrZXlwcmVzc1wiPT09bi50eXBlP1wiaW5wdXRcIjpuLnR5cGU7aWYoIWZ1bmN0aW9uKGUpe2lmKGUudHlwZSE9PURyKXJldHVybiExO3RyeXtpZighZS50YXJnZXR8fGUudGFyZ2V0Ll9zZW50cnlJZCE9PU5yKXJldHVybiExfWNhdGNoKGUpe31yZXR1cm4hMH0obikpe2Uoe2V2ZW50Om4sbmFtZTppLGdsb2JhbDp0fSksRHI9bi50eXBlLE5yPXI/ci5fc2VudHJ5SWQ6dm9pZCAwfWNsZWFyVGltZW91dChMciksTHI9eHIuc2V0VGltZW91dCgoKCk9PntOcj12b2lkIDAsRHI9dm9pZCAwfSksMWUzKX19ZnVuY3Rpb24gVXIoZSl7Y29uc3QgdD1cImhpc3RvcnlcIjtiZSh0LGUpLF9lKHQsVnIpfWZ1bmN0aW9uIFZyKCl7aWYoIWZ1bmN0aW9uKCl7Y29uc3QgZT1mci5jaHJvbWUsdD1lJiZlLmFwcCYmZS5hcHAucnVudGltZSxuPVwiaGlzdG9yeVwiaW4gZnImJiEhZnIuaGlzdG9yeS5wdXNoU3RhdGUmJiEhZnIuaGlzdG9yeS5yZXBsYWNlU3RhdGU7cmV0dXJuIXQmJm59KCkpcmV0dXJuO2NvbnN0IGU9eHIub25wb3BzdGF0ZTtmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtjb25zdCBuPXQubGVuZ3RoPjI/dFsyXTp2b2lkIDA7aWYobil7Y29uc3QgZT1Scix0PVN0cmluZyhuKTtScj10O3dlKFwiaGlzdG9yeVwiLHtmcm9tOmUsdG86dH0pfXJldHVybiBlLmFwcGx5KHRoaXMsdCl9fXhyLm9ucG9wc3RhdGU9ZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj14ci5sb2NhdGlvbi5ocmVmLHI9UnI7UnI9bjtpZih3ZShcImhpc3RvcnlcIix7ZnJvbTpyLHRvOm59KSxlKXRyeXtyZXR1cm4gZS5hcHBseSh0aGlzLHQpfWNhdGNoKGUpe319LEdlKHhyLmhpc3RvcnksXCJwdXNoU3RhdGVcIix0KSxHZSh4ci5oaXN0b3J5LFwicmVwbGFjZVN0YXRlXCIsdCl9Y29uc3QgSnI9e307ZnVuY3Rpb24gJHIoZSl7SnJbZV09dm9pZCAwfWNvbnN0IHFyPVwiX19zZW50cnlfeGhyX3YzX19cIjtmdW5jdGlvbiB6cigpe2lmKCF4ci5YTUxIdHRwUmVxdWVzdClyZXR1cm47Y29uc3QgZT1YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7ZS5vcGVuPW5ldyBQcm94eShlLm9wZW4se2FwcGx5KGUsdCxuKXtjb25zdCByPW5ldyBFcnJvcixpPTFlMyppdCgpLG89eGUoblswXSk/blswXS50b1VwcGVyQ2FzZSgpOnZvaWQgMCxzPWZ1bmN0aW9uKGUpe2lmKHhlKGUpKXJldHVybiBlO3RyeXtyZXR1cm4gZS50b1N0cmluZygpfWNhdGNoKGUpe31yZXR1cm59KG5bMV0pO2lmKCFvfHwhcylyZXR1cm4gZS5hcHBseSh0LG4pO3RbcXJdPXttZXRob2Q6byx1cmw6cyxyZXF1ZXN0X2hlYWRlcnM6e319LFwiUE9TVFwiPT09byYmcy5tYXRjaCgvc2VudHJ5X2tleS8pJiYodC5fX3NlbnRyeV9vd25fcmVxdWVzdF9fPSEwKTtjb25zdCBhPSgpPT57Y29uc3QgZT10W3FyXTtpZihlJiY0PT09dC5yZWFkeVN0YXRlKXt0cnl7ZS5zdGF0dXNfY29kZT10LnN0YXR1c31jYXRjaChlKXt9d2UoXCJ4aHJcIix7ZW5kVGltZXN0YW1wOjFlMyppdCgpLHN0YXJ0VGltZXN0YW1wOmkseGhyOnQsdmlydHVhbEVycm9yOnJ9KX19O3JldHVyblwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT90Lm9ucmVhZHlzdGF0ZWNoYW5nZT1uZXcgUHJveHkodC5vbnJlYWR5c3RhdGVjaGFuZ2Use2FwcGx5OihlLHQsbik9PihhKCksZS5hcHBseSh0LG4pKX0pOnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixhKSx0LnNldFJlcXVlc3RIZWFkZXI9bmV3IFByb3h5KHQuc2V0UmVxdWVzdEhlYWRlcix7YXBwbHkoZSx0LG4pe2NvbnN0W3IsaV09bixvPXRbcXJdO3JldHVybiBvJiZ4ZShyKSYmeGUoaSkmJihvLnJlcXVlc3RfaGVhZGVyc1tyLnRvTG93ZXJDYXNlKCldPWkpLGUuYXBwbHkodCxuKX19KSxlLmFwcGx5KHQsbil9fSksZS5zZW5kPW5ldyBQcm94eShlLnNlbmQse2FwcGx5KGUsdCxuKXtjb25zdCByPXRbcXJdO2lmKCFyKXJldHVybiBlLmFwcGx5KHQsbik7dm9pZCAwIT09blswXSYmKHIuYm9keT1uWzBdKTtyZXR1cm4gd2UoXCJ4aHJcIix7c3RhcnRUaW1lc3RhbXA6MWUzKml0KCkseGhyOnR9KSxlLmFwcGx5KHQsbil9fSl9ZnVuY3Rpb24gV3IoZSx0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9SnJbZV07aWYodClyZXR1cm4gdDtsZXQgbj14cltlXTtpZihscihuKSlyZXR1cm4gSnJbZV09bi5iaW5kKHhyKTtjb25zdCByPXhyLmRvY3VtZW50O2lmKHImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY3JlYXRlRWxlbWVudCl0cnl7Y29uc3QgdD1yLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dC5oaWRkZW49ITAsci5oZWFkLmFwcGVuZENoaWxkKHQpO2NvbnN0IGk9dC5jb250ZW50V2luZG93O2kmJmlbZV0mJihuPWlbZV0pLHIuaGVhZC5yZW1vdmVDaGlsZCh0KX1jYXRjaCh0KXtJciYmbGUud2FybihgQ291bGQgbm90IGNyZWF0ZSBzYW5kYm94IGlmcmFtZSBmb3IgJHtlfSBjaGVjaywgYmFpbGluZyB0byB3aW5kb3cuJHtlfTogYCx0KX1yZXR1cm4gbj9KcltlXT1uLmJpbmQoeHIpOm59KFwiZmV0Y2hcIikpe2xldCBuPTAscj0wO3JldHVybiBVbihlLChmdW5jdGlvbihpKXtjb25zdCBvPWkuYm9keS5sZW5ndGg7bis9byxyKys7Y29uc3Qgcz17Ym9keTppLmJvZHksbWV0aG9kOlwiUE9TVFwiLHJlZmVycmVyUG9saWN5Olwib3JpZ2luXCIsaGVhZGVyczplLmhlYWRlcnMsa2VlcGFsaXZlOm48PTZlNCYmcjwxNSwuLi5lLmZldGNoT3B0aW9uc307aWYoIXQpcmV0dXJuICRyKFwiZmV0Y2hcIikscHQoXCJObyBmZXRjaCBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGVcIik7dHJ5e3JldHVybiB0KGUudXJsLHMpLnRoZW4oKGU9PihuLT1vLHItLSx7c3RhdHVzQ29kZTplLnN0YXR1cyxoZWFkZXJzOntcIngtc2VudHJ5LXJhdGUtbGltaXRzXCI6ZS5oZWFkZXJzLmdldChcIlgtU2VudHJ5LVJhdGUtTGltaXRzXCIpLFwicmV0cnktYWZ0ZXJcIjplLmhlYWRlcnMuZ2V0KFwiUmV0cnktQWZ0ZXJcIil9fSkpKX1jYXRjaChlKXtyZXR1cm4gJHIoXCJmZXRjaFwiKSxuLT1vLHItLSxwdChlKX19KSl9ZnVuY3Rpb24gSHIoZSx0LG4scil7Y29uc3QgaT17ZmlsZW5hbWU6ZSxmdW5jdGlvbjpcIjxhbm9ueW1vdXM+XCI9PT10P3VlOnQsaW5fYXBwOiEwfTtyZXR1cm4gdm9pZCAwIT09biYmKGkubGluZW5vPW4pLHZvaWQgMCE9PXImJihpLmNvbG5vPXIpLGl9Y29uc3QgR3I9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLFFyPS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxLcj0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sWXI9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKT8oKD86Wy1hLXpdKyk/OlxcLy4qP3xcXFtuYXRpdmUgY29kZVxcXXxbXkBdKig/OmJ1bmRsZXxcXGQrXFwuanMpfFxcL1tcXHdcXC0uIC89XSspKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaSxYcj0vKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaSxacj1mdW5jdGlvbiguLi5lKXtjb25zdCB0PWUuc29ydCgoKGUsdCk9PmVbMF0tdFswXSkpLm1hcCgoZT0+ZVsxXSkpO3JldHVybihlLG49MCxyPTApPT57Y29uc3QgaT1bXSxvPWUuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBlPW47ZTxvLmxlbmd0aDtlKyspe2NvbnN0IG49b1tlXTtpZihuLmxlbmd0aD4xMDI0KWNvbnRpbnVlO2NvbnN0IHM9ZGUudGVzdChuKT9uLnJlcGxhY2UoZGUsXCIkMVwiKTpuO2lmKCFzLm1hdGNoKC9cXFMqRXJyb3I6IC8pKXtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUocyk7aWYodCl7aS5wdXNoKHQpO2JyZWFrfX1pZihpLmxlbmd0aD49NTArcilicmVha319cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClyZXR1cm5bXTtjb25zdCB0PUFycmF5LmZyb20oZSk7L3NlbnRyeVdyYXBwZWQvLnRlc3QocGUodCkuZnVuY3Rpb258fFwiXCIpJiZ0LnBvcCgpO3QucmV2ZXJzZSgpLGhlLnRlc3QocGUodCkuZnVuY3Rpb258fFwiXCIpJiYodC5wb3AoKSxoZS50ZXN0KHBlKHQpLmZ1bmN0aW9ufHxcIlwiKSYmdC5wb3AoKSk7cmV0dXJuIHQuc2xpY2UoMCw1MCkubWFwKChlPT4oey4uLmUsZmlsZW5hbWU6ZS5maWxlbmFtZXx8cGUodCkuZmlsZW5hbWUsZnVuY3Rpb246ZS5mdW5jdGlvbnx8dWV9KSkpfShpLnNsaWNlKHIpKX19KC4uLltbMzAsZT0+e2NvbnN0IHQ9R3IuZXhlYyhlKTtpZih0KXtjb25zdFssZSxuLHJdPXQ7cmV0dXJuIEhyKGUsdWUsK24sK3IpfWNvbnN0IG49UXIuZXhlYyhlKTtpZihuKXtpZihuWzJdJiYwPT09blsyXS5pbmRleE9mKFwiZXZhbFwiKSl7Y29uc3QgZT1Lci5leGVjKG5bMl0pO2UmJihuWzJdPWVbMV0sblszXT1lWzJdLG5bNF09ZVszXSl9Y29uc3RbZSx0XT1laShuWzFdfHx1ZSxuWzJdKTtyZXR1cm4gSHIodCxlLG5bM10/K25bM106dm9pZCAwLG5bNF0/K25bNF06dm9pZCAwKX19XSxbNTAsZT0+e2NvbnN0IHQ9WXIuZXhlYyhlKTtpZih0KXtpZih0WzNdJiZ0WzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXtjb25zdCBlPVhyLmV4ZWModFszXSk7ZSYmKHRbMV09dFsxXXx8XCJldmFsXCIsdFszXT1lWzFdLHRbNF09ZVsyXSx0WzVdPVwiXCIpfWxldCBlPXRbM10sbj10WzFdfHx1ZTtyZXR1cm5bbixlXT1laShuLGUpLEhyKGUsbix0WzRdPyt0WzRdOnZvaWQgMCx0WzVdPyt0WzVdOnZvaWQgMCl9fV1dKSxlaT0oZSx0KT0+e2NvbnN0IG49LTEhPT1lLmluZGV4T2YoXCJzYWZhcmktZXh0ZW5zaW9uXCIpLHI9LTEhPT1lLmluZGV4T2YoXCJzYWZhcmktd2ViLWV4dGVuc2lvblwiKTtyZXR1cm4gbnx8cj9bLTEhPT1lLmluZGV4T2YoXCJAXCIpP2Uuc3BsaXQoXCJAXCIpWzBdOnVlLG4/YHNhZmFyaS1leHRlbnNpb246JHt0fWA6YHNhZmFyaS13ZWItZXh0ZW5zaW9uOiR7dH1gXTpbZSx0XX0sdGk9MTAyNCxuaT0oZT17fSk9Pntjb25zdCB0PXtjb25zb2xlOiEwLGRvbTohMCxmZXRjaDohMCxoaXN0b3J5OiEwLHNlbnRyeTohMCx4aHI6ITAsLi4uZX07cmV0dXJue25hbWU6XCJCcmVhZGNydW1ic1wiLHNldHVwKGUpe3ZhciBuO3QuY29uc29sZSYmZnVuY3Rpb24oZSl7Y29uc3QgdD1cImNvbnNvbGVcIjtiZSh0LGUpLF9lKHQsdHIpfShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2NvbnN0IG49e2NhdGVnb3J5OlwiY29uc29sZVwiLGRhdGE6e2FyZ3VtZW50czp0LmFyZ3MsbG9nZ2VyOlwiY29uc29sZVwifSxsZXZlbDpucih0LmxldmVsKSxtZXNzYWdlOnplKHQuYXJncyxcIiBcIil9O2lmKFwiYXNzZXJ0XCI9PT10LmxldmVsKXtpZighMSE9PXQuYXJnc1swXSlyZXR1cm47bi5tZXNzYWdlPWBBc3NlcnRpb24gZmFpbGVkOiAke3plKHQuYXJncy5zbGljZSgxKSxcIiBcIil8fFwiY29uc29sZS5hc3NlcnRcIn1gLG4uZGF0YS5hcmd1bWVudHM9dC5hcmdzLnNsaWNlKDEpfSRuKG4se2lucHV0OnQuYXJncyxsZXZlbDp0LmxldmVsfSl9fShlKSksdC5kb20mJihuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHh0KCkhPT1lKXJldHVybjtsZXQgcixpLG89XCJvYmplY3RcIj09dHlwZW9mIHQ/dC5zZXJpYWxpemVBdHRyaWJ1dGU6dm9pZCAwLHM9XCJvYmplY3RcIj09dHlwZW9mIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lm1heFN0cmluZ0xlbmd0aD90Lm1heFN0cmluZ0xlbmd0aDp2b2lkIDA7cyYmcz50aSYmKGJyJiZsZS53YXJuKGBcXGBkb20ubWF4U3RyaW5nTGVuZ3RoXFxgIGNhbm5vdCBleGNlZWQgMTAyNCwgYnV0IGEgdmFsdWUgb2YgJHtzfSB3YXMgY29uZmlndXJlZC4gU2VudHJ5IHdpbGwgdXNlIDEwMjQgaW5zdGVhZC5gKSxzPXRpKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W29dKTt0cnl7Y29uc3QgZT1uLmV2ZW50LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIWUudGFyZ2V0fShlKT9lLnRhcmdldDplO3I9SmUodCx7a2V5QXR0cnM6byxtYXhTdHJpbmdMZW5ndGg6c30pLGk9ZnVuY3Rpb24oZSl7aWYoIVZlLkhUTUxFbGVtZW50KXJldHVybiBudWxsO2xldCB0PWU7Zm9yKGxldCBlPTA7ZTw1O2UrKyl7aWYoIXQpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtpZih0LmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiB0LmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKHQuZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiB0LmRhdGFzZXQuc2VudHJ5RWxlbWVudH10PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odCl9Y2F0Y2goZSl7cj1cIjx1bmtub3duPlwifWlmKDA9PT1yLmxlbmd0aClyZXR1cm47Y29uc3QgYT17Y2F0ZWdvcnk6YHVpLiR7bi5uYW1lfWAsbWVzc2FnZTpyfTtpJiYoYS5kYXRhPXtcInVpLmNvbXBvbmVudF9uYW1lXCI6aX0pLCRuKGEse2V2ZW50Om4uZXZlbnQsbmFtZTpuLm5hbWUsZ2xvYmFsOm4uZ2xvYmFsfSl9fShlLHQuZG9tKSxiZShcImRvbVwiLG4pLF9lKFwiZG9tXCIsRnIpKSx0LnhociYmZnVuY3Rpb24oZSl7YmUoXCJ4aHJcIixlKSxfZShcInhoclwiLHpyKX0oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHh0KCkhPT1lKXJldHVybjtjb25zdHtzdGFydFRpbWVzdGFtcDpuLGVuZFRpbWVzdGFtcDpyfT10LGk9dC54aHJbcXJdO2lmKCFufHwhcnx8IWkpcmV0dXJuO2NvbnN0e21ldGhvZDpvLHVybDpzLHN0YXR1c19jb2RlOmEsYm9keTpjfT1pLGw9e21ldGhvZDpvLHVybDpzLHN0YXR1c19jb2RlOmF9LHU9e3hocjp0LnhocixpbnB1dDpjLHN0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9OyRuKHtjYXRlZ29yeTpcInhoclwiLGRhdGE6bCx0eXBlOlwiaHR0cFwiLGxldmVsOmFyKGEpfSx1KX19KGUpKSx0LmZldGNoJiZkcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2NvbnN0e3N0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9PXQ7aWYociYmKCF0LmZldGNoRGF0YS51cmwubWF0Y2goL3NlbnRyeV9rZXkvKXx8XCJQT1NUXCIhPT10LmZldGNoRGF0YS5tZXRob2QpKWlmKHQuZXJyb3IpeyRuKHtjYXRlZ29yeTpcImZldGNoXCIsZGF0YTp0LmZldGNoRGF0YSxsZXZlbDpcImVycm9yXCIsdHlwZTpcImh0dHBcIn0se2RhdGE6dC5lcnJvcixpbnB1dDp0LmFyZ3Msc3RhcnRUaW1lc3RhbXA6bixlbmRUaW1lc3RhbXA6cn0pfWVsc2V7Y29uc3QgZT10LnJlc3BvbnNlLGk9ey4uLnQuZmV0Y2hEYXRhLHN0YXR1c19jb2RlOmUmJmUuc3RhdHVzfSxvPXtpbnB1dDp0LmFyZ3MscmVzcG9uc2U6ZSxzdGFydFRpbWVzdGFtcDpuLGVuZFRpbWVzdGFtcDpyfTskbih7Y2F0ZWdvcnk6XCJmZXRjaFwiLGRhdGE6aSx0eXBlOlwiaHR0cFwiLGxldmVsOmFyKGkuc3RhdHVzX2NvZGUpfSxvKX19fShlKSksdC5oaXN0b3J5JiZVcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2xldCBuPXQuZnJvbSxyPXQudG87Y29uc3QgaT1lcih2ci5sb2NhdGlvbi5ocmVmKTtsZXQgbz1uP2VyKG4pOnZvaWQgMDtjb25zdCBzPWVyKHIpO28mJm8ucGF0aHx8KG89aSksaS5wcm90b2NvbD09PXMucHJvdG9jb2wmJmkuaG9zdD09PXMuaG9zdCYmKHI9cy5yZWxhdGl2ZSksaS5wcm90b2NvbD09PW8ucHJvdG9jb2wmJmkuaG9zdD09PW8uaG9zdCYmKG49by5yZWxhdGl2ZSksJG4oe2NhdGVnb3J5OlwibmF2aWdhdGlvblwiLGRhdGE6e2Zyb206bix0bzpyfX0pfX0oZSkpLHQuc2VudHJ5JiZlLm9uKFwiYmVmb3JlU2VuZEV2ZW50XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3h0KCk9PT1lJiYkbih7Y2F0ZWdvcnk6XCJzZW50cnkuXCIrKFwidHJhbnNhY3Rpb25cIj09PXQudHlwZT9cInRyYW5zYWN0aW9uXCI6XCJldmVudFwiKSxldmVudF9pZDp0LmV2ZW50X2lkLGxldmVsOnQubGV2ZWwsbWVzc2FnZTphdCh0KX0se2V2ZW50OnR9KX19KGUpKX19fTtjb25zdCByaT1bXCJFdmVudFRhcmdldFwiLFwiV2luZG93XCIsXCJOb2RlXCIsXCJBcHBsaWNhdGlvbkNhY2hlXCIsXCJBdWRpb1RyYWNrTGlzdFwiLFwiQnJvYWRjYXN0Q2hhbm5lbFwiLFwiQ2hhbm5lbE1lcmdlck5vZGVcIixcIkNyeXB0b09wZXJhdGlvblwiLFwiRXZlbnRTb3VyY2VcIixcIkZpbGVSZWFkZXJcIixcIkhUTUxVbmtub3duRWxlbWVudFwiLFwiSURCRGF0YWJhc2VcIixcIklEQlJlcXVlc3RcIixcIklEQlRyYW5zYWN0aW9uXCIsXCJLZXlPcGVyYXRpb25cIixcIk1lZGlhQ29udHJvbGxlclwiLFwiTWVzc2FnZVBvcnRcIixcIk1vZGFsV2luZG93XCIsXCJOb3RpZmljYXRpb25cIixcIlNWR0VsZW1lbnRJbnN0YW5jZVwiLFwiU2NyZWVuXCIsXCJTaGFyZWRXb3JrZXJcIixcIlRleHRUcmFja1wiLFwiVGV4dFRyYWNrQ3VlXCIsXCJUZXh0VHJhY2tMaXN0XCIsXCJXZWJTb2NrZXRcIixcIldlYlNvY2tldFdvcmtlclwiLFwiV29ya2VyXCIsXCJYTUxIdHRwUmVxdWVzdFwiLFwiWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFwiLFwiWE1MSHR0cFJlcXVlc3RVcGxvYWRcIl0saWk9KGU9e30pPT57Y29uc3QgdD17WE1MSHR0cFJlcXVlc3Q6ITAsZXZlbnRUYXJnZXQ6ITAscmVxdWVzdEFuaW1hdGlvbkZyYW1lOiEwLHNldEludGVydmFsOiEwLHNldFRpbWVvdXQ6ITAsLi4uZX07cmV0dXJue25hbWU6XCJCcm93c2VyQXBpRXJyb3JzXCIsc2V0dXBPbmNlKCl7dC5zZXRUaW1lb3V0JiZHZSh2cixcInNldFRpbWVvdXRcIixvaSksdC5zZXRJbnRlcnZhbCYmR2UodnIsXCJzZXRJbnRlcnZhbFwiLG9pKSx0LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmR2UodnIsXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixzaSksdC5YTUxIdHRwUmVxdWVzdCYmXCJYTUxIdHRwUmVxdWVzdFwiaW4gdnImJkdlKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSxcInNlbmRcIixhaSk7Y29uc3QgZT10LmV2ZW50VGFyZ2V0O2lmKGUpeyhBcnJheS5pc0FycmF5KGUpP2U6cmkpLmZvckVhY2goY2kpfX19fTtmdW5jdGlvbiBvaShlKXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj10WzBdO3JldHVybiB0WzBdPXlyKG4se21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246dmUoZSl9LGhhbmRsZWQ6ITEsdHlwZTpcImluc3RydW1lbnRcIn19KSxlLmFwcGx5KHRoaXMsdCl9fWZ1bmN0aW9uIHNpKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLFt5cih0LHttZWNoYW5pc206e2RhdGE6e2Z1bmN0aW9uOlwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsaGFuZGxlcjp2ZShlKX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0pXSl9fWZ1bmN0aW9uIGFpKGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtjb25zdCBuPXRoaXM7cmV0dXJuW1wib25sb2FkXCIsXCJvbmVycm9yXCIsXCJvbnByb2dyZXNzXCIsXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIl0uZm9yRWFjaCgoZT0+e2UgaW4gbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgbltlXSYmR2UobixlLChmdW5jdGlvbih0KXtjb25zdCBuPXttZWNoYW5pc206e2RhdGE6e2Z1bmN0aW9uOmUsaGFuZGxlcjp2ZSh0KX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0scj1ZZSh0KTtyZXR1cm4gciYmKG4ubWVjaGFuaXNtLmRhdGEuaGFuZGxlcj12ZShyKSkseXIodCxuKX0pKX0pKSxlLmFwcGx5KHRoaXMsdCl9fWZ1bmN0aW9uIGNpKGUpe2NvbnN0IHQ9dnJbZV0sbj10JiZ0LnByb3RvdHlwZTtuJiZuLmhhc093blByb3BlcnR5JiZuLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSYmKEdlKG4sXCJhZGRFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIsaSl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIHIuaGFuZGxlRXZlbnQmJihyLmhhbmRsZUV2ZW50PXlyKHIuaGFuZGxlRXZlbnQse21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246XCJoYW5kbGVFdmVudFwiLGhhbmRsZXI6dmUociksdGFyZ2V0OmV9LGhhbmRsZWQ6ITEsdHlwZTpcImluc3RydW1lbnRcIn19KSl9Y2F0Y2goZSl7fXJldHVybiB0LmFwcGx5KHRoaXMsW24seXIocix7bWVjaGFuaXNtOntkYXRhOntmdW5jdGlvbjpcImFkZEV2ZW50TGlzdGVuZXJcIixoYW5kbGVyOnZlKHIpLHRhcmdldDplfSxoYW5kbGVkOiExLHR5cGU6XCJpbnN0cnVtZW50XCJ9fSksaV0pfX0pKSxHZShuLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3RyeXtjb25zdCBpPW4uX19zZW50cnlfd3JhcHBlZF9fO2kmJmUuY2FsbCh0aGlzLHQsaSxyKX1jYXRjaChlKXt9cmV0dXJuIGUuY2FsbCh0aGlzLHQsbixyKX19KSkpfWNvbnN0IGxpPSgpPT4oe25hbWU6XCJCcm93c2VyU2Vzc2lvblwiLHNldHVwT25jZSgpe3ZvaWQgMCE9PXZyLmRvY3VtZW50PyhDbih7aWdub3JlRHVyYXRpb246ITB9KSxPbigpLFVyKCgoe2Zyb206ZSx0bzp0fSk9Pnt2b2lkIDAhPT1lJiZlIT09dCYmKENuKHtpZ25vcmVEdXJhdGlvbjohMH0pLE9uKCkpfSkpKTpiciYmbGUud2FybihcIlVzaW5nIHRoZSBgYnJvd3NlclNlc3Npb25JbnRlZ3JhdGlvbmAgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpfX0pLHVpPShlPXt9KT0+e2NvbnN0IHQ9e29uZXJyb3I6ITAsb251bmhhbmRsZWRyZWplY3Rpb246ITAsLi4uZX07cmV0dXJue25hbWU6XCJHbG9iYWxIYW5kbGVyc1wiLHNldHVwT25jZSgpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdD01MH0sc2V0dXAoZSl7dC5vbmVycm9yJiYoIWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtjb25zdCB0PVwiZXJyb3JcIjtiZSh0LGUpLF9lKHQsa2UpfSgodD0+e2NvbnN0e3N0YWNrUGFyc2VyOm4sYXR0YWNoU3RhY2t0cmFjZTpyfT1oaSgpO2lmKHh0KCkhPT1lfHxtcigpKXJldHVybjtjb25zdHttc2c6aSx1cmw6byxsaW5lOnMsY29sdW1uOmEsZXJyb3I6Y309dCxsPWZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0IGk9ZS5leGNlcHRpb249ZS5leGNlcHRpb258fHt9LG89aS52YWx1ZXM9aS52YWx1ZXN8fFtdLHM9b1swXT1vWzBdfHx7fSxhPXMuc3RhY2t0cmFjZT1zLnN0YWNrdHJhY2V8fHt9LGM9YS5mcmFtZXM9YS5mcmFtZXN8fFtdLGw9cix1PW4sZD14ZSh0KSYmdC5sZW5ndGg+MD90OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBWZS5kb2N1bWVudC5sb2NhdGlvbi5ocmVmfWNhdGNoKGUpe3JldHVyblwiXCJ9fSgpOzA9PT1jLmxlbmd0aCYmYy5wdXNoKHtjb2xubzpsLGZpbGVuYW1lOmQsZnVuY3Rpb246dWUsaW5fYXBwOiEwLGxpbmVubzp1fSk7cmV0dXJuIGV9KE9yKG4sY3x8aSx2b2lkIDAsciwhMSksbyxzLGEpO2wubGV2ZWw9XCJlcnJvclwiLE1uKGwse29yaWdpbmFsRXhjZXB0aW9uOmMsbWVjaGFuaXNtOntoYW5kbGVkOiExLHR5cGU6XCJvbmVycm9yXCJ9fSl9KSl9KGUpLGRpKFwib25lcnJvclwiKSksdC5vbnVuaGFuZGxlZHJlamVjdGlvbiYmKCFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7Y29uc3QgdD1cInVuaGFuZGxlZHJlamVjdGlvblwiO2JlKHQsZSksX2UodCxDZSl9KCh0PT57Y29uc3R7c3RhY2tQYXJzZXI6bixhdHRhY2hTdGFja3RyYWNlOnJ9PWhpKCk7aWYoeHQoKSE9PWV8fG1yKCkpcmV0dXJuO2NvbnN0IGk9ZnVuY3Rpb24oZSl7aWYoRGUoZSkpcmV0dXJuIGU7dHJ5e2lmKFwicmVhc29uXCJpbiBlKXJldHVybiBlLnJlYXNvbjtpZihcImRldGFpbFwiaW4gZSYmXCJyZWFzb25cImluIGUuZGV0YWlsKXJldHVybiBlLmRldGFpbC5yZWFzb259Y2F0Y2goZSl7fXJldHVybiBlfSh0KSxvPURlKGkpP3tleGNlcHRpb246e3ZhbHVlczpbe3R5cGU6XCJVbmhhbmRsZWRSZWplY3Rpb25cIix2YWx1ZTpgTm9uLUVycm9yIHByb21pc2UgcmVqZWN0aW9uIGNhcHR1cmVkIHdpdGggdmFsdWU6ICR7U3RyaW5nKGkpfWB9XX19Ok9yKG4saSx2b2lkIDAsciwhMCk7by5sZXZlbD1cImVycm9yXCIsTW4obyx7b3JpZ2luYWxFeGNlcHRpb246aSxtZWNoYW5pc206e2hhbmRsZWQ6ITEsdHlwZTpcIm9udW5oYW5kbGVkcmVqZWN0aW9uXCJ9fSl9KSl9KGUpLGRpKFwib251bmhhbmRsZWRyZWplY3Rpb25cIikpfX19O2Z1bmN0aW9uIGRpKGUpe2JyJiZsZS5sb2coYEdsb2JhbCBIYW5kbGVyIGF0dGFjaGVkOiAke2V9YCl9ZnVuY3Rpb24gaGkoKXtjb25zdCBlPXh0KCk7cmV0dXJuIGUmJmUuZ2V0T3B0aW9ucygpfHx7c3RhY2tQYXJzZXI6KCk9PltdLGF0dGFjaFN0YWNrdHJhY2U6ITF9fWNvbnN0IHBpPSgpPT4oe25hbWU6XCJIdHRwQ29udGV4dFwiLHByZXByb2Nlc3NFdmVudChlKXtpZighdnIubmF2aWdhdG9yJiYhdnIubG9jYXRpb24mJiF2ci5kb2N1bWVudClyZXR1cm47Y29uc3QgdD1lLnJlcXVlc3QmJmUucmVxdWVzdC51cmx8fHZyLmxvY2F0aW9uJiZ2ci5sb2NhdGlvbi5ocmVmLHtyZWZlcnJlcjpufT12ci5kb2N1bWVudHx8e30se3VzZXJBZ2VudDpyfT12ci5uYXZpZ2F0b3J8fHt9LGk9ey4uLmUucmVxdWVzdCYmZS5yZXF1ZXN0LmhlYWRlcnMsLi4ubiYme1JlZmVyZXI6bn0sLi4uciYme1wiVXNlci1BZ2VudFwiOnJ9fSxvPXsuLi5lLnJlcXVlc3QsLi4udCYme3VybDp0fSxoZWFkZXJzOml9O2UucmVxdWVzdD1vfX0pLGZpPShlPXt9KT0+e2NvbnN0IHQ9ZS5saW1pdHx8NSxuPWUua2V5fHxcImNhdXNlXCI7cmV0dXJue25hbWU6XCJMaW5rZWRFcnJvcnNcIixwcmVwcm9jZXNzRXZlbnQoZSxyLGkpe2NvbnN0IG89aS5nZXRPcHRpb25zKCk7S24oX3Isby5zdGFja1BhcnNlcixvLm1heFZhbHVlTGVuZ3RoLG4sdCxlLHIpfX19O3ZhciB2aT1cIm5ld1wiLGdpPVwibG9hZGluZ1wiLG1pPVwibG9hZGVkXCIseWk9XCJqb2luaW5nLW1lZXRpbmdcIixiaT1cImpvaW5lZC1tZWV0aW5nXCIsX2k9XCJsZWZ0LW1lZXRpbmdcIix3aT1cImVycm9yXCIsU2k9XCJibG9ja2VkXCIsa2k9XCJvZmZcIixNaT1cInNlbmRhYmxlXCIsQ2k9XCJsb2FkaW5nXCIsRWk9XCJpbnRlcnJ1cHRlZFwiLFRpPVwicGxheWFibGVcIixPaT1cInVua25vd25cIixQaT1cImZ1bGxcIixBaT1cImxvYmJ5XCIsamk9XCJub25lXCIsSWk9XCJiYXNlXCIseGk9XCIqXCIsTGk9XCJlamVjdGVkXCIsRGk9XCJuYmYtcm9vbVwiLE5pPVwibmJmLXRva2VuXCIsUmk9XCJleHAtcm9vbVwiLEZpPVwiZXhwLXRva2VuXCIsQmk9XCJuby1yb29tXCIsVWk9XCJtZWV0aW5nLWZ1bGxcIixWaT1cImVuZC1vZi1saWZlXCIsSmk9XCJub3QtYWxsb3dlZFwiLCRpPVwiY29ubmVjdGlvbi1lcnJvclwiLHFpPVwiY2FtLWluLXVzZVwiLHppPVwibWljLWluLXVzZVwiLFdpPVwiY2FtLW1pYy1pbi11c2VcIixIaT1cInBlcm1pc3Npb25zXCIsR2k9XCJ1bmRlZmluZWQtbWVkaWFkZXZpY2VzXCIsUWk9XCJub3QtZm91bmRcIixLaT1cImNvbnN0cmFpbnRzXCIsWWk9XCJ1bmtub3duXCIsWGk9XCJpZnJhbWUtcmVhZHktZm9yLWxhdW5jaC1jb25maWdcIixaaT1cImlmcmFtZS1sYXVuY2gtY29uZmlnXCIsZW89XCJ0aGVtZS11cGRhdGVkXCIsdG89XCJsb2FkaW5nXCIsbm89XCJsb2FkLWF0dGVtcHQtZmFpbGVkXCIscm89XCJsb2FkZWRcIixpbz1cInN0YXJ0ZWQtY2FtZXJhXCIsb289XCJjYW1lcmEtZXJyb3JcIixzbz1cImpvaW5pbmctbWVldGluZ1wiLGFvPVwiam9pbmVkLW1lZXRpbmdcIixjbz1cImxlZnQtbWVldGluZ1wiLGxvPVwicGFydGljaXBhbnQtam9pbmVkXCIsdW89XCJwYXJ0aWNpcGFudC11cGRhdGVkXCIsaG89XCJwYXJ0aWNpcGFudC1sZWZ0XCIscG89XCJwYXJ0aWNpcGFudC1jb3VudHMtdXBkYXRlZFwiLGZvPVwiYWNjZXNzLXN0YXRlLXVwZGF0ZWRcIix2bz1cIm1lZXRpbmctc2Vzc2lvbi1zdW1tYXJ5LXVwZGF0ZWRcIixnbz1cIm1lZXRpbmctc2Vzc2lvbi1zdGF0ZS11cGRhdGVkXCIsbW89XCJtZWV0aW5nLXNlc3Npb24tZGF0YS1lcnJvclwiLHlvPVwid2FpdGluZy1wYXJ0aWNpcGFudC1hZGRlZFwiLGJvPVwid2FpdGluZy1wYXJ0aWNpcGFudC11cGRhdGVkXCIsX289XCJ3YWl0aW5nLXBhcnRpY2lwYW50LXJlbW92ZWRcIix3bz1cInRyYWNrLXN0YXJ0ZWRcIixTbz1cInRyYWNrLXN0b3BwZWRcIixrbz1cInRyYW5zY3JpcHRpb24tc3RhcnRlZFwiLE1vPVwidHJhbnNjcmlwdGlvbi1zdG9wcGVkXCIsQ289XCJ0cmFuc2NyaXB0aW9uLWVycm9yXCIsRW89XCJyZWNvcmRpbmctc3RhcnRlZFwiLFRvPVwicmVjb3JkaW5nLXN0b3BwZWRcIixPbz1cInJlY29yZGluZy1zdGF0c1wiLFBvPVwicmVjb3JkaW5nLWVycm9yXCIsQW89XCJyZWNvcmRpbmctdXBsb2FkLWNvbXBsZXRlZFwiLGpvPVwicmVjb3JkaW5nLWRhdGFcIixJbz1cImFwcC1tZXNzYWdlXCIseG89XCJ0cmFuc2NyaXB0aW9uLW1lc3NhZ2VcIixMbz1cInJlbW90ZS1tZWRpYS1wbGF5ZXItc3RhcnRlZFwiLERvPVwicmVtb3RlLW1lZGlhLXBsYXllci11cGRhdGVkXCIsTm89XCJyZW1vdGUtbWVkaWEtcGxheWVyLXN0b3BwZWRcIixSbz1cImxvY2FsLXNjcmVlbi1zaGFyZS1zdGFydGVkXCIsRm89XCJsb2NhbC1zY3JlZW4tc2hhcmUtc3RvcHBlZFwiLEJvPVwibG9jYWwtc2NyZWVuLXNoYXJlLWNhbmNlbGVkXCIsVW89XCJhY3RpdmUtc3BlYWtlci1jaGFuZ2VcIixWbz1cImFjdGl2ZS1zcGVha2VyLW1vZGUtY2hhbmdlXCIsSm89XCJuZXR3b3JrLXF1YWxpdHktY2hhbmdlXCIsJG89XCJuZXR3b3JrLWNvbm5lY3Rpb25cIixxbz1cImNwdS1sb2FkLWNoYW5nZVwiLHpvPVwiZmFjZS1jb3VudHMtdXBkYXRlZFwiLFdvPVwiZnVsbHNjcmVlblwiLEhvPVwiZXhpdGVkLWZ1bGxzY3JlZW5cIixHbz1cImxpdmUtc3RyZWFtaW5nLXN0YXJ0ZWRcIixRbz1cImxpdmUtc3RyZWFtaW5nLXVwZGF0ZWRcIixLbz1cImxpdmUtc3RyZWFtaW5nLXN0b3BwZWRcIixZbz1cImxpdmUtc3RyZWFtaW5nLWVycm9yXCIsWG89XCJsYW5nLXVwZGF0ZWRcIixabz1cInJlY2VpdmUtc2V0dGluZ3MtdXBkYXRlZFwiLGVzPVwiaW5wdXQtc2V0dGluZ3MtdXBkYXRlZFwiLHRzPVwibm9uZmF0YWwtZXJyb3JcIixucz1cImVycm9yXCIscnM9NDA5Nixpcz0xMDI0MDAsb3M9XCJpZnJhbWUtY2FsbC1tZXNzYWdlXCIsc3M9XCJsb2NhbC1zY3JlZW4tc3RhcnRcIixhcz1cImRhaWx5LW1ldGhvZC11cGRhdGUtbGl2ZS1zdHJlYW1pbmctZW5kcG9pbnRzXCIsY3M9XCJ0cmFuc21pdC1sb2dcIixscz1cImRhaWx5LWN1c3RvbS10cmFja1wiLHVzPXtOT05FOlwibm9uZVwiLEJHQkxVUjpcImJhY2tncm91bmQtYmx1clwiLEJHSU1BR0U6XCJiYWNrZ3JvdW5kLWltYWdlXCIsRkFDRV9ERVRFQ1RJT046XCJmYWNlLWRldGVjdGlvblwifSxkcz17Tk9ORTpcIm5vbmVcIixOT0lTRV9DQU5DRUxMQVRJT046XCJub2lzZS1jYW5jZWxsYXRpb25cIn0saHM9e1BMQVk6XCJwbGF5XCIsUEFVU0U6XCJwYXVzZVwifSxwcz1bXCJqcGdcIixcInBuZ1wiLFwianBlZ1wiXSxmcz1cImFkZC1lbmRwb2ludHNcIix2cz1cInJlbW92ZS1lbmRwb2ludHNcIixncz1cInNpcC1jYWxsLXRyYW5zZmVyXCI7ZnVuY3Rpb24gbXMoKXtyZXR1cm4heXMoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ/d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ6XCJcIn1mdW5jdGlvbiB5cygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5wcm9kdWN0JiZcIlJlYWN0TmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdH1mdW5jdGlvbiBicygpe3JldHVybiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhfWZ1bmN0aW9uIF9zKCl7cmV0dXJuISEobmF2aWdhdG9yJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSkmJihmdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm4hMDtzd2l0Y2goZSl7Y2FzZVwiQ2hyb21lXCI6cmV0dXJuIHQubWFqb3I+PTc1O2Nhc2VcIlNhZmFyaVwiOnJldHVybiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50RGlyZWN0aW9uXCIpJiYhKDEzPT09dC5tYWpvciYmMD09PXQubWlub3ImJjA9PT10LnBvaW50KTtjYXNlXCJGaXJlZm94XCI6cmV0dXJuIHQubWFqb3I+PTY3fXJldHVybiEwfShqcygpLElzKCkpfHx5cygpKX1mdW5jdGlvbiB3cygpe2lmKHlzKCkpcmV0dXJuITE7aWYoIWRvY3VtZW50KXJldHVybiExO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuISFlLnJlcXVlc3RGdWxsc2NyZWVufHwhIWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW59dmFyIFNzPVwibm9uZVwiLGtzPVwic29mdHdhcmVcIixNcz1cImhhcmR3YXJlXCI7dmFyIENzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxuPSExOyhlPXQuZ2V0Q29udGV4dChcIndlYmdsMlwiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSkpfHwobj0hMCxlPXQuZ2V0Q29udGV4dChcIndlYmdsMlwiKSk7dmFyIHI9bnVsbCE9ZTtyZXR1cm4gdC5yZW1vdmUoKSxyP24/a3M6TXM6U3N9Y2F0Y2goZSl7cmV0dXJuIFNzfX0oKTtmdW5jdGlvbiBFcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIXlzKCkmJihDcyE9PVNzJiYoZT9mdW5jdGlvbigpe2lmKEFzKCkpcmV0dXJuITE7cmV0dXJuW1wiQ2hyb21lXCIsXCJGaXJlZm94XCJdLmluY2x1ZGVzKGpzKCkpfSgpOmZ1bmN0aW9uKCl7aWYoQXMoKSlyZXR1cm4hMTt2YXIgZT1qcygpO2lmKFwiU2FmYXJpXCI9PT1lKXt2YXIgdD1OcygpO2lmKHQubWFqb3I8MTV8fDE1PT09dC5tYWpvciYmdC5taW5vcjw0KXJldHVybiExfWlmKFwiQ2hyb21lXCI9PT1lKXtyZXR1cm4geHMoKS5tYWpvcj49Nzd9aWYoXCJGaXJlZm94XCI9PT1lKXtyZXR1cm4gUnMoKS5tYWpvcj49OTd9cmV0dXJuW1wiQ2hyb21lXCIsXCJGaXJlZm94XCIsXCJTYWZhcmlcIl0uaW5jbHVkZXMoZSl9KCkpKX1mdW5jdGlvbiBUcygpe2lmKHlzKCkpcmV0dXJuITE7aWYoUHMoKSlyZXR1cm4hMTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQXVkaW9Xb3JrbGV0Tm9kZSlyZXR1cm4hMTtzd2l0Y2goanMoKSl7Y2FzZVwiQ2hyb21lXCI6Y2FzZVwiRmlyZWZveFwiOnJldHVybiEwO2Nhc2VcIlNhZmFyaVwiOnZhciBlPUlzKCk7cmV0dXJuIGUubWFqb3I+MTd8fDE3PT09ZS5tYWpvciYmZS5taW5vcj49NH1yZXR1cm4hMX1mdW5jdGlvbiBPcygpe3JldHVybiBicygpJiYhZnVuY3Rpb24oKXt2YXIgZSx0PWpzKCk7aWYoIW1zKCkpcmV0dXJuITA7c3dpdGNoKHQpe2Nhc2VcIkNocm9tZVwiOnJldHVybihlPXhzKCkpLm1ham9yJiZlLm1ham9yPjAmJmUubWFqb3I8NzU7Y2FzZVwiRmlyZWZveFwiOnJldHVybihlPVJzKCkpLm1ham9yPDkxO2Nhc2VcIlNhZmFyaVwiOnJldHVybihlPU5zKCkpLm1ham9yPDEzfHwxMz09PWUubWFqb3ImJmUubWlub3I8MTtkZWZhdWx0OnJldHVybiEwfX0oKX1mdW5jdGlvbiBQcygpe3JldHVybiBtcygpLm1hdGNoKC9MaW51eDsgQW5kcm9pZC8pfWZ1bmN0aW9uIEFzKCl7dmFyIGUsdD1tcygpLG49dC5tYXRjaCgvTWFjLykmJigheXMoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PShlPXdpbmRvdykmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLm5hdmlnYXRvcikmJnZvaWQgMCE9PWUmJmUubWF4VG91Y2hQb2ludHM/d2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50czowKT49NTtyZXR1cm4hISh0Lm1hdGNoKC9Nb2JpLyl8fHQubWF0Y2goL0FuZHJvaWQvKXx8bil8fCghIW1zKCkubWF0Y2goL0RhaWx5QW5kXFwvLyl8fHZvaWQgMCl9ZnVuY3Rpb24ganMoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgZT1tcygpO3JldHVybiBMcygpP1wiU2FmYXJpXCI6ZS5pbmRleE9mKFwiRWRnZVwiKT4tMT9cIkVkZ2VcIjplLm1hdGNoKC9DaHJvbWVcXC8vKT9cIkNocm9tZVwiOmUuaW5kZXhPZihcIlNhZmFyaVwiKT4tMXx8RHMoKT9cIlNhZmFyaVwiOmUuaW5kZXhPZihcIkZpcmVmb3hcIik+LTE/XCJGaXJlZm94XCI6ZS5pbmRleE9mKFwiTVNJRVwiKT4tMXx8ZS5pbmRleE9mKFwiLk5FVFwiKT4tMT9cIklFXCI6XCJVbmtub3duIEJyb3dzZXJcIn19ZnVuY3Rpb24gSXMoKXtzd2l0Y2goanMoKSl7Y2FzZVwiQ2hyb21lXCI6cmV0dXJuIHhzKCk7Y2FzZVwiU2FmYXJpXCI6cmV0dXJuIE5zKCk7Y2FzZVwiRmlyZWZveFwiOnJldHVybiBScygpO2Nhc2VcIkVkZ2VcIjpyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT0wLHQ9MDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbj1tcygpLm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKS8pO2lmKG4pdHJ5e2U9cGFyc2VJbnQoblsxXSksdD1wYXJzZUludChuWzJdKX1jYXRjaChlKXt9fXJldHVybnttYWpvcjplLG1pbm9yOnR9fSgpfX1mdW5jdGlvbiB4cygpe3ZhciBlPTAsdD0wLG49MCxyPTAsaT0hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbz1tcygpLHM9by5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLihcXGQrKS4oXFxkKykuKFxcZCspLyk7aWYocyl0cnl7ZT1wYXJzZUludChzWzFdKSx0PXBhcnNlSW50KHNbMl0pLG49cGFyc2VJbnQoc1szXSkscj1wYXJzZUludChzWzRdKSxpPW8uaW5kZXhPZihcIk9QUi9cIik+LTF9Y2F0Y2goZSl7fX1yZXR1cm57bWFqb3I6ZSxtaW5vcjp0LGJ1aWxkOm4scGF0Y2g6cixvcGVyYTppfX1mdW5jdGlvbiBMcygpe3JldHVybiEhbXMoKS5tYXRjaCgvaVBhZHxpUGhvbmV8aVBvZC9pKSYmYnMoKX1mdW5jdGlvbiBEcygpe3JldHVybiBtcygpLmluZGV4T2YoXCJBcHBsZVdlYktpdC82MDUuMS4xNVwiKT4tMX1mdW5jdGlvbiBOcygpe3ZhciBlPTAsdD0wLG49MDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgcj1tcygpLm1hdGNoKC9WZXJzaW9uXFwvKFxcZCspLihcXGQrKSguKFxcZCspKT8vKTtpZihyKXRyeXtlPXBhcnNlSW50KHJbMV0pLHQ9cGFyc2VJbnQoclsyXSksbj1wYXJzZUludChyWzRdKX1jYXRjaChlKXt9ZWxzZShMcygpfHxEcygpKSYmKGU9MTQsdD0wLG49Myl9cmV0dXJue21ham9yOmUsbWlub3I6dCxwb2ludDpufX1mdW5jdGlvbiBScygpe3ZhciBlPTAsdD0wO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3ZhciBuPW1zKCkubWF0Y2goL0ZpcmVmb3hcXC8oXFxkKykuKFxcZCspLyk7aWYobil0cnl7ZT1wYXJzZUludChuWzFdKSx0PXBhcnNlSW50KG5bMl0pfWNhdGNoKGUpe319cmV0dXJue21ham9yOmUsbWlub3I6dH19dmFyIEZzPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKGZ1bmN0aW9uIGUoKXt0KHRoaXMsZSl9KSxbe2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7WSgpfX0se2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtZKCl9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7WSgpfX0se2tleTpcInNlbmRNZXNzYWdlVG9EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtZKCl9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtZKCl9fV0pfSgpO2Z1bmN0aW9uIEJzKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBVcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9CcyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkJzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIFZzKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oVnM9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfXZhciBKcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbixyLGksbztyZXR1cm4gdCh0aGlzLGUpLHI9dGhpcyxpPWEoaT1lKSwobj1zKHIsVnMoKT9SZWZsZWN0LmNvbnN0cnVjdChpLG98fFtdLGEocikuY29uc3RydWN0b3IpOmkuYXBwbHkocixvKSkpLl93cmFwcGVkTGlzdGVuZXJzPXt9LG4uX21lc3NhZ2VDYWxsYmFja3M9e30sbn1yZXR1cm4gbChlLEZzKSxvKGUsW3trZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT1mdW5jdGlvbihpKXtpZihpLmRhdGEmJlwiaWZyYW1lLWNhbGwtbWVzc2FnZVwiPT09aS5kYXRhLndoYXQmJighaS5kYXRhLmNhbGxDbGllbnRJZHx8aS5kYXRhLmNhbGxDbGllbnRJZD09PXQpJiYoIWkuZGF0YS5mcm9tfHxcIm1vZHVsZVwiIT09aS5kYXRhLmZyb20pKXt2YXIgbz1Vcyh7fSxpLmRhdGEpO2lmKGRlbGV0ZSBvLmZyb20sby5jYWxsYmFja1N0YW1wJiZyLl9tZXNzYWdlQ2FsbGJhY2tzW28uY2FsbGJhY2tTdGFtcF0pe3ZhciBzPW8uY2FsbGJhY2tTdGFtcDtyLl9tZXNzYWdlQ2FsbGJhY2tzW3NdLmNhbGwobixvKSxkZWxldGUgci5fbWVzc2FnZUNhbGxiYWNrc1tzXX1kZWxldGUgby53aGF0LGRlbGV0ZSBvLmNhbGxiYWNrU3RhbXAsZS5jYWxsKG4sbyl9fTt0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdPWksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSl9fSx7a2V5OlwiYWRkTGlzdGVuZXJGb3JNZXNzYWdlc0Zyb21EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKHIpe3ZhciBpO2lmKCEoIXIuZGF0YXx8ci5kYXRhLndoYXQhPT1vc3x8IXIuZGF0YS5hY3Rpb258fHIuZGF0YS5mcm9tJiZcIm1vZHVsZVwiIT09ci5kYXRhLmZyb218fHIuZGF0YS5jYWxsQ2xpZW50SWQmJnQmJnIuZGF0YS5jYWxsQ2xpZW50SWQhPT10fHxudWxsIT1yJiZudWxsIT09KGk9ci5kYXRhKSYmdm9pZCAwIT09aSYmaS5jYWxsRnJhbWVJZCkpe3ZhciBvPXIuZGF0YTtlLmNhbGwobixvKX19O3RoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09cix3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixyKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgY2FsbENsaWVudElkLiBBcmUgeW91IHRyeWluZyB0byB1c2UgYSBEYWlseUNhbGwgaW5zdGFuY2UgcHJldmlvdXNseSBkZXN0cm95ZWQ/XCIpO3ZhciBpPVVzKHt9LGUpO2lmKGkud2hhdD1vcyxpLmZyb209XCJtb2R1bGVcIixpLmNhbGxDbGllbnRJZD1uLHQpe3ZhciBvPUsoKTt0aGlzLl9tZXNzYWdlQ2FsbGJhY2tzW29dPXQsaS5jYWxsYmFja1N0YW1wPW99dmFyIHM9cj9yLmNvbnRlbnRXaW5kb3c6d2luZG93LGE9dGhpcy5fY2FsbE1hY2hpbmVUYXJnZXRPcmlnaW4ocik7YSYmcy5wb3N0TWVzc2FnZShpLGEpfX0se2tleTpcInNlbmRNZXNzYWdlVG9EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLndoYXQ9b3MsZS5jYWxsQ2xpZW50SWQ9dCxlLmZyb209XCJlbWJlZGRlZFwiLHdpbmRvdy5wb3N0TWVzc2FnZShlLHRoaXMuX3RhcmdldE9yaWdpbkZyb21XaW5kb3dMb2NhdGlvbigpKX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV07dCYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGRlbGV0ZSB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdKX19LHtrZXk6XCJmb3J3YXJkUGFja2FnZWRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1Vcyh7fSxlKTtyLmNhbGxDbGllbnRJZD1uO3ZhciBpPXQ/dC5jb250ZW50V2luZG93OndpbmRvdyxvPXRoaXMuX2NhbGxNYWNoaW5lVGFyZ2V0T3JpZ2luKHQpO28mJmkucG9zdE1lc3NhZ2UocixvKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKG4pe2lmKG4uZGF0YSYmXCJpZnJhbWUtY2FsbC1tZXNzYWdlXCI9PT1uLmRhdGEud2hhdCYmKCFuLmRhdGEuY2FsbENsaWVudElkfHxuLmRhdGEuY2FsbENsaWVudElkPT09dCkmJighbi5kYXRhLmZyb218fFwibW9kdWxlXCIhPT1uLmRhdGEuZnJvbSkpe3ZhciByPW4uZGF0YTtlKHIpfX07cmV0dXJuIHRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09bix3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuKSxlfX0se2tleTpcInJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV07dCYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGRlbGV0ZSB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdKX19LHtrZXk6XCJfY2FsbE1hY2hpbmVUYXJnZXRPcmlnaW5cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLnNyYz9uZXcgVVJMKGUuc3JjKS5vcmlnaW46dm9pZCAwOnRoaXMuX3RhcmdldE9yaWdpbkZyb21XaW5kb3dMb2NhdGlvbigpfX0se2tleTpcIl90YXJnZXRPcmlnaW5Gcm9tV2luZG93TG9jYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZmlsZTpcIj09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjp3aW5kb3cubG9jYXRpb24ub3JpZ2lufX1dKX0oKTtmdW5jdGlvbiAkcyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcXMoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihxcz1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9dmFyIHpzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBuLHIsaSxvO3JldHVybiB0KHRoaXMsZSkscj10aGlzLGk9YShpPWUpLG49cyhyLHFzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoaSxvfHxbXSxhKHIpLmNvbnN0cnVjdG9yKTppLmFwcGx5KHIsbykpLGdsb2JhbC5jYWxsTWFjaGluZVRvRGFpbHlKc0VtaXR0ZXI9Z2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlcnx8bmV3IEkuRXZlbnRFbWl0dGVyLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXI9Z2xvYmFsLmRhaWx5SnNUb0NhbGxNYWNoaW5lRW1pdHRlcnx8bmV3IEkuRXZlbnRFbWl0dGVyLG4uX3dyYXBwZWRMaXN0ZW5lcnM9e30sbi5fbWVzc2FnZUNhbGxiYWNrcz17fSxufXJldHVybiBsKGUsRnMpLG8oZSxbe2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fYWRkTGlzdGVuZXIoZSxnbG9iYWwuY2FsbE1hY2hpbmVUb0RhaWx5SnNFbWl0dGVyLHQsbixcInJlY2VpdmVkIGNhbGwgbWFjaGluZSBtZXNzYWdlXCIpfX0se2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9hZGRMaXN0ZW5lcihlLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXIsdCxuLFwicmVjZWl2ZWQgZGFpbHktanMgbWVzc2FnZVwiKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fc2VuZE1lc3NhZ2UoZSxnbG9iYWwuZGFpbHlKc1RvQ2FsbE1hY2hpbmVFbWl0dGVyLG4sdCxcInNlbmRpbmcgbWVzc2FnZSB0byBjYWxsIG1hY2hpbmVcIil9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0RhaWx5SnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3NlbmRNZXNzYWdlKGUsZ2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlcix0LG51bGwsXCJzZW5kaW5nIG1lc3NhZ2UgdG8gZGFpbHktanNcIil9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdO3QmJihnbG9iYWwuY2FsbE1hY2hpbmVUb0RhaWx5SnNFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJtZXNzYWdlXCIsdCksZGVsZXRlIHRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV0pfX0se2tleTpcIl9hZGRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89dGhpcyxzPWZ1bmN0aW9uKHQpe2lmKHQuY2FsbENsaWVudElkPT09bil7aWYodC5jYWxsYmFja1N0YW1wJiZvLl9tZXNzYWdlQ2FsbGJhY2tzW3QuY2FsbGJhY2tTdGFtcF0pe3ZhciBpPXQuY2FsbGJhY2tTdGFtcDtvLl9tZXNzYWdlQ2FsbGJhY2tzW2ldLmNhbGwocix0KSxkZWxldGUgby5fbWVzc2FnZUNhbGxiYWNrc1tpXX1lLmNhbGwocix0KX19O3RoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09cyx0LmFkZExpc3RlbmVyKFwibWVzc2FnZVwiLHMpfX0se2tleTpcIl9zZW5kTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/JHMoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTokcyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sZSk7aWYoby5jYWxsQ2xpZW50SWQ9bixyKXt2YXIgcz1LKCk7dGhpcy5fbWVzc2FnZUNhbGxiYWNrc1tzXT1yLG8uY2FsbGJhY2tTdGFtcD1zfXQuZW1pdChcIm1lc3NhZ2VcIixvKX19XSl9KCksV3M9XCJyZXBsYWNlXCIsSHM9XCJzaGFsbG93LW1lcmdlXCIsR3M9W1dzLEhzXTt2YXIgUXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9bi5kYXRhLGk9bi5tZXJnZVN0cmF0ZWd5LG89dm9pZCAwPT09aT9XczppO3QodGhpcyxlKSxlLl92YWxpZGF0ZU1lcmdlU3RyYXRlZ3kobyksZS5fdmFsaWRhdGVEYXRhKHIsbyksdGhpcy5tZXJnZVN0cmF0ZWd5PW8sdGhpcy5kYXRhPXJ9cmV0dXJuIG8oZSxbe2tleTpcImlzTm9PcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUuaXNOb09wVXBkYXRlKHRoaXMuZGF0YSx0aGlzLm1lcmdlU3RyYXRlZ3kpfX1dLFt7a2V5OlwiaXNOb09wVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmdD09PUhzfX0se2tleTpcIl92YWxpZGF0ZU1lcmdlU3RyYXRlZ3lcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighR3MuaW5jbHVkZXMoZSkpdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgbWVyZ2VTdHJhdGVneSBwcm92aWRlZC4gT3B0aW9ucyBhcmU6IFtcIi5jb25jYXQoR3MsXCJdXCIpKX19LHtrZXk6XCJfdmFsaWRhdGVEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZnVuY3Rpb24oZSl7aWYobnVsbD09ZXx8XCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuITE7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT10fHx0PT09T2JqZWN0LnByb3RvdHlwZX0oZSkpdGhyb3cgRXJyb3IoXCJNZWV0aW5nIHNlc3Npb24gZGF0YSBtdXN0IGJlIGEgcGxhaW4gKG1hcC1saWtlKSBvYmplY3RcIik7dmFyIHI7dHJ5e2lmKHI9SlNPTi5zdHJpbmdpZnkoZSksdD09PVdzKXt2YXIgaT1KU09OLnBhcnNlKHIpO04oaSxlKXx8Y29uc29sZS53YXJuKFwiVGhlIG1lZXRpbmcgc2Vzc2lvbiBkYXRhIHByb3ZpZGVkIHdpbGwgYmUgbW9kaWZpZWQgd2hlbiBzZXJpYWxpemVkLlwiLGksZSl9ZWxzZSBpZih0PT09SHMpZm9yKHZhciBvIGluIGUpaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdm9pZCAwIT09ZVtvXSl7dmFyIHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlW29dKSk7TihlW29dLHMpfHxjb25zb2xlLndhcm4oXCJBdCBsZWFzdCBvbmUga2V5IGluIHRoZSBtZWV0aW5nIHNlc3Npb24gZGF0YSBwcm92aWRlZCB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gc2VyaWFsaXplZC5cIixzLGVbb10pfX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIk1lZXRpbmcgc2Vzc2lvbiBkYXRhIG11c3QgYmUgc2VyaWFsaXphYmxlIHRvIEpTT046IFwiLmNvbmNhdChlKSl9aWYoci5sZW5ndGg+aXMpdGhyb3cgRXJyb3IoXCJNZWV0aW5nIHNlc3Npb24gZGF0YSBpcyB0b28gbGFyZ2UgKFwiLmNvbmNhdChyLmxlbmd0aCxcIiBjaGFyYWN0ZXJzKS4gTWF4aW11bSBzaXplIHN1cHBwb3J0ZWQgaXMgXCIpLmNvbmNhdChpcyxcIi5cIikpfX1dKX0oKTtmdW5jdGlvbiBLcygpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKEtzPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBZcyhlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIFlzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHwhZnVuY3Rpb24oZSl7dHJ5e3JldHVybi0xIT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChlKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKX1jYXRjaCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfX0oZSkpcmV0dXJuIGU7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYodm9pZCAwIT09dCl7aWYodC5oYXMoZSkpcmV0dXJuIHQuZ2V0KGUpO3Quc2V0KGUsbil9ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbihlLHQsbil7aWYoS3MoKSlyZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QuYXBwbHkobnVsbCxhcmd1bWVudHMpO3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocix0KTt2YXIgaT1uZXcoZS5iaW5kLmFwcGx5KGUscikpO3JldHVybiBuJiZjKGksbi5wcm90b3R5cGUpLGl9KGUsYXJndW1lbnRzLGEodGhpcykuY29uc3RydWN0b3IpfXJldHVybiBuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6bixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxjKG4sZSl9LFlzKGUpfWZ1bmN0aW9uIFhzKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oWHM9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfWZ1bmN0aW9uIFpzKGUpe3ZhciB0LG49bnVsbD09PSh0PXdpbmRvdy5fZGFpbHkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnBlbmRpbmdzO2lmKG4pe3ZhciByPW4uaW5kZXhPZihlKTstMSE9PXImJm4uc3BsaWNlKHIsMSl9fXZhciBlYT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4pe3QodGhpcyxlKSx0aGlzLl9jdXJyZW50TG9hZD1udWxsLHRoaXMuX2NhbGxDbGllbnRJZD1ufSksW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKHRoaXMubG9hZGVkKXJldHVybiB3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0aGlzLl9jYWxsQ2xpZW50SWRdLmNhbGxNYWNoaW5lLnJlc2V0KCksdm9pZCByKCEwKTtlPXRoaXMuX2NhbGxDbGllbnRJZCx3aW5kb3cuX2RhaWx5LnBlbmRpbmdzLnB1c2goZSksdGhpcy5fY3VycmVudExvYWQmJnRoaXMuX2N1cnJlbnRMb2FkLmNhbmNlbCgpLHRoaXMuX2N1cnJlbnRMb2FkPW5ldyB0YShuLChmdW5jdGlvbigpe3IoITEpfSksKGZ1bmN0aW9uKGUsbil7bnx8WnModC5fY2FsbENsaWVudElkKSxpKGUsbil9KSksdGhpcy5fY3VycmVudExvYWQuc3RhcnQoKX19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRMb2FkJiZ0aGlzLl9jdXJyZW50TG9hZC5jYW5jZWwoKSxacyh0aGlzLl9jYWxsQ2xpZW50SWQpfX0se2tleTpcImxvYWRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50TG9hZCYmdGhpcy5fY3VycmVudExvYWQuc3VjY2VlZGVkfX1dKX0oKSx0YT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDt0KHRoaXMsZSksdGhpcy5fYXR0ZW1wdHNSZW1haW5pbmc9Myx0aGlzLl9jdXJyZW50QXR0ZW1wdD1udWxsLHRoaXMuX2RhaWx5Q29uZmlnPW4sdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXIsdGhpcy5fZmFpbHVyZUNhbGxiYWNrPWl9KSxbe2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLl9jdXJyZW50QXR0ZW1wdCl7dmFyIHQ9ZnVuY3Rpb24obil7ZS5fY3VycmVudEF0dGVtcHQuY2FuY2VsbGVkfHwoZS5fYXR0ZW1wdHNSZW1haW5pbmctLSxlLl9mYWlsdXJlQ2FsbGJhY2sobixlLl9hdHRlbXB0c1JlbWFpbmluZz4wKSxlLl9hdHRlbXB0c1JlbWFpbmluZzw9MHx8c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9jdXJyZW50QXR0ZW1wdC5jYW5jZWxsZWR8fChlLl9jdXJyZW50QXR0ZW1wdD1uZXcgaWEoZS5fZGFpbHlDb25maWcsZS5fc3VjY2Vzc0NhbGxiYWNrLHQpLGUuX2N1cnJlbnRBdHRlbXB0LnN0YXJ0KCkpfSksM2UzKSl9O3RoaXMuX2N1cnJlbnRBdHRlbXB0PW5ldyBpYSh0aGlzLl9kYWlseUNvbmZpZyx0aGlzLl9zdWNjZXNzQ2FsbGJhY2ssdCksdGhpcy5fY3VycmVudEF0dGVtcHQuc3RhcnQoKX19fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50QXR0ZW1wdCYmdGhpcy5fY3VycmVudEF0dGVtcHQuY2FuY2VsKCl9fSx7a2V5OlwiY2FuY2VsbGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRBdHRlbXB0JiZ0aGlzLl9jdXJyZW50QXR0ZW1wdC5jYW5jZWxsZWR9fSx7a2V5Olwic3VjY2VlZGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRBdHRlbXB0JiZ0aGlzLl9jdXJyZW50QXR0ZW1wdC5zdWNjZWVkZWR9fV0pfSgpLG5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0KHRoaXMsZSksbj10aGlzLGk9YXJndW1lbnRzLHI9YShyPWUpLHMobixYcygpP1JlZmxlY3QuY29uc3RydWN0KHIsaXx8W10sYShuKS5jb25zdHJ1Y3Rvcik6ci5hcHBseShuLGkpKTt2YXIgbixyLGl9cmV0dXJuIGwoZSxZcyhFcnJvcikpLG8oZSl9KCkscmE9MmU0LGlhPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKGZ1bmN0aW9uIGUobixyLGkpe3QodGhpcyxlKSx0aGlzLl9sb2FkQXR0ZW1wdEltcGw9eXMoKXx8IW4uYXZvaWRFdmFsP25ldyBvYShuLHIsaSk6bmV3IHNhKG4scixpKX0pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTooZT1oKChmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5fbG9hZEF0dGVtcHRJbXBsLnN0YXJ0KCl9KSksZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZEF0dGVtcHRJbXBsLmNhbmNlbCgpfX0se2tleTpcImNhbmNlbGxlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkQXR0ZW1wdEltcGwuY2FuY2VsbGVkfX0se2tleTpcInN1Y2NlZWRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkQXR0ZW1wdEltcGwuc3VjY2VlZGVkfX1dKTt2YXIgZX0oKSxvYT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4scixpKXt0KHRoaXMsZSksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdWNjZWVkZWQ9ITEsdGhpcy5fbmV0d29ya1RpbWVkT3V0PSExLHRoaXMuX25ldHdvcmtUaW1lb3V0PW51bGwsdGhpcy5faW9zQ2FjaGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlPU0NhbGxPYmplY3RCdW5kbGVDYWNoZSYmaU9TQ2FsbE9iamVjdEJ1bmRsZUNhY2hlLHRoaXMuX3JlZmV0Y2hIZWFkZXJzPW51bGwsdGhpcy5fZGFpbHlDb25maWc9bix0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9cix0aGlzLl9mYWlsdXJlQ2FsbGJhY2s9aX0pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTooaT1oKChmdW5jdGlvbiooKXt2YXIgZT1aKHRoaXMuX2RhaWx5Q29uZmlnKTshKHlpZWxkIHRoaXMuX3RyeUxvYWRGcm9tSU9TQ2FjaGUoZSkpJiZ0aGlzLl9sb2FkRnJvbU5ldHdvcmsoZSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLmNhbmNlbGxlZD0hMH19LHtrZXk6XCJfdHJ5TG9hZEZyb21JT1NDYWNoZVwiLHZhbHVlOihyPWgoKGZ1bmN0aW9uKihlKXtpZighdGhpcy5faW9zQ2FjaGUpcmV0dXJuITE7dHJ5e3ZhciB0PXlpZWxkIHRoaXMuX2lvc0NhY2hlLmdldChlKTtyZXR1cm4hIXRoaXMuY2FuY2VsbGVkfHwhIXQmJih0LmNvZGU/KEZ1bmN0aW9uKCdcInVzZSBzdHJpY3RcIjsnK3QuY29kZSkoKSx0aGlzLnN1Y2NlZWRlZD0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKSwhMCk6KHRoaXMuX3JlZmV0Y2hIZWFkZXJzPXQucmVmZXRjaEhlYWRlcnMsITEpKX1jYXRjaChlKXtyZXR1cm4hMX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfbG9hZEZyb21OZXR3b3JrXCIsdmFsdWU6KG49aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7dGhpcy5fbmV0d29ya1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9uZXR3b3JrVGltZWRPdXQ9ITAsdC5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJUaW1lZCBvdXQgKD5cIi5jb25jYXQocmEsXCIgbXMpIHdoZW4gbG9hZGluZyBjYWxsIG9iamVjdCBidW5kbGUgXCIpLmNvbmNhdChlKSx0eXBlOlwidGltZW91dFwifSl9KSxyYSk7dHJ5e3ZhciBuPXRoaXMuX3JlZmV0Y2hIZWFkZXJzP3toZWFkZXJzOnRoaXMuX3JlZmV0Y2hIZWFkZXJzfTp7fSxyPXlpZWxkIGZldGNoKGUsbik7aWYoY2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLmNhbmNlbGxlZHx8dGhpcy5fbmV0d29ya1RpbWVkT3V0KXRocm93IG5ldyBuYTt2YXIgaT15aWVsZCB0aGlzLl9nZXRCdW5kbGVDb2RlRnJvbVJlc3BvbnNlKGUscik7aWYodGhpcy5jYW5jZWxsZWQpdGhyb3cgbmV3IG5hO0Z1bmN0aW9uKCdcInVzZSBzdHJpY3RcIjsnK2kpKCksdGhpcy5faW9zQ2FjaGUmJnRoaXMuX2lvc0NhY2hlLnNldChlLGksci5oZWFkZXJzKSx0aGlzLnN1Y2NlZWRlZD0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKX1jYXRjaCh0KXtpZihjbGVhclRpbWVvdXQodGhpcy5fbmV0d29ya1RpbWVvdXQpLHQgaW5zdGFuY2VvZiBuYXx8dGhpcy5jYW5jZWxsZWR8fHRoaXMuX25ldHdvcmtUaW1lZE91dClyZXR1cm47dGhpcy5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJGYWlsZWQgdG8gbG9hZCBjYWxsIG9iamVjdCBidW5kbGUgXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCksdHlwZTp0Lm1lc3NhZ2V9KX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfZ2V0QnVuZGxlQ29kZUZyb21SZXNwb25zZVwiLHZhbHVlOihlPWgoKGZ1bmN0aW9uKihlLHQpe2lmKHQub2spcmV0dXJuIHlpZWxkIHQudGV4dCgpO2lmKHRoaXMuX2lvc0NhY2hlJiYzMDQ9PT10LnN0YXR1cylyZXR1cm4oeWllbGQgdGhpcy5faW9zQ2FjaGUucmVuZXcoZSx0LmhlYWRlcnMpKS5jb2RlO3Rocm93IG5ldyBFcnJvcihcIlJlY2VpdmVkIFwiLmNvbmNhdCh0LnN0YXR1cyxcIiByZXNwb25zZVwiKSl9KSksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKTt2YXIgZSxuLHIsaX0oKSxzYT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4scixpKXt0KHRoaXMsZSksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdWNjZWVkZWQ9ITEsdGhpcy5fZGFpbHlDb25maWc9bix0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9cix0aGlzLl9mYWlsdXJlQ2FsbGJhY2s9aSx0aGlzLl9hdHRlbXB0SWQ9SygpLHRoaXMuX25ldHdvcmtUaW1lb3V0PW51bGwsdGhpcy5fc2NyaXB0RWxlbWVudD1udWxsfSksW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0fHwod2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0PW5ldyBTZXQpO3ZhciBlPVoodGhpcy5fZGFpbHlDb25maWcpO1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1widW5kZWZpbmVkXCI6bihkb2N1bWVudCkpP3RoaXMuX3N0YXJ0TG9hZGluZyhlKTp0aGlzLl9mYWlsdXJlQ2FsbGJhY2soe21zZzpcIkNhbGwgb2JqZWN0IGJ1bmRsZSBtdXN0IGJlIGxvYWRlZCBpbiBhIERPTS93ZWIgY29udGV4dFwiLHR5cGU6XCJtaXNzaW5nIGNvbnRleHRcIn0pfX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcExvYWRpbmcoKSx0aGlzLmNhbmNlbGxlZD0hMH19LHtrZXk6XCJfc3RhcnRMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zaWduVXBGb3JDYWxsTWFjaGluZUxvYWRXYWl0bGlzdCgpLHRoaXMuX25ldHdvcmtUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fc3RvcExvYWRpbmcoKSx0Ll9mYWlsdXJlQ2FsbGJhY2soe21zZzpcIlRpbWVkIG91dCAoPlwiLmNvbmNhdChyYSxcIiBtcykgd2hlbiBsb2FkaW5nIGNhbGwgb2JqZWN0IGJ1bmRsZSBcIikuY29uY2F0KGUpLHR5cGU6XCJ0aW1lb3V0XCJ9KX0pLHJhKTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RoaXMuX3NjcmlwdEVsZW1lbnQ9cixyLm9ubG9hZD1mdW5jdGlvbigpe3QuX3N0b3BMb2FkaW5nKCksdC5zdWNjZWVkZWQ9ITAsdC5fc3VjY2Vzc0NhbGxiYWNrKCl9LHIub25lcnJvcj1mdW5jdGlvbihlKXt0Ll9zdG9wTG9hZGluZygpLHQuX2ZhaWx1cmVDYWxsYmFjayh7bXNnOlwiRmFpbGVkIHRvIGxvYWQgY2FsbCBvYmplY3QgYnVuZGxlIFwiLmNvbmNhdChlLnRhcmdldC5zcmMpLHR5cGU6ZS5tZXNzYWdlfSl9LHIuc3JjPWUsbi5hcHBlbmRDaGlsZChyKX19LHtrZXk6XCJfc3RvcExvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3dpdGhkcmF3RnJvbUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0KCksY2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLl9zY3JpcHRFbGVtZW50JiYodGhpcy5fc2NyaXB0RWxlbWVudC5vbmxvYWQ9bnVsbCx0aGlzLl9zY3JpcHRFbGVtZW50Lm9uZXJyb3I9bnVsbCl9fSx7a2V5OlwiX3NpZ25VcEZvckNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuX2RhaWx5Q2FsbE1hY2hpbmVMb2FkV2FpdGxpc3QuYWRkKHRoaXMuX2F0dGVtcHRJZCl9fSx7a2V5OlwiX3dpdGhkcmF3RnJvbUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuX2RhaWx5Q2FsbE1hY2hpbmVMb2FkV2FpdGxpc3QuZGVsZXRlKHRoaXMuX2F0dGVtcHRJZCl9fV0pfSgpLGFhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMD09PXVhKGUubG9jYWwsdCxuKX0sY2E9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmxvY2FsLnN0cmVhbXMmJmUubG9jYWwuc3RyZWFtc1t0XSYmZS5sb2NhbC5zdHJlYW1zW3RdLnN0cmVhbSYmZS5sb2NhbC5zdHJlYW1zW3RdLnN0cmVhbVtcImdldFwiLmNvbmNhdChcInZpZGVvXCI9PT1uP1wiVmlkZW9cIjpcIkF1ZGlvXCIsXCJUcmFja3NcIildKClbMF19LGxhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWRhKGUsdCxuLHIpO3JldHVybiBpJiZpLnBlbmRpbmdUcmFja30sdWE9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlKXJldHVybiExO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlXCJhdmF0YXJcIjpyZXR1cm4hMDtjYXNlXCJzdGFnZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVybiEhZX19LGk9ZS5wdWJsaWMuc3Vic2NyaWJlZFRyYWNrcztyZXR1cm4gaSYmaVt0XT8tMT09PVtcImNhbS1hdWRpb1wiLFwiY2FtLXZpZGVvXCIsXCJzY3JlZW4tdmlkZW9cIixcInNjcmVlbi1hdWRpb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCJdLmluZGV4T2YobikmJmlbdF0uY3VzdG9tP1shMCxcInN0YWdlZFwiXS5pbmNsdWRlcyhpW3RdLmN1c3RvbSk/cihpW3RdLmN1c3RvbSk6cihpW3RdLmN1c3RvbVtuXSk6cihpW3RdW25dKTohaXx8cihpLkFMTCl9LGRhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdC52YWx1ZXMoZS5zdHJlYW1zfHx7fSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJ0aWNpcGFudElkPT09dCYmZS50eXBlPT09biYmZS5wZW5kaW5nVHJhY2smJmUucGVuZGluZ1RyYWNrLmtpbmQ9PT1yfSkpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBEYXRlKHQuc3RhcnR0aW1lKS1uZXcgRGF0ZShlLnN0YXJ0dGltZSl9KSk7cmV0dXJuIGkmJmlbMF19LGhhPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sb2NhbC5wdWJsaWMuY3VzdG9tVHJhY2tzO2lmKG4mJm5bdF0pcmV0dXJuIG5bdF0udHJhY2t9O2Z1bmN0aW9uIHBhKGUsdCl7Zm9yKHZhciBuPXQuZ2V0U3RhdGUoKSxyPTAsaT1bXCJjYW1cIixcInNjcmVlblwiXTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIG89aVtyXSxzPTAsYT1bXCJ2aWRlb1wiLFwiYXVkaW9cIl07czxhLmxlbmd0aDtzKyspe3ZhciBjPWFbc10sbD1cImNhbVwiPT09bz9jOlwic2NyZWVuXCIuY29uY2F0KGMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zbGljZSgxKSksdT1lLnRyYWNrc1tsXTtpZih1KXt2YXIgZD1lLmxvY2FsP2NhKG4sbyxjKTpsYShuLGUuc2Vzc2lvbl9pZCxvLGMpO1wicGxheWFibGVcIj09PXUuc3RhdGUmJih1LnRyYWNrPWQpLHUucGVyc2lzdGVudFRyYWNrPWR9fX1mdW5jdGlvbiBmYShlLHQpe3RyeXt2YXIgbj10LmdldFN0YXRlKCk7Zm9yKHZhciByIGluIGUudHJhY2tzKWlmKCF2YShyKSl7dmFyIGk9ZS50cmFja3Nbcl0ua2luZDtpZihpKXt2YXIgbz1lLnRyYWNrc1tyXTtpZihvKXt2YXIgcz1lLmxvY2FsP2hhKG4scik6bGEobixlLnNlc3Npb25faWQscixpKTtcInBsYXlhYmxlXCI9PT1vLnN0YXRlJiYoZS50cmFja3Nbcl0udHJhY2s9cyksby5wZXJzaXN0ZW50VHJhY2s9c319ZWxzZSBjb25zb2xlLmVycm9yKFwidW5rbm93biB0eXBlIGZvciBjdXN0b20gdHJhY2tcIil9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9fWZ1bmN0aW9uIHZhKGUpe3JldHVybltcInZpZGVvXCIsXCJhdWRpb1wiLFwic2NyZWVuVmlkZW9cIixcInNjcmVlbkF1ZGlvXCJdLmluY2x1ZGVzKGUpfWZ1bmN0aW9uIGdhKGUsdCxuKXt2YXIgcj1uLmdldFN0YXRlKCk7aWYoZS5sb2NhbCl7aWYoZS5hdWRpbyl0cnl7ZS5hdWRpb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5jYW0uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sZS5hdWRpb1RyYWNrfHwoZS5hdWRpbz0hMSl9Y2F0Y2goZSl7fWlmKGUudmlkZW8pdHJ5e2UudmlkZW9UcmFjaz1yLmxvY2FsLnN0cmVhbXMuY2FtLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLGUudmlkZW9UcmFja3x8KGUudmlkZW89ITEpfWNhdGNoKGUpe31pZihlLnNjcmVlbil0cnl7ZS5zY3JlZW5WaWRlb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5zY3JlZW4uc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0sZS5zY3JlZW5BdWRpb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5zY3JlZW4uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sZS5zY3JlZW5WaWRlb1RyYWNrfHxlLnNjcmVlbkF1ZGlvVHJhY2t8fChlLnNjcmVlbj0hMSl9Y2F0Y2goZSl7fX1lbHNle3ZhciBpPSEwO3RyeXt2YXIgbz1yLnBhcnRpY2lwYW50c1tlLnNlc3Npb25faWRdO28mJm8ucHVibGljJiZvLnB1YmxpYy5ydGNUeXBlJiZcInBlZXItdG8tcGVlclwiPT09by5wdWJsaWMucnRjVHlwZS5pbXBsJiZvLnByaXZhdGUmJiFbXCJjb25uZWN0ZWRcIixcImNvbXBsZXRlZFwiXS5pbmNsdWRlcyhvLnByaXZhdGUucGVlcmluZ1N0YXRlKSYmKGk9ITEpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9aWYoIWkpcmV0dXJuIGUuYXVkaW89ITEsZS5hdWRpb1RyYWNrPSExLGUudmlkZW89ITEsZS52aWRlb1RyYWNrPSExLGUuc2NyZWVuPSExLHZvaWQoZS5zY3JlZW5UcmFjaz0hMSk7dHJ5e3Iuc3RyZWFtcztpZihlLmF1ZGlvJiZhYShyLGUuc2Vzc2lvbl9pZCxcImNhbS1hdWRpb1wiKSl7dmFyIHM9bGEocixlLnNlc3Npb25faWQsXCJjYW1cIixcImF1ZGlvXCIpO3MmJih0JiZ0LmF1ZGlvVHJhY2smJnQuYXVkaW9UcmFjay5pZD09PXMuaWQ/ZS5hdWRpb1RyYWNrPXM6cy5tdXRlZHx8KGUuYXVkaW9UcmFjaz1zKSksZS5hdWRpb1RyYWNrfHwoZS5hdWRpbz0hMSl9aWYoZS52aWRlbyYmYWEocixlLnNlc3Npb25faWQsXCJjYW0tdmlkZW9cIikpe3ZhciBhPWxhKHIsZS5zZXNzaW9uX2lkLFwiY2FtXCIsXCJ2aWRlb1wiKTthJiYodCYmdC52aWRlb1RyYWNrJiZ0LnZpZGVvVHJhY2suaWQ9PT1hLmlkP2UudmlkZW9UcmFjaz1hOmEubXV0ZWR8fChlLnZpZGVvVHJhY2s9YSkpLGUudmlkZW9UcmFja3x8KGUudmlkZW89ITEpfWlmKGUuc2NyZWVuJiZhYShyLGUuc2Vzc2lvbl9pZCxcInNjcmVlbi1hdWRpb1wiKSl7dmFyIGM9bGEocixlLnNlc3Npb25faWQsXCJzY3JlZW5cIixcImF1ZGlvXCIpO2MmJih0JiZ0LnNjcmVlbkF1ZGlvVHJhY2smJnQuc2NyZWVuQXVkaW9UcmFjay5pZD09PWMuaWQ/ZS5zY3JlZW5BdWRpb1RyYWNrPWM6Yy5tdXRlZHx8KGUuc2NyZWVuQXVkaW9UcmFjaz1jKSl9aWYoZS5zY3JlZW4mJmFhKHIsZS5zZXNzaW9uX2lkLFwic2NyZWVuLXZpZGVvXCIpKXt2YXIgbD1sYShyLGUuc2Vzc2lvbl9pZCxcInNjcmVlblwiLFwidmlkZW9cIik7bCYmKHQmJnQuc2NyZWVuVmlkZW9UcmFjayYmdC5zY3JlZW5WaWRlb1RyYWNrLmlkPT09bC5pZD9lLnNjcmVlblZpZGVvVHJhY2s9bDpsLm11dGVkfHwoZS5zY3JlZW5WaWRlb1RyYWNrPWwpKX1lLnNjcmVlblZpZGVvVHJhY2t8fGUuc2NyZWVuQXVkaW9UcmFja3x8KGUuc2NyZWVuPSExKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwidW5leHBlY3RlZCBlcnJvciBtYXRjaGluZyB1cCB0cmFja3NcIixlKX19fWZ1bmN0aW9uIG1hKGUsdCl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlW1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4geWEoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT95YShlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLGk9ZnVuY3Rpb24oKXt9O3JldHVybntzOmksbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOml9fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgbyxzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBzPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsbz1lfSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fWZ1bmN0aW9uIHlhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYmE9bmV3IE1hcCxfYT1udWxsO2Z1bmN0aW9uIHdhKGUsdCl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlW1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gU2EoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9TYShlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLGk9ZnVuY3Rpb24oKXt9O3JldHVybntzOmksbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOml9fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgbyxzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBzPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsbz1lfSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fWZ1bmN0aW9uIFNhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIga2E9bmV3IE1hcCxNYT1udWxsO2Z1bmN0aW9uIENhKGUpe1RhKCk/ZnVuY3Rpb24oZSl7YmEuaGFzKGUpfHwoYmEuc2V0KGUse30pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2JhLmhhcyhlKSYmKGJhLmdldChlKS5sYXN0RGV2aWNlc1N0cmluZz1KU09OLnN0cmluZ2lmeSh0KSxfYXx8KF9hPWZ1bmN0aW9uKCl7dmFyIGU9aCgoZnVuY3Rpb24qKCl7dmFyIGUsdD15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxuPW1hKGJhLmtleXMoKSk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLGk9SlNPTi5zdHJpbmdpZnkodCk7aSE9PWJhLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZyYmKGJhLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZz1pLHIodCkpfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX19KSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIixfYSkpKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSkpfShlKTpmdW5jdGlvbihlKXtrYS5oYXMoZSl8fChrYS5zZXQoZSx7fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7a2EuaGFzKGUpJiYoa2EuZ2V0KGUpLmxhc3REZXZpY2VzU3RyaW5nPUpTT04uc3RyaW5naWZ5KHQpLE1hfHwoTWE9c2V0SW50ZXJ2YWwoaCgoZnVuY3Rpb24qKCl7dmFyIGUsdD15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxuPXdhKGthLmtleXMoKSk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLGk9SlNPTi5zdHJpbmdpZnkodCk7aSE9PWthLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZyYmKGthLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZz1pLHIodCkpfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX19KSksM2UzKSkpfSkpKX0oZSl9ZnVuY3Rpb24gRWEoZSl7VGEoKT9mdW5jdGlvbihlKXtiYS5oYXMoZSkmJihiYS5kZWxldGUoZSksMD09PWJhLnNpemUmJl9hJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsX2EpLF9hPW51bGwpKX0oZSk6ZnVuY3Rpb24oZSl7a2EuaGFzKGUpJiYoa2EuZGVsZXRlKGUpLDA9PT1rYS5zaXplJiZNYSYmKGNsZWFySW50ZXJ2YWwoTWEpLE1hPW51bGwpKX0oZSl9ZnVuY3Rpb24gVGEoKXt2YXIgZTtyZXR1cm4geXMoKXx8dm9pZCAwIT09KG51bGw9PT0oZT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5vbmRldmljZWNoYW5nZSl9dmFyIE9hPW5ldyBTZXQ7ZnVuY3Rpb24gUGEoZSx0KXt2YXIgbj10LmlzTG9jYWxTY3JlZW5WaWRlbztyZXR1cm4gZSYmXCJsaXZlXCI9PT1lLnJlYWR5U3RhdGUmJiFmdW5jdGlvbihlLHQpe3JldHVybighdC5pc0xvY2FsU2NyZWVuVmlkZW98fFwiQ2hyb21lXCIhPT1qcygpKSYmZS5tdXRlZCYmIU9hLmhhcyhlLmlkKX0oZSx7aXNMb2NhbFNjcmVlblZpZGVvOm59KX1mdW5jdGlvbiBBYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gamEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/QWEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpBYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgSWE9T2JqZWN0LmZyZWV6ZSh7VklERU86XCJ2aWRlb1wiLEFVRElPOlwiYXVkaW9cIixTQ1JFRU5fVklERU86XCJzY3JlZW5WaWRlb1wiLFNDUkVFTl9BVURJTzpcInNjcmVlbkF1ZGlvXCIsQ1VTVE9NX1ZJREVPOlwiY3VzdG9tVmlkZW9cIixDVVNUT01fQVVESU86XCJjdXN0b21BdWRpb1wifSkseGE9T2JqZWN0LmZyZWV6ZSh7UEFSVElDSVBBTlRTOlwicGFydGljaXBhbnRzXCIsU1RSRUFNSU5HOlwic3RyZWFtaW5nXCIsVFJBTlNDUklQVElPTjpcInRyYW5zY3JpcHRpb25cIn0pLExhPU9iamVjdC52YWx1ZXMoSWEpLERhPVtcInZcIixcImFcIixcInN2XCIsXCJzYVwiLFwiY3ZcIixcImNhXCJdO09iamVjdC5mcmVlemUoTGEucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09RGFbbl0sZX0pLHt9KSksT2JqZWN0LmZyZWV6ZShEYS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1MYVtuXSxlfSkse30pKTt2YXIgTmE9W0lhLlZJREVPLElhLkFVRElPLElhLlNDUkVFTl9WSURFTyxJYS5TQ1JFRU5fQVVESU9dLFJhPU9iamVjdC52YWx1ZXMoeGEpLEZhPVtcInBcIixcInNcIixcInRcIl07T2JqZWN0LmZyZWV6ZShSYS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1GYVtuXSxlfSkse30pKSxPYmplY3QuZnJlZXplKEZhLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPVJhW25dLGV9KSx7fSkpO3ZhciBCYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLmJhc2UsaT1uLmJ5VXNlcklkLG89bi5ieVBhcnRpY2lwYW50SWQ7dCh0aGlzLGUpLHRoaXMuYmFzZT1yLHRoaXMuYnlVc2VySWQ9aSx0aGlzLmJ5UGFydGljaXBhbnRJZD1vfXJldHVybiBvKGUsW3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7aWYodGhpcy5iYXNlIGluc3RhbmNlb2YgVWE/dC5iYXNlPXRoaXMuYmFzZS5jbG9uZSgpOnQuYmFzZT10aGlzLmJhc2Usdm9pZCAwIT09dGhpcy5ieVVzZXJJZClmb3IodmFyIG4gaW4gdC5ieVVzZXJJZD17fSx0aGlzLmJ5VXNlcklkKXt2YXIgcj10aGlzLmJ5VXNlcklkW25dO3QuYnlVc2VySWRbbl09ciBpbnN0YW5jZW9mIFVhP3IuY2xvbmUoKTpyfWlmKHZvaWQgMCE9PXRoaXMuYnlQYXJ0aWNpcGFudElkKWZvcih2YXIgaSBpbiB0LmJ5UGFydGljaXBhbnRJZD17fSx0aGlzLmJ5UGFydGljaXBhbnRJZCl7dmFyIG89dGhpcy5ieVBhcnRpY2lwYW50SWRbaV07dC5ieVBhcnRpY2lwYW50SWRbaV09byBpbnN0YW5jZW9mIFVhP28uY2xvbmUoKTpvfXJldHVybiB0fX0se2tleTpcInRvSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0aGlzLmJhc2U/ZS5iYXNlPXRoaXMuYmFzZTp0aGlzLmJhc2UgaW5zdGFuY2VvZiBVYSYmKGUuYmFzZT10aGlzLmJhc2UudG9KU09OT2JqZWN0KCkpLHZvaWQgMCE9PXRoaXMuYnlVc2VySWQpZm9yKHZhciB0IGluIGUuYnlVc2VySWQ9e30sdGhpcy5ieVVzZXJJZCl7dmFyIG49dGhpcy5ieVVzZXJJZFt0XTtlLmJ5VXNlcklkW3RdPW4gaW5zdGFuY2VvZiBVYT9uLnRvSlNPTk9iamVjdCgpOm59aWYodm9pZCAwIT09dGhpcy5ieVBhcnRpY2lwYW50SWQpZm9yKHZhciByIGluIGUuYnlQYXJ0aWNpcGFudElkPXt9LHRoaXMuYnlQYXJ0aWNpcGFudElkKXt2YXIgaT10aGlzLmJ5UGFydGljaXBhbnRJZFtyXTtlLmJ5UGFydGljaXBhbnRJZFtyXT1pIGluc3RhbmNlb2YgVWE/aS50b0pTT05PYmplY3QoKTppfXJldHVybiBlfX0se2tleTpcInRvTWluaWZpZWRKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtpZih2b2lkIDAhPT10aGlzLmJhc2UmJihcImJvb2xlYW5cIj09dHlwZW9mIHRoaXMuYmFzZT9lLmI9dGhpcy5iYXNlOmUuYj10aGlzLmJhc2UudG9NaW5pZmllZEpTT05PYmplY3QoKSksdm9pZCAwIT09dGhpcy5ieVVzZXJJZClmb3IodmFyIHQgaW4gZS51PXt9LHRoaXMuYnlVc2VySWQpe3ZhciBuPXRoaXMuYnlVc2VySWRbdF07ZS51W3RdPVwiYm9vbGVhblwiPT10eXBlb2Ygbj9uOm4udG9NaW5pZmllZEpTT05PYmplY3QoKX1pZih2b2lkIDAhPT10aGlzLmJ5UGFydGljaXBhbnRJZClmb3IodmFyIHIgaW4gZS5wPXt9LHRoaXMuYnlQYXJ0aWNpcGFudElkKXt2YXIgaT10aGlzLmJ5UGFydGljaXBhbnRJZFtyXTtlLnBbcl09XCJib29sZWFuXCI9PXR5cGVvZiBpP2k6aS50b01pbmlmaWVkSlNPTk9iamVjdCgpfXJldHVybiBlfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIFVhJiYodGhpcy5iYXNlPXRoaXMuYmFzZS5ub3JtYWxpemUoKSksdGhpcy5ieVVzZXJJZCYmKHRoaXMuYnlVc2VySWQ9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMuYnlVc2VySWQpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZihlLDIpLG49dFswXSxyPXRbMV07cmV0dXJuW24sciBpbnN0YW5jZW9mIFVhP3Iubm9ybWFsaXplKCk6cl19KSkpKSx0aGlzLmJ5UGFydGljaXBhbnRJZCYmKHRoaXMuYnlQYXJ0aWNpcGFudElkPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLmJ5UGFydGljaXBhbnRJZCkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mKGUsMiksbj10WzBdLHI9dFsxXTtyZXR1cm5bbixyIGluc3RhbmNlb2YgVWE/ci5ub3JtYWxpemUoKTpyXX0pKSkpLHRoaXN9fV0sW3trZXk6XCJmcm9tSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtpZih2b2lkIDAhPT10LmJhc2UmJihuPVwiYm9vbGVhblwiPT10eXBlb2YgdC5iYXNlP3QuYmFzZTpVYS5mcm9tSlNPTk9iamVjdCh0LmJhc2UpKSx2b2lkIDAhPT10LmJ5VXNlcklkKWZvcih2YXIgbyBpbiByPXt9LHQuYnlVc2VySWQpe3ZhciBzPXQuYnlVc2VySWRbb107cltvXT1cImJvb2xlYW5cIj09dHlwZW9mIHM/czpVYS5mcm9tSlNPTk9iamVjdChzKX1pZih2b2lkIDAhPT10LmJ5UGFydGljaXBhbnRJZClmb3IodmFyIGEgaW4gaT17fSx0LmJ5UGFydGljaXBhbnRJZCl7dmFyIGM9dC5ieVBhcnRpY2lwYW50SWRbYV07aVthXT1cImJvb2xlYW5cIj09dHlwZW9mIGM/YzpVYS5mcm9tSlNPTk9iamVjdChjKX1yZXR1cm4gbmV3IGUoe2Jhc2U6bixieVVzZXJJZDpyLGJ5UGFydGljaXBhbnRJZDppfSl9fSx7a2V5OlwiZnJvbU1pbmlmaWVkSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtpZih2b2lkIDAhPT10LmImJihuPVwiYm9vbGVhblwiPT10eXBlb2YgdC5iP3QuYjpVYS5mcm9tTWluaWZpZWRKU09OT2JqZWN0KHQuYikpLHZvaWQgMCE9PXQudSlmb3IodmFyIG8gaW4gcj17fSx0LnUpe3ZhciBzPXQudVtvXTtyW29dPVwiYm9vbGVhblwiPT10eXBlb2Ygcz9zOlVhLmZyb21NaW5pZmllZEpTT05PYmplY3Qocyl9aWYodm9pZCAwIT09dC5wKWZvcih2YXIgYSBpbiBpPXt9LHQucCl7dmFyIGM9dC5wW2FdO2lbYV09XCJib29sZWFuXCI9PXR5cGVvZiBjP2M6VWEuZnJvbU1pbmlmaWVkSlNPTk9iamVjdChjKX1yZXR1cm4gbmV3IGUoe2Jhc2U6bixieVVzZXJJZDpyLGJ5UGFydGljaXBhbnRJZDppfSl9fSx7a2V5OlwidmFsaWRhdGVKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuWyExLFwiY2FuUmVjZWl2ZSBtdXN0IGJlIGFuIG9iamVjdFwiXTtmb3IodmFyIHQ9W1wiYmFzZVwiLFwiYnlVc2VySWRcIixcImJ5UGFydGljaXBhbnRJZFwiXSxyPTAsaT1PYmplY3Qua2V5cyhlKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZighdC5pbmNsdWRlcyhvKSlyZXR1cm5bITEsXCJjYW5SZWNlaXZlIGNhbiBvbmx5IGNvbnRhaW4ga2V5cyAoXCIuY29uY2F0KHQuam9pbihcIiwgXCIpLFwiKVwiKV07aWYoXCJiYXNlXCI9PT1vKXt2YXIgcz1mKFVhLnZhbGlkYXRlSlNPTk9iamVjdChlLmJhc2UsITApLDIpLGE9c1swXSxjPXNbMV07aWYoIWEpcmV0dXJuWyExLGNdfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4oZVtvXSkpcmV0dXJuWyExLFwiaW52YWxpZCAobm9uLW9iamVjdCkgdmFsdWUgZm9yIGZpZWxkICdcIi5jb25jYXQobyxcIicgaW4gY2FuUmVjZWl2ZVwiKV07Zm9yKHZhciBsPTAsdT1PYmplY3QudmFsdWVzKGVbb10pO2w8dS5sZW5ndGg7bCsrKXt2YXIgZD11W2xdLGg9ZihVYS52YWxpZGF0ZUpTT05PYmplY3QoZCksMikscD1oWzBdLHY9aFsxXTtpZighcClyZXR1cm5bITEsdl19fX1yZXR1cm5bITBdfX1dKX0oKSxVYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLnZpZGVvLGk9bi5hdWRpbyxvPW4uc2NyZWVuVmlkZW8scz1uLnNjcmVlbkF1ZGlvLGE9bi5jdXN0b21WaWRlbyxjPW4uY3VzdG9tQXVkaW87dCh0aGlzLGUpLHRoaXMudmlkZW89cix0aGlzLmF1ZGlvPWksdGhpcy5zY3JlZW5WaWRlbz1vLHRoaXMuc2NyZWVuQXVkaW89cyx0aGlzLmN1c3RvbVZpZGVvPWEsdGhpcy5jdXN0b21BdWRpbz1jfXJldHVybiBvKGUsW3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHZvaWQgMCE9PXRoaXMudmlkZW8mJih0LnZpZGVvPXRoaXMudmlkZW8pLHZvaWQgMCE9PXRoaXMuYXVkaW8mJih0LmF1ZGlvPXRoaXMuYXVkaW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuVmlkZW8mJih0LnNjcmVlblZpZGVvPXRoaXMuc2NyZWVuVmlkZW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuQXVkaW8mJih0LnNjcmVlbkF1ZGlvPXRoaXMuc2NyZWVuQXVkaW8pLHZvaWQgMCE9PXRoaXMuY3VzdG9tVmlkZW8mJih0LmN1c3RvbVZpZGVvPWphKHt9LHRoaXMuY3VzdG9tVmlkZW8pKSx2b2lkIDAhPT10aGlzLmN1c3RvbUF1ZGlvJiYodC5jdXN0b21BdWRpbz1qYSh7fSx0aGlzLmN1c3RvbUF1ZGlvKSksdH19LHtrZXk6XCJ0b0pTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLnZpZGVvJiYoZS52aWRlbz10aGlzLnZpZGVvKSx2b2lkIDAhPT10aGlzLmF1ZGlvJiYoZS5hdWRpbz10aGlzLmF1ZGlvKSx2b2lkIDAhPT10aGlzLnNjcmVlblZpZGVvJiYoZS5zY3JlZW5WaWRlbz10aGlzLnNjcmVlblZpZGVvKSx2b2lkIDAhPT10aGlzLnNjcmVlbkF1ZGlvJiYoZS5zY3JlZW5BdWRpbz10aGlzLnNjcmVlbkF1ZGlvKSx2b2lkIDAhPT10aGlzLmN1c3RvbVZpZGVvJiYoZS5jdXN0b21WaWRlbz1qYSh7fSx0aGlzLmN1c3RvbVZpZGVvKSksdm9pZCAwIT09dGhpcy5jdXN0b21BdWRpbyYmKGUuY3VzdG9tQXVkaW89amEoe30sdGhpcy5jdXN0b21BdWRpbykpLGV9fSx7a2V5OlwidG9NaW5pZmllZEpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLnZpZGVvJiYoZS52PXRoaXMudmlkZW8pLHZvaWQgMCE9PXRoaXMuYXVkaW8mJihlLmE9dGhpcy5hdWRpbyksdm9pZCAwIT09dGhpcy5zY3JlZW5WaWRlbyYmKGUuc3Y9dGhpcy5zY3JlZW5WaWRlbyksdm9pZCAwIT09dGhpcy5zY3JlZW5BdWRpbyYmKGUuc2E9dGhpcy5zY3JlZW5BdWRpbyksdm9pZCAwIT09dGhpcy5jdXN0b21WaWRlbyYmKGUuY3Y9amEoe30sdGhpcy5jdXN0b21WaWRlbykpLHZvaWQgMCE9PXRoaXMuY3VzdG9tQXVkaW8mJihlLmNhPWphKHt9LHRoaXMuY3VzdG9tQXVkaW8pKSxlfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiBlJiYxPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZlW1wiKlwiXT09PXR9cmV0dXJuISghMCE9PXRoaXMudmlkZW98fCEwIT09dGhpcy5hdWRpb3x8ITAhPT10aGlzLnNjcmVlblZpZGVvfHwhMCE9PXRoaXMuc2NyZWVuQXVkaW98fCFlKHRoaXMuY3VzdG9tVmlkZW8sITApfHwhZSh0aGlzLmN1c3RvbUF1ZGlvLCEwKSl8fCghMSE9PXRoaXMudmlkZW98fCExIT09dGhpcy5hdWRpb3x8ITEhPT10aGlzLnNjcmVlblZpZGVvfHwhMSE9PXRoaXMuc2NyZWVuQXVkaW98fCFlKHRoaXMuY3VzdG9tVmlkZW8sITEpfHwhZSh0aGlzLmN1c3RvbUF1ZGlvLCExKSkmJnRoaXN9fV0sW3trZXk6XCJmcm9tQm9vbGVhblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh7dmlkZW86dCxhdWRpbzp0LHNjcmVlblZpZGVvOnQsc2NyZWVuQXVkaW86dCxjdXN0b21WaWRlbzp7XCIqXCI6dH0sY3VzdG9tQXVkaW86e1wiKlwiOnR9fSl9fSx7a2V5OlwiZnJvbUpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoe3ZpZGVvOnQudmlkZW8sYXVkaW86dC5hdWRpbyxzY3JlZW5WaWRlbzp0LnNjcmVlblZpZGVvLHNjcmVlbkF1ZGlvOnQuc2NyZWVuQXVkaW8sY3VzdG9tVmlkZW86dm9pZCAwIT09dC5jdXN0b21WaWRlbz9qYSh7fSx0LmN1c3RvbVZpZGVvKTp2b2lkIDAsY3VzdG9tQXVkaW86dm9pZCAwIT09dC5jdXN0b21BdWRpbz9qYSh7fSx0LmN1c3RvbUF1ZGlvKTp2b2lkIDB9KX19LHtrZXk6XCJmcm9tTWluaWZpZWRKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHt2aWRlbzp0LnYsYXVkaW86dC5hLHNjcmVlblZpZGVvOnQuc3Ysc2NyZWVuQXVkaW86dC5zYSxjdXN0b21WaWRlbzp0LmN2LGN1c3RvbUF1ZGlvOnQuY2F9KX19LHtrZXk6XCJ2YWxpZGF0ZUpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm5bITBdO2lmKFwib2JqZWN0XCIhPT1uKGUpKXJldHVyblshMSxcImludmFsaWQgKG5vbi1vYmplY3QsIG5vbi1ib29sZWFuKSB2YWx1ZSBpbiBjYW5SZWNlaXZlXCJdO2Zvcih2YXIgcj1PYmplY3Qua2V5cyhlKSxpPTAsbz1yO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO2lmKCFMYS5pbmNsdWRlcyhzKSlyZXR1cm5bITEsXCJpbnZhbGlkIG1lZGlhIHR5cGUgJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXTtpZihOYS5pbmNsdWRlcyhzKSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlW3NdKXJldHVyblshMSxcImludmFsaWQgKG5vbi1ib29sZWFuKSB2YWx1ZSBmb3IgbWVkaWEgdHlwZSAnXCIuY29uY2F0KHMsXCInIGluIGNhblJlY2VpdmVcIildfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4oZVtzXSkpcmV0dXJuWyExLFwiaW52YWxpZCAobm9uLW9iamVjdCkgdmFsdWUgZm9yIG1lZGlhIHR5cGUgJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXTtmb3IodmFyIGE9MCxjPU9iamVjdC52YWx1ZXMoZVtzXSk7YTxjLmxlbmd0aDthKyspe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgY1thXSlyZXR1cm5bITEsXCJpbnZhbGlkIChub24tYm9vbGVhbikgdmFsdWUgZm9yIGVudHJ5IHdpdGhpbiAnXCIuY29uY2F0KHMsXCInIGluIGNhblJlY2VpdmVcIildfWlmKHQmJnZvaWQgMD09PWVbc11bXCIqXCJdKXJldHVyblshMSwnY2FuUmVjZWl2ZSBcImJhc2VcIiBwZXJtaXNzaW9uIG11c3Qgc3BlY2lmeSBcIipcIiBhcyBhbiBlbnRyeSB3aXRoaW4gXFwnJy5jb25jYXQocyxcIidcIildfX1yZXR1cm4gdCYmci5sZW5ndGghPT1MYS5sZW5ndGg/WyExLCdjYW5SZWNlaXZlIFwiYmFzZVwiIHBlcm1pc3Npb24gbXVzdCBzcGVjaWZ5IGFsbCBtZWRpYSB0eXBlczogJy5jb25jYXQoTGEuam9pbihcIiwgXCIpLFwiIChvciBiZSBzZXQgdG8gYSBib29sZWFuIHNob3J0aGFuZClcIildOlshMF19fV0pfSgpLFZhPVtcInJlc3VsdFwiXSxKYT1bXCJwcmVzZXJ2ZUlmcmFtZVwiXTtmdW5jdGlvbiAkYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcWEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/JGEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTokYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB6YSgpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKHphPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBXYShlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIEhhKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/SGEoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxpPWZ1bmN0aW9uKCl7fTtyZXR1cm57czppLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjppfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIG8scz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gcz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLG89ZX0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBIYShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIEdhPXt9O3ZhciBRYT1cInZpZGVvXCIsS2E9XCJ2b2ljZVwiLFlhPXlzKCk/e2RhdGE6e319OntkYXRhOnt9LHRvcG9sb2d5Olwibm9uZVwifSxYYT17cHJlc2VudDowLGhpZGRlbjowfSxaYT17bWF4Qml0cmF0ZTp7bWluOjFlNSxtYXg6MjVlNX0sbWF4RnJhbWVyYXRlOnttaW46MSxtYXg6MzB9LHNjYWxlUmVzb2x1dGlvbkRvd25CeTp7bWluOjEsbWF4Ojh9fSxlYz1PYmplY3Qua2V5cyhaYSksdGM9W1wic3RhdGVcIixcInZvbHVtZVwiLFwic2ltdWxjYXN0RW5jb2RpbmdzXCJdLG5jPXthbmRyb2lkSW5DYWxsTm90aWZpY2F0aW9uOnt0aXRsZTpcInN0cmluZ1wiLHN1YnRpdGxlOlwic3RyaW5nXCIsaWNvbk5hbWU6XCJzdHJpbmdcIixkaXNhYmxlRm9yQ3VzdG9tT3ZlcnJpZGU6XCJib29sZWFuXCJ9LGRpc2FibGVBdXRvRGV2aWNlTWFuYWdlbWVudDp7YXVkaW86XCJib29sZWFuXCIsdmlkZW86XCJib29sZWFuXCJ9fSxyYz17aWQ6e2ljb25QYXRoOlwic3RyaW5nXCIsaWNvblBhdGhEYXJrTW9kZTpcInN0cmluZ1wiLGxhYmVsOlwic3RyaW5nXCIsdG9vbHRpcDpcInN0cmluZ1wiLHZpc3VhbFN0YXRlOlwiJ2RlZmF1bHQnIHwgJ3NpZGViYXItb3BlbicgfCAnYWN0aXZlJ1wifX0saWM9e2lkOnthbGxvdzpcInN0cmluZ1wiLGNvbnRyb2xsZWRCeTpcIicqJyB8ICdvd25lcnMnIHwgc3RyaW5nW11cIixjc3A6XCJzdHJpbmdcIixpY29uVVJMOlwic3RyaW5nXCIsbGFiZWw6XCJzdHJpbmdcIixsb2FkaW5nOlwiJ2VhZ2VyJyB8ICdsYXp5J1wiLGxvY2F0aW9uOlwiJ21haW4nIHwgJ3NpZGViYXInXCIsbmFtZTpcInN0cmluZ1wiLHJlZmVycmVyUG9saWN5Olwic3RyaW5nXCIsc2FuZGJveDpcInN0cmluZ1wiLHNyYzpcInN0cmluZ1wiLHNyY2RvYzpcInN0cmluZ1wiLHNoYXJlZDpcInN0cmluZ1tdIHwgJ293bmVycycgfCBib29sZWFuXCJ9fSxvYz17Y3VzdG9tSW50ZWdyYXRpb25zOnt2YWxpZGF0ZTpQYyxoZWxwOlRjKCl9LGN1c3RvbVRyYXlCdXR0b25zOnt2YWxpZGF0ZTpPYyxoZWxwOlwiY3VzdG9tVHJheUJ1dHRvbnMgc2hvdWxkIGJlIGEgZGljdGlvbmFyeSBvZiB0aGUgdHlwZSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocmMpKX0sdXJsOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0saGVscDpcInVybCBzaG91bGQgYmUgYSBzdHJpbmdcIn0sYmFzZVVybDp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGhlbHA6XCJiYXNlVXJsIHNob3VsZCBiZSBhIHN0cmluZ1wifSx0b2tlbjp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGhlbHA6XCJ0b2tlbiBzaG91bGQgYmUgYSBzdHJpbmdcIixxdWVyeVN0cmluZzpcInRcIn0sZGFpbHlDb25maWc6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiB0LnZhbGlkYXRlRGFpbHlDb25maWcoZSksITB9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSBkYWlseUNvbmZpZ1wiLGUpfXJldHVybiExfSxoZWxwOlwiVW5zdXBwb3J0ZWQgZGFpbHlDb25maWcuIENoZWNrIGVycm9yIGxvZ3MgZm9yIGRldGFpbGVkIGluZm8uXCJ9LHJlYWN0TmF0aXZlQ29uZmlnOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gQWMoZSxuYyl9LGhlbHA6XCJyZWFjdE5hdGl2ZUNvbmZpZyBzaG91bGQgbG9vayBsaWtlIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShuYyksXCIsIGFsbCBmaWVsZHMgb3B0aW9uYWxcIil9LGxhbmc6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybltcImRhXCIsXCJkZVwiLFwiZW4tdXNcIixcImVuXCIsXCJlc1wiLFwiZmlcIixcImZyXCIsXCJpdFwiLFwianBcIixcImthXCIsXCJubFwiLFwibm9cIixcInBsXCIsXCJwdFwiLFwicHQtQlJcIixcInJ1XCIsXCJzdlwiLFwidHJcIixcInVzZXJcIl0uaW5jbHVkZXMoZSl9LGhlbHA6XCJsYW5ndWFnZSBub3Qgc3VwcG9ydGVkLiBPcHRpb25zIGFyZTogZGEsIGRlLCBlbi11cywgZW4sIGVzLCBmaSwgZnIsIGl0LCBqcCwga2EsIG5sLCBubywgcGwsIHB0LCBwdC1CUiwgcnUsIHN2LCB0ciwgdXNlclwifSx1c2VyTmFtZTohMCx1c2VyRGF0YTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB5YyhlKSwhMH1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihlKSwhMX19LGhlbHA6XCJpbnZhbGlkIHVzZXJEYXRhIHR5cGUgcHJvdmlkZWRcIn0sc3RhcnRWaWRlb09mZjohMCxzdGFydEF1ZGlvT2ZmOiEwLGFsbG93TG9jYWxWaWRlbzohMCxhbGxvd0xvY2FsQXVkaW86ITAsYWN0aXZlU3BlYWtlck1vZGU6ITAsc2hvd0xlYXZlQnV0dG9uOiEwLHNob3dMb2NhbFZpZGVvOiEwLHNob3dQYXJ0aWNpcGFudHNCYXI6ITAsc2hvd0Z1bGxzY3JlZW5CdXR0b246ITAsc2hvd1VzZXJOYW1lQ2hhbmdlVUk6ITAsaWZyYW1lU3R5bGU6ITAsY3VzdG9tTGF5b3V0OiEwLGNzc0ZpbGU6ITAsY3NzVGV4dDohMCxib2R5Q2xhc3M6ITAsdmlkZW9Tb3VyY2U6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiB0Ll9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbFZpZGVvPWUsITA7dmFyIG47aWYoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spdC5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2s9ZSxuPXtjdXN0b21UcmFjazpsc307ZWxzZXtpZihkZWxldGUgdC5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2ssXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ2aWRlb1NvdXJjZSBtdXN0IGJlIGEgTWVkaWFTdHJlYW1UcmFjaywgYm9vbGVhbiwgb3IgYSBzdHJpbmdcIiksITE7bj17ZGV2aWNlSWQ6ZX19cmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3Moe3ZpZGVvOntzZXR0aW5nczpufX0sITEpLCEwfX0sYXVkaW9Tb3VyY2U6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiB0Ll9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbEF1ZGlvPWUsITA7dmFyIG47aWYoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spdC5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2s9ZSxuPXtjdXN0b21UcmFjazpsc307ZWxzZXtpZihkZWxldGUgdC5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2ssXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJhdWRpb1NvdXJjZSBtdXN0IGJlIGEgTWVkaWFTdHJlYW1UcmFjaywgYm9vbGVhbiwgb3IgYSBzdHJpbmdcIiksITE7bj17ZGV2aWNlSWQ6ZX19cmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3Moe2F1ZGlvOntzZXR0aW5nczpufX0sITEpLCEwfX0sc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5Ont2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0Ll9wcmVsb2FkQ2FjaGUuc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5PWUsITB9fSx0aGVtZTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9W1wiYWNjZW50XCIsXCJhY2NlbnRUZXh0XCIsXCJiYWNrZ3JvdW5kXCIsXCJiYWNrZ3JvdW5kQWNjZW50XCIsXCJiYXNlVGV4dFwiLFwiYm9yZGVyXCIsXCJtYWluQXJlYUJnXCIsXCJtYWluQXJlYUJnQWNjZW50XCIsXCJtYWluQXJlYVRleHRcIixcInN1cHBvcnRpdmVUZXh0XCJdLHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTAscj1PYmplY3Qua2V5cyhlKTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZighdC5pbmNsdWRlcyhpKSlyZXR1cm4gY29uc29sZS5lcnJvcigndW5zdXBwb3J0ZWQgY29sb3IgXCInLmNvbmNhdChpLCdcIi4gVmFsaWQgY29sb3JzOiAnKS5jb25jYXQodC5qb2luKFwiLCBcIikpKSwhMTtpZighZVtpXS5tYXRjaCgvXiNbMC05YS1mXXs2fXwjWzAtOWEtZl17M30kL2kpKXJldHVybiBjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KGksJyB0aGVtZSBjb2xvciBzaG91bGQgYmUgcHJvdmlkZWQgaW4gdmFsaWQgaGV4IGNvbG9yIGZvcm1hdC4gUmVjZWl2ZWQ6IFwiJykuY29uY2F0KGVbaV0sJ1wiJykpLCExfXJldHVybiEwfTtyZXR1cm5cIm9iamVjdFwiPT09bihlKSYmKFwibGlnaHRcImluIGUmJlwiZGFya1wiaW4gZXx8XCJjb2xvcnNcImluIGUpP1wibGlnaHRcImluIGUmJlwiZGFya1wiaW4gZT9cImNvbG9yc1wiaW4gZS5saWdodD9cImNvbG9yc1wiaW4gZS5kYXJrP3IoZS5saWdodC5jb2xvcnMpJiZyKGUuZGFyay5jb2xvcnMpOihjb25zb2xlLmVycm9yKCdEYXJrIHRoZW1lIGlzIG1pc3NpbmcgXCJjb2xvcnNcIiBwcm9wZXJ0eS4nLGUpLCExKTooY29uc29sZS5lcnJvcignTGlnaHQgdGhlbWUgaXMgbWlzc2luZyBcImNvbG9yc1wiIHByb3BlcnR5LicsZSksITEpOnIoZS5jb2xvcnMpOihjb25zb2xlLmVycm9yKCdUaGVtZSBtdXN0IGNvbnRhaW4gZWl0aGVyIGJvdGggXCJsaWdodFwiIGFuZCBcImRhcmtcIiBwcm9wZXJ0aWVzLCBvciBcImNvbG9yc1wiLicsZSksITEpfSxoZWxwOlwidW5zdXBwb3J0ZWQgdGhlbWUgY29uZmlndXJhdGlvbi4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0sbGF5b3V0Q29uZmlnOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtpZihcImdyaWRcImluIGUpe3ZhciB0PWUuZ3JpZDtpZihcIm1heFRpbGVzUGVyUGFnZVwiaW4gdCl7aWYoIU51bWJlci5pc0ludGVnZXIodC5tYXhUaWxlc1BlclBhZ2UpKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5tYXhUaWxlc1BlclBhZ2Ugc2hvdWxkIGJlIGFuIGludGVnZXIuIFlvdSBwYXNzZWQgXCIuY29uY2F0KHQubWF4VGlsZXNQZXJQYWdlLFwiLlwiKSksITE7aWYodC5tYXhUaWxlc1BlclBhZ2U+NDkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJncmlkLm1heFRpbGVzUGVyUGFnZSBjYW4ndCBiZSBsYXJnZXIgdGhhbiA0OSB3aXRob3V0IHNhY3JpZmljaW5nIGJyb3dzZXIgcGVyZm9ybWFuY2UuIFBsZWFzZSBjb250YWN0IHVzIGF0IGh0dHBzOi8vd3d3LmRhaWx5LmNvL2NvbnRhY3QgdG8gdGFsayBhYm91dCB5b3VyIHVzZSBjYXNlLlwiKSwhMX1pZihcIm1pblRpbGVzUGVyUGFnZVwiaW4gdCl7aWYoIU51bWJlci5pc0ludGVnZXIodC5taW5UaWxlc1BlclBhZ2UpKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5taW5UaWxlc1BlclBhZ2Ugc2hvdWxkIGJlIGFuIGludGVnZXIuIFlvdSBwYXNzZWQgXCIuY29uY2F0KHQubWluVGlsZXNQZXJQYWdlLFwiLlwiKSksITE7aWYodC5taW5UaWxlc1BlclBhZ2U8MSlyZXR1cm4gY29uc29sZS5lcnJvcihcImdyaWQubWluVGlsZXNQZXJQYWdlIGNhbid0IGJlIGxvd2VyIHRoYW4gMS5cIiksITE7aWYoXCJtYXhUaWxlc1BlclBhZ2VcImluIHQmJnQubWluVGlsZXNQZXJQYWdlPnQubWF4VGlsZXNQZXJQYWdlKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5taW5UaWxlc1BlclBhZ2UgY2FuJ3QgYmUgaGlnaGVyIHRoYW4gZ3JpZC5tYXhUaWxlc1BlclBhZ2UuXCIpLCExfX1yZXR1cm4hMH0saGVscDpcInVuc3VwcG9ydGVkIGxheW91dENvbmZpZy4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0scmVjZWl2ZVNldHRpbmdzOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gYmMoZSx7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITF9KX0saGVscDpFYyh7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITF9KX0sc2VuZFNldHRpbmdzOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHQudmFsaWRhdGVVcGRhdGVTZW5kU2V0dGluZ3MoZSksITB9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgc2VuZCBzZXR0aW5nc1wiLGUpLCExfX0oZSx0KSYmKHQuX3ByZWxvYWRDYWNoZS5zZW5kU2V0dGluZ3M9ZSwhMCl9LGhlbHA6XCJJbnZhbGlkIHNlbmRTZXR0aW5ncyBwcm92aWRlZC4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0saW5wdXRTZXR0aW5nczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4hIV9jKGUpJiYodC5faW5wdXRTZXR0aW5nc3x8KHQuX2lucHV0U2V0dGluZ3M9e30pLHdjKGUsbnVsbD09PShuPXQucHJvcGVydGllcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGFpbHlDb25maWcsdC5fc2hhcmVkVHJhY2tzKSx0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKGUsITApLCEwKX0saGVscDpDYygpfSxsYXlvdXQ6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVyblwiY3VzdG9tLXYxXCI9PT1lfHxcImJyb3dzZXJcIj09PWV8fFwibm9uZVwiPT09ZX0saGVscDonbGF5b3V0IG1heSBvbmx5IGJlIHNldCB0byBcImN1c3RvbS12MVwiJyxxdWVyeVN0cmluZzpcImxheW91dFwifSxlbWI6e3F1ZXJ5U3RyaW5nOlwiZW1iXCJ9LGVtYkhyZWY6e3F1ZXJ5U3RyaW5nOlwiZW1iSHJlZlwifSxkYWlseUpzVmVyc2lvbjp7cXVlcnlTdHJpbmc6XCJkYWlseUpzVmVyc2lvblwifSxwcm94eTp7cXVlcnlTdHJpbmc6XCJwcm94eVwifSxzdHJpY3RNb2RlOiEwLGFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzOiEwfSxzYz17c3R5bGVzOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihcImNhbVwiIT09dCYmXCJzY3JlZW5cIiE9PXQpcmV0dXJuITE7aWYoZS5jYW0pZm9yKHZhciBuIGluIGUuY2FtKWlmKFwiZGl2XCIhPT1uJiZcInZpZGVvXCIhPT1uKXJldHVybiExO2lmKGUuc2NyZWVuKWZvcih2YXIgciBpbiBlLnNjcmVlbilpZihcImRpdlwiIT09ciYmXCJ2aWRlb1wiIT09cilyZXR1cm4hMTtyZXR1cm4hMH0saGVscDpcInN0eWxlcyBmb3JtYXQgc2hvdWxkIGJlIGEgc3Vic2V0IG9mOiB7IGNhbToge2Rpdjoge30sIHZpZGVvOiB7fX0sIHNjcmVlbjoge2Rpdjoge30sIHZpZGVvOiB7fX0gfVwifSxzZXRTdWJzY3JpYmVkVHJhY2tzOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQuX3ByZWxvYWRDYWNoZS5zdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHkpcmV0dXJuITE7dmFyIG49WyEwLCExLFwic3RhZ2VkXCJdO2lmKG4uaW5jbHVkZXMoZSl8fCF5cygpJiZcImF2YXRhclwiPT09ZSlyZXR1cm4hMDt2YXIgcj1bXCJhdWRpb1wiLFwidmlkZW9cIixcInNjcmVlbkF1ZGlvXCIsXCJzY3JlZW5WaWRlb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCJdLGk9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtmb3IodmFyIG8gaW4gZSlpZihcImN1c3RvbVwiPT09byl7aWYoIW4uaW5jbHVkZXMoZVtvXSkmJiFpKGVbb10sITApKXJldHVybiExfWVsc2V7dmFyIHM9IXQmJiFyLmluY2x1ZGVzKG8pLGE9IW4uaW5jbHVkZXMoZVtvXSk7aWYoc3x8YSlyZXR1cm4hMX1yZXR1cm4hMH07cmV0dXJuIGkoZSl9LGhlbHA6XCJzZXRTdWJzY3JpYmVkVHJhY2tzIGNhbm5vdCBiZSB1c2VkIHdoZW4gc2V0U3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5IGlzIGVuYWJsZWQsIGFuZCBzaG91bGQgYmUgb2YgdGhlIGZvcm06IFwiK1widHJ1ZVwiLmNvbmNhdCh5cygpP1wiXCI6XCIgfCAnYXZhdGFyJ1wiLFwiIHwgZmFsc2UgfCAnc3RhZ2VkJyB8IHsgW2F1ZGlvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3ZpZGVvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3NjcmVlbkF1ZGlvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3NjcmVlblZpZGVvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSB9XCIpfSxzZXRBdWRpbzohMCxzZXRWaWRlbzohMCxzZXRTY3JlZW5TaGFyZTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lfSxoZWxwOlwic2V0U2NyZWVuU2hhcmUgbXVzdCBiZSBmYWxzZSwgYXMgaXQncyBvbmx5IG1lYW50IGZvciBzdG9wcGluZyByZW1vdGUgcGFydGljaXBhbnRzJyBzY3JlZW4gc2hhcmVzXCJ9LGVqZWN0OiEwLHVwZGF0ZVBlcm1pc3Npb25zOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPU9iamVjdC5lbnRyaWVzKGUpO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1mKG5bdF0sMiksaT1yWzBdLG89clsxXTtzd2l0Y2goaSl7Y2FzZVwiaGFzUHJlc2VuY2VcIjppZihcImJvb2xlYW5cIiE9dHlwZW9mIG8pcmV0dXJuITE7YnJlYWs7Y2FzZVwiY2FuU2VuZFwiOmlmKG8gaW5zdGFuY2VvZiBTZXR8fG8gaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShvKSl7dmFyIHMsYT1bXCJ2aWRlb1wiLFwiYXVkaW9cIixcInNjcmVlblZpZGVvXCIsXCJzY3JlZW5BdWRpb1wiLFwiY3VzdG9tVmlkZW9cIixcImN1c3RvbUF1ZGlvXCJdLGM9V2Eobyk7dHJ5e2ZvcihjLnMoKTshKHM9Yy5uKCkpLmRvbmU7KXt2YXIgbD1zLnZhbHVlO2lmKCFhLmluY2x1ZGVzKGwpKXJldHVybiExfX1jYXRjaChlKXtjLmUoZSl9ZmluYWxseXtjLmYoKX19ZWxzZSBpZihcImJvb2xlYW5cIiE9dHlwZW9mIG8pcmV0dXJuITE7KG8gaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShvKSkmJihlLmNhblNlbmQ9bmV3IFNldChvKSk7YnJlYWs7Y2FzZVwiY2FuUmVjZWl2ZVwiOnZhciB1PWYoQmEudmFsaWRhdGVKU09OT2JqZWN0KG8pLDIpLGQ9dVswXSxoPXVbMV07aWYoIWQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoaCksITE7YnJlYWs7Y2FzZVwiY2FuQWRtaW5cIjppZihvIGluc3RhbmNlb2YgU2V0fHxvIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkobykpe3ZhciBwLHY9W1wicGFydGljaXBhbnRzXCIsXCJzdHJlYW1pbmdcIixcInRyYW5zY3JpcHRpb25cIl0sZz1XYShvKTt0cnl7Zm9yKGcucygpOyEocD1nLm4oKSkuZG9uZTspe3ZhciBtPXAudmFsdWU7aWYoIXYuaW5jbHVkZXMobSkpcmV0dXJuITF9fWNhdGNoKGUpe2cuZShlKX1maW5hbGx5e2cuZigpfX1lbHNlIGlmKFwiYm9vbGVhblwiIT10eXBlb2YgbylyZXR1cm4hMTsobyBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KG8pKSYmKGUuY2FuQWRtaW49bmV3IFNldChvKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX19cmV0dXJuITB9LGhlbHA6XCJ1cGRhdGVQZXJtaXNzaW9ucyBjYW4gdGFrZSBoYXNQcmVzZW5jZSwgY2FuU2VuZCwgY2FuUmVjZWl2ZSwgYW5kIGNhbkFkbWluIHBlcm1pc3Npb25zLiBoYXNQcmVzZW5jZSBtdXN0IGJlIGEgYm9vbGVhbi4gY2FuU2VuZCBjYW4gYmUgYSBib29sZWFuIG9yIGFuIEFycmF5IG9yIFNldCBvZiBtZWRpYSB0eXBlcyAodmlkZW8sIGF1ZGlvLCBzY3JlZW5WaWRlbywgc2NyZWVuQXVkaW8sIGN1c3RvbVZpZGVvLCBjdXN0b21BdWRpbykuIGNhblJlY2VpdmUgbXVzdCBiZSBhbiBvYmplY3Qgc3BlY2lmeWluZyBiYXNlLCBieVVzZXJJZCwgYW5kL29yIGJ5UGFydGljaXBhbnRJZCBmaWVsZHMgKHNlZSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGRldGFpbHMpLiBjYW5BZG1pbiBjYW4gYmUgYSBib29sZWFuIG9yIGFuIEFycmF5IG9yIFNldCBvZiBhZG1pbiB0eXBlcyAocGFydGljaXBhbnRzLCBzdHJlYW1pbmcsIHRyYW5zY3JpcHRpb24pLlwifX07UHJvbWlzZS5hbnl8fChQcm9taXNlLmFueT1mdW5jdGlvbigpe3ZhciBlPWgoKGZ1bmN0aW9uKihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9W107ZS5mb3JFYWNoKChmdW5jdGlvbihpKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpLnRoZW4oKGZ1bmN0aW9uKGUpe3QoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IucHVzaCh0KSxyLmxlbmd0aD09PWUubGVuZ3RoJiZuKHIpfSkpfSkpfSkpfSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKTt2YXIgYWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUpe3ZhciBuLGksbyxjLGwsZCxwPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih0KHRoaXMsciksbz10aGlzLGM9YShjPXIpLHUoaT1zKG8semEoKT9SZWZsZWN0LmNvbnN0cnVjdChjLGx8fFtdLGEobykuY29uc3RydWN0b3IpOmMuYXBwbHkobyxsKSksXCJzdGFydExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXNcIiwoZnVuY3Rpb24oKXtDYShpLmhhbmRsZURldmljZUNoYW5nZSl9KSksdShpLFwic3RvcExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXNcIiwoZnVuY3Rpb24oKXtFYShpLmhhbmRsZURldmljZUNoYW5nZSl9KSksdShpLFwiaGFuZGxlRGV2aWNlQ2hhbmdlXCIsKGZ1bmN0aW9uKGUpe2U9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX0pKSxpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpcImF2YWlsYWJsZS1kZXZpY2VzLXVwZGF0ZWRcIixhdmFpbGFibGVEZXZpY2VzOmV9KX0pKSx1KGksXCJoYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGU9aCgoZnVuY3Rpb24qKGUpe2lmKFwiZGVzdHJveWVkXCI9PT1lKXJldHVybiBjb25zb2xlLndhcm4oXCJBcHAgaGFzIGJlZW4gZGVzdHJveWVkIGJlZm9yZSBsZWF2aW5nIHRoZSBtZWV0aW5nLiBDbGVhbmluZyB1cCBhbGwgdGhlIHJlc291cmNlcyFcIiksdm9pZCh5aWVsZCBpLmRlc3Ryb3koKSk7dmFyIHQ9XCJhY3RpdmVcIj09PWU7aS5kaXNhYmxlUmVhY3ROYXRpdmVBdXRvRGV2aWNlTWFuYWdlbWVudChcInZpZGVvXCIpfHwodD9pLmNhbVVubXV0ZWRCZWZvcmVMb3NpbmdOYXRpdmVBY3RpdmVTdGF0ZSYmaS5zZXRMb2NhbFZpZGVvKCEwKTooaS5jYW1Vbm11dGVkQmVmb3JlTG9zaW5nTmF0aXZlQWN0aXZlU3RhdGU9aS5sb2NhbFZpZGVvKCksaS5jYW1Vbm11dGVkQmVmb3JlTG9zaW5nTmF0aXZlQWN0aXZlU3RhdGUmJmkuc2V0TG9jYWxWaWRlbyghMSkpKX0pKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSksdShpLFwiaGFuZGxlTmF0aXZlQXVkaW9Gb2N1c0NoYW5nZVwiLChmdW5jdGlvbihlKXtpLmRpc2FibGVSZWFjdE5hdGl2ZUF1dG9EZXZpY2VNYW5hZ2VtZW50KFwiYXVkaW9cIil8fChpLl9oYXNOYXRpdmVBdWRpb0ZvY3VzPWUsaS50b2dnbGVQYXJ0aWNpcGFudEF1ZGlvQmFzZWRPbk5hdGl2ZUF1ZGlvRm9jdXMoKSxpLl9oYXNOYXRpdmVBdWRpb0ZvY3VzP2kubWljVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUF1ZGlvRm9jdXMmJmkuc2V0TG9jYWxBdWRpbyghMCk6KGkubWljVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUF1ZGlvRm9jdXM9aS5sb2NhbEF1ZGlvKCksaS5zZXRMb2NhbEF1ZGlvKCExKSkpfSkpLHUoaSxcImhhbmRsZU5hdGl2ZVN5c3RlbVNjcmVlbkNhcHR1cmVTdG9wXCIsKGZ1bmN0aW9uKCl7aS5zdG9wU2NyZWVuU2hhcmUoKX0pKSxpLnN0cmljdE1vZGU9dm9pZCAwPT09cC5zdHJpY3RNb2RlfHxwLnN0cmljdE1vZGUsaS5hbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlcz1udWxsIT09KG49cC5hbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlcykmJnZvaWQgMCE9PW4mJm4sT2JqZWN0LmtleXMoR2EpLmxlbmd0aCYmKGkuX2xvZ0R1cGxpY2F0ZUluc3RhbmNlQXR0ZW1wdCgpLCFpLmFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzKSl7aWYoaS5zdHJpY3RNb2RlKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBEYWlseUlmcmFtZSBpbnN0YW5jZXMgYXJlIG5vdCBhbGxvd2VkXCIpO2NvbnNvbGUud2FybihcIlVzaW5nIHN0cmljdE1vZGU6IGZhbHNlIHRvIGFsbG93IG11bHRpcGxlIGNhbGwgaW5zdGFuY2VzIGlzIG5vdyBkZXByZWNhdGVkLiBTZXQgYGFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzOiB0cnVlYFwiKX1pZih3aW5kb3cuX2RhaWx5fHwod2luZG93Ll9kYWlseT17cGVuZGluZ3M6W10saW5zdGFuY2VzOnt9fSksaS5jYWxsQ2xpZW50SWQ9SygpLEdhWyhkPWkpLmNhbGxDbGllbnRJZF09ZCx3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1tpLmNhbGxDbGllbnRJZF09e30saS5fc2hhcmVkVHJhY2tzPXt9LHdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW2kuY2FsbENsaWVudElkXS50cmFja3M9aS5fc2hhcmVkVHJhY2tzLHAuZGFpbHlKc1ZlcnNpb249ci52ZXJzaW9uKCksaS5faWZyYW1lPWUsaS5fY2FsbE9iamVjdE1vZGU9XCJub25lXCI9PT1wLmxheW91dCYmIWkuX2lmcmFtZSxpLl9wcmVsb2FkQ2FjaGU9e3N1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseTohMCxvdXRwdXREZXZpY2VJZDpudWxsLGlucHV0U2V0dGluZ3M6bnVsbCxzZW5kU2V0dGluZ3M6bnVsbCx2aWRlb1RyYWNrRm9yTmV0d29ya0Nvbm5lY3Rpdml0eVRlc3Q6bnVsbCx2aWRlb1RyYWNrRm9yQ29ubmVjdGlvblF1YWxpdHlUZXN0Om51bGx9LHZvaWQgMCE9PXAuc2hvd0xvY2FsVmlkZW8/aS5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcInNob3dMb2NhbFZpZGVvIGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbCBvYmplY3QgbW9kZVwiKTppLl9zaG93TG9jYWxWaWRlbz0hIXAuc2hvd0xvY2FsVmlkZW86aS5fc2hvd0xvY2FsVmlkZW89ITAsdm9pZCAwIT09cC5zaG93UGFydGljaXBhbnRzQmFyP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJzaG93UGFydGljaXBhbnRzQmFyIGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbCBvYmplY3QgbW9kZVwiKTppLl9zaG93UGFydGljaXBhbnRzQmFyPSEhcC5zaG93UGFydGljaXBhbnRzQmFyOmkuX3Nob3dQYXJ0aWNpcGFudHNCYXI9ITAsdm9pZCAwIT09cC5jdXN0b21JbnRlZ3JhdGlvbnM/aS5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcImN1c3RvbUludGVncmF0aW9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fY3VzdG9tSW50ZWdyYXRpb25zPXAuY3VzdG9tSW50ZWdyYXRpb25zOmkuX2N1c3RvbUludGVncmF0aW9ucz17fSx2b2lkIDAhPT1wLmN1c3RvbVRyYXlCdXR0b25zP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fY3VzdG9tVHJheUJ1dHRvbnM9cC5jdXN0b21UcmF5QnV0dG9uczppLl9jdXN0b21UcmF5QnV0dG9ucz17fSx2b2lkIDAhPT1wLmFjdGl2ZVNwZWFrZXJNb2RlP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJhY3RpdmVTcGVha2VyTW9kZSBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fYWN0aXZlU3BlYWtlck1vZGU9ISFwLmFjdGl2ZVNwZWFrZXJNb2RlOmkuX2FjdGl2ZVNwZWFrZXJNb2RlPSExLHAucmVjZWl2ZVNldHRpbmdzP2kuX2NhbGxPYmplY3RNb2RlP2kuX3JlY2VpdmVTZXR0aW5ncz1wLnJlY2VpdmVTZXR0aW5nczpjb25zb2xlLmVycm9yKFwicmVjZWl2ZVNldHRpbmdzIGlzIG9ubHkgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fcmVjZWl2ZVNldHRpbmdzPXt9LGkudmFsaWRhdGVQcm9wZXJ0aWVzKHApLGkucHJvcGVydGllcz1xYSh7fSxwKSxpLl9pbnB1dFNldHRpbmdzfHwoaS5faW5wdXRTZXR0aW5ncz17fSksaS5fY2FsbE9iamVjdExvYWRlcj1pLl9jYWxsT2JqZWN0TW9kZT9uZXcgZWEoaS5jYWxsQ2xpZW50SWQpOm51bGwsaS5fY2FsbFN0YXRlPXZpLGkuX2lzUHJlcGFyaW5nVG9Kb2luPSExLGkuX2FjY2Vzc1N0YXRlPXthY2Nlc3M6T2l9LGkuX21lZXRpbmdTZXNzaW9uU3VtbWFyeT17fSxpLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uPXt9LGkuX21lZXRpbmdTZXNzaW9uU3RhdGU9TGMoWWEsaS5fY2FsbE9iamVjdE1vZGUpLGkuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZT1RYSxpLl9wYXJ0aWNpcGFudHM9e30saS5faXNTY3JlZW5TaGFyaW5nPSExLGkuX3BhcnRpY2lwYW50Q291bnRzPVhhLGkuX3JtcFBsYXllclN0YXRlPXt9LGkuX3dhaXRpbmdQYXJ0aWNpcGFudHM9e30saS5fbmV0d29yaz17dGhyZXNob2xkOlwiZ29vZFwiLHF1YWxpdHk6MTAwLG5ldHdvcmtTdGF0ZTpcInVua25vd25cIixzdGF0czp7fX0saS5fYWN0aXZlU3BlYWtlcj17fSxpLl9sb2NhbEF1ZGlvTGV2ZWw9MCxpLl9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hMSxpLl9yZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsPXt9LGkuX2lzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hMSxpLl9tYXhBcHBNZXNzYWdlU2l6ZT1ycyxpLl9tZXNzYWdlQ2hhbm5lbD15cygpP25ldyB6czpuZXcgSnMsaS5faWZyYW1lJiYoaS5faWZyYW1lLnJlcXVlc3RGdWxsc2NyZWVuP2kuX2lmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLChmdW5jdGlvbigpe2RvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50PT09aS5faWZyYW1lPyhpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpXb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246V299KSk6KGkuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOkhvfSksaS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpIb30pKX0pKTppLl9pZnJhbWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJmkuX2lmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLChmdW5jdGlvbigpe2RvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50PT09aS5faWZyYW1lPyhpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpXb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246V299KSk6KGkuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOkhvfSksaS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpIb30pKX0pKSkseXMoKSl7dmFyIGY9aS5uYXRpdmVVdGlscygpO2YuYWRkQXVkaW9Gb2N1c0NoYW5nZUxpc3RlbmVyJiZmLnJlbW92ZUF1ZGlvRm9jdXNDaGFuZ2VMaXN0ZW5lciYmZi5hZGRBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyJiZmLnJlbW92ZUFwcFN0YXRlQ2hhbmdlTGlzdGVuZXImJmYuYWRkU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3BMaXN0ZW5lciYmZi5yZW1vdmVTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyfHxjb25zb2xlLndhcm4oXCJleHBlY3RlZCAoYWRkfHJlbW92ZSkoQXVkaW9Gb2N1c0NoYW5nZXxBcHBBY3RpdmVTdGF0ZUNoYW5nZXxTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcClMaXN0ZW5lciB0byBiZSBhdmFpbGFibGUgaW4gUmVhY3QgTmF0aXZlXCIpLGkuX2hhc05hdGl2ZUF1ZGlvRm9jdXM9ITAsZi5hZGRBdWRpb0ZvY3VzQ2hhbmdlTGlzdGVuZXIoaS5oYW5kbGVOYXRpdmVBdWRpb0ZvY3VzQ2hhbmdlKSxmLmFkZEFwcFN0YXRlQ2hhbmdlTGlzdGVuZXIoaS5oYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZSksZi5hZGRTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyKGkuaGFuZGxlTmF0aXZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3ApfXJldHVybiBpLl9jYWxsT2JqZWN0TW9kZSYmaS5zdGFydExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXMoKSxpLl9tZXNzYWdlQ2hhbm5lbC5hZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lKGkuaGFuZGxlTWVzc2FnZUZyb21DYWxsTWFjaGluZSxpLmNhbGxDbGllbnRJZCxpKSxpfXJldHVybiBsKHIseCksbyhyLFt7a2V5OlwiZGVzdHJveVwiLHZhbHVlOihlZT1oKChmdW5jdGlvbiooKXt2YXIgZTt0cnl7eWllbGQgdGhpcy5sZWF2ZSgpfWNhdGNoKGUpe312YXIgdD10aGlzLl9pZnJhbWU7aWYodCl7dmFyIG49dC5wYXJlbnRFbGVtZW50O24mJm4ucmVtb3ZlQ2hpbGQodCl9aWYodGhpcy5fbWVzc2FnZUNoYW5uZWwucmVtb3ZlTGlzdGVuZXIodGhpcy5oYW5kbGVNZXNzYWdlRnJvbUNhbGxNYWNoaW5lKSx5cygpKXt2YXIgcj10aGlzLm5hdGl2ZVV0aWxzKCk7ci5yZW1vdmVBdWRpb0ZvY3VzQ2hhbmdlTGlzdGVuZXIodGhpcy5oYW5kbGVOYXRpdmVBdWRpb0ZvY3VzQ2hhbmdlKSxyLnJlbW92ZUFwcFN0YXRlQ2hhbmdlTGlzdGVuZXIodGhpcy5oYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZSksci5yZW1vdmVTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyKHRoaXMuaGFuZGxlTmF0aXZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3ApfXRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLnN0b3BMaXN0ZW5pbmdGb3JEZXZpY2VDaGFuZ2VzKCksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOlwiY2FsbC1pbnN0YW5jZS1kZXN0cm95ZWRcIn0pLGRlbGV0ZSBHYVt0aGlzLmNhbGxDbGllbnRJZF0sKG51bGw9PT0oZT13aW5kb3cpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5fZGFpbHkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluc3RhbmNlcykmJmRlbGV0ZSB3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0aGlzLmNhbGxDbGllbnRJZF0sdGhpcy5zdHJpY3RNb2RlJiYodGhpcy5jYWxsQ2xpZW50SWQ9dm9pZCAwKX0pKSxmdW5jdGlvbigpe3JldHVybiBlZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImlzRGVzdHJveWVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2Rlc3Ryb3llZH19LHtrZXk6XCJsb2FkQ3NzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5Q2xhc3Msbj1lLmNzc0ZpbGUscj1lLmNzc1RleHQ7cmV0dXJuIGdjKCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvYWQtY3NzXCIsY3NzRmlsZTp0aGlzLmFic29sdXRlVXJsKG4pLGJvZHlDbGFzczp0LGNzc1RleHQ6cn0pLHRoaXN9fSx7a2V5OlwiaWZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2MoKSx0aGlzLl9pZnJhbWV9fSx7a2V5OlwibWVldGluZ1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsbFN0YXRlfX0se2tleTpcImFjY2Vzc1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJhY2Nlc3NTdGF0ZSgpXCIpLHRoaXMuX2FjY2Vzc1N0YXRlfX0se2tleTpcInBhcnRpY2lwYW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50c319LHtrZXk6XCJwYXJ0aWNpcGFudENvdW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50Q291bnRzfX0se2tleTpcIndhaXRpbmdQYXJ0aWNpcGFudHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcIndhaXRpbmdQYXJ0aWNpcGFudHMoKVwiKSx0aGlzLl93YWl0aW5nUGFydGljaXBhbnRzfX0se2tleTpcInZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl7aWYoIXNjW25dKXRocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCB1cGRhdGVQYXJ0aWNpcGFudCBwcm9wZXJ0eSBcIi5jb25jYXQobikpO2lmKHNjW25dLnZhbGlkYXRlJiYhc2Nbbl0udmFsaWRhdGUodFtuXSx0aGlzLHRoaXMuX3BhcnRpY2lwYW50c1tlXSkpdGhyb3cgbmV3IEVycm9yKHNjW25dLmhlbHApfX19LHtrZXk6XCJ1cGRhdGVQYXJ0aWNpcGFudFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbCYmdGhpcy5fcGFydGljaXBhbnRzLmxvY2FsLnNlc3Npb25faWQ9PT1lJiYoZT1cImxvY2FsXCIpLGUmJnQmJih0aGlzLnZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzKGUsdCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1wYXJ0aWNpcGFudFwiLGlkOmUscHJvcGVydGllczp0fSkpLHRoaXN9fSx7a2V5OlwidXBkYXRlUGFydGljaXBhbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGFydGljaXBhbnRzLmxvY2FsJiZ0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwuc2Vzc2lvbl9pZDtmb3IodmFyIG4gaW4gZSluPT09dCYmKG49XCJsb2NhbFwiKSxuJiZlW25dJiZ0aGlzLnZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzKG4sZVtuXSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtcGFydGljaXBhbnRzXCIscGFydGljaXBhbnRzOmV9KSx0aGlzfX0se2tleTpcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudFwiLHZhbHVlOihZPWgoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudCgpXCIpLGxjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudCgpXCIpLFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcIm9iamVjdFwiIT09bihyKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKSBtdXN0IHRha2UgYW4gaWQgc3RyaW5nIGFuZCBhIHVwZGF0ZXMgb2JqZWN0XCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS13YWl0aW5nLXBhcnRpY2lwYW50XCIsaWQ6dCx1cGRhdGVzOnJ9LChmdW5jdGlvbihlKXtlLmVycm9yJiZpKGUuZXJyb3IpLGUuaWR8fGkobmV3IEVycm9yKFwidW5rbm93biBlcnJvciBpbiB1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKVwiKSksbih7aWQ6ZS5pZH0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRzXCIsdmFsdWU6KEc9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudHMoKVwiKSxsYyh0aGlzLl9jYWxsU3RhdGUsXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRzKClcIiksXCJvYmplY3RcIiE9PW4odCkpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50cygpIG11c3QgdGFrZSBhIG1hcHBpbmcgYmV0d2VlbiBpZHMgYW5kIHVwZGF0ZSBvYmplY3RzXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS13YWl0aW5nLXBhcnRpY2lwYW50c1wiLHVwZGF0ZXNCeUlkOnR9LChmdW5jdGlvbihlKXtlLmVycm9yJiZyKGUuZXJyb3IpLGUuaWRzfHxyKG5ldyBFcnJvcihcInVua25vd24gZXJyb3IgaW4gdXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50cygpXCIpKSxuKHtpZHM6ZS5pZHN9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBHLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicmVxdWVzdEFjY2Vzc1wiLHZhbHVlOihIPWgoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LmFjY2VzcyxyPXZvaWQgMD09PW4/e2xldmVsOlBpfTpuLGk9dC5uYW1lLG89dm9pZCAwPT09aT9cIlwiOmk7cmV0dXJuIGZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwicmVxdWVzdEFjY2VzcygpXCIpLGxjKHRoaXMuX2NhbGxTdGF0ZSxcInJlcXVlc3RBY2Nlc3MoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXJlcXVlc3QtYWNjZXNzXCIsYWNjZXNzOnIsbmFtZTpvfSwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmbihlLmVycm9yKSxlLmFjY2Vzc3x8bihuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yIGluIHJlcXVlc3RBY2Nlc3MoKVwiKSksdCh7YWNjZXNzOmUuYWNjZXNzLGdyYW50ZWQ6ZS5ncmFudGVkfSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gSC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxvY2FsQXVkaW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLmF1ZGlvLnN0YXRlKTpudWxsfX0se2tleTpcImxvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLnZpZGVvLnN0YXRlKTpudWxsfX0se2tleTpcInNldExvY2FsQXVkaW9cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuXCJmb3JjZURpc2NhcmRUcmFja1wiaW4gdCYmKHlzKCk/KGNvbnNvbGUud2FybihcImZvcmNlRGlzY2FyZFRyYWNrIG9wdGlvbiBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZTsgaWdub3JpbmdcIiksdD17fSk6ZSYmKGNvbnNvbGUud2FybihcImZvcmNlRGlzY2FyZFRyYWNrIG9wdGlvbiBvbmx5IHN1cHBvcnRlZCB3aGVuIGNhbGxpbmcgc2V0TG9jYWxBdWRpbyhmYWxzZSk7IGlnbm9yaW5nXCIpLHQ9e30pKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibG9jYWwtYXVkaW9cIixzdGF0ZTplLG9wdGlvbnM6dH0pLHRoaXN9fSx7a2V5OlwibG9jYWxTY3JlZW5BdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbD8hW1wiYmxvY2tlZFwiLFwib2ZmXCJdLmluY2x1ZGVzKHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbC50cmFja3Muc2NyZWVuQXVkaW8uc3RhdGUpOm51bGx9fSx7a2V5OlwibG9jYWxTY3JlZW5WaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbD8hW1wiYmxvY2tlZFwiLFwib2ZmXCJdLmluY2x1ZGVzKHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbC50cmFja3Muc2NyZWVuVmlkZW8uc3RhdGUpOm51bGx9fSx7a2V5OlwidXBkYXRlU2NyZWVuU2hhcmVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9pc1NjcmVlblNoYXJpbmcpcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsb2NhbC1zY3JlZW4tdXBkYXRlXCIsb3B0aW9uczplfSksdGhpcztjb25zb2xlLndhcm4oXCJUaGVyZSBpcyBubyBzY3JlZW4gc2hhcmUgaW4gcHJvZ3Jlc3MuIFRyeSBjYWxsaW5nIHN0YXJ0U2NyZWVuU2hhcmUgZmlyc3QuXCIpfX0se2tleTpcInNldExvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvY2FsLXZpZGVvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiX3NldEFsbG93TG9jYWxBdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3ByZWxvYWRDYWNoZS5hbGxvd0xvY2FsQXVkaW89ZSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWFsbG93LWxvY2FsLWF1ZGlvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiX3NldEFsbG93TG9jYWxWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3ByZWxvYWRDYWNoZS5hbGxvd0xvY2FsVmlkZW89ZSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWFsbG93LWxvY2FsLXZpZGVvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiZ2V0UmVjZWl2ZVNldHRpbmdzXCIsdmFsdWU6KFc9aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMscj0oYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9KS5zaG93SW5oZXJpdGVkVmFsdWVzLGk9dm9pZCAwIT09ciYmcjtpZihmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcImdldFJlY2VpdmVTZXR0aW5ncygpXCIpLCF0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLl9yZWNlaXZlU2V0dGluZ3M7c3dpdGNoKG4oZSkpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1zaW5nbGUtcGFydGljaXBhbnQtcmVjZWl2ZS1zZXR0aW5nc1wiLGlkOmUsc2hvd0luaGVyaXRlZFZhbHVlczppfSwoZnVuY3Rpb24oZSl7bihlLnJlY2VpdmVTZXR0aW5ncyl9KSl9KSk7Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIHRoaXMuX3JlY2VpdmVTZXR0aW5ncztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignZmlyc3QgYXJndW1lbnQgdG8gZ2V0UmVjZWl2ZVNldHRpbmdzKCkgbXVzdCBiZSBhIHBhcnRpY2lwYW50IGlkIChvciBcImJhc2VcIiksIG9yIHRoZXJlIHNob3VsZCBiZSBubyBhcmd1bWVudHMnKX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIFcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ1cGRhdGVSZWNlaXZlU2V0dGluZ3NcIix2YWx1ZTooej1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVJlY2VpdmVTZXR0aW5ncygpXCIpLCFiYyhlLHthbGxvd0FsbFBhcnRpY2lwYW50c0tleTohMH0pKXRocm93IG5ldyBFcnJvcihFYyh7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITB9KSk7cmV0dXJuIGxjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVJlY2VpdmVTZXR0aW5ncygpXCIsXCJUbyBzcGVjaWZ5IHJlY2VpdmUgc2V0dGluZ3MgZWFybGllciwgdXNlIHRoZSByZWNlaXZlU2V0dGluZ3MgY29uZmlnIHByb3BlcnR5LlwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1yZWNlaXZlLXNldHRpbmdzXCIscmVjZWl2ZVNldHRpbmdzOmV9LChmdW5jdGlvbihlKXtuKHtyZWNlaXZlU2V0dGluZ3M6ZS5yZWNlaXZlU2V0dGluZ3N9KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gei5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUpe3ZhciBuPXt9O2lmKGUuYXVkaW8pe3ZhciByLGksbztlLmF1ZGlvLnNldHRpbmdzJiYoIU9iamVjdC5rZXlzKGUuYXVkaW8uc2V0dGluZ3MpLmxlbmd0aCYmdHx8KG4uYXVkaW89e3NldHRpbmdzOnFhKHt9LGUuYXVkaW8uc2V0dGluZ3MpfSkpLHQmJm51bGwhPT0ocj1uLmF1ZGlvKSYmdm9pZCAwIT09ciYmbnVsbCE9PShyPXIuc2V0dGluZ3MpJiZ2b2lkIDAhPT1yJiZyLmN1c3RvbVRyYWNrJiYobi5hdWRpby5zZXR0aW5ncz17Y3VzdG9tVHJhY2s6dGhpcy5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2t9KTt2YXIgcz1cIm5vbmVcIj09PShudWxsPT09KGk9ZS5hdWRpby5wcm9jZXNzb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnR5cGUpJiYobnVsbD09PShvPWUuYXVkaW8ucHJvY2Vzc29yKXx8dm9pZCAwPT09bz92b2lkIDA6by5faXNEZWZhdWx0V2hlbk5vbmUpO2lmKGUuYXVkaW8ucHJvY2Vzc29yJiYhcyl7dmFyIGE9cWEoe30sZS5hdWRpby5wcm9jZXNzb3IpO2RlbGV0ZSBhLl9pc0RlZmF1bHRXaGVuTm9uZSxuLmF1ZGlvPXFhKHFhKHt9LG4uYXVkaW8pLHt9LHtwcm9jZXNzb3I6YX0pfX1pZihlLnZpZGVvKXt2YXIgYyxsLHU7ZS52aWRlby5zZXR0aW5ncyYmKCFPYmplY3Qua2V5cyhlLnZpZGVvLnNldHRpbmdzKS5sZW5ndGgmJnR8fChuLnZpZGVvPXtzZXR0aW5nczpxYSh7fSxlLnZpZGVvLnNldHRpbmdzKX0pKSx0JiZudWxsIT09KGM9bi52aWRlbykmJnZvaWQgMCE9PWMmJm51bGwhPT0oYz1jLnNldHRpbmdzKSYmdm9pZCAwIT09YyYmYy5jdXN0b21UcmFjayYmKG4udmlkZW8uc2V0dGluZ3M9e2N1c3RvbVRyYWNrOnRoaXMuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrfSk7dmFyIGQ9XCJub25lXCI9PT0obnVsbD09PShsPWUudmlkZW8ucHJvY2Vzc29yKXx8dm9pZCAwPT09bD92b2lkIDA6bC50eXBlKSYmKG51bGw9PT0odT1lLnZpZGVvLnByb2Nlc3Nvcil8fHZvaWQgMD09PXU/dm9pZCAwOnUuX2lzRGVmYXVsdFdoZW5Ob25lKTtpZihlLnZpZGVvLnByb2Nlc3NvciYmIWQpe3ZhciBoPXFhKHt9LGUudmlkZW8ucHJvY2Vzc29yKTtkZWxldGUgaC5faXNEZWZhdWx0V2hlbk5vbmUsbi52aWRlbz1xYShxYSh7fSxuLnZpZGVvKSx7fSx7cHJvY2Vzc29yOmh9KX19cmV0dXJuIG59fX0se2tleTpcImdldElucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGdjKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3QoZS5fZ2V0SW5wdXRTZXR0aW5ncygpKX0pKX19LHtrZXk6XCJfZ2V0SW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9e3Byb2Nlc3Nvcjp7dHlwZTpcIm5vbmVcIixfaXNEZWZhdWx0V2hlbk5vbmU6ITB9fTt0aGlzLl9pbnB1dFNldHRpbmdzPyhlPShudWxsPT09KG49dGhpcy5faW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmlkZW8pfHxzLHQ9KG51bGw9PT0ocj10aGlzLl9pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdWRpbyl8fHMpOihlPShudWxsPT09KGk9dGhpcy5fcHJlbG9hZENhY2hlKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmkudmlkZW8pfHxzLHQ9KG51bGw9PT0obz10aGlzLl9wcmVsb2FkQ2FjaGUpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09bz92b2lkIDA6by5hdWRpbyl8fHMpO3ZhciBhPXthdWRpbzp0LHZpZGVvOmV9O3JldHVybiB0aGlzLl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcoYSwhMCl9fSx7a2V5OlwiX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2lucHV0U2V0dGluZ3N8fHt9LHI9e307aWYoZS52aWRlbyl7dmFyIGksbyxzO2lmKHIudmlkZW89e30sZS52aWRlby5zZXR0aW5ncylyLnZpZGVvLnNldHRpbmdzPXt9LHR8fGUudmlkZW8uc2V0dGluZ3MuY3VzdG9tVHJhY2t8fG51bGw9PT0ocz1uLnZpZGVvKXx8dm9pZCAwPT09c3x8IXMuc2V0dGluZ3M/ci52aWRlby5zZXR0aW5ncz1lLnZpZGVvLnNldHRpbmdzOnIudmlkZW8uc2V0dGluZ3M9cWEocWEoe30sbi52aWRlby5zZXR0aW5ncyksZS52aWRlby5zZXR0aW5ncyksT2JqZWN0LmtleXMoci52aWRlby5zZXR0aW5ncykubGVuZ3RofHxkZWxldGUgci52aWRlby5zZXR0aW5ncztlbHNlIG51bGwhPT0oaT1uLnZpZGVvKSYmdm9pZCAwIT09aSYmaS5zZXR0aW5ncyYmKHIudmlkZW8uc2V0dGluZ3M9bi52aWRlby5zZXR0aW5ncyk7ZS52aWRlby5wcm9jZXNzb3I/ci52aWRlby5wcm9jZXNzb3I9ZS52aWRlby5wcm9jZXNzb3I6bnVsbCE9PShvPW4udmlkZW8pJiZ2b2lkIDAhPT1vJiZvLnByb2Nlc3NvciYmKHIudmlkZW8ucHJvY2Vzc29yPW4udmlkZW8ucHJvY2Vzc29yKX1lbHNlIG4udmlkZW8mJihyLnZpZGVvPW4udmlkZW8pO2lmKGUuYXVkaW8pe3ZhciBhLGMsbDtpZihyLmF1ZGlvPXt9LGUuYXVkaW8uc2V0dGluZ3Mpci5hdWRpby5zZXR0aW5ncz17fSx0fHxlLmF1ZGlvLnNldHRpbmdzLmN1c3RvbVRyYWNrfHxudWxsPT09KGw9bi5hdWRpbyl8fHZvaWQgMD09PWx8fCFsLnNldHRpbmdzP3IuYXVkaW8uc2V0dGluZ3M9ZS5hdWRpby5zZXR0aW5nczpyLmF1ZGlvLnNldHRpbmdzPXFhKHFhKHt9LG4uYXVkaW8uc2V0dGluZ3MpLGUuYXVkaW8uc2V0dGluZ3MpLE9iamVjdC5rZXlzKHIuYXVkaW8uc2V0dGluZ3MpLmxlbmd0aHx8ZGVsZXRlIHIuYXVkaW8uc2V0dGluZ3M7ZWxzZSBudWxsIT09KGE9bi5hdWRpbykmJnZvaWQgMCE9PWEmJmEuc2V0dGluZ3MmJihyLmF1ZGlvLnNldHRpbmdzPW4uYXVkaW8uc2V0dGluZ3MpO2UuYXVkaW8ucHJvY2Vzc29yP3IuYXVkaW8ucHJvY2Vzc29yPWUuYXVkaW8ucHJvY2Vzc29yOm51bGwhPT0oYz1uLmF1ZGlvKSYmdm9pZCAwIT09YyYmYy5wcm9jZXNzb3ImJihyLmF1ZGlvLnByb2Nlc3Nvcj1uLmF1ZGlvLnByb2Nlc3Nvcil9ZWxzZSBuLmF1ZGlvJiYoci5hdWRpbz1uLmF1ZGlvKTt0aGlzLl9tYXliZVVwZGF0ZUlucHV0U2V0dGluZ3Mocil9fSx7a2V5OlwiX2RldmljZXNGcm9tSW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0obnVsbD09ZXx8bnVsbD09PSh0PWUudmlkZW8pfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC5zZXR0aW5ncyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGV2aWNlSWQpfHxudWxsLGk9KG51bGw9PWV8fG51bGw9PT0obj1lLmF1ZGlvKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uc2V0dGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRldmljZUlkKXx8bnVsbCxvPXRoaXMuX3ByZWxvYWRDYWNoZS5vdXRwdXREZXZpY2VJZHx8bnVsbDtyZXR1cm57Y2FtZXJhOnI/e2RldmljZUlkOnJ9Ont9LG1pYzppP3tkZXZpY2VJZDppfTp7fSxzcGVha2VyOm8/e2RldmljZUlkOm99Ont9fX19LHtrZXk6XCJ1cGRhdGVJbnB1dFNldHRpbmdzXCIsdmFsdWU6KHE9aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGdjKCksX2MoZSk/ZS52aWRlb3x8ZS5hdWRpbz8od2MoZSx0aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcsdGhpcy5fc2hhcmVkVHJhY2tzKSx0aGlzLl9jYWxsT2JqZWN0TW9kZSYmIXRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ/KHRoaXMuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MoZSwhMCksdGhpcy5fZ2V0SW5wdXRTZXR0aW5ncygpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidXBkYXRlLWlucHV0LXNldHRpbmdzXCIsaW5wdXRTZXR0aW5nczplfSwoZnVuY3Rpb24oaSl7aWYoaS5lcnJvcilyKGkuZXJyb3IpO2Vsc2V7aWYoaS5yZXR1cm5QcmVsb2FkQ2FjaGUpcmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MoZSwhMCksdm9pZCBuKHQuX2dldElucHV0U2V0dGluZ3MoKSk7dC5fbWF5YmVVcGRhdGVJbnB1dFNldHRpbmdzKGkuaW5wdXRTZXR0aW5ncyksbih0Ll9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcoaS5pbnB1dFNldHRpbmdzLCEwKSl9fSkpfSkpKTp0aGlzLl9nZXRJbnB1dFNldHRpbmdzKCk6KGNvbnNvbGUuZXJyb3IoQ2MoKSksUHJvbWlzZS5yZWplY3QoQ2MoKSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBxLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0QmFuZHdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rYnMsbj1lLnRyYWNrQ29uc3RyYWludHM7aWYoZ2MoKSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWJhbmR3aWR0aFwiLGticzp0LHRyYWNrQ29uc3RyYWludHM6bn0pLHRoaXN9fSx7a2V5OlwiZ2V0RGFpbHlMYW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGdjKCksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtZGFpbHktbGFuZ1wifSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsdChlKX0pKX0pKX19LHtrZXk6XCJzZXREYWlseUxhbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZ2MoKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWRhaWx5LWxhbmdcIixsYW5nOmV9KSx0aGlzfX0se2tleTpcInNldFByb3h5VXJsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtcHJveHktdXJsXCIscHJveHlVcmw6ZX0pLHRoaXN9fSx7a2V5Olwic2V0SWNlQ29uZmlnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtaWNlLWNvbmZpZ1wiLGljZUNvbmZpZzplfSksdGhpc319LHtrZXk6XCJtZWV0aW5nU2Vzc2lvblN1bW1hcnlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltfaSx3aV0uaW5jbHVkZXModGhpcy5fY2FsbFN0YXRlKT90aGlzLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uOnRoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeX19LHtrZXk6XCJnZXRNZWV0aW5nU2Vzc2lvblwiLHZhbHVlOigkPWgoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIGNvbnNvbGUud2FybihcImdldE1lZXRpbmdTZXNzaW9uKCkgaXMgZGVwcmVjYXRlZDogdXNlIG1lZXRpbmdTZXNzaW9uU3VtbWFyeSgpLCB3aGljaCB3aWxsIHJldHVybiBpbW1lZGlhdGVseVwiKSxsYyh0aGlzLl9jYWxsU3RhdGUsXCJnZXRNZWV0aW5nU2Vzc2lvbigpXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LW1lZXRpbmctc2Vzc2lvblwifSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsdChlKX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiAkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwibWVldGluZ1Nlc3Npb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGxjKHRoaXMuX2NhbGxTdGF0ZSxcIm1lZXRpbmdTZXNzaW9uU3RhdGVcIiksdGhpcy5fbWVldGluZ1Nlc3Npb25TdGF0ZX19LHtrZXk6XCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGFcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJyZXBsYWNlXCI7ZmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGEoKVwiKSxsYyh0aGlzLl9jYWxsU3RhdGUsXCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGFcIik7dHJ5eyFmdW5jdGlvbihlLHQpe25ldyBRcyh7ZGF0YTplLG1lcmdlU3RyYXRlZ3k6dH0pfShlLHQpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX10cnl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zZXNzaW9uLWRhdGFcIixkYXRhOmUsbWVyZ2VTdHJhdGVneTp0fSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc2V0dGluZyBtZWV0aW5nIHNlc3Npb24gZGF0YTogXCIuY29uY2F0KGUpKX19fSx7a2V5Olwic2V0VXNlck5hbWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucHJvcGVydGllcy51c2VyTmFtZT1lLG5ldyBQcm9taXNlKChmdW5jdGlvbihyKXtuLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LXVzZXItbmFtZVwiLG5hbWU6bnVsbCE9ZT9lOlwiXCIsdGhpc01lZXRpbmdPbmx5OnlzKCl8fCEhdCYmISF0LnRoaXNNZWV0aW5nT25seX0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHIoZSl9KSl9KSl9fSx7a2V5Olwic2V0VXNlckRhdGFcIix2YWx1ZTooSj1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpczt0cnl7eWMoZSl9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWlmKHRoaXMucHJvcGVydGllcy51c2VyRGF0YT1lLHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXt0cnl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC11c2VyLWRhdGFcIix1c2VyRGF0YTplfSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsbihlKX0pKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzZXR0aW5nIHVzZXIgZGF0YTogXCIuY29uY2F0KGUpKX19KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEouYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ2YWxpZGF0ZUF1ZGlvTGV2ZWxJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUmJihlPDEwMHx8XCJudW1iZXJcIiE9dHlwZW9mIGUpKXRocm93IG5ldyBFcnJvcihcIlRoZSBpbnRlcnZhbCBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxMDAgbWlsbGlzZWNvbmRzLlwiKX19LHtrZXk6XCJzdGFydExvY2FsQXVkaW9MZXZlbE9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQXVkaW9Xb3JrbGV0Tm9kZSYmIXlzKCkpdGhyb3cgbmV3IEVycm9yKFwic3RhcnRMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlcigpIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyXCIpO2lmKHRoaXMudmFsaWRhdGVBdWRpb0xldmVsSW50ZXJ2YWwoZSksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITAsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWxvY2FsLWF1ZGlvLWxldmVsLW9ic2VydmVyXCIsaW50ZXJ2YWw6ZX0sKGZ1bmN0aW9uKGUpe3QuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSFlLmVycm9yLGUuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oKX0pKX0pKTt0aGlzLl9wcmVsb2FkQ2FjaGUubG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXI9e2VuYWJsZWQ6ITAsaW50ZXJ2YWw6ZX19fSx7a2V5OlwiaXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ319LHtrZXk6XCJzdG9wTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3ByZWxvYWRDYWNoZS5sb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlcj1udWxsLHRoaXMuX2xvY2FsQXVkaW9MZXZlbD0wLHRoaXMuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSExLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLWxvY2FsLWF1ZGlvLWxldmVsLW9ic2VydmVyXCJ9KX19LHtrZXk6XCJzdGFydFJlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy52YWxpZGF0ZUF1ZGlvTGV2ZWxJbnRlcnZhbChlKSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITAsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LXJlbW90ZS1wYXJ0aWNpcGFudHMtYXVkaW8tbGV2ZWwtb2JzZXJ2ZXJcIixpbnRlcnZhbDplfSwoZnVuY3Rpb24oZSl7dC5faXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSFlLmVycm9yLGUuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oKX0pKX0pKTt0aGlzLl9wcmVsb2FkQ2FjaGUucmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyPXtlbmFibGVkOiEwLGludGVydmFsOmV9fX0se2tleTpcImlzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ319LHtrZXk6XCJzdG9wUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVsb2FkQ2FjaGUucmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyPW51bGwsdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbD17fSx0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtcmVtb3RlLXBhcnRpY2lwYW50cy1hdWRpby1sZXZlbC1vYnNlcnZlclwifSl9fSx7a2V5Olwic3RhcnRDYW1lcmFcIix2YWx1ZTooVj1oKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKGZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic3RhcnRDYW1lcmEoKVwiKSxkYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJzdGFydENhbWVyYSgpXCIsXCJEaWQgeW91IG1lYW4gdG8gdXNlIHNldExvY2FsQXVkaW8oKSBhbmQvb3Igc2V0TG9jYWxWaWRlbygpIGluc3RlYWQ/XCIpLHRoaXMubmVlZHNMb2FkKCkpdHJ5e3lpZWxkIHRoaXMubG9hZCh0KX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9ZWxzZXtpZih0aGlzLl9kaWRQcmVBdXRoKXtpZih0LnVybCYmdC51cmwhPT10aGlzLnByb3BlcnRpZXMudXJsKXJldHVybiBjb25zb2xlLmVycm9yKFwidXJsIGluIHN0YXJ0Q2FtZXJhKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIHByZUF1dGgoKVwiKSxQcm9taXNlLnJlamVjdCgpO2lmKHQudG9rZW4mJnQudG9rZW4hPT10aGlzLnByb3BlcnRpZXMudG9rZW4pcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ0b2tlbiBpbiBzdGFydENhbWVyYSgpIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBvbmUgdXNlZCBpbiBwcmVBdXRoKClcIiksUHJvbWlzZS5yZWplY3QoKX10aGlzLnZhbGlkYXRlUHJvcGVydGllcyh0KSx0aGlzLnByb3BlcnRpZXM9cWEocWEoe30sdGhpcy5wcm9wZXJ0aWVzKSx0KX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2UuX3ByZWxvYWRDYWNoZS5pbnB1dFNldHRpbmdzPWUuX3ByZXBJbnB1dFNldHRpbmdzRm9yU2hhcmluZyhlLl9pbnB1dFNldHRpbmdzLCExKSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic3RhcnQtY2FtZXJhXCIscHJvcGVydGllczpjYyhlLnByb3BlcnRpZXMsZS5jYWxsQ2xpZW50SWQpLHByZWxvYWRDYWNoZTpjYyhlLl9wcmVsb2FkQ2FjaGUsZS5jYWxsQ2xpZW50SWQpfSwoZnVuY3Rpb24oZSl7dCh7Y2FtZXJhOmUuY2FtZXJhLG1pYzplLm1pYyxzcGVha2VyOmUuc3BlYWtlcn0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ2YWxpZGF0ZUN1c3RvbVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKG4mJm4ubGVuZ3RoPjUwKXRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0cmFjayBgdHJhY2tOYW1lYCBtdXN0IG5vdCBiZSBtb3JlIHRoYW4gNTAgY2hhcmFjdGVyc1wiKTtpZih0JiZcIm11c2ljXCIhPT10JiZcInNwZWVjaFwiIT09dCYmISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2sgYG1vZGVgIG11c3QgYmUgZWl0aGVyIGBtdXNpY2AgfCBgc3BlZWNoYCB8IGBEYWlseU1pY0F1ZGlvTW9kZVNldHRpbmdzYCBvciBgdW5kZWZpbmVkYFwiKTtpZighIW4mJltcImNhbS1hdWRpb1wiLFwiY2FtLXZpZGVvXCIsXCJzY3JlZW4tdmlkZW9cIixcInNjcmVlbi1hdWRpb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCIsXCJjdXN0b21WaWRlb0RlZmF1bHRzXCJdLmluY2x1ZGVzKG4pKXRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0cmFjayBgdHJhY2tOYW1lYCBtdXN0IG5vdCBtYXRjaCBhIHRyYWNrIG5hbWUgYWxyZWFkeSB1c2VkIGJ5IGRhaWx5OiBjYW0tYXVkaW8sIGNhbS12aWRlbywgY3VzdG9tVmlkZW9EZWZhdWx0cywgc2NyZWVuLXZpZGVvLCBzY3JlZW4tYXVkaW8sIHJtcEF1ZGlvLCBybXBWaWRlb1wiKTtpZighKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKSl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2tzIHByb3ZpZGVkIG11c3QgYmUgaW5zdGFuY2VzIG9mIE1lZGlhU3RyZWFtVHJhY2tcIil9fSx7a2V5Olwic3RhcnRDdXN0b21UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7dHJhY2s6dHJhY2ssbW9kZTptb2RlLHRyYWNrTmFtZTp0cmFja05hbWV9O3JldHVybiBnYygpLGxjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0Q3VzdG9tVHJhY2soKVwiKSx0aGlzLnZhbGlkYXRlQ3VzdG9tVHJhY2sodC50cmFjayx0Lm1vZGUsdC50cmFja05hbWUpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuX3NoYXJlZFRyYWNrcy5jdXN0b21UcmFjaz10LnRyYWNrLHQudHJhY2s9bHMsZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWN1c3RvbS10cmFja1wiLHByb3BlcnRpZXM6dH0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oZS5tZWRpYVRhZyl9KSl9KSl9fSx7a2V5Olwic3RvcEN1c3RvbVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZ2MoKSxsYyh0aGlzLl9jYWxsU3RhdGUsXCJzdG9wQ3VzdG9tVHJhY2soKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtY3VzdG9tLXRyYWNrXCIsbWVkaWFUYWc6ZX0sKGZ1bmN0aW9uKGUpe24oZS5tZWRpYVRhZyl9KSl9KSl9fSx7a2V5Olwic2V0Q2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbWMoKSxoYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwic2V0Q2FtZXJhKClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtY2FtZXJhXCIsY2FtZXJhRGV2aWNlSWQ6ZX0sKGZ1bmN0aW9uKGUpe24oe2RldmljZTplLmRldmljZX0pfSkpfSkpfX0se2tleTpcInNldEF1ZGlvRGV2aWNlXCIsdmFsdWU6KFU9aCgoZnVuY3Rpb24qKGUpe3JldHVybiBtYygpLHRoaXMubmF0aXZlVXRpbHMoKS5zZXRBdWRpb0RldmljZShlKSx7ZGV2aWNlSWQ6eWllbGQgdGhpcy5uYXRpdmVVdGlscygpLmdldEF1ZGlvRGV2aWNlKCl9fSkpLGZ1bmN0aW9uKGUpe3JldHVybiBVLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiY3ljbGVDYW1lcmFcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiY3ljbGUtY2FtZXJhXCIscHJvcGVydGllczp0fSwoZnVuY3Rpb24oZSl7bih7ZGV2aWNlOmUuZGV2aWNlfSl9KSl9KSl9fSx7a2V5OlwiY3ljbGVNaWNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGdjKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJjeWNsZS1taWNcIn0sKGZ1bmN0aW9uKGUpe3Qoe2RldmljZTplLmRldmljZX0pfSkpfSkpfX0se2tleTpcImdldENhbWVyYUZhY2luZ01vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG1jKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtY2FtZXJhLWZhY2luZy1tb2RlXCJ9LChmdW5jdGlvbihlKXt0KGUuZmFjaW5nTW9kZSl9KSl9KSl9fSx7a2V5Olwic2V0SW5wdXREZXZpY2VzQXN5bmNcIix2YWx1ZTooQj1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcyxuPWUuYXVkaW9EZXZpY2VJZCxyPWUudmlkZW9EZXZpY2VJZCxpPWUuYXVkaW9Tb3VyY2Usbz1lLnZpZGVvU291cmNlO2lmKGdjKCksdm9pZCAwIT09aSYmKG49aSksdm9pZCAwIT09byYmKHI9byksXCJib29sZWFuXCI9PXR5cGVvZiBuJiYodGhpcy5fc2V0QWxsb3dMb2NhbEF1ZGlvKG4pLG49dm9pZCAwKSxcImJvb2xlYW5cIj09dHlwZW9mIHImJih0aGlzLl9zZXRBbGxvd0xvY2FsVmlkZW8ocikscj12b2lkIDApLCFuJiYhcilyZXR1cm4geWllbGQgdGhpcy5nZXRJbnB1dERldmljZXMoKTt2YXIgcz17fTtyZXR1cm4gbiYmKG4gaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyh0aGlzLl9zaGFyZWRUcmFja3MuYXVkaW9UcmFjaz1uLG49bHMscy5hdWRpbz17c2V0dGluZ3M6e2N1c3RvbVRyYWNrOm59fSk6KGRlbGV0ZSB0aGlzLl9zaGFyZWRUcmFja3MuYXVkaW9UcmFjayxzLmF1ZGlvPXtzZXR0aW5nczp7ZGV2aWNlSWQ6bn19KSksciYmKHIgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyh0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFjaz1yLHI9bHMscy52aWRlbz17c2V0dGluZ3M6e2N1c3RvbVRyYWNrOnJ9fSk6KGRlbGV0ZSB0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFjayxzLnZpZGVvPXtzZXR0aW5nczp7ZGV2aWNlSWQ6cn19KSksdGhpcy5fY2FsbE9iamVjdE1vZGUmJnRoaXMubmVlZHNMb2FkKCk/KHRoaXMuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MocywhMSksdGhpcy5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHRoaXMuX2lucHV0U2V0dGluZ3MpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1pbnB1dC1kZXZpY2VzXCIsYXVkaW9EZXZpY2VJZDpuLHZpZGVvRGV2aWNlSWQ6cn0sKGZ1bmN0aW9uKG4pe2lmKGRlbGV0ZSBuLmFjdGlvbixkZWxldGUgbi5jYWxsYmFja1N0YW1wLG4ucmV0dXJuUHJlbG9hZENhY2hlKXJldHVybiB0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKHMsITEpLHZvaWQgZSh0Ll9kZXZpY2VzRnJvbUlucHV0U2V0dGluZ3ModC5faW5wdXRTZXR0aW5ncykpO2Uobil9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRPdXRwdXREZXZpY2VBc3luY1wiLHZhbHVlOihGPWgoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzLG49ZS5vdXRwdXREZXZpY2VJZDtyZXR1cm4gZ2MoKSxuJiYodGhpcy5fcHJlbG9hZENhY2hlLm91dHB1dERldmljZUlkPW4pLHRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLm5lZWRzTG9hZCgpP3RoaXMuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyh0aGlzLl9pbnB1dFNldHRpbmdzKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1vdXRwdXQtZGV2aWNlXCIsb3V0cHV0RGV2aWNlSWQ6bn0sKGZ1bmN0aW9uKG4pe2RlbGV0ZSBuLmFjdGlvbixkZWxldGUgbi5jYWxsYmFja1N0YW1wLG4ucmV0dXJuUHJlbG9hZENhY2hlP2UodC5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHQuX2lucHV0U2V0dGluZ3MpKTplKG4pfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBGLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0SW5wdXREZXZpY2VzXCIsdmFsdWU6KFI9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fY2FsbE9iamVjdE1vZGUmJnRoaXMubmVlZHNMb2FkKCk/dGhpcy5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHRoaXMuX2lucHV0U2V0dGluZ3MpOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LWlucHV0LWRldmljZXNcIn0sKGZ1bmN0aW9uKG4pe24ucmV0dXJuUHJlbG9hZENhY2hlP3QoZS5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKGUuX2lucHV0U2V0dGluZ3MpKTp0KHtjYW1lcmE6bi5jYW1lcmEsbWljOm4ubWljLHNwZWFrZXI6bi5zcGVha2VyfSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gUi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIm5hdGl2ZUluQ2FsbEF1ZGlvTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG1jKCksdGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlfX0se2tleTpcInNldE5hdGl2ZUluQ2FsbEF1ZGlvTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKG1jKCksW1FhLEthXS5pbmNsdWRlcyhlKSl7aWYoZSE9PXRoaXMuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZSlyZXR1cm4gdGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlPWUsIXRoaXMuZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnQoXCJhdWRpb1wiKSYmdWModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luKSYmdGhpcy5uYXRpdmVVdGlscygpLnNldEF1ZGlvTW9kZSh0aGlzLl9uYXRpdmVJbkNhbGxBdWRpb01vZGUpLHRoaXN9ZWxzZSBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBpbi1jYWxsIGF1ZGlvIG1vZGUgc3BlY2lmaWVkOiBcIixlKX19LHtrZXk6XCJwcmVBdXRoXCIsdmFsdWU6KEQ9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihmYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInByZUF1dGgoKVwiKSxkYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJwcmVBdXRoKClcIiksdGhpcy5uZWVkc0xvYWQoKSYmKHlpZWxkIHRoaXMubG9hZCh0KSksIXQudXJsKXRocm93IG5ldyBFcnJvcihcInByZUF1dGgoKSByZXF1aXJlcyBhdCBsZWFzdCBhIHVybCB0byBiZSBwcm92aWRlZFwiKTtyZXR1cm4gdGhpcy52YWxpZGF0ZVByb3BlcnRpZXModCksdGhpcy5wcm9wZXJ0aWVzPXFhKHFhKHt9LHRoaXMucHJvcGVydGllcyksdCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5fcHJlbG9hZENhY2hlLmlucHV0U2V0dGluZ3M9ZS5fcHJlcElucHV0U2V0dGluZ3NGb3JTaGFyaW5nKGUuX2lucHV0U2V0dGluZ3MsITEpLGUuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2QtcHJlYXV0aFwiLHByb3BlcnRpZXM6Y2MoZS5wcm9wZXJ0aWVzLGUuY2FsbENsaWVudElkKSxwcmVsb2FkQ2FjaGU6Y2MoZS5fcHJlbG9hZENhY2hlLGUuY2FsbENsaWVudElkKX0sKGZ1bmN0aW9uKHIpe3JldHVybiByLmVycm9yP24oci5lcnJvcik6ci5hY2Nlc3M/KGUuX2RpZFByZUF1dGg9ITAsdm9pZCB0KHthY2Nlc3M6ci5hY2Nlc3N9KSk6bihuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yIGluIHByZUF1dGgoKVwiKSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gRC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxvYWRcIix2YWx1ZTooTD1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZih0aGlzLm5lZWRzTG9hZCgpKXtpZih0aGlzLl9kZXN0cm95ZWQmJih0aGlzLl9sb2dVc2VBZnRlckRlc3Ryb3koKSx0aGlzLnN0cmljdE1vZGUpKXRocm93IG5ldyBFcnJvcihcIlVzZSBhZnRlciBkZXN0cm95XCIpO2lmKGUmJih0aGlzLnZhbGlkYXRlUHJvcGVydGllcyhlKSx0aGlzLnByb3BlcnRpZXM9cWEocWEoe30sdGhpcy5wcm9wZXJ0aWVzKSxlKSksIXRoaXMuX2NhbGxPYmplY3RNb2RlJiYhdGhpcy5wcm9wZXJ0aWVzLnVybCl0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBsb2FkIGlmcmFtZSBtZWV0aW5nIGJlY2F1c2UgdXJsIHByb3BlcnR5IGlzbid0IHNldFwiKTtyZXR1cm4gdGhpcy5fdXBkYXRlQ2FsbFN0YXRlKGdpKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0b30pLHRoaXMuX2NhbGxPYmplY3RNb2RlP25ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QuX2NhbGxPYmplY3RMb2FkZXIuY2FuY2VsKCk7dmFyIHI9RGF0ZS5ub3coKTt0Ll9jYWxsT2JqZWN0TG9hZGVyLmxvYWQodC5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnLChmdW5jdGlvbihuKXt0Ll9idW5kbGVMb2FkVGltZT1uP1wibm8tb3BcIjpEYXRlLm5vdygpLXIsdC5fdXBkYXRlQ2FsbFN0YXRlKG1pKSxuJiZ0LmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpyb30pLGUoKX0pLChmdW5jdGlvbihlLHIpe2lmKHQuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOm5vfSksIXIpe3QuX3VwZGF0ZUNhbGxTdGF0ZSh3aSksdC5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCk7dmFyIGk9e2FjdGlvbjpucyxlcnJvck1zZzplLm1zZyxlcnJvcjp7dHlwZTpcImNvbm5lY3Rpb24tZXJyb3JcIixtc2c6XCJGYWlsZWQgdG8gbG9hZCBjYWxsIG9iamVjdCBidW5kbGUuXCIsZGV0YWlsczp7b246XCJsb2FkXCIsc291cmNlRXJyb3I6ZSxidW5kbGVVcmw6Wih0LnByb3BlcnRpZXMuZGFpbHlDb25maWcpfX19O3QuX21heWJlU2VuZFRvU2VudHJ5KGkpLHQuZW1pdERhaWx5SlNFdmVudChpKSxuKGUubXNnKX19KSl9KSk6KHRoaXMuX2lmcmFtZS5zcmM9WCh0aGlzLmFzc2VtYmxlTWVldGluZ1VybCgpLHRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZyksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dC5fbG9hZGVkQ2FsbGJhY2s9ZnVuY3Rpb24ocil7dC5fY2FsbFN0YXRlIT09d2k/KHQuX3VwZGF0ZUNhbGxTdGF0ZShtaSksKHQucHJvcGVydGllcy5jc3NGaWxlfHx0LnByb3BlcnRpZXMuY3NzVGV4dCkmJnQubG9hZENzcyh0LnByb3BlcnRpZXMpLGUoKSk6bihyKX19KSkpfX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gTC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImpvaW5cIix2YWx1ZTooST1oKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyYmdGhpcy5zdG9wVGVzdENhbGxRdWFsaXR5KCk7dmFyIG49ITE7aWYodGhpcy5uZWVkc0xvYWQoKSl7dGhpcy51cGRhdGVJc1ByZXBhcmluZ1RvSm9pbighMCk7dHJ5e3lpZWxkIHRoaXMubG9hZCh0KX1jYXRjaChlKXtyZXR1cm4gdGhpcy51cGRhdGVJc1ByZXBhcmluZ1RvSm9pbighMSksUHJvbWlzZS5yZWplY3QoZSl9fWVsc2V7aWYobj0hKCF0aGlzLnByb3BlcnRpZXMuY3NzRmlsZSYmIXRoaXMucHJvcGVydGllcy5jc3NUZXh0KSx0aGlzLl9kaWRQcmVBdXRoKXtpZih0LnVybCYmdC51cmwhPT10aGlzLnByb3BlcnRpZXMudXJsKXJldHVybiBjb25zb2xlLmVycm9yKFwidXJsIGluIGpvaW4oKSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHVzZWQgaW4gcHJlQXV0aCgpXCIpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCk7aWYodC50b2tlbiYmdC50b2tlbiE9PXRoaXMucHJvcGVydGllcy50b2tlbilyZXR1cm4gY29uc29sZS5lcnJvcihcInRva2VuIGluIGpvaW4oKSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHVzZWQgaW4gcHJlQXV0aCgpXCIpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCl9aWYodC51cmwmJiF0aGlzLl9jYWxsT2JqZWN0TW9kZSYmdC51cmwmJnQudXJsIT09dGhpcy5wcm9wZXJ0aWVzLnVybClyZXR1cm4gY29uc29sZS5lcnJvcihcInVybCBpbiBqb2luKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIGxvYWQoKSAoXCIuY29uY2F0KHRoaXMucHJvcGVydGllcy51cmwsXCIgLT4gXCIpLmNvbmNhdCh0LnVybCxcIilcIikpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCk7dGhpcy52YWxpZGF0ZVByb3BlcnRpZXModCksdGhpcy5wcm9wZXJ0aWVzPXFhKHFhKHt9LHRoaXMucHJvcGVydGllcyksdCl9cmV0dXJuIHZvaWQgMCE9PXQuc2hvd0xvY2FsVmlkZW8mJih0aGlzLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwic2hvd0xvY2FsVmlkZW8gaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsT2JqZWN0IG1vZGVcIik6dGhpcy5fc2hvd0xvY2FsVmlkZW89ISF0LnNob3dMb2NhbFZpZGVvKSx2b2lkIDAhPT10LnNob3dQYXJ0aWNpcGFudHNCYXImJih0aGlzLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwic2hvd1BhcnRpY2lwYW50c0JhciBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGxPYmplY3QgbW9kZVwiKTp0aGlzLl9zaG93UGFydGljaXBhbnRzQmFyPSEhdC5zaG93UGFydGljaXBhbnRzQmFyKSx0aGlzLl9jYWxsU3RhdGU9PT1iaXx8dGhpcy5fY2FsbFN0YXRlPT09eWk/KGNvbnNvbGUud2FybihcImFscmVhZHkgam9pbmVkIG1lZXRpbmcsIGNhbGwgbGVhdmUoKSBiZWZvcmUgam9pbmluZyBhZ2FpblwiKSx2b2lkIHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpKToodGhpcy5fdXBkYXRlQ2FsbFN0YXRlKHlpLCExKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpzb30pLHRoaXMuX3ByZWxvYWRDYWNoZS5pbnB1dFNldHRpbmdzPXRoaXMuX3ByZXBJbnB1dFNldHRpbmdzRm9yU2hhcmluZyh0aGlzLl9pbnB1dFNldHRpbmdzfHx7fSwhMSksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImpvaW4tbWVldGluZ1wiLHByb3BlcnRpZXM6Y2ModGhpcy5wcm9wZXJ0aWVzLHRoaXMuY2FsbENsaWVudElkKSxwcmVsb2FkQ2FjaGU6Y2ModGhpcy5fcHJlbG9hZENhY2hlLHRoaXMuY2FsbENsaWVudElkKX0pLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe2UuX2pvaW5lZENhbGxiYWNrPWZ1bmN0aW9uKGksbyl7aWYoZS5fY2FsbFN0YXRlIT09d2kpe2lmKGUuX3VwZGF0ZUNhbGxTdGF0ZShiaSksaSlmb3IodmFyIHMgaW4gaSl7aWYoZS5fY2FsbE9iamVjdE1vZGUpe3ZhciBhPWUuX2NhbGxNYWNoaW5lKCkuc3RvcmU7cGEoaVtzXSxhKSxmYShpW3NdLGEpLGdhKGlbc10sZS5fcGFydGljaXBhbnRzW3NdLGEpfWUuX3BhcnRpY2lwYW50c1tzXT1xYSh7fSxpW3NdKSxlLnRvZ2dsZVBhcnRpY2lwYW50QXVkaW9CYXNlZE9uTmF0aXZlQXVkaW9Gb2N1cygpfW4mJmUubG9hZENzcyhlLnByb3BlcnRpZXMpLHQoaSl9ZWxzZSByKG8pfX0pKSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxlYXZlXCIsdmFsdWU6KGo9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fdGVzdENhbGxJblByb2dyZXNzJiZ0aGlzLnN0b3BUZXN0Q2FsbFF1YWxpdHkoKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5fY2FsbFN0YXRlPT09X2l8fGUuX2NhbGxTdGF0ZT09PXdpP3QoKTplLl9jYWxsT2JqZWN0TG9hZGVyJiYhZS5fY2FsbE9iamVjdExvYWRlci5sb2FkZWQ/KGUuX2NhbGxPYmplY3RMb2FkZXIuY2FuY2VsKCksZS5fdXBkYXRlQ2FsbFN0YXRlKF9pKSxlLnJlc2V0TWVldGluZ0RlcGVuZGVudFZhcnMoKSxlLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpfaX0pLHQoKSk6KGUuX3Jlc29sdmVMZWF2ZT10LGUuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsZWF2ZS1tZWV0aW5nXCJ9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gai5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0YXJ0U2NyZWVuU2hhcmVcIix2YWx1ZTooQT1oKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKGhjKHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQsXCJzdGFydFNjcmVlblNoYXJlKClcIiksdC5zY3JlZW5WaWRlb1NlbmRTZXR0aW5ncyYmdGhpcy5fdmFsaWRhdGVWaWRlb1NlbmRTZXR0aW5ncyhcInNjcmVlblZpZGVvXCIsdC5zY3JlZW5WaWRlb1NlbmRTZXR0aW5ncyksdC5tZWRpYVN0cmVhbSYmKHRoaXMuX3NoYXJlZFRyYWNrcy5zY3JlZW5NZWRpYVN0cmVhbT10Lm1lZGlhU3RyZWFtLHQubWVkaWFTdHJlYW09bHMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYWlseU5hdGl2ZVV0aWxzJiZ2b2lkIDAhPT1EYWlseU5hdGl2ZVV0aWxzLmlzSU9TJiZEYWlseU5hdGl2ZVV0aWxzLmlzSU9TKXt2YXIgbj10aGlzLm5hdGl2ZVV0aWxzKCk7aWYoeWllbGQgbi5pc1NjcmVlbkJlaW5nQ2FwdHVyZWQoKSlyZXR1cm4gdm9pZCB0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0cyx0eXBlOlwic2NyZWVuLXNoYXJlLWVycm9yXCIsZXJyb3JNc2c6XCJDb3VsZCBub3Qgc3RhcnQgdGhlIHNjcmVlbiBzaGFyaW5nLiBUaGUgc2NyZWVuIGlzIGFscmVhZHkgYmVlbiBjYXB0dXJlZCFcIn0pO24uc2V0U3lzdGVtU2NyZWVuQ2FwdHVyZVN0YXJ0Q2FsbGJhY2soKGZ1bmN0aW9uKCl7bi5zZXRTeXN0ZW1TY3JlZW5DYXB0dXJlU3RhcnRDYWxsYmFjayhudWxsKSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOnNzLGNhcHR1cmVPcHRpb25zOnR9KX0pKSxuLnByZXNlbnRTeXN0ZW1TY3JlZW5DYXB0dXJlUHJvbXB0KCl9ZWxzZSB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOnNzLGNhcHR1cmVPcHRpb25zOnR9KX0pKSxmdW5jdGlvbigpe3JldHVybiBBLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3RvcFNjcmVlblNoYXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtoYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwic3RvcFNjcmVlblNoYXJlKClcIiksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvY2FsLXNjcmVlbi1zdG9wXCJ9KX19LHtrZXk6XCJzdGFydFJlY29yZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS50eXBlO2lmKHQmJlwiY2xvdWRcIiE9PXQmJlwicmF3LXRyYWNrc1wiIT09dCYmXCJsb2NhbFwiIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHR5cGU6IFwiLmNvbmNhdCh0LFwiLCBhbGxvd2VkIHZhbHVlcyAnY2xvdWQnLCAncmF3LXRyYWNrcycsIG9yICdsb2NhbCdcIikpO3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJsb2NhbC1yZWNvcmRpbmctc3RhcnRcIn0sZSkpfX0se2tleTpcInVwZGF0ZVJlY29yZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5b3V0LG49dm9pZCAwPT09dD97cHJlc2V0OlwiZGVmYXVsdFwifTp0LHI9ZS5pbnN0YW5jZUlkO3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2QtdXBkYXRlLXJlY29yZGluZ1wiLGxheW91dDpuLGluc3RhbmNlSWQ6cn0pfX0se2tleTpcInN0b3BSZWNvcmRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShxYSh7YWN0aW9uOlwibG9jYWwtcmVjb3JkaW5nLXN0b3BcIn0sZSkpfX0se2tleTpcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtbGl2ZS1zdHJlYW1pbmdcIn0sZSkpfX0se2tleTpcInVwZGF0ZUxpdmVTdHJlYW1pbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxheW91dCxuPXZvaWQgMD09PXQ/e3ByZXNldDpcImRlZmF1bHRcIn06dCxyPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS1saXZlLXN0cmVhbWluZ1wiLGxheW91dDpuLGluc3RhbmNlSWQ6cn0pfX0se2tleTpcImFkZExpdmVTdHJlYW1pbmdFbmRwb2ludHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmVuZHBvaW50cyxuPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOmFzLGVuZHBvaW50c09wOmZzLGVuZHBvaW50czp0LGluc3RhbmNlSWQ6bn0pfX0se2tleTpcInJlbW92ZUxpdmVTdHJlYW1pbmdFbmRwb2ludHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmVuZHBvaW50cyxuPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOmFzLGVuZHBvaW50c09wOnZzLGVuZHBvaW50czp0LGluc3RhbmNlSWQ6bn0pfX0se2tleTpcInN0b3BMaXZlU3RyZWFtaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUocWEoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdG9wLWxpdmUtc3RyZWFtaW5nXCJ9LGUpKX19LHtrZXk6XCJ2YWxpZGF0ZURhaWx5Q29uZmlnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jYW1TaW11bGNhc3RFbmNvZGluZ3MmJihjb25zb2xlLndhcm4oXCJjYW1TaW11bGNhc3RFbmNvZGluZ3MgaXMgZGVwcmVjYXRlZC4gVXNlIHNlbmRTZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucywgdG8gcHJvdmlkZSBjYW1lcmEgc2ltdWxjYXN0IHNldHRpbmdzLlwiKSx0aGlzLnZhbGlkYXRlU2ltdWxjYXN0RW5jb2RpbmdzKGUuY2FtU2ltdWxjYXN0RW5jb2RpbmdzKSksZS5zY3JlZW5TaW11bGNhc3RFbmNvZGluZ3MmJmNvbnNvbGUud2FybihcInNjcmVlblNpbXVsY2FzdEVuY29kaW5ncyBpcyBkZXByZWNhdGVkLiBVc2Ugc2VuZFNldHRpbmdzLCBmb3VuZCBpbiBEYWlseUNhbGxPcHRpb25zLCB0byBwcm92aWRlIHNjcmVlbiBzaW11bGNhc3Qgc2V0dGluZ3MuXCIpLFBzKCkmJmUubm9BdXRvRGVmYXVsdERldmljZUNoYW5nZSYmY29uc29sZS53YXJuKFwibm9BdXRvRGVmYXVsdERldmljZUNoYW5nZSBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQsIGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpfX0se2tleTpcInZhbGlkYXRlU2ltdWxjYXN0RW5jb2RpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGluZ3MgbXVzdCBiZSBhbiBBcnJheVwiKTtpZigheGMoZS5sZW5ndGgsMSwzKSl0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGluZ3MgbXVzdCBiZSBhbiBBcnJheSB3aXRoIGJldHdlZW4gMSB0byBcIi5jb25jYXQoMyxcIiBsYXllcnNcIikpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO2Zvcih2YXIgbyBpbiB0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXMoaSksaSlpZihlYy5pbmNsdWRlcyhvKSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGlbb10pdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG8sXCIgbXVzdCBiZSBhIG51bWJlclwiKSk7aWYodCl7dmFyIHM9dFtvXSxhPXMubWluLGM9cy5tYXg7aWYoIXhjKGlbb10sYSxjKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQobyxcIiB2YWx1ZSBub3QgaW4gcmFuZ2UuIHZhbGlkIHJhbmdlOiBcIikuY29uY2F0KGEsXCIgdG8gXCIpLmNvbmNhdChjKSl9fWVsc2UgaWYoIVtcImFjdGl2ZVwiLFwic2NhbGFiaWxpdHlNb2RlXCJdLmluY2x1ZGVzKG8pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQga2V5IFwiLmNvbmNhdChvLFwiLCB2YWxpZCBrZXlzIGFyZTpcIikrT2JqZWN0LnZhbHVlcyhlYykpO2lmKG4mJiFpLmhhc093blByb3BlcnR5KFwibWF4Qml0cmF0ZVwiKSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhCaXRyYXRlIGlzIG5vdCBzcGVjaWZpZWRcIil9fX19LHtrZXk6XCJzdGFydFJlbW90ZU1lZGlhUGxheWVyXCIsdmFsdWU6KFA9aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMsbj1lLnVybCxyPWUuc2V0dGluZ3MsaT12b2lkIDA9PT1yP3tzdGF0ZTpocy5QTEFZfTpyO3RyeXshZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCd1cmwgcGFyYW1ldGVyIG11c3QgYmUgXCJzdHJpbmdcIiB0eXBlJyl9KG4pLEljKGkpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKCF0Yy5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBcIi5jb25jYXQodCxcIiwgdmFsaWQga2V5cyBhcmU6IFwiKS5jb25jYXQodGMpKTtlLnNpbXVsY2FzdEVuY29kaW5ncyYmdGhpcy52YWxpZGF0ZVNpbXVsY2FzdEVuY29kaW5ncyhlLnNpbXVsY2FzdEVuY29kaW5ncyxaYSwhMCl9KGkpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50IEVycm9yOiBcIi5jb25jYXQoZSkpLGNvbnNvbGUuZXJyb3IoJ3N0YXJ0UmVtb3RlTWVkaWFQbGF5ZXIgYXJndW1lbnRzIG11c3QgYmUgb2YgdGhlIGZvcm06XFxuICB7IHVybDogXCJwbGF5YmFjayB1cmxcIixcXG4gIHNldHRpbmdzPzpcXG4gIHtzdGF0ZTogXCJwbGF5XCJ8XCJwYXVzZVwiLCBzaW11bGNhc3RFbmNvZGluZ3M/OiBbe31dIH0gfScpLGV9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtcmVtb3RlLW1lZGlhLXBsYXllclwiLHVybDpuLHNldHRpbmdzOml9LChmdW5jdGlvbih0KXt0LmVycm9yP3Ioe2Vycm9yOnQuZXJyb3IsZXJyb3JNc2c6dC5lcnJvck1zZ30pOmUoe3Nlc3Npb25faWQ6dC5zZXNzaW9uX2lkLHJlbW90ZU1lZGlhUGxheWVyU3RhdGU6e3N0YXRlOnQuc3RhdGUsc2V0dGluZ3M6dC5zZXR0aW5nc319KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BSZW1vdGVNZWRpYVBsYXllclwiLHZhbHVlOihPPWgoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIiByZW1vdGVQbGF5ZXJJRCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN0b3AtcmVtb3RlLW1lZGlhLXBsYXllclwiLHNlc3Npb25faWQ6ZX0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcixlcnJvck1zZzplLmVycm9yTXNnfSk6bigpfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBPLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidXBkYXRlUmVtb3RlTWVkaWFQbGF5ZXJcIix2YWx1ZTooVD1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcyxuPWUuc2Vzc2lvbl9pZCxyPWUuc2V0dGluZ3M7dHJ5e0ljKHIpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50IEVycm9yOiBcIi5jb25jYXQoZSkpLGNvbnNvbGUuZXJyb3IoJ3VwZGF0ZVJlbW90ZU1lZGlhUGxheWVyIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHRoZSBmb3JtOlxcbiAgc2Vzc2lvbl9pZDogXCJwYXJ0aWNpcGFudCBzZXNzaW9uXCIsXFxuICB7IHNldHRpbmdzPzoge3N0YXRlOiBcInBsYXlcInxcInBhdXNlXCJ9IH0nKSxlfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS1yZW1vdGUtbWVkaWEtcGxheWVyXCIsc2Vzc2lvbl9pZDpuLHNldHRpbmdzOnJ9LChmdW5jdGlvbih0KXt0LmVycm9yP2koe2Vycm9yOnQuZXJyb3IsZXJyb3JNc2c6dC5lcnJvck1zZ30pOmUoe3Nlc3Npb25faWQ6dC5zZXNzaW9uX2lkLHJlbW90ZU1lZGlhUGxheWVyU3RhdGU6e3N0YXRlOnQuc3RhdGUsc2V0dGluZ3M6dC5zZXR0aW5nc319KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0YXJ0VHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2xjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0VHJhbnNjcmlwdGlvbigpXCIpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtdHJhbnNjcmlwdGlvblwifSxlKSl9fSx7a2V5OlwidXBkYXRlVHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGxjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVRyYW5zY3JpcHRpb24oKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBvcHRpb25zIGlzIG1hbmRhdG9yeVwiKTtpZihcIm9iamVjdFwiIT09bihlKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBvcHRpb25zIG11c3QgYmUgb2JqZWN0IHR5cGVcIik7aWYoZS5wYXJ0aWNpcGFudHMmJiFBcnJheS5pc0FycmF5KGUucGFydGljaXBhbnRzKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBwYXJ0aWNpcGFudHMgbXVzdCBiZSBhbiBhcnJheVwiKTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShxYSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS10cmFuc2NyaXB0aW9uXCJ9LGUpKX19LHtrZXk6XCJzdG9wVHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGxjKHRoaXMuX2NhbGxTdGF0ZSxcInN0b3BUcmFuc2NyaXB0aW9uKClcIiksZSYmXCJvYmplY3RcIiE9PW4oZSkpdGhyb3cgbmV3IEVycm9yKFwic3RvcFRyYW5zY3JpcHRpb24gRXJyb3I6IG9wdGlvbnMgbXVzdCBiZSBvYmplY3QgdHlwZVwiKTtpZihlJiYhZS5pbnN0YW5jZUlkKXRocm93IG5ldyBFcnJvcignXCJpbnN0YW5jZUlkXCIgbm90IHByb3ZpZGVkJyk7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUocWEoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdG9wLXRyYW5zY3JpcHRpb25cIn0sZSkpfX0se2tleTpcInN0YXJ0RGlhbE91dFwiLHZhbHVlOihFPWgoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2xjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0RGlhbE91dCgpXCIpO3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBtdXN0IGJlIGFuIGFycmF5XCIpO2lmKGUubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBhcnJheSBzcGVjaWZpZWQgYnV0IGVtcHR5XCIpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGF1ZGlvIGNvZGVjIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJPUFVTXCIhPT1lJiZcIlBDTVVcIiE9PWUmJlwiUENNQVwiIT09ZSYmXCJHNzIyXCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBtdXN0IGJlIG9uZSBvZiBPUFVTLCBQQ01VLCBQQ01BLCBHNzIyXCIpfSkpfX07aWYoIWUuc2lwVXJpJiYhZS5waG9uZU51bWJlcil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogZWl0aGVyIGEgc2lwIHVyaSBvciBwaG9uZSBudW1iZXIgbXVzdCBiZSBwcm92aWRlZFwiKTtpZihlLnNpcFVyaSYmZS5waG9uZU51bWJlcil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogb25seSBvbmUgb2Ygc2lwIHVyaSBvciBwaG9uZSBudW1iZXIgbXVzdCBiZSBwcm92aWRlZFwiKTtpZihlLnNpcFVyaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuc2lwVXJpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBzaXBVcmkgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighZS5zaXBVcmkuc3RhcnRzV2l0aChcInNpcDpcIikpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IEludmFsaWQgU0lQIFVSSSwgbXVzdCBzdGFydCB3aXRoICdzaXA6J1wiKTtpZihlLnZpZGVvJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUudmlkZW8pdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIG11c3QgYmUgYSBib29sZWFuIHZhbHVlXCIpOyFmdW5jdGlvbihlKXtpZihlJiYobihlLmF1ZGlvKSxlLnZpZGVvKSl7aWYoIUFycmF5LmlzQXJyYXkoZS52aWRlbykpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIGNvZGVjIG11c3QgYmUgYW4gYXJyYXlcIik7aWYoZS52aWRlby5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIGNvZGVjIGFycmF5IHNwZWNpZmllZCBidXQgZW1wdHlcIik7ZS52aWRlby5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogdmlkZW8gY29kZWMgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcIkgyNjRcIiE9PWUmJlwiVlA4XCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB2aWRlbyBjb2RlYyBtdXN0IGJlIEgyNjQgb3IgVlA4XCIpfSkpfX0oZS5jb2RlY3MpfWlmKGUucGhvbmVOdW1iZXIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnBob25lTnVtYmVyKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBwaG9uZU51bWJlciBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCEvXlxcK1xcZHsxLH0kLy50ZXN0KGUucGhvbmVOdW1iZXIpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBJbnZhbGlkIHBob25lIG51bWJlciwgbXVzdCBiZSB2YWxpZCBwaG9uZSBudW1iZXIgYXMgcGVyIEUuMTY0XCIpO2UuY29kZWNzJiZuKGUuY29kZWNzLmF1ZGlvKX1pZihlLmNhbGxlcklkKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5jYWxsZXJJZCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogY2FsbGVySWQgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihlLnNpcFVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogY2FsbGVySWQgbm90IGFsbG93ZWQgd2l0aCBzaXBVcmlcIil9aWYoZS5kaXNwbGF5TmFtZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZGlzcGxheU5hbWUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGRpc3BsYXlOYW1lIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoZS5kaXNwbGF5TmFtZS5sZW5ndGg+PTIwMCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogZGlzcGxheU5hbWUgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIDIwMFwiKX1pZihlLnVzZXJJZCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUudXNlcklkKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB1c2VySWQgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihlLnVzZXJJZC5sZW5ndGg+MzYpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHVzZXJJZCBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMzZcIil9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJkaWFsb3V0LXN0YXJ0XCJ9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gRS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BEaWFsT3V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbGModGhpcy5fY2FsbFN0YXRlLFwic3RvcERpYWxPdXQoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShxYSh7YWN0aW9uOlwiZGlhbG91dC1zdG9wXCJ9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX19LHtrZXk6XCJzaXBDYWxsVHJhbnNmZXJcIix2YWx1ZTooQz1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihsYyh0aGlzLl9jYWxsU3RhdGUsXCJzaXBDYWxsVHJhbnNmZXIoKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJzaXBDYWxsVHJhbnNmZXIoKSByZXF1aXJlcyBhIHNlc3Npb25JZCBhbmQgdG9FbmRQb2ludFwiKTtyZXR1cm4gZS51c2VTaXBSZWZlcj0hMSxqYyhlLFwic2lwQ2FsbFRyYW5zZmVyXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246Z3N9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gQy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNpcFJlZmVyXCIsdmFsdWU6KE09aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYobGModGhpcy5fY2FsbFN0YXRlLFwic2lwUmVmZXIoKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnQgYXJlIG1hbmRhdG9yeSBwYXJhbWV0ZXJcIik7cmV0dXJuIGUudXNlU2lwUmVmZXI9ITAsamMoZSxcInNpcFJlZmVyXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246Z3N9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gTS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNlbmREVE1GXCIsdmFsdWU6KGs9aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGxjKHRoaXMuX2NhbGxTdGF0ZSxcInNlbmREVE1GKClcIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uSWQsbj1lLnRvbmVzO2lmKCF0fHwhbil0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvbmVzIGFyZSBtYW5kYXRvcnkgcGFyYW1ldGVyXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvbmVzIHNob3VsZCBiZSBvZiBzdHJpbmcgdHlwZVwiKTtpZihuLmxlbmd0aD4yMCl0aHJvdyBuZXcgRXJyb3IoXCJ0b25lcyBzdHJpbmcgbXVzdCBiZSB1cHRvIDIwIGNoYXJhY3RlcnNcIik7dmFyIHI9L1teMC05QS1EKiNdL2csaT1uLm1hdGNoKHIpO2lmKGkmJmlbMF0pdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KGlbMF0sXCIgaXMgbm90IHZhbGlkIERUTUYgdG9uZVwiKSl9KGUpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJzZW5kLWR0bWZcIn0sZSksKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cihlLmVycm9yKTpuKGUpfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBrLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0TmV0d29ya1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2NhbGxTdGF0ZSE9PWJpKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHFhKHtzdGF0czp7bGF0ZXN0Ont9fX0sdGhpcy5fbmV0d29yaykpfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1jYWxjLXN0YXRzXCJ9LChmdW5jdGlvbihuKXt0KHFhKHFhKHt9LGUuX25ldHdvcmspLHt9LHtzdGF0czpuLnN0YXRzfSkpfSkpfSkpfX0se2tleTpcInRlc3RXZWJzb2NrZXRDb25uZWN0aXZpdHlcIix2YWx1ZTooUz1oKChmdW5jdGlvbiooKXt2YXIgZT10aGlzO2lmKHBjKHRoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyxcInRlc3RXZWJzb2NrZXRDb25uZWN0aXZpdHkoKVwiKSx0aGlzLm5lZWRzTG9hZCgpKXRyeXt5aWVsZCB0aGlzLmxvYWQoKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ0ZXN0LXdlYnNvY2tldC1jb25uZWN0aXZpdHlcIn0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/bihlLmVycm9yKTp0KGUucmVzdWx0cyl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gUy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImFib3J0VGVzdFdlYnNvY2tldENvbm5lY3Rpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImFib3J0LXRlc3Qtd2Vic29ja2V0LWNvbm5lY3Rpdml0eVwifSl9fSx7a2V5OlwiX3ZhbGlkYXRlVmlkZW9UcmFja0Zvck5ldHdvcmtUZXN0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlP2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyEhUGEoZSx7aXNMb2NhbFNjcmVlblZpZGVvOiExfSl8fChjb25zb2xlLmVycm9yKFwiVmlkZW8gdHJhY2sgaXMgbm90IHBsYXlhYmxlLiBUaGlzIHRlc3QgbmVlZHMgYSBsaXZlIHZpZGVvIHRyYWNrLlwiKSwhMSk6KGNvbnNvbGUuZXJyb3IoXCJWaWRlbyB0cmFjayBuZWVkcyB0byBiZSBvZiB0eXBlIGBNZWRpYVN0cmVhbVRyYWNrYC5cIiksITEpOihjb25zb2xlLmVycm9yKFwiTWlzc2luZyB2aWRlbyB0cmFjay4gWW91IG11c3QgcHJvdmlkZSBhIHZpZGVvIHRyYWNrIGluIG9yZGVyIHRvIHJ1biB0aGlzIHRlc3QuXCIpLCExKX19LHtrZXk6XCJ0ZXN0Q2FsbFF1YWxpdHlcIix2YWx1ZToodz1oKChmdW5jdGlvbiooKXt2YXIgdD10aGlzO2djKCksZmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ0ZXN0Q2FsbFF1YWxpdHkoKVwiKSxoYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwidGVzdENhbGxRdWFsaXR5KClcIixudWxsLCEwKSxkYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJ0ZXN0Q2FsbFF1YWxpdHkoKVwiKTt2YXIgbj10aGlzLl90ZXN0Q2FsbEFscmVhZHlJblByb2dyZXNzLHI9ZnVuY3Rpb24oZSl7bnx8KHQuX3Rlc3RDYWxsSW5Qcm9ncmVzcz1lKX07aWYocighMCksdGhpcy5uZWVkc0xvYWQoKSl0cnl7dmFyIGk9dGhpcy5fY2FsbFN0YXRlO3lpZWxkIHRoaXMubG9hZCgpLHRoaXMuX2NhbGxTdGF0ZT1pfWNhdGNoKGUpe3JldHVybiByKCExKSxQcm9taXNlLnJlamVjdChlKX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ0ZXN0LWNhbGwtcXVhbGl0eVwiLGRhaWx5SnNWZXJzaW9uOnQucHJvcGVydGllcy5kYWlseUpzVmVyc2lvbn0sKGZ1bmN0aW9uKGkpe3ZhciBvPWkucmVzdWx0cyxzPW8ucmVzdWx0LGE9ZShvLFZhKTtpZihcImZhaWxlZFwiPT09cyl7dmFyIGMsbD1xYSh7fSxhKTtudWxsIT09KGM9YS5lcnJvcikmJnZvaWQgMCE9PWMmJmMuZGV0YWlscz8oYS5lcnJvci5kZXRhaWxzPUpTT04ucGFyc2UoYS5lcnJvci5kZXRhaWxzKSxsLmVycm9yPXFhKHFhKHt9LGwuZXJyb3IpLHt9LHtkZXRhaWxzOnFhKHt9LGwuZXJyb3IuZGV0YWlscyl9KSxsLmVycm9yLmRldGFpbHMuZHVyaW5nVGVzdD1cInRlc3RDYWxsUXVhbGl0eVwiKToobC5lcnJvcj1sLmVycm9yP3FhKHt9LGwuZXJyb3IpOnt9LGwuZXJyb3IuZGV0YWlscz17ZHVyaW5nVGVzdDpcInRlc3RDYWxsUXVhbGl0eVwifSksdC5fbWF5YmVTZW5kVG9TZW50cnkobCl9cighMSksbihxYSh7cmVzdWx0OnN9LGEpKX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiB3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3RvcFRlc3RDYWxsUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtdGVzdC1jYWxsLXF1YWxpdHlcIn0pfX0se2tleTpcInRlc3RDb25uZWN0aW9uUXVhbGl0eVwiLHZhbHVlOihfPWgoKGZ1bmN0aW9uKihlKXt2YXIgdDt5cygpPyhjb25zb2xlLndhcm4oXCJ0ZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdFBlZXJUb1BlZXJDYWxsUXVhbGl0eSgpIGluc3RlYWRcIiksdD15aWVsZCB0aGlzLnRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoZSkpOihjb25zb2xlLndhcm4oXCJ0ZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdENhbGxRdWFsaXR5KCkgaW5zdGVhZFwiKSx0PXlpZWxkIHRoaXMudGVzdENhbGxRdWFsaXR5KCkpO3ZhciBuPXtyZXN1bHQ6dC5yZXN1bHQsc2Vjb25kc0VsYXBzZWQ6dC5zZWNvbmRzRWxhcHNlZH07cmV0dXJuIHQuZGF0YSYmKG4uZGF0YT17bWF4UlRUOnQuZGF0YS5tYXhSb3VuZFRyaXBUaW1lLHBhY2tldExvc3M6dC5kYXRhLmF2Z1JlY3ZQYWNrZXRMb3NzfSksbn0pKSxmdW5jdGlvbihlKXtyZXR1cm4gXy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHlcIix2YWx1ZTooYj1oKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihwYyh0aGlzLl90ZXN0Q2FsbEluUHJvZ3Jlc3MsXCJ0ZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KClcIiksdGhpcy5uZWVkc0xvYWQoKSl0cnl7eWllbGQgdGhpcy5sb2FkKCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfXZhciBuPWUudmlkZW9UcmFjayxyPWUuZHVyYXRpb247aWYoIXRoaXMuX3ZhbGlkYXRlVmlkZW9UcmFja0Zvck5ldHdvcmtUZXN0cyhuKSl0aHJvdyBuZXcgRXJyb3IoXCJWaWRlbyB0cmFjayBlcnJvclwiKTtyZXR1cm4gdGhpcy5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2tGb3JDb25uZWN0aW9uUXVhbGl0eVRlc3Q9bixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC1wMnAtY2FsbC1xdWFsaXR5XCIsZHVyYXRpb246cn0sKGZ1bmN0aW9uKHQpe3QuZXJyb3I/bih0LmVycm9yKTplKHQucmVzdWx0cyl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdG9wVGVzdENvbm5lY3Rpb25RdWFsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt5cygpPyhjb25zb2xlLndhcm4oXCJzdG9wVGVzdENvbm5lY3Rpb25RdWFsaXR5KCkgaXMgZGVwcmVjYXRlZDogdXNlIHRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSBhbmQgc3RvcFRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSBpbnN0ZWFkXCIpLHRoaXMuc3RvcFRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSk6KGNvbnNvbGUud2FybihcInN0b3BUZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdENhbGxRdWFsaXR5KCkgYW5kIHN0b3BUZXN0Q2FsbFF1YWxpdHkoKSBpbnN0ZWFkXCIpLHRoaXMuc3RvcFRlc3RDYWxsUXVhbGl0eSgpKX19LHtrZXk6XCJzdG9wVGVzdFBlZXJUb1BlZXJDYWxsUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtdGVzdC1wMnAtY2FsbC1xdWFsaXR5XCJ9KX19LHtrZXk6XCJ0ZXN0TmV0d29ya0Nvbm5lY3Rpdml0eVwiLHZhbHVlOih5PWgoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2lmKHBjKHRoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyxcInRlc3ROZXR3b3JrQ29ubmVjdGl2aXR5KClcIiksdGhpcy5uZWVkc0xvYWQoKSl0cnl7eWllbGQgdGhpcy5sb2FkKCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWlmKCF0aGlzLl92YWxpZGF0ZVZpZGVvVHJhY2tGb3JOZXR3b3JrVGVzdHMoZSkpdGhyb3cgbmV3IEVycm9yKFwiVmlkZW8gdHJhY2sgZXJyb3JcIik7cmV0dXJuIHRoaXMuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrRm9yTmV0d29ya0Nvbm5lY3Rpdml0eVRlc3Q9ZSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC1uZXR3b3JrLWNvbm5lY3Rpdml0eVwifSwoZnVuY3Rpb24odCl7dC5lcnJvcj9uKHQuZXJyb3IpOmUodC5yZXN1bHRzKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4geS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImFib3J0VGVzdE5ldHdvcmtDb25uZWN0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJhYm9ydC10ZXN0LW5ldHdvcmstY29ubmVjdGl2aXR5XCJ9KX19LHtrZXk6XCJnZXRDcHVMb2FkU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtpZihlLl9jYWxsU3RhdGU9PT1iaSl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1jcHUtbG9hZC1zdGF0c1wifSwoZnVuY3Rpb24oZSl7dChlLmNwdVN0YXRzKX0pKX1lbHNlIHQoe2NwdUxvYWRTdGF0ZTp2b2lkIDAsY3B1TG9hZFN0YXRlUmVhc29uOnZvaWQgMCxzdGF0czp7fX0pfSkpfX0se2tleTpcIl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtpZighKChudWxsPT09KHQ9T2JqZWN0LmtleXMoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCk+MCkpdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgZW5jb2RpbmcgaXMgbm90IGFsbG93ZWQuIEF0IGxlYXN0IG9uZSBvZiB0aGVzZSB2YWxpZCBrZXlzIHNob3VsZCBiZSBzcGVjaWZpZWQ6XCIrT2JqZWN0LnZhbHVlcyhlYykpfX0se2tleTpcIl92YWxpZGF0ZVZpZGVvU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1cInNjcmVlblZpZGVvXCI9PT1lP1tcImRlZmF1bHQtc2NyZWVuLXZpZGVvXCIsXCJkZXRhaWwtb3B0aW1pemVkXCIsXCJtb3Rpb24tb3B0aW1pemVkXCIsXCJtb3Rpb24tYW5kLWRldGFpbC1iYWxhbmNlZFwiXTpbXCJkZWZhdWx0LXZpZGVvXCIsXCJiYW5kd2lkdGgtb3B0aW1pemVkXCIsXCJiYW5kd2lkdGgtYW5kLXF1YWxpdHktYmFsYW5jZWRcIixcInF1YWxpdHktb3B0aW1pemVkXCIsXCJhZGFwdGl2ZS0yLWxheWVyc1wiLFwiYWRhcHRpdmUtMy1sYXllcnNcIl0saT1cIlZpZGVvIHNlbmQgc2V0dGluZ3Mgc2hvdWxkIGJlIGVpdGhlciBhbiBvYmplY3Qgb3Igb25lIG9mIHRoZSBzdXBwb3J0ZWQgcHJlc2V0czogXCIuY29uY2F0KHIuam9pbigpKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoIXIuaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKGkpfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4odCkpdGhyb3cgbmV3IEVycm9yKGkpO2lmKCF0Lm1heFF1YWxpdHkmJiF0LmVuY29kaW5ncyYmdm9pZCAwPT09dC5hbGxvd0FkYXB0aXZlTGF5ZXJzKXRocm93IG5ldyBFcnJvcihcIlZpZGVvIHNlbmQgc2V0dGluZ3MgbXVzdCBjb250YWluIGF0IGxlYXN0IG1heFF1YWxpdHksIGFsbG93QWRhcHRpdmVMYXllcnMgb3IgZW5jb2RpbmdzIGF0dHJpYnV0ZVwiKTtpZih0Lm1heFF1YWxpdHkmJi0xPT09W1wibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0uaW5kZXhPZih0Lm1heFF1YWxpdHkpKXRocm93IG5ldyBFcnJvcihcIm1heFF1YWxpdHkgbXVzdCBiZSBlaXRoZXIgbG93LCBtZWRpdW0gb3IgaGlnaFwiKTtpZih0LmVuY29kaW5ncyl7dmFyIG89ITE7c3dpdGNoKE9iamVjdC5rZXlzKHQuZW5jb2RpbmdzKS5sZW5ndGgpe2Nhc2UgMTpvPSF0LmVuY29kaW5ncy5sb3c7YnJlYWs7Y2FzZSAyOm89IXQuZW5jb2RpbmdzLmxvd3x8IXQuZW5jb2RpbmdzLm1lZGl1bTticmVhaztjYXNlIDM6bz0hdC5lbmNvZGluZ3MubG93fHwhdC5lbmNvZGluZ3MubWVkaXVtfHwhdC5lbmNvZGluZ3MuaGlnaDticmVhaztkZWZhdWx0Om89ITB9aWYobyl0aHJvdyBuZXcgRXJyb3IoXCJFbmNvZGluZ3MgbXVzdCBiZSBkZWZpbmVkIGFzOiBsb3csIGxvdyBhbmQgbWVkaXVtLCBvciBsb3csIG1lZGl1bSBhbmQgaGlnaC5cIik7dC5lbmNvZGluZ3MubG93JiZ0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXModC5lbmNvZGluZ3MubG93KSx0LmVuY29kaW5ncy5tZWRpdW0mJnRoaXMuX3ZhbGlkYXRlRW5jb2RpbmdMYXllckhhc1ZhbGlkUHJvcGVydGllcyh0LmVuY29kaW5ncy5tZWRpdW0pLHQuZW5jb2RpbmdzLmhpZ2gmJnRoaXMuX3ZhbGlkYXRlRW5jb2RpbmdMYXllckhhc1ZhbGlkUHJvcGVydGllcyh0LmVuY29kaW5ncy5oaWdoKX19fX0se2tleTpcInZhbGlkYXRlVXBkYXRlU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZXx8MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJTZW5kIHNldHRpbmdzIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmZvcm1hdGlvbiBmb3Igb25lIHRyYWNrIVwiKTtPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mKGUsMikscj1uWzBdLGk9blsxXTt0Ll92YWxpZGF0ZVZpZGVvU2VuZFNldHRpbmdzKHIsaSl9KSl9fSx7a2V5OlwidXBkYXRlU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy52YWxpZGF0ZVVwZGF0ZVNlbmRTZXR0aW5ncyhlKSx0aGlzLm5lZWRzTG9hZCgpPyh0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzPWUse3NlbmRTZXR0aW5nczp0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzfSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1zZW5kLXNldHRpbmdzXCIsc2VuZFNldHRpbmdzOmV9LChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlLnNlbmRTZXR0aW5ncyl9KSl9KSl9fSx7a2V5OlwiZ2V0U2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZFNldHRpbmdzfHx0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzfX0se2tleTpcImdldExvY2FsQXVkaW9MZXZlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsQXVkaW9MZXZlbH19LHtrZXk6XCJnZXRSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbH19LHtrZXk6XCJnZXRBY3RpdmVTcGVha2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2MoKSx0aGlzLl9hY3RpdmVTcGVha2VyfX0se2tleTpcInNldEFjdGl2ZVNwZWFrZXJNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGdjKCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1hY3RpdmUtc3BlYWtlci1tb2RlXCIsZW5hYmxlZDplfSksdGhpc319LHtrZXk6XCJhY3RpdmVTcGVha2VyTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGdjKCksdGhpcy5fYWN0aXZlU3BlYWtlck1vZGV9fSx7a2V5Olwic3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJlbG9hZENhY2hlLnN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseX19LHtrZXk6XCJzZXRTdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHlcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbGModGhpcy5fY2FsbFN0YXRlLFwic2V0U3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5KClcIixcIlVzZSB0aGUgc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5IGNvbmZpZ3VyYXRpb24gcHJvcGVydHkuXCIpLHRoaXMuX3ByZWxvYWRDYWNoZS5zdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHk9ZSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN1YnNjcmliZS10by10cmFja3MtYXV0b21hdGljYWxseVwiLGVuYWJsZWQ6ZX0pLHRoaXN9fSx7a2V5OlwiZW51bWVyYXRlRGV2aWNlc1wiLHZhbHVlOihtPWgoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7aWYodGhpcy5fY2FsbE9iamVjdE1vZGUpe3ZhciB0PXlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO3JldHVyblwiRmlyZWZveFwiPT09anMoKSYmSXMoKS5tYWpvcj4xMTUmJklzKCkubWFqb3I8MTIzJiYodD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb291dHB1dFwiIT09ZS5raW5kfSkpKSx7ZGV2aWNlczp0Lm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7aWYoIXlzKCkmJlwidmlkZW9pbnB1dFwiPT09ZS5raW5kJiZlLmdldENhcGFiaWxpdGllcyl7dmFyIG4scj1lLmdldENhcGFiaWxpdGllcygpO3QuZmFjaW5nPShudWxsPT1yfHxudWxsPT09KG49ci5mYWNpbmdNb2RlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5sZW5ndGgpPj0xP3IuZmFjaW5nTW9kZVswXTp2b2lkIDB9cmV0dXJuIHR9KSl9fXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImVudW1lcmF0ZS1kZXZpY2VzXCJ9LChmdW5jdGlvbihlKXt0KHtkZXZpY2VzOmUuZGV2aWNlc30pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZW5kQXBwTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIipcIjtpZihsYyh0aGlzLl9jYWxsU3RhdGUsXCJzZW5kQXBwTWVzc2FnZSgpXCIpLEpTT04uc3RyaW5naWZ5KGUpLmxlbmd0aD50aGlzLl9tYXhBcHBNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGRhdGEgdG9vIGxhcmdlLiBNYXggc2l6ZSBpcyBcIit0aGlzLl9tYXhBcHBNZXNzYWdlU2l6ZSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJhcHAtbXNnXCIsZGF0YTplLHRvOnR9KSx0aGlzfX0se2tleTpcImFkZEZha2VQYXJ0aWNpcGFudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBnYygpLGxjKHRoaXMuX2NhbGxTdGF0ZSxcImFkZEZha2VQYXJ0aWNpcGFudCgpXCIpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246XCJhZGQtZmFrZS1wYXJ0aWNpcGFudFwifSxlKSksdGhpc319LHtrZXk6XCJzZXRTaG93TmFtZXNNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd05hbWVzTW9kZSgpXCIpLGdjKCksZSYmXCJhbHdheXNcIiE9PWUmJlwibmV2ZXJcIiE9PWU/KGNvbnNvbGUuZXJyb3IoJ3NldFNob3dOYW1lc01vZGUgYXJndW1lbnQgc2hvdWxkIGJlIFwiYWx3YXlzXCIsIFwibmV2ZXJcIiwgb3IgZmFsc2UnKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LW5hbWVzXCIsbW9kZTplfSksdGhpcyl9fSx7a2V5Olwic2V0U2hvd0xvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd0xvY2FsVmlkZW8oKVwiKSxnYygpLGxjKHRoaXMuX2NhbGxTdGF0ZSxcInNldFNob3dMb2NhbFZpZGVvKClcIiksXCJib29sZWFuXCIhPXR5cGVvZiBlPyhjb25zb2xlLmVycm9yKFwic2V0U2hvd0xvY2FsVmlkZW8gb25seSBhY2NlcHRzIGEgYm9vbGVhbiB2YWx1ZVwiKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LWxvY2FsLXZpZGVvXCIsc2hvdzplfSksdGhpcy5fc2hvd0xvY2FsVmlkZW89ZSx0aGlzKX19LHtrZXk6XCJzaG93TG9jYWxWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2hvd0xvY2FsVmlkZW8oKVwiKSxnYygpLHRoaXMuX3Nob3dMb2NhbFZpZGVvfX0se2tleTpcInNldFNob3dQYXJ0aWNpcGFudHNCYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLGdjKCksbGModGhpcy5fY2FsbFN0YXRlLFwic2V0U2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLFwiYm9vbGVhblwiIT10eXBlb2YgZT8oY29uc29sZS5lcnJvcihcInNldFNob3dQYXJ0aWNpcGFudHNCYXIgb25seSBhY2NlcHRzIGEgYm9vbGVhbiB2YWx1ZVwiKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LXBhcnRpY2lwYW50cy1iYXJcIixzaG93OmV9KSx0aGlzLl9zaG93UGFydGljaXBhbnRzQmFyPWUsdGhpcyl9fSx7a2V5Olwic2hvd1BhcnRpY2lwYW50c0JhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLGdjKCksdGhpcy5fc2hvd1BhcnRpY2lwYW50c0Jhcn19LHtrZXk6XCJjdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBnYygpLHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwiY3VzdG9tSW50ZWdyYXRpb25zKClcIiksdGhpcy5fY3VzdG9tSW50ZWdyYXRpb25zfX0se2tleTpcInNldEN1c3RvbUludGVncmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBnYygpLHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksbGModGhpcy5fY2FsbFN0YXRlLFwic2V0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksUGMoZSk/KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtY3VzdG9tLWludGVncmF0aW9uc1wiLGludGVncmF0aW9uczplfSksdGhpcy5fY3VzdG9tSW50ZWdyYXRpb25zPWUsdGhpcyk6dGhpc319LHtrZXk6XCJzdGFydEN1c3RvbUludGVncmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZ2MoKSx2Yyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInN0YXJ0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksbGModGhpcy5fY2FsbFN0YXRlLFwic3RhcnRDdXN0b21JbnRlZ3JhdGlvbnMoKVwiKSxBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpfHwhQXJyYXkuaXNBcnJheShlKSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzdGFydEN1c3RvbUludGVncmF0aW9ucygpIG9ubHkgYWNjZXB0cyBzdHJpbmcgfCBzdHJpbmdbXVwiKSx0aGlzO3ZhciBuPVwic3RyaW5nXCI9PXR5cGVvZiBlP1tlXTplLHI9bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEoZSBpbiB0Ll9jdXN0b21JbnRlZ3JhdGlvbnMpfSkpO3JldHVybiByLmxlbmd0aD8oY29uc29sZS5lcnJvcihcIkNhbid0IGZpbmQgY3VzdG9tIGludGVncmF0aW9uKHMpOiBcXFwiXCIuY29uY2F0KHIuam9pbihcIiwgXCIpLCdcIicpKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWN1c3RvbS1pbnRlZ3JhdGlvbnNcIixpZHM6bn0pLHRoaXMpfX0se2tleTpcInN0b3BDdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGdjKCksdmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJzdG9wQ3VzdG9tSW50ZWdyYXRpb25zKClcIiksbGModGhpcy5fY2FsbFN0YXRlLFwic3RvcEN1c3RvbUludGVncmF0aW9ucygpXCIpLEFycmF5LmlzQXJyYXkoZSkmJmUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV9KSl8fCFBcnJheS5pc0FycmF5KGUpJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gY29uc29sZS5lcnJvcihcInN0b3BDdXN0b21JbnRlZ3JhdGlvbnMoKSBvbmx5IGFjY2VwdHMgc3RyaW5nIHwgc3RyaW5nW11cIiksdGhpczt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSxyPW4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hKGUgaW4gdC5fY3VzdG9tSW50ZWdyYXRpb25zKX0pKTtyZXR1cm4gci5sZW5ndGg/KGNvbnNvbGUuZXJyb3IoXCJDYW4ndCBmaW5kIGN1c3RvbSBpbnRlZ3JhdGlvbihzKTogXFxcIlwiLmNvbmNhdChyLmpvaW4oXCIsIFwiKSwnXCInKSksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLWN1c3RvbS1pbnRlZ3JhdGlvbnNcIixpZHM6bn0pLHRoaXMpfX0se2tleTpcImN1c3RvbVRyYXlCdXR0b25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJjdXN0b21UcmF5QnV0dG9ucygpXCIpLGdjKCksdGhpcy5fY3VzdG9tVHJheUJ1dHRvbnN9fSx7a2V5OlwidXBkYXRlQ3VzdG9tVHJheUJ1dHRvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ1cGRhdGVDdXN0b21UcmF5QnV0dG9ucygpXCIpLGdjKCksbGModGhpcy5fY2FsbFN0YXRlLFwidXBkYXRlQ3VzdG9tVHJheUJ1dHRvbnMoKVwiKSxPYyhlKT8odGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1jdXN0b20tdHJheS1idXR0b25zXCIsYnRuczplfSksdGhpcy5fY3VzdG9tVHJheUJ1dHRvbnM9ZSx0aGlzKTooY29uc29sZS5lcnJvcihcInVwZGF0ZUN1c3RvbVRyYXlCdXR0b25zIG9ubHkgYWNjZXB0cyBhIGRpY3Rpb25hcnkgb2YgdGhlIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJjKSkpLHRoaXMpfX0se2tleTpcInRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdmModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ0aGVtZSgpXCIpLHRoaXMucHJvcGVydGllcy50aGVtZX19LHtrZXk6XCJzZXRUaGVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0VGhlbWUoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0cnl7dC52YWxpZGF0ZVByb3BlcnRpZXMoe3RoZW1lOmV9KSx0LnByb3BlcnRpZXMudGhlbWU9cWEoe30sZSksdC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC10aGVtZVwiLHRoZW1lOnQucHJvcGVydGllcy50aGVtZX0pO3RyeXt0LmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjplbyx0aGVtZTp0LnByb3BlcnRpZXMudGhlbWV9KX1jYXRjaChlKXtjb25zb2xlLmxvZyhcImNvdWxkIG5vdCBlbWl0ICd0aGVtZS11cGRhdGVkJ1wiLGUpfW4odC5wcm9wZXJ0aWVzLnRoZW1lKX1jYXRjaChlKXtyKGUpfX0pKX19LHtrZXk6XCJyZXF1ZXN0RnVsbHNjcmVlblwiLHZhbHVlOihnPWgoKGZ1bmN0aW9uKigpe2lmKGdjKCksdGhpcy5faWZyYW1lJiYhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQmJndzKCkpdHJ5eyh5aWVsZCB0aGlzLl9pZnJhbWUucmVxdWVzdEZ1bGxzY3JlZW4pP3RoaXMuX2lmcmFtZS5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX2lmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpfWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiY291bGQgbm90IG1ha2UgdmlkZW8gY2FsbCBmdWxsc2NyZWVuXCIsZSl9fSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJleGl0RnVsbHNjcmVlblwiLHZhbHVlOmZ1bmN0aW9uKCl7Z2MoKSxkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JiZkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpfX0se2tleTpcImdldFNpZGViYXJWaWV3XCIsdmFsdWU6KHY9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fY2FsbE9iamVjdE1vZGU/KGNvbnNvbGUuZXJyb3IoXCJnZXRTaWRlYmFyVmlldyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGxPYmplY3QgbW9kZVwiKSxQcm9taXNlLnJlc29sdmUobnVsbCkpOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LXNpZGViYXItdmlld1wifSwoZnVuY3Rpb24oZSl7dChlLnZpZXcpfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRTaWRlYmFyVmlld1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jYWxsT2JqZWN0TW9kZT8oY29uc29sZS5lcnJvcihcInNldFNpZGViYXJWaWV3IGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbE9iamVjdCBtb2RlXCIpLHRoaXMpOih0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LXNpZGViYXItdmlld1wiLHZpZXc6ZX0pLHRoaXMpfX0se2tleTpcInJvb21cIix2YWx1ZToocD1oKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuaW5jbHVkZVJvb21Db25maWdEZWZhdWx0cyxuPXZvaWQgMD09PXR8fHQ7cmV0dXJuIHRoaXMuX2FjY2Vzc1N0YXRlLmFjY2Vzcz09PU9pfHx0aGlzLm5lZWRzTG9hZCgpP3RoaXMucHJvcGVydGllcy51cmw/e3Jvb21VcmxQZW5kaW5nSm9pbjp0aGlzLnByb3BlcnRpZXMudXJsfTpudWxsOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibGliLXJvb20taW5mb1wiLGluY2x1ZGVSb29tQ29uZmlnRGVmYXVsdHM6bn0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHQoZSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImdlb1wiLHZhbHVlOihkPWgoKGZ1bmN0aW9uKigpe3RyeXt2YXIgZT15aWVsZCBmZXRjaChcImh0dHBzOi8vZ3MuZGFpbHkuY28vX2tzXy94LXN3c2wvOlwiKTtyZXR1cm57Y3VycmVudDooeWllbGQgZS5qc29uKCkpLmdlb319Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJnZW8gbG9va3VwIGZhaWxlZFwiLGUpLHtjdXJyZW50OlwiXCJ9fX0pKSxmdW5jdGlvbigpe3JldHVybiBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0TmV0d29ya1RvcG9sb2d5XCIsdmFsdWU6KGM9aCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGdjKCksbGModGhpcy5fY2FsbFN0YXRlLFwic2V0TmV0d29ya1RvcG9sb2d5KClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1uZXR3b3JrLXRvcG9sb2d5XCIsb3B0czplfSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKHtlcnJvcjplLmVycm9yfSk6bih7d29ya2VySWQ6ZS53b3JrZXJJZH0pfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0TmV0d29ya1RvcG9sb2d5XCIsdmFsdWU6KGk9aCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5uZWVkc0xvYWQoKSYmdCh7dG9wb2xvZ3k6XCJub25lXCJ9KSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LW5ldHdvcmstdG9wb2xvZ3lcIn0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/bih7ZXJyb3I6ZS5lcnJvcn0pOnQoe3RvcG9sb2d5OmUudG9wb2xvZ3l9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0UGxheU5ld1BhcnRpY2lwYW50U291bmRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihnYygpLFwibnVtYmVyXCIhPXR5cGVvZiBlJiYhMCE9PWUmJiExIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJhcmd1bWVudCB0byBzZXRTaG91bGRQbGF5TmV3UGFydGljaXBhbnRTb3VuZCBzaG91bGQgYmUgdHJ1ZSwgZmFsc2UsIG9yIGEgbnVtYmVyLCBidXQgaXMgXCIuY29uY2F0KGUpKTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXNldC1wbGF5LWRpbmdcIixhcmc6ZX0pfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsdCl9fSx7a2V5Olwib25jZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsdCl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLHQpfX0se2tleTpcInZhbGlkYXRlUHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYobnVsbCE9ZSYmbnVsbCE9PSh0PWUuZGFpbHlDb25maWcpJiZ2b2lkIDAhPT10JiZ0LnVzZXJNZWRpYUF1ZGlvQ29uc3RyYWludHMpe3ZhciByLGk7eXMoKXx8Y29uc29sZS53YXJuKFwidXNlck1lZGlhQXVkaW9Db25zdHJhaW50cyBpcyBkZXByZWNhdGVkLiBZb3UgY2FuIG92ZXJyaWRlIGNvbnN0cmFpbnRzIHdpdGggaW5wdXRTZXR0aW5ncy5hdWRpby5zZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucy5cIik7dmFyIG89ZS5pbnB1dFNldHRpbmdzfHx7fTtvLmF1ZGlvPShudWxsPT09KHI9ZS5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdWRpbyl8fHt9LG8uYXVkaW8uc2V0dGluZ3M9KG51bGw9PT0oaT1lLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5hdWRpbyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2V0dGluZ3MpfHx7fSxvLmF1ZGlvLnNldHRpbmdzPXFhKHFhKHt9LG8uYXVkaW8uc2V0dGluZ3MpLGUuZGFpbHlDb25maWcudXNlck1lZGlhQXVkaW9Db25zdHJhaW50cyksZS5pbnB1dFNldHRpbmdzPW8sZGVsZXRlIGUuZGFpbHlDb25maWcudXNlck1lZGlhQXVkaW9Db25zdHJhaW50c31pZihudWxsIT1lJiZudWxsIT09KG49ZS5kYWlseUNvbmZpZykmJnZvaWQgMCE9PW4mJm4udXNlck1lZGlhVmlkZW9Db25zdHJhaW50cyl7dmFyIHMsYTt5cygpfHxjb25zb2xlLndhcm4oXCJ1c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzIGlzIGRlcHJlY2F0ZWQuIFlvdSBjYW4gb3ZlcnJpZGUgY29uc3RyYWludHMgd2l0aCBpbnB1dFNldHRpbmdzLnZpZGVvLnNldHRpbmdzLCBmb3VuZCBpbiBEYWlseUNhbGxPcHRpb25zLlwiKTt2YXIgYz1lLmlucHV0U2V0dGluZ3N8fHt9O2MudmlkZW89KG51bGw9PT0ocz1lLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnZpZGVvKXx8e30sYy52aWRlby5zZXR0aW5ncz0obnVsbD09PShhPWUuaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnZpZGVvKXx8dm9pZCAwPT09YT92b2lkIDA6YS5zZXR0aW5ncyl8fHt9LGMudmlkZW8uc2V0dGluZ3M9cWEocWEoe30sYy52aWRlby5zZXR0aW5ncyksZS5kYWlseUNvbmZpZy51c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzKSxlLmlucHV0U2V0dGluZ3M9YyxkZWxldGUgZS5kYWlseUNvbmZpZy51c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzfWZvcih2YXIgbCBpbiBlKXtpZighb2NbbF0pdGhyb3cgbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIHByb3BlcnR5ICdcIi5jb25jYXQobCxcIidcIikpO2lmKG9jW2xdLnZhbGlkYXRlJiYhb2NbbF0udmFsaWRhdGUoZVtsXSx0aGlzKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9wZXJ0eSAnXCIuY29uY2F0KGwsXCInOiBcIikuY29uY2F0KG9jW2xdLmhlbHApKX19fSx7a2V5OlwiYXNzZW1ibGVNZWV0aW5nVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0LG49cWEocWEoe30sdGhpcy5wcm9wZXJ0aWVzKSx7fSx7ZW1iOnRoaXMuY2FsbENsaWVudElkLGVtYkhyZWY6ZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxwcm94eTpudWxsIT09KGU9dGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnKSYmdm9pZCAwIT09ZSYmZS5wcm94eVVybD9lbmNvZGVVUklDb21wb25lbnQobnVsbD09PSh0PXRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJveHlVcmwpOnZvaWQgMH0pLHI9bi51cmwubWF0Y2goL1xcPy8pP1wiJlwiOlwiP1wiO3JldHVybiBuLnVybCtyK09iamVjdC5rZXlzKG9jKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBvY1tlXS5xdWVyeVN0cmluZyYmdm9pZCAwIT09bltlXX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KG9jW2VdLnF1ZXJ5U3RyaW5nLFwiPVwiKS5jb25jYXQobltlXSl9KSkuam9pbihcIiZcIil9fSx7a2V5OlwibmVlZHNMb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bdmksZ2ksX2ksd2ldLmluY2x1ZGVzKHRoaXMuX2NhbGxTdGF0ZSl9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9kZXN0cm95ZWQmJih0aGlzLl9sb2dVc2VBZnRlckRlc3Ryb3koKSx0aGlzLnN0cmljdE1vZGUpKXRocm93IG5ldyBFcnJvcihcIlVzZSBhZnRlciBkZXN0cm95XCIpO3RoaXMuX21lc3NhZ2VDaGFubmVsLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShlLHQsdGhpcy5jYWxsQ2xpZW50SWQsdGhpcy5faWZyYW1lKX19LHtrZXk6XCJmb3J3YXJkUGFja2FnZWRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VDaGFubmVsLmZvcndhcmRQYWNrYWdlZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKGUsdGhpcy5faWZyYW1lLHRoaXMuY2FsbENsaWVudElkKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUNoYW5uZWwuYWRkTGlzdGVuZXJGb3JQYWNrYWdlZE1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lKGUsdGhpcy5jYWxsQ2xpZW50SWQpfX0se2tleTpcInJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VDaGFubmVsLnJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZShlKX19LHtrZXk6XCJoYW5kbGVNZXNzYWdlRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQuYWN0aW9uKXtjYXNlIFhpOnRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHFhKHthY3Rpb246Wml9LHRoaXMucHJvcGVydGllcykpO2JyZWFrO2Nhc2VcImNhbGwtbWFjaGluZS1pbml0aWFsaXplZFwiOnRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ9ITA7dmFyIG49e2FjdGlvbjpjcyxsZXZlbDpcImxvZ1wiLGNvZGU6MTAxMSxzdGF0czp7ZXZlbnQ6XCJidW5kbGUgbG9hZFwiLHRpbWU6XCJuby1vcFwiPT09dGhpcy5fYnVuZGxlTG9hZFRpbWU/MDp0aGlzLl9idW5kbGVMb2FkVGltZSxwcmVMb2FkZWQ6XCJuby1vcFwiPT09dGhpcy5fYnVuZGxlTG9hZFRpbWUsdXJsOloodGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnKX19O3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKG4pLHRoaXMuX2RlbGF5RHVwbGljYXRlSW5zdGFuY2VMb2cmJnRoaXMuX2xvZ0R1cGxpY2F0ZUluc3RhbmNlQXR0ZW1wdCgpO2JyZWFrO2Nhc2Ugcm86dGhpcy5fbG9hZGVkQ2FsbGJhY2smJih0aGlzLl9sb2FkZWRDYWxsYmFjaygpLHRoaXMuX2xvYWRlZENhbGxiYWNrPW51bGwpLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIGFvOnZhciByLGk9cWEoe30sdCk7ZGVsZXRlIGkuaW50ZXJuYWwsdGhpcy5fbWF4QXBwTWVzc2FnZVNpemU9KG51bGw9PT0ocj10LmludGVybmFsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5fbWF4QXBwTWVzc2FnZVNpemUpfHxycyx0aGlzLl9qb2luZWRDYWxsYmFjayYmKHRoaXMuX2pvaW5lZENhbGxiYWNrKHQucGFydGljaXBhbnRzKSx0aGlzLl9qb2luZWRDYWxsYmFjaz1udWxsKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoaSk7YnJlYWs7Y2FzZSBsbzpjYXNlIHVvOmlmKHRoaXMuX2NhbGxTdGF0ZT09PV9pKXJldHVybjtpZih0LnBhcnRpY2lwYW50JiZ0LnBhcnRpY2lwYW50LnNlc3Npb25faWQpe3ZhciBvPXQucGFydGljaXBhbnQubG9jYWw/XCJsb2NhbFwiOnQucGFydGljaXBhbnQuc2Vzc2lvbl9pZDtpZih0aGlzLl9jYWxsT2JqZWN0TW9kZSl7dmFyIHM9dGhpcy5fY2FsbE1hY2hpbmUoKS5zdG9yZTtwYSh0LnBhcnRpY2lwYW50LHMpLGZhKHQucGFydGljaXBhbnQscyksZ2EodC5wYXJ0aWNpcGFudCx0aGlzLl9wYXJ0aWNpcGFudHNbb10scyl9dHJ5e3RoaXMubWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0b3BwZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0YXJ0ZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVFdmVudFJlY29yZGluZ1N0b3BwZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVFdmVudFJlY29yZGluZ1N0YXJ0ZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ0cmFjayBldmVudHMgZXJyb3JcIixlKX10aGlzLmNvbXBhcmVFcXVhbEZvclBhcnRpY2lwYW50VXBkYXRlRXZlbnQodC5wYXJ0aWNpcGFudCx0aGlzLl9wYXJ0aWNpcGFudHNbb10pfHwodGhpcy5fcGFydGljaXBhbnRzW29dPXFhKHt9LHQucGFydGljaXBhbnQpLHRoaXMudG9nZ2xlUGFydGljaXBhbnRBdWRpb0Jhc2VkT25OYXRpdmVBdWRpb0ZvY3VzKCksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKX1icmVhaztjYXNlIGhvOmlmKHQucGFydGljaXBhbnQmJnQucGFydGljaXBhbnQuc2Vzc2lvbl9pZCl7dmFyIGE9dGhpcy5fcGFydGljaXBhbnRzW3QucGFydGljaXBhbnQuc2Vzc2lvbl9pZF07YSYmdGhpcy5tYXliZVBhcnRpY2lwYW50VHJhY2tzU3RvcHBlZChhLG51bGwpLGRlbGV0ZSB0aGlzLl9wYXJ0aWNpcGFudHNbdC5wYXJ0aWNpcGFudC5zZXNzaW9uX2lkXSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCl9YnJlYWs7Y2FzZSBwbzpOKHRoaXMuX3BhcnRpY2lwYW50Q291bnRzLHQucGFydGljaXBhbnRDb3VudHMpfHwodGhpcy5fcGFydGljaXBhbnRDb3VudHM9dC5wYXJ0aWNpcGFudENvdW50cyx0aGlzLmVtaXREYWlseUpTRXZlbnQodCkpO2JyZWFrO2Nhc2UgZm86dmFyIGM9e2FjY2Vzczp0LmFjY2Vzc307dC5hd2FpdGluZ0FjY2VzcyYmKGMuYXdhaXRpbmdBY2Nlc3M9dC5hd2FpdGluZ0FjY2VzcyksTih0aGlzLl9hY2Nlc3NTdGF0ZSxjKXx8KHRoaXMuX2FjY2Vzc1N0YXRlPWMsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlIHZvOmlmKHQubWVldGluZ1Nlc3Npb24pe3RoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeT10Lm1lZXRpbmdTZXNzaW9uLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTt2YXIgbD1xYShxYSh7fSx0KSx7fSx7YWN0aW9uOlwibWVldGluZy1zZXNzaW9uLXVwZGF0ZWRcIn0pO3RoaXMuZW1pdERhaWx5SlNFdmVudChsKX1icmVhaztjYXNlIG5zOnZhciB1O3RoaXMuX2lmcmFtZSYmIXQucHJlc2VydmVJZnJhbWUmJih0aGlzLl9pZnJhbWUuc3JjPVwiXCIpLHRoaXMuX3VwZGF0ZUNhbGxTdGF0ZSh3aSksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fbG9hZGVkQ2FsbGJhY2smJih0aGlzLl9sb2FkZWRDYWxsYmFjayh0LmVycm9yTXNnKSx0aGlzLl9sb2FkZWRDYWxsYmFjaz1udWxsKSx0LnByZXNlcnZlSWZyYW1lO3ZhciBkPWUodCxKYSk7bnVsbCE9ZCYmbnVsbCE9PSh1PWQuZXJyb3IpJiZ2b2lkIDAhPT11JiZ1LmRldGFpbHMmJihkLmVycm9yLmRldGFpbHM9SlNPTi5wYXJzZShkLmVycm9yLmRldGFpbHMpKSx0aGlzLl9tYXliZVNlbmRUb1NlbnRyeSh0KSx0aGlzLl9qb2luZWRDYWxsYmFjayYmKHRoaXMuX2pvaW5lZENhbGxiYWNrKG51bGwsZCksdGhpcy5fam9pbmVkQ2FsbGJhY2s9bnVsbCksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KGQpO2JyZWFrO2Nhc2UgY286dGhpcy5fY2FsbFN0YXRlIT09d2kmJnRoaXMuX3VwZGF0ZUNhbGxTdGF0ZShfaSksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fcmVzb2x2ZUxlYXZlJiYodGhpcy5fcmVzb2x2ZUxlYXZlKCksdGhpcy5fcmVzb2x2ZUxlYXZlPW51bGwpLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlXCJzZWxlY3RlZC1kZXZpY2VzLXVwZGF0ZWRcIjp0LmRldmljZXMmJnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIEpvOnZhciBoPXQuc3RhdGUscD10LnRocmVzaG9sZCxmPXQucXVhbGl0eSx2PWguc3RhdGUsZz1oLnJlYXNvbnM7dj09PXRoaXMuX25ldHdvcmsubmV0d29ya1N0YXRlJiZOKGcsdGhpcy5fbmV0d29yay5uZXR3b3JrU3RhdGVSZWFzb25zKSYmcD09PXRoaXMuX25ldHdvcmsudGhyZXNob2xkJiZmPT09dGhpcy5fbmV0d29yay5xdWFsaXR5fHwodGhpcy5fbmV0d29yay5uZXR3b3JrU3RhdGU9dix0aGlzLl9uZXR3b3JrLm5ldHdvcmtTdGF0ZVJlYXNvbnM9Zyx0aGlzLl9uZXR3b3JrLnF1YWxpdHk9Zix0aGlzLl9uZXR3b3JrLnRocmVzaG9sZD1wLHQubmV0d29ya1N0YXRlPXYsZy5sZW5ndGgmJih0Lm5ldHdvcmtTdGF0ZVJlYXNvbnM9ZyksZGVsZXRlIHQuc3RhdGUsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlIHFvOnQmJnQuY3B1TG9hZFN0YXRlJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSB6bzp0JiZ2b2lkIDAhPT10LmZhY2VDb3VudHMmJnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIFVvOnZhciBtPXQuYWN0aXZlU3BlYWtlcjt0aGlzLl9hY3RpdmVTcGVha2VyLnBlZXJJZCE9PW0ucGVlcklkJiYodGhpcy5fYWN0aXZlU3BlYWtlci5wZWVySWQ9bS5wZWVySWQsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24sYWN0aXZlU3BlYWtlcjp0aGlzLl9hY3RpdmVTcGVha2VyfSkpO2JyZWFrO2Nhc2VcInNob3ctbG9jYWwtdmlkZW8tY2hhbmdlZFwiOmlmKHRoaXMuX2NhbGxPYmplY3RNb2RlKXJldHVybjt2YXIgeT10LnNob3c7dGhpcy5fc2hvd0xvY2FsVmlkZW89eSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0LmFjdGlvbixzaG93Onl9KTticmVhaztjYXNlIFZvOnZhciBiPXQuZW5hYmxlZDt0aGlzLl9hY3RpdmVTcGVha2VyTW9kZSE9PWImJih0aGlzLl9hY3RpdmVTcGVha2VyTW9kZT1iLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLGVuYWJsZWQ6dGhpcy5fYWN0aXZlU3BlYWtlck1vZGV9KSk7YnJlYWs7Y2FzZSB5bzpjYXNlIGJvOmNhc2UgX286dGhpcy5fd2FpdGluZ1BhcnRpY2lwYW50cz10LmFsbFdhaXRpbmdQYXJ0aWNpcGFudHMsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24scGFydGljaXBhbnQ6dC5wYXJ0aWNpcGFudH0pO2JyZWFrO2Nhc2UgWm86Tih0aGlzLl9yZWNlaXZlU2V0dGluZ3MsdC5yZWNlaXZlU2V0dGluZ3MpfHwodGhpcy5fcmVjZWl2ZVNldHRpbmdzPXQucmVjZWl2ZVNldHRpbmdzLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLHJlY2VpdmVTZXR0aW5nczp0LnJlY2VpdmVTZXR0aW5nc30pKTticmVhaztjYXNlIGVzOnRoaXMuX21heWJlVXBkYXRlSW5wdXRTZXR0aW5ncyh0LmlucHV0U2V0dGluZ3MpO2JyZWFrO2Nhc2VcInNlbmQtc2V0dGluZ3MtdXBkYXRlZFwiOk4odGhpcy5fc2VuZFNldHRpbmdzLHQuc2VuZFNldHRpbmdzKXx8KHRoaXMuX3NlbmRTZXR0aW5ncz10LnNlbmRTZXR0aW5ncyx0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzPW51bGwsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24sc2VuZFNldHRpbmdzOnQuc2VuZFNldHRpbmdzfSkpO2JyZWFrO2Nhc2VcImxvY2FsLWF1ZGlvLWxldmVsXCI6dGhpcy5fbG9jYWxBdWRpb0xldmVsPXQuYXVkaW9MZXZlbCx0aGlzLl9wcmVsb2FkQ2FjaGUubG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXI9bnVsbCx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZVwicmVtb3RlLXBhcnRpY2lwYW50cy1hdWRpby1sZXZlbFwiOnRoaXMuX3JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWw9dC5wYXJ0aWNpcGFudHNBdWRpb0xldmVsLHRoaXMuX3ByZWxvYWRDYWNoZS5yZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXI9bnVsbCx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBMbzp2YXIgXz10LnNlc3Npb25faWQ7dGhpcy5fcm1wUGxheWVyU3RhdGVbX109dC5wbGF5ZXJTdGF0ZSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBObzpkZWxldGUgdGhpcy5fcm1wUGxheWVyU3RhdGVbdC5zZXNzaW9uX2lkXSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBEbzp2YXIgdz10LnNlc3Npb25faWQsUz10aGlzLl9ybXBQbGF5ZXJTdGF0ZVt3XTtTJiZ0aGlzLmNvbXBhcmVFcXVhbEZvclJNUFVwZGF0ZUV2ZW50KFMsdC5yZW1vdGVNZWRpYVBsYXllclN0YXRlKXx8KHRoaXMuX3JtcFBsYXllclN0YXRlW3ddPXQucmVtb3RlTWVkaWFQbGF5ZXJTdGF0ZSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCkpO2JyZWFrO2Nhc2VcImN1c3RvbS1idXR0b24tY2xpY2tcIjpjYXNlXCJzaWRlYmFyLXZpZXctY2hhbmdlZFwiOnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIGdvOnZhciBrPXRoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGUudG9wb2xvZ3khPT0odC5tZWV0aW5nU2Vzc2lvblN0YXRlJiZ0Lm1lZXRpbmdTZXNzaW9uU3RhdGUudG9wb2xvZ3kpO3RoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGU9TGModC5tZWV0aW5nU2Vzc2lvblN0YXRlLHRoaXMuX2NhbGxPYmplY3RNb2RlKSwodGhpcy5fY2FsbE9iamVjdE1vZGV8fGspJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBSbzp0aGlzLl9pc1NjcmVlblNoYXJpbmc9ITAsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgRm86Y2FzZSBCbzp0aGlzLl9pc1NjcmVlblNoYXJpbmc9ITEsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgRW86Y2FzZSBUbzpjYXNlIE9vOmNhc2UgUG86Y2FzZSBBbzpjYXNlIGtvOmNhc2UgTW86Y2FzZSBDbzpjYXNlIGlvOmNhc2Ugb286Y2FzZSBJbzpjYXNlIHhvOmNhc2VcInRlc3QtY29tcGxldGVkXCI6Y2FzZSAkbzpjYXNlIGpvOmNhc2UgR286Y2FzZSBRbzpjYXNlIEtvOmNhc2UgWW86Y2FzZSB0czpjYXNlIFhvOmNhc2VcImRpYWxpbi1yZWFkeVwiOmNhc2VcImRpYWxpbi1jb25uZWN0ZWRcIjpjYXNlXCJkaWFsaW4tZXJyb3JcIjpjYXNlXCJkaWFsaW4tc3RvcHBlZFwiOmNhc2VcImRpYWxpbi13YXJuaW5nXCI6Y2FzZVwiZGlhbG91dC1jb25uZWN0ZWRcIjpjYXNlXCJkaWFsb3V0LWFuc3dlcmVkXCI6Y2FzZVwiZGlhbG91dC1lcnJvclwiOmNhc2VcImRpYWxvdXQtc3RvcHBlZFwiOmNhc2VcImRpYWxvdXQtd2FybmluZ1wiOnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlXCJyZXF1ZXN0LWZ1bGxzY3JlZW5cIjp0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCk7YnJlYWs7Y2FzZVwicmVxdWVzdC1leGl0LWZ1bGxzY3JlZW5cIjp0aGlzLmV4aXRGdWxsc2NyZWVuKCl9fX0se2tleTpcIm1heWJlRXZlbnRSZWNvcmRpbmdTdG9wcGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInJlY29yZFwiO2UmJih0LmxvY2FsfHwhMSE9PXRbbl18fGVbbl09PT10W25dfHx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpUb30pKX19LHtrZXk6XCJtYXliZUV2ZW50UmVjb3JkaW5nU3RhcnRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJyZWNvcmRcIjtlJiYodC5sb2NhbHx8ITAhPT10W25dfHxlW25dPT09dFtuXXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246RW99KSl9fSx7a2V5OlwiX3RyYWNrU3RhdGVQbGF5YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fGUuc3RhdGUhPT1UaSl9fSx7a2V5OlwiX3RyYWNrQ2hhbmdlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISgobnVsbD09ZT92b2lkIDA6ZS5pZCk9PT0obnVsbD09dD92b2lkIDA6dC5pZCkpfX0se2tleTpcIm1heWJlRXZlbnRUcmFja1N0b3BwZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnRyYWNrc1tlXSkmJnZvaWQgMCE9PXI/cjpudWxsLHM9bnVsbCE9PShpPW51bGw9PW4/dm9pZCAwOm4udHJhY2tzW2VdKSYmdm9pZCAwIT09aT9pOm51bGwsYT1udWxsPT1vP3ZvaWQgMDpvLnRyYWNrO2lmKGEpe3ZhciBjPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShvKSxsPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShzKSx1PXRoaXMuX3RyYWNrQ2hhbmdlZChhLG51bGw9PXM/dm9pZCAwOnMudHJhY2spO2MmJihsJiYhdXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246U28sdHJhY2s6YSxwYXJ0aWNpcGFudDpudWxsIT1uP246dCx0eXBlOmV9KSl9fX0se2tleTpcIm1heWJlRXZlbnRUcmFja1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnRyYWNrc1tlXSkmJnZvaWQgMCE9PXI/cjpudWxsLHM9bnVsbCE9PShpPW51bGw9PW4/dm9pZCAwOm4udHJhY2tzW2VdKSYmdm9pZCAwIT09aT9pOm51bGwsYT1udWxsPT1zP3ZvaWQgMDpzLnRyYWNrO2lmKGEpe3ZhciBjPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShvKSxsPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShzKSx1PXRoaXMuX3RyYWNrQ2hhbmdlZChudWxsPT1vP3ZvaWQgMDpvLnRyYWNrLGEpO2wmJihjJiYhdXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246d28sdHJhY2s6YSxwYXJ0aWNpcGFudDpuLHR5cGU6ZX0pKX19fSx7a2V5OlwibWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0b3BwZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUpZm9yKHZhciBuIGluIGUudHJhY2tzKXRoaXMubWF5YmVFdmVudFRyYWNrU3RvcHBlZChuLGUsdCl9fSx7a2V5OlwibWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuIGluIHQudHJhY2tzKXRoaXMubWF5YmVFdmVudFRyYWNrU3RhcnRlZChuLGUsdCl9fSx7a2V5OlwiY29tcGFyZUVxdWFsRm9yUk1QVXBkYXRlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI7cmV0dXJuIGUuc3RhdGU9PT10LnN0YXRlJiYobnVsbD09PShuPWUuc2V0dGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZvbHVtZSk9PT0obnVsbD09PShyPXQuc2V0dGluZ3MpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZvbHVtZSl9fSx7a2V5OlwiZW1pdERhaWx5SlNFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtlLmNhbGxDbGllbnRJZD10aGlzLmNhbGxDbGllbnRJZCx0aGlzLmVtaXQoZS5hY3Rpb24sZSl9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJjb3VsZCBub3QgZW1pdFwiLGUsdCl9fX0se2tleTpcImNvbXBhcmVFcXVhbEZvclBhcnRpY2lwYW50VXBkYXRlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhTihlLHQpJiYoKCFlLnZpZGVvVHJhY2t8fCF0LnZpZGVvVHJhY2t8fGUudmlkZW9UcmFjay5pZD09PXQudmlkZW9UcmFjay5pZCYmZS52aWRlb1RyYWNrLm11dGVkPT09dC52aWRlb1RyYWNrLm11dGVkJiZlLnZpZGVvVHJhY2suZW5hYmxlZD09PXQudmlkZW9UcmFjay5lbmFibGVkKSYmKCFlLmF1ZGlvVHJhY2t8fCF0LmF1ZGlvVHJhY2t8fGUuYXVkaW9UcmFjay5pZD09PXQuYXVkaW9UcmFjay5pZCYmZS5hdWRpb1RyYWNrLm11dGVkPT09dC5hdWRpb1RyYWNrLm11dGVkJiZlLmF1ZGlvVHJhY2suZW5hYmxlZD09PXQuYXVkaW9UcmFjay5lbmFibGVkKSl9fSx7a2V5OlwibmF0aXZlVXRpbHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5cygpP1widW5kZWZpbmVkXCI9PXR5cGVvZiBEYWlseU5hdGl2ZVV0aWxzPyhjb25zb2xlLndhcm4oXCJpbiBSZWFjdCBOYXRpdmUsIERhaWx5TmF0aXZlVXRpbHMgaXMgZXhwZWN0ZWQgdG8gYmUgYXZhaWxhYmxlXCIpLG51bGwpOkRhaWx5TmF0aXZlVXRpbHM6bnVsbH19LHtrZXk6XCJ1cGRhdGVJc1ByZXBhcmluZ1RvSm9pblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3VwZGF0ZUNhbGxTdGF0ZSh0aGlzLl9jYWxsU3RhdGUsZSl9fSx7a2V5OlwiX3VwZGF0ZUNhbGxTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLl9pc1ByZXBhcmluZ1RvSm9pbjtpZihlIT09dGhpcy5fY2FsbFN0YXRlfHx0IT09dGhpcy5faXNQcmVwYXJpbmdUb0pvaW4pe3ZhciBuPXRoaXMuX2NhbGxTdGF0ZSxyPXRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luO3RoaXMuX2NhbGxTdGF0ZT1lLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luPXQ7dmFyIGk9dGhpcy5fY2FsbFN0YXRlPT09Ymk7dGhpcy51cGRhdGVTaG93QW5kcm9pZE9uZ29pbmdNZWV0aW5nTm90aWZpY2F0aW9uKGkpO3ZhciBvPXVjKG4scikscz11Yyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4pO28hPT1zJiYodGhpcy51cGRhdGVLZWVwRGV2aWNlQXdha2UocyksdGhpcy51cGRhdGVEZXZpY2VBdWRpb01vZGUocyksdGhpcy51cGRhdGVOb09wUmVjb3JkaW5nRW5zdXJpbmdCYWNrZ3JvdW5kQ29udGludWl0eShzKSl9fX0se2tleTpcInJlc2V0TWVldGluZ0RlcGVuZGVudFZhcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3BhcnRpY2lwYW50cz17fSx0aGlzLl9wYXJ0aWNpcGFudENvdW50cz1YYSx0aGlzLl93YWl0aW5nUGFydGljaXBhbnRzPXt9LHRoaXMuX2FjdGl2ZVNwZWFrZXI9e30sdGhpcy5fYWN0aXZlU3BlYWtlck1vZGU9ITEsdGhpcy5fZGlkUHJlQXV0aD0hMSx0aGlzLl9hY2Nlc3NTdGF0ZT17YWNjZXNzOk9pfSx0aGlzLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uPXRoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeSx0aGlzLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnk9e30sdGhpcy5fbWVldGluZ1Nlc3Npb25TdGF0ZT1MYyhZYSx0aGlzLl9jYWxsT2JqZWN0TW9kZSksdGhpcy5faXNTY3JlZW5TaGFyaW5nPSExLHRoaXMuX3JlY2VpdmVTZXR0aW5ncz17fSx0aGlzLl9pbnB1dFNldHRpbmdzPXZvaWQgMCx0aGlzLl9zZW5kU2V0dGluZ3M9e30sdGhpcy5fbG9jYWxBdWRpb0xldmVsPTAsdGhpcy5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbD17fSx0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5fbWF4QXBwTWVzc2FnZVNpemU9cnMsdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZD0hMSx0aGlzLl9idW5kbGVMb2FkVGltZT12b2lkIDAsdGhpcy5fcHJlbG9hZENhY2hlfX0se2tleTpcInVwZGF0ZUtlZXBEZXZpY2VBd2FrZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3lzKCkmJnRoaXMubmF0aXZlVXRpbHMoKS5zZXRLZWVwRGV2aWNlQXdha2UoZSx0aGlzLmNhbGxDbGllbnRJZCl9fSx7a2V5OlwidXBkYXRlRGV2aWNlQXVkaW9Nb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoeXMoKSYmIXRoaXMuZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnQoXCJhdWRpb1wiKSl7dmFyIHQ9ZT90aGlzLl9uYXRpdmVJbkNhbGxBdWRpb01vZGU6XCJpZGxlXCI7dGhpcy5uYXRpdmVVdGlscygpLnNldEF1ZGlvTW9kZSh0KX19fSx7a2V5OlwidXBkYXRlU2hvd0FuZHJvaWRPbmdvaW5nTWVldGluZ05vdGlmaWNhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHlzKCkmJnRoaXMubmF0aXZlVXRpbHMoKS5zZXRTaG93T25nb2luZ01lZXRpbmdOb3RpZmljYXRpb24pe3ZhciB0LG4scixpO2lmKHRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZyYmdGhpcy5wcm9wZXJ0aWVzLnJlYWN0TmF0aXZlQ29uZmlnLmFuZHJvaWRJbkNhbGxOb3RpZmljYXRpb24pe3ZhciBvPXRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5hbmRyb2lkSW5DYWxsTm90aWZpY2F0aW9uO3Q9by50aXRsZSxuPW8uc3VidGl0bGUscj1vLmljb25OYW1lLGk9by5kaXNhYmxlRm9yQ3VzdG9tT3ZlcnJpZGV9aSYmKGU9ITEpLHRoaXMubmF0aXZlVXRpbHMoKS5zZXRTaG93T25nb2luZ01lZXRpbmdOb3RpZmljYXRpb24oZSx0LG4scix0aGlzLmNhbGxDbGllbnRJZCl9fX0se2tleTpcInVwZGF0ZU5vT3BSZWNvcmRpbmdFbnN1cmluZ0JhY2tncm91bmRDb250aW51aXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7eXMoKSYmdGhpcy5uYXRpdmVVdGlscygpLmVuYWJsZU5vT3BSZWNvcmRpbmdFbnN1cmluZ0JhY2tncm91bmRDb250aW51aXR5JiZ0aGlzLm5hdGl2ZVV0aWxzKCkuZW5hYmxlTm9PcFJlY29yZGluZ0Vuc3VyaW5nQmFja2dyb3VuZENvbnRpbnVpdHkoZSl9fSx7a2V5OlwidG9nZ2xlUGFydGljaXBhbnRBdWRpb0Jhc2VkT25OYXRpdmVBdWRpb0ZvY3VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtpZih5cygpKXt2YXIgdD1udWxsPT09KGU9dGhpcy5fY2FsbE1hY2hpbmUoKSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnN0b3JlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRTdGF0ZSgpO2Zvcih2YXIgbiBpbiBudWxsPT10P3ZvaWQgMDp0LnN0cmVhbXMpe3ZhciByPXQuc3RyZWFtc1tuXTtyJiZyLnBlbmRpbmdUcmFjayYmXCJhdWRpb1wiPT09ci5wZW5kaW5nVHJhY2sua2luZCYmKHIucGVuZGluZ1RyYWNrLmVuYWJsZWQ9dGhpcy5faGFzTmF0aXZlQXVkaW9Gb2N1cyl9fX19LHtrZXk6XCJkaXNhYmxlUmVhY3ROYXRpdmVBdXRvRGV2aWNlTWFuYWdlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcmJnRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5kaXNhYmxlQXV0b0RldmljZU1hbmFnZW1lbnQmJnRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5kaXNhYmxlQXV0b0RldmljZU1hbmFnZW1lbnRbZV19fSx7a2V5OlwiYWJzb2x1dGVVcmxcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gdC5ocmVmPWUsdC5ocmVmfX19LHtrZXk6XCJzYXlIZWxsb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9XCJoZWxsbywgd29ybGQuXCI7cmV0dXJuIGNvbnNvbGUubG9nKGUpLGV9fSx7a2V5OlwiX2xvZ1VzZUFmdGVyRGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnZhbHVlcyhHYSlbMF07aWYodGhpcy5uZWVkc0xvYWQoKSl7aWYoZSYmIWUubmVlZHNMb2FkKCkpe3ZhciB0PXthY3Rpb246Y3MsbGV2ZWw6XCJlcnJvclwiLGNvZGU6dGhpcy5zdHJpY3RNb2RlPzk5OTU6OTk5N307ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUodCl9ZWxzZSBpZighdGhpcy5zdHJpY3RNb2RlKXtjb25zb2xlLmVycm9yKFwiWW91IGFyZSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBjYWxsIGluc3RhbmNlIHRoYXQgd2FzIHByZXZpb3VzbHkgZGVzdHJveWVkLCB3aGljaCBpcyB1bnN1cHBvcnRlZC4gUGxlYXNlIHJlbW92ZSBgc3RyaWN0TW9kZTogZmFsc2VgIGZyb20geW91ciBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzIHRvIGVuYWJsZSBzdHJpY3QgbW9kZSB0byB0cmFjayBkb3duIGFuZCBmaXggdGhpcyB1bnN1cHBvcnRlZCB1c2FnZS5cIil9fWVsc2V7dmFyIG49e2FjdGlvbjpjcyxsZXZlbDpcImVycm9yXCIsY29kZTp0aGlzLnN0cmljdE1vZGU/OTk5NTo5OTk3fTt0aGlzLl9tZXNzYWdlQ2hhbm5lbC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUobixudWxsLHRoaXMuY2FsbENsaWVudElkLHRoaXMuX2lmcmFtZSl9fX0se2tleTpcIl9sb2dEdXBsaWNhdGVJbnN0YW5jZUF0dGVtcHRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9T2JqZWN0LnZhbHVlcyhHYSk7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07bi5fY2FsbE1hY2hpbmVJbml0aWFsaXplZD8obi5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpjcyxsZXZlbDpcIndhcm5cIixjb2RlOnRoaXMuYWxsb3dNdWx0aXBsZUNhbGxJbnN0YW5jZXM/OTk5Mzo5OTkyfSksbi5fZGVsYXlEdXBsaWNhdGVJbnN0YW5jZUxvZz0hMSk6bi5fZGVsYXlEdXBsaWNhdGVJbnN0YW5jZUxvZz0hMH19fSx7a2V5OlwiX21heWJlU2VuZFRvU2VudHJ5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG87aWYobnVsbCE9PSh0PWUuZXJyb3IpJiZ2b2lkIDAhPT10JiZ0LnR5cGUpe2lmKCFbJGksVmksQmldLmluY2x1ZGVzKGUuZXJyb3IudHlwZSkpcmV0dXJuO2lmKGUuZXJyb3IudHlwZT09PUJpJiZlLmVycm9yLm1zZy5pbmNsdWRlcyhcImRlbGV0ZWRcIikpcmV0dXJufXZhciBzPW51bGwhPT0obj10aGlzLnByb3BlcnRpZXMpJiZ2b2lkIDAhPT1uJiZuLnVybD9uZXcgVVJMKHRoaXMucHJvcGVydGllcy51cmwpOnZvaWQgMCxhPVwicHJvZHVjdGlvblwiO3MmJnMuaG9zdC5pbmNsdWRlcyhcIi5zdGFnaW5nLmRhaWx5XCIpJiYoYT1cInN0YWdpbmdcIik7dmFyIGMsbCx1LGQsaCxwPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W0duKCksV24oKSxpaSgpLG5pKCksdWkoKSxmaSgpLHJyKCkscGkoKV07cmV0dXJuITEhPT1lLmF1dG9TZXNzaW9uVHJhY2tpbmcmJnQucHVzaChsaSgpKSx0fSh7fSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hW1wiQnJvd3NlckFwaUVycm9yc1wiLFwiQnJlYWRjcnVtYnNcIixcIkdsb2JhbEhhbmRsZXJzXCJdLmluY2x1ZGVzKGUubmFtZSl9KSksZj1uZXcganIoe2RzbjpcImh0dHBzOi8vZjEwZjFjODFlNWQ0NGE0MDk4NDE2YzA4NjdhOGI3NDBAbzc3OTA2LmluZ2VzdC5zZW50cnkuaW8vMTY4ODQ0XCIsdHJhbnNwb3J0OldyLHN0YWNrUGFyc2VyOlpyLGludGVncmF0aW9uczpwLGVudmlyb25tZW50OmF9KSx2PW5ldyBNdDtpZih2LnNldENsaWVudChmKSxmLmluaXQoKSx0aGlzLnNlc3Npb25faWQmJnYuc2V0RXh0cmEoXCJzZXNzaW9uSWRcIix0aGlzLnNlc3Npb25faWQpLHRoaXMucHJvcGVydGllcyl7dmFyIGc9cWEoe30sdGhpcy5wcm9wZXJ0aWVzKTtnLnVzZXJOYW1lPWcudXNlck5hbWU/XCJbRmlsdGVyZWRdXCI6dm9pZCAwLGcudXNlckRhdGE9Zy51c2VyRGF0YT9cIltGaWx0ZXJlZF1cIjp2b2lkIDAsZy50b2tlbj1nLnRva2VuP1wiW0ZpbHRlcmVkXVwiOnZvaWQgMCx2LnNldEV4dHJhKFwicHJvcGVydGllc1wiLGcpfWlmKHMpe3ZhciBtPXMuc2VhcmNoUGFyYW1zLmdldChcImRvbWFpblwiKTtpZighbSl7dmFyIHk9cy5ob3N0Lm1hdGNoKC8oLio/KVxcLi8pO209eSYmeVsxXXx8XCJcIn1tJiZ2LnNldFRhZyhcImRvbWFpblwiLG0pfWUuZXJyb3ImJih2LnNldFRhZyhcImZhdGFsRXJyb3JUeXBlXCIsZS5lcnJvci50eXBlKSx2LnNldEV4dHJhKFwiZXJyb3JEZXRhaWxzXCIsZS5lcnJvci5kZXRhaWxzKSwobnVsbD09PShjPWUuZXJyb3IuZGV0YWlscyl8fHZvaWQgMD09PWM/dm9pZCAwOmMudXJpKSYmdi5zZXRUYWcoXCJzZXJ2ZXJBZGRyZXNzXCIsZS5lcnJvci5kZXRhaWxzLnVyaSksKG51bGw9PT0obD1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLndvcmtlckdyb3VwKSYmdi5zZXRUYWcoXCJ3b3JrZXJHcm91cFwiLGUuZXJyb3IuZGV0YWlscy53b3JrZXJHcm91cCksKG51bGw9PT0odT1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT11P3ZvaWQgMDp1Lmdlb0dyb3VwKSYmdi5zZXRUYWcoXCJnZW9Hcm91cFwiLGUuZXJyb3IuZGV0YWlscy5nZW9Hcm91cCksKG51bGw9PT0oZD1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLm9uKSYmdi5zZXRUYWcoXCJjb25uZWN0aW9uQXR0ZW1wdFwiLGUuZXJyb3IuZGV0YWlscy5vbiksbnVsbCE9PShoPWUuZXJyb3IuZGV0YWlscykmJnZvaWQgMCE9PWgmJmguYnVuZGxlVXJsJiYodi5zZXRUYWcoXCJidW5kbGVVcmxcIixlLmVycm9yLmRldGFpbHMuYnVuZGxlVXJsKSx2LnNldFRhZyhcImJ1bmRsZUVycm9yXCIsZS5lcnJvci5kZXRhaWxzLnNvdXJjZUVycm9yLnR5cGUpKSk7di5zZXRUYWdzKHtjYWxsTW9kZTp0aGlzLl9jYWxsT2JqZWN0TW9kZT95cygpP1wicmVhY3ROYXRpdmVcIjpudWxsIT09KGk9dGhpcy5wcm9wZXJ0aWVzKSYmdm9pZCAwIT09aSYmbnVsbCE9PShpPWkuZGFpbHlDb25maWcpJiZ2b2lkIDAhPT1pJiZudWxsIT09KGk9aS5jYWxsTW9kZSkmJnZvaWQgMCE9PWkmJmkuaW5jbHVkZXMoXCJwcmVidWlsdFwiKT90aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcuY2FsbE1vZGU6XCJjdXN0b21cIjpcInByZWJ1aWx0LWZyYW1lXCIsdmVyc2lvbjpyLnZlcnNpb24oKX0pO3ZhciBiPShudWxsPT09KG89ZS5lcnJvcil8fHZvaWQgMD09PW8/dm9pZCAwOm8ubXNnKXx8ZS5lcnJvck1zZzt2LmNhcHR1cmVFeGNlcHRpb24obmV3IEVycm9yKGIpKX19LHtrZXk6XCJfY2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9d2luZG93Ll9kYWlseSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmluc3RhbmNlcyl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lW3RoaXMuY2FsbENsaWVudElkXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbE1hY2hpbmV9fSx7a2V5OlwiX21heWJlVXBkYXRlSW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFOKHRoaXMuX2lucHV0U2V0dGluZ3MsZSkpe3ZhciB0PXRoaXMuX2dldElucHV0U2V0dGluZ3MoKTt0aGlzLl9pbnB1dFNldHRpbmdzPWU7dmFyIG49dGhpcy5fZ2V0SW5wdXRTZXR0aW5ncygpO04odCxuKXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246ZXMsaW5wdXRTZXR0aW5nczpufSl9fX1dLFt7a2V5Olwic3VwcG9ydGVkQnJvd3NlclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoeXMoKSlyZXR1cm57c3VwcG9ydGVkOiEwLG1vYmlsZTohMCxuYW1lOlwiUmVhY3QgTmF0aXZlXCIsdmVyc2lvbjpudWxsLHN1cHBvcnRzU2NyZWVuU2hhcmU6ITAsc3VwcG9ydHNTZnU6ITAsc3VwcG9ydHNWaWRlb1Byb2Nlc3Npbmc6ITEsc3VwcG9ydHNBdWRpb1Byb2Nlc3Npbmc6ITF9O3ZhciBlPVEuZ2V0UGFyc2VyKG1zKCkpO3JldHVybntzdXBwb3J0ZWQ6ISFPcygpLG1vYmlsZTpcIm1vYmlsZVwiPT09ZS5nZXRQbGF0Zm9ybVR5cGUoKSxuYW1lOmUuZ2V0QnJvd3Nlck5hbWUoKSx2ZXJzaW9uOmUuZ2V0QnJvd3NlclZlcnNpb24oKSxzdXBwb3J0c0Z1bGxzY3JlZW46ISF3cygpLHN1cHBvcnRzU2NyZWVuU2hhcmU6ISFfcygpLHN1cHBvcnRzU2Z1OiEhT3MoKSxzdXBwb3J0c1ZpZGVvUHJvY2Vzc2luZzpFcygpLHN1cHBvcnRzQXVkaW9Qcm9jZXNzaW5nOlRzKCl9fX0se2tleTpcInZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiMC43OS4wXCJ9fSx7a2V5OlwiY3JlYXRlQ2FsbE9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBlLmxheW91dD1cIm5vbmVcIixuZXcgcihudWxsLGUpfX0se2tleTpcIndyYXBcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoZ2MoKSwhZXx8IWUuY29udGVudFdpbmRvd3x8XCJzdHJpbmdcIiE9dHlwZW9mIGUuc3JjKXRocm93IG5ldyBFcnJvcihcIkRhaWx5SWZyYW1lOjpXcmFwIG5lZWRzIGFuIGlmcmFtZS1saWtlIGZpcnN0IGFyZ3VtZW50XCIpO3JldHVybiB0LmxheW91dHx8KHQuY3VzdG9tTGF5b3V0P3QubGF5b3V0PVwiY3VzdG9tLXYxXCI6dC5sYXlvdXQ9XCJicm93c2VyXCIpLG5ldyByKGUsdCl9fSx7a2V5OlwiY3JlYXRlRnJhbWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLGk7Z2MoKSxlJiZ0PyhuPWUsaT10KTplJiZlLmFwcGVuZD8obj1lLGk9e30pOihuPWRvY3VtZW50LmJvZHksaT1lfHx7fSk7dmFyIG89aS5pZnJhbWVTdHlsZTtvfHwobz1uPT09ZG9jdW1lbnQuYm9keT97cG9zaXRpb246XCJmaXhlZFwiLGJvcmRlcjpcIjFweCBzb2xpZCBibGFja1wiLGJhY2tncm91bmRDb2xvcjpcIndoaXRlXCIsd2lkdGg6XCIzNzVweFwiLGhlaWdodDpcIjQ1MHB4XCIscmlnaHQ6XCIxZW1cIixib3R0b206XCIxZW1cIn06e2JvcmRlcjowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7d2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLzYxXFwuLyk/cy5hbGxvdz1cIm1pY3JvcGhvbmUsIGNhbWVyYVwiOnMuYWxsb3c9XCJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBkaXNwbGF5LWNhcHR1cmU7IHNjcmVlbi13YWtlLWxvY2tcIixzLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixuLmFwcGVuZENoaWxkKHMpLHMuc3R5bGUudmlzaWJpbGl0eT1udWxsLE9iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLnN0eWxlW2VdPW9bZV19KSksaS5sYXlvdXR8fChpLmN1c3RvbUxheW91dD9pLmxheW91dD1cImN1c3RvbS12MVwiOmkubGF5b3V0PVwiYnJvd3NlclwiKTt0cnl7cmV0dXJuIG5ldyByKHMsaSl9Y2F0Y2goZSl7dGhyb3cgbi5yZW1vdmVDaGlsZChzKSxlfX19LHtrZXk6XCJjcmVhdGVUcmFuc3BhcmVudEZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Z2MoKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3JldHVybiB0LmFsbG93PVwibWljcm9waG9uZTsgY2FtZXJhOyBhdXRvcGxheVwiLHQuc3R5bGUuY3NzVGV4dD1cIlxcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgYm9yZGVyOiAwO1xcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICBcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLGUubGF5b3V0fHwoZS5sYXlvdXQ9XCJjdXN0b20tdjFcIiksci53cmFwKHQsZSl9fSx7a2V5OlwiZ2V0Q2FsbEluc3RhbmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwO3JldHVybiBlP0dhW2VdOk9iamVjdC52YWx1ZXMoR2EpWzBdfX1dKTt2YXIgaSxjLGQscCx2LGcsbSx5LGIsXyx3LFMsayxNLEMsRSxULE8sUCxBLGosSSxMLEQsUixGLEIsVSxWLEosJCxxLHosVyxILEcsWSxlZX0oKTtmdW5jdGlvbiBjYyhlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKWlmKGVbcl1pbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spY29uc29sZS53YXJuKFwiTWVkaWFTdHJlYW1UcmFjayBmb3VuZCBpbiBwcm9wcyBvciBjYWNoZS5cIixyKSxuW3JdPWxzO2Vsc2UgaWYoXCJkYWlseUNvbmZpZ1wiPT09cil7aWYoZVtyXS5tb2RpZnlMb2NhbFNkcEhvb2spe3ZhciBpPXdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrc3x8e307aS5tb2RpZnlMb2NhbFNkcEhvb2s9ZVtyXS5tb2RpZnlMb2NhbFNkcEhvb2ssd2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdF0uY3VzdG9tQ2FsbGJhY2tzPWksZGVsZXRlIGVbcl0ubW9kaWZ5TG9jYWxTZHBIb29rfWlmKGVbcl0ubW9kaWZ5UmVtb3RlU2RwSG9vayl7dmFyIG89d2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdF0uY3VzdG9tQ2FsbGJhY2tzfHx7fTtvLm1vZGlmeVJlbW90ZVNkcEhvb2s9ZVtyXS5tb2RpZnlSZW1vdGVTZHBIb29rLHdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrcz1vLGRlbGV0ZSBlW3JdLm1vZGlmeVJlbW90ZVNkcEhvb2t9bltyXT1lW3JdfWVsc2UgbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGxjKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKGUhPT1iaSl7dmFyIG49XCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBvbmx5IHN1cHBvcnRlZCBhZnRlciBqb2luLlwiKTt0aHJvdyB0JiYobis9XCIgXCIuY29uY2F0KHQpKSxjb25zb2xlLmVycm9yKG4pLG5ldyBFcnJvcihuKX19ZnVuY3Rpb24gdWMoZSx0KXtyZXR1cm5beWksYmldLmluY2x1ZGVzKGUpfHx0fWZ1bmN0aW9uIGRjKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO2lmKHVjKGUsdCkpe3ZhciBpPVwiXCIuY29uY2F0KG4sXCIgbm90IHN1cHBvcnRlZCBhZnRlciBqb2luaW5nIGEgbWVldGluZy5cIik7dGhyb3cgciYmKGkrPVwiIFwiLmNvbmNhdChyKSksY29uc29sZS5lcnJvcihpKSxuZXcgRXJyb3IoaSl9fWZ1bmN0aW9uIGhjKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlRoaXMgZGFpbHktanMgbWV0aG9kXCIsbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighZSl7dmFyIHI9XCJcIi5jb25jYXQodCxhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdP1wiIHJlcXVpcmVzIHByZUF1dGgoKSBvciBzdGFydENhbWVyYSgpIHRvIGluaXRpYWxpemUgY2FsbCBzdGF0ZS5cIjpcIiByZXF1aXJlcyBwcmVBdXRoKCksIHN0YXJ0Q2FtZXJhKCksIG9yIGpvaW4oKSB0byBpbml0aWFsaXplIGNhbGwgc3RhdGUuXCIpO3Rocm93IG4mJihyKz1cIiBcIi5jb25jYXQobikpLGNvbnNvbGUuZXJyb3IociksbmV3IEVycm9yKHIpfX1mdW5jdGlvbiBwYyhlKXtpZihlKXt2YXIgdD1cIkEgcHJlLWNhbGwgcXVhbGl0eSB0ZXN0IGlzIGluIHByb2dyZXNzLiBQbGVhc2UgdHJ5IFwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJUaGlzIGRhaWx5LWpzIG1ldGhvZFwiLFwiIGFnYWluIG9uY2UgdGVzdGluZyBoYXMgY29tcGxldGVkLiBVc2Ugc3RvcFRlc3RDYWxsUXVhbGl0eSgpIHRvIGVuZCBpdCBlYXJseS5cIik7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IodCl9fWZ1bmN0aW9uIGZjKGUpe2lmKCFlKXt2YXIgdD1cIlwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJUaGlzIGRhaWx5LWpzIG1ldGhvZFwiLFwiIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGN1c3RvbSBjYWxsT2JqZWN0IGluc3RhbmNlc1wiKTt0aHJvdyBjb25zb2xlLmVycm9yKHQpLG5ldyBFcnJvcih0KX19ZnVuY3Rpb24gdmMoZSl7aWYoZSl7dmFyIHQ9XCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBpcyBvbmx5IHN1cHBvcnRlZCBhcyBwYXJ0IG9mIERhaWx5J3MgUHJlYnVpbHRcIik7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IodCl9fWZ1bmN0aW9uIGdjKCl7aWYoeXMoKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRhaWx5LWpzIG1ldGhvZCBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcIil9ZnVuY3Rpb24gbWMoKXtpZigheXMoKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRhaWx5LWpzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcIil9ZnVuY3Rpb24geWMoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4hMDt2YXIgdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0PWU7ZWxzZSB0cnl7dD1KU09OLnN0cmluZ2lmeShlKSxOKEpTT04ucGFyc2UodCksZSl8fGNvbnNvbGUud2FybihcIlRoZSB1c2VyRGF0YSBwcm92aWRlZCB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gc2VyaWFsaXplZC5cIil9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJ1c2VyRGF0YSBtdXN0IGJlIHNlcmlhbGl6YWJsZSB0byBKU09OOiBcIi5jb25jYXQoZSkpfWlmKHQubGVuZ3RoPjQwOTYpdGhyb3cgRXJyb3IoXCJ1c2VyRGF0YSBpcyB0b28gbGFyZ2UgKFwiLmNvbmNhdCh0Lmxlbmd0aCxcIiBjaGFyYWN0ZXJzKS4gTWF4aW11bSBzaXplIHN1cHBwb3J0ZWQgaXMgXCIpLmNvbmNhdCg0MDk2LFwiLlwiKSk7cmV0dXJuITB9ZnVuY3Rpb24gYmMoZSx0KXtmb3IodmFyIG49dC5hbGxvd0FsbFBhcnRpY2lwYW50c0tleSxyPWZ1bmN0aW9uKGUpe3ZhciB0PVtcImxvY2FsXCJdO3JldHVybiBufHx0LnB1c2goXCIqXCIpLGUmJiF0LmluY2x1ZGVzKGUpfSxpPWZ1bmN0aW9uKGUpe3JldHVybiEhKHZvaWQgMD09PWUubGF5ZXJ8fE51bWJlci5pc0ludGVnZXIoZS5sYXllcikmJmUubGF5ZXI+PTB8fFwiaW5oZXJpdFwiPT09ZS5sYXllcil9LG89ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoIShlLnZpZGVvJiYhaShlLnZpZGVvKSkmJiEoZS5zY3JlZW5WaWRlbyYmIWkoZS5zY3JlZW5WaWRlbykpKX0scz0wLGE9T2JqZWN0LmVudHJpZXMoZSk7czxhLmxlbmd0aDtzKyspe3ZhciBjPWYoYVtzXSwyKSxsPWNbMF0sdT1jWzFdO2lmKCFyKGwpfHwhbyh1KSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBfYyhlKXtpZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm4hMTtmb3IodmFyIHQ9MCxyPU9iamVjdC5lbnRyaWVzKGUpO3Q8ci5sZW5ndGg7dCsrKXt2YXIgaT1mKHJbdF0sMiksbz1pWzBdLHM9aVsxXTtzd2l0Y2gobyl7Y2FzZVwidmlkZW9cIjppZihcIm9iamVjdFwiIT09bihzKSlyZXR1cm4hMTtmb3IodmFyIGE9MCxjPU9iamVjdC5lbnRyaWVzKHMpO2E8Yy5sZW5ndGg7YSsrKXt2YXIgbD1mKGNbYV0sMiksdT1sWzBdLGQ9bFsxXTtzd2l0Y2godSl7Y2FzZVwicHJvY2Vzc29yXCI6aWYoIWtjKGQpKXJldHVybiExO2JyZWFrO2Nhc2VcInNldHRpbmdzXCI6aWYoIU1jKGQpKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9fWJyZWFrO2Nhc2VcImF1ZGlvXCI6aWYoXCJvYmplY3RcIiE9PW4ocykpcmV0dXJuITE7Zm9yKHZhciBoPTAscD1PYmplY3QuZW50cmllcyhzKTtoPHAubGVuZ3RoO2grKyl7dmFyIHY9ZihwW2hdLDIpLGc9dlswXSxtPXZbMV07c3dpdGNoKGcpe2Nhc2VcInByb2Nlc3NvclwiOmlmKCFTYyhtKSlyZXR1cm4hMTticmVhaztjYXNlXCJzZXR0aW5nc1wiOmlmKCFNYyhtKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnJldHVybiExfX1icmVhaztkZWZhdWx0OnJldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiB3YyhlLHQsbil7dmFyIHIsaT1bXTtlLnZpZGVvJiZlLnZpZGVvLnByb2Nlc3NvciYmKEVzKG51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnVzZUxlZ2FjeVZpZGVvUHJvY2Vzc29yKSYmdm9pZCAwIT09ciYmcil8fChlLnZpZGVvLnNldHRpbmdzP2RlbGV0ZSBlLnZpZGVvLnByb2Nlc3NvcjpkZWxldGUgZS52aWRlbyxpLnB1c2goXCJ2aWRlb1wiKSkpO2UuYXVkaW8mJmUuYXVkaW8ucHJvY2Vzc29yJiYoVHMoKXx8KGUuYXVkaW8uc2V0dGluZ3M/ZGVsZXRlIGUuYXVkaW8ucHJvY2Vzc29yOmRlbGV0ZSBlLmF1ZGlvLGkucHVzaChcImF1ZGlvXCIpKSksaS5sZW5ndGg+MCYmY29uc29sZS5lcnJvcihcIklnbm9yaW5nIHNldHRpbmdzIGZvciBicm93c2VyLSBvciBwbGF0Zm9ybS11bnN1cHBvcnRlZCBpbnB1dCBwcm9jZXNzb3Iocyk6IFwiLmNvbmNhdChpLmpvaW4oXCIsIFwiKSkpLGUuYXVkaW8mJmUuYXVkaW8uc2V0dGluZ3MmJihlLmF1ZGlvLnNldHRpbmdzLmN1c3RvbVRyYWNrPyhuLmF1ZGlvVHJhY2s9ZS5hdWRpby5zZXR0aW5ncy5jdXN0b21UcmFjayxlLmF1ZGlvLnNldHRpbmdzPXtjdXN0b21UcmFjazpsc30pOmRlbGV0ZSBuLmF1ZGlvVHJhY2spLGUudmlkZW8mJmUudmlkZW8uc2V0dGluZ3MmJihlLnZpZGVvLnNldHRpbmdzLmN1c3RvbVRyYWNrPyhuLnZpZGVvVHJhY2s9ZS52aWRlby5zZXR0aW5ncy5jdXN0b21UcmFjayxlLnZpZGVvLnNldHRpbmdzPXtjdXN0b21UcmFjazpsc30pOmRlbGV0ZSBuLnZpZGVvVHJhY2spfWZ1bmN0aW9uIFNjKGUpe2lmKHlzKCkpcmV0dXJuIGNvbnNvbGUud2FybihcIlZpZGVvIHByb2Nlc3NpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpLCExO3ZhciB0PVtcInR5cGVcIl07cmV0dXJuISFlJiYoXCJvYmplY3RcIj09PW4oZSkmJihPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF0LmluY2x1ZGVzKGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcImludmFsaWQga2V5IGlucHV0U2V0dGluZ3MgLT4gYXVkaW8gLT4gcHJvY2Vzc29yIDogXCIuY29uY2F0KHQpKSxkZWxldGUgZVt0XX0pKSwhIWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2lmKCFPYmplY3QudmFsdWVzKGRzKS5pbmNsdWRlcyhlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImlucHV0U2V0dGluZ3MgYXVkaW8gcHJvY2Vzc29yIHR5cGUgaW52YWxpZFwiKSwhMTtyZXR1cm4hMH0oZS50eXBlKSkpfWZ1bmN0aW9uIGtjKGUpe2lmKHlzKCkpcmV0dXJuIGNvbnNvbGUud2FybihcIlZpZGVvIHByb2Nlc3NpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpLCExO3ZhciB0PVtcInR5cGVcIixcImNvbmZpZ1wiXTtpZighZSlyZXR1cm4hMTtpZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm4hMTtpZighZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuITE7aWYoIU9iamVjdC52YWx1ZXModXMpLmluY2x1ZGVzKGUpKXJldHVybiBjb25zb2xlLmVycm9yKFwiaW5wdXRTZXR0aW5ncyB2aWRlbyBwcm9jZXNzb3IgdHlwZSBpbnZhbGlkXCIpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiExO2lmKGUuY29uZmlnKXtpZihcIm9iamVjdFwiIT09bihlLmNvbmZpZykpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiEwO3ZhciByPVwiaW52YWxpZCBvYmplY3QgaW4gaW5wdXRTZXR0aW5ncyAtPiB2aWRlbyAtPiBwcm9jZXNzb3IgLT4gY29uZmlnXCI7c3dpdGNoKGUpe2Nhc2UgdXMuQkdCTFVSOnJldHVybiBuLmxlbmd0aD4xfHxcInN0cmVuZ3RoXCIhPT1uWzBdPyhjb25zb2xlLmVycm9yKHIpLCExKTohKFwibnVtYmVyXCIhPXR5cGVvZiB0LnN0cmVuZ3RofHx0LnN0cmVuZ3RoPD0wfHx0LnN0cmVuZ3RoPjF8fGlzTmFOKHQuc3RyZW5ndGgpKXx8KGNvbnNvbGUuZXJyb3IoXCJcIi5jb25jYXQocixcIjsgZXhwZWN0ZWQ6IHswIDwgc3RyZW5ndGggPD0gMX0sIGdvdDogXCIpLmNvbmNhdCh0LnN0cmVuZ3RoKSksITEpO2Nhc2UgdXMuQkdJTUFHRTpyZXR1cm4hKHZvaWQgMCE9PXQuc291cmNlJiYhZnVuY3Rpb24oZSl7aWYoXCJkZWZhdWx0XCI9PT1lLnNvdXJjZSlyZXR1cm4gZS50eXBlPVwiZGVmYXVsdFwiLCEwO2lmKGUuc291cmNlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuITA7aWYoZWUoZS5zb3VyY2UpKXJldHVybiBlLnR5cGU9XCJ1cmxcIiwhIWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVUkwoZSksbj10LnBhdGhuYW1lO2lmKFwiZGF0YTpcIj09PXQucHJvdG9jb2wpdHJ5e3ZhciByPW4uc3Vic3RyaW5nKG4uaW5kZXhPZihcIjpcIikrMSxuLmluZGV4T2YoXCI7XCIpKS5zcGxpdChcIi9cIilbMV07cmV0dXJuIHBzLmluY2x1ZGVzKHIpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRlZHVjZSBibG9iIGNvbnRlbnQgdHlwZVwiLGUpLCExfXZhciBpPW4uc3BsaXQoXCIuXCIpLmF0KC0xKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtyZXR1cm4gcHMuaW5jbHVkZXMoaSl9KGUuc291cmNlKXx8KGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGltYWdlIHR5cGU7IHN1cHBvcnRlZCB0eXBlczogW1wiLmNvbmNhdChwcy5qb2luKFwiLCBcIiksXCJdXCIpKSwhMSk7cmV0dXJuIHQ9ZS5zb3VyY2Usbj1OdW1iZXIodCksaXNOYU4obil8fCFOdW1iZXIuaXNJbnRlZ2VyKG4pfHxuPD0wfHxuPjEwPyhjb25zb2xlLmVycm9yKFwiaW52YWxpZCBpbWFnZSBzZWxlY3Rpb247IG11c3QgYmUgYW4gaW50LCA+IDAsIDw9IFwiLmNvbmNhdCgxMCkpLCExKTooZS50eXBlPVwiZGFpbHktcHJlc2VsZWN0XCIsITApO3ZhciB0LG59KHQpKTtkZWZhdWx0OnJldHVybiEwfX0oZS50eXBlLGUuY29uZmlnKSlyZXR1cm4hMX1yZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hdC5pbmNsdWRlcyhlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJpbnZhbGlkIGtleSBpbnB1dFNldHRpbmdzIC0+IHZpZGVvIC0+IHByb2Nlc3NvciA6IFwiLmNvbmNhdCh0KSksZGVsZXRlIGVbdF19KSksITB9ZnVuY3Rpb24gTWMoZSl7cmV0dXJuXCJvYmplY3RcIj09PW4oZSkmJighZS5jdXN0b21UcmFja3x8ZS5jdXN0b21UcmFjayBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spfWZ1bmN0aW9uIENjKCl7dmFyIGU9T2JqZWN0LnZhbHVlcyh1cykuam9pbihcIiB8IFwiKSx0PU9iamVjdC52YWx1ZXMoZHMpLmpvaW4oXCIgfCBcIik7cmV0dXJuXCJpbnB1dFNldHRpbmdzIG11c3QgYmUgb2YgdGhlIGZvcm06IHsgdmlkZW8/OiB7IHByb2Nlc3Nvcj86IHsgdHlwZTogWyBcIi5jb25jYXQoZSxcIiBdLCBjb25maWc/OiB7fSB9IH0sIGF1ZGlvPzogeyBwcm9jZXNzb3I6IHt0eXBlOiBbIFwiKS5jb25jYXQodCxcIiBdIH0gfSB9XCIpfWZ1bmN0aW9uIEVjKGUpe3ZhciB0PWUuYWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk7cmV0dXJuXCJyZWNlaXZlU2V0dGluZ3MgbXVzdCBiZSBvZiB0aGUgZm9ybSB7IFs8cmVtb3RlIHBhcnRpY2lwYW50IGlkPiB8IFwiLmNvbmNhdChJaSkuY29uY2F0KHQ/JyB8IFwiJy5jb25jYXQoXCIqXCIsJ1wiJyk6XCJcIixcIl06IFwiKSsneyBbdmlkZW86IFt7IGxheWVyOiBbPG5vbi1uZWdhdGl2ZSBpbnRlZ2VyPiB8IFwiaW5oZXJpdFwiXSB9IHwgXCJpbmhlcml0XCJdXSwgW3NjcmVlblZpZGVvOiBbeyBsYXllcjogWzxub24tbmVnYXRpdmUgaW50ZWdlcj4gfCBcImluaGVyaXRcIl0gfSB8IFwiaW5oZXJpdFwiXV0gfX19J31mdW5jdGlvbiBUYygpe3JldHVyblwiY3VzdG9tSW50ZWdyYXRpb25zIHNob3VsZCBiZSBhbiBvYmplY3Qgb2YgdHlwZSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaWMpLFwiLlwiKX1mdW5jdGlvbiBPYyhlKXtpZihlJiZcIm9iamVjdFwiIT09bihlKXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImN1c3RvbVRyYXlCdXR0b25zIHNob3VsZCBiZSBhbiBPYmplY3Qgb2YgdGhlIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJjKSxcIi5cIikpLCExO2lmKGUpZm9yKHZhciB0PTAscj1PYmplY3QuZW50cmllcyhlKTt0PHIubGVuZ3RoO3QrKylmb3IodmFyIGk9ZihyW3RdLDEpWzBdLG89MCxzPU9iamVjdC5lbnRyaWVzKGVbaV0pO288cy5sZW5ndGg7bysrKXt2YXIgYT1mKHNbb10sMiksYz1hWzBdLGw9YVsxXSx1PXJjLmlkW2NdO2lmKCF1KXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBkb2VzIG5vdCBzdXBwb3J0IGtleSBcIi5jb25jYXQoYykpLCExO3N3aXRjaChjKXtjYXNlXCJpY29uUGF0aFwiOmNhc2VcImljb25QYXRoRGFya01vZGVcIjppZighZWUobCkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9uIFwiLmNvbmNhdChjLFwiIHNob3VsZCBiZSBhIHVybC5cIikpLCExO2JyZWFrO2Nhc2VcInZpc3VhbFN0YXRlXCI6aWYoIVtcImRlZmF1bHRcIixcInNpZGViYXItb3BlblwiLFwiYWN0aXZlXCJdLmluY2x1ZGVzKGwpKXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBcIi5jb25jYXQoYyxcIiBzaG91bGQgYmUgXCIpLmNvbmNhdCh1LFwiLiBHb3Q6IFwiKS5jb25jYXQobCkpLCExO2JyZWFrO2RlZmF1bHQ6aWYobihsKSE9PXUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9uIFwiLmNvbmNhdChjLFwiIHNob3VsZCBiZSBhIFwiKS5jb25jYXQodSxcIi5cIikpLCExfX1yZXR1cm4hMH1mdW5jdGlvbiBQYyhlKXtpZighZXx8ZSYmXCJvYmplY3RcIiE9PW4oZSl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoVGMoKSksITE7Zm9yKHZhciB0PWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KGUsXCIgc2hvdWxkIGJlIFwiKS5jb25jYXQoaWMuaWRbZV0pfSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21JbnRlZ3JhdGlvbiBcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSl9LGk9MCxvPU9iamVjdC5lbnRyaWVzKGUpO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1mKG9baV0sMSlbMF07aWYoIShcImxhYmVsXCJpbiBlW3NdKSlyZXR1cm4gcihzLFwibGFiZWwgaXMgcmVxdWlyZWRcIiksITE7aWYoIShcImxvY2F0aW9uXCJpbiBlW3NdKSlyZXR1cm4gcihzLFwibG9jYXRpb24gaXMgcmVxdWlyZWRcIiksITE7aWYoIShcInNyY1wiaW4gZVtzXSkmJiEoXCJzcmNkb2NcImluIGVbc10pKXJldHVybiByKHMsXCJzcmMgb3Igc3JjZG9jIGlzIHJlcXVpcmVkXCIpLCExO2Zvcih2YXIgYT0wLGM9T2JqZWN0LmVudHJpZXMoZVtzXSk7YTxjLmxlbmd0aDthKyspe3ZhciBsPWYoY1thXSwyKSx1PWxbMF0sZD1sWzFdO3N3aXRjaCh1KXtjYXNlXCJhbGxvd1wiOmNhc2VcImNzcFwiOmNhc2VcIm5hbWVcIjpjYXNlXCJyZWZlcnJlclBvbGljeVwiOmNhc2VcInNhbmRib3hcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2Nhc2VcImljb25VUkxcIjppZighZWUoZCkpcmV0dXJuIHIocyxcIlwiLmNvbmNhdCh1LFwiIHNob3VsZCBiZSBhIHVybFwiKSksITE7YnJlYWs7Y2FzZVwic3JjXCI6aWYoXCJzcmNkb2NcImluIGVbc10pcmV0dXJuIHIocyxcImNhbm5vdCBoYXZlIGJvdGggc3JjIGFuZCBzcmNkb2NcIiksITE7aWYoIWVlKGQpKXJldHVybiByKHMsJ3NyYyBcIicuY29uY2F0KGQsJ1wiIGlzIG5vdCBhIHZhbGlkIFVSTCcpKSwhMTticmVhaztjYXNlXCJzcmNkb2NcIjppZihcInNyY1wiaW4gZVtzXSlyZXR1cm4gcihzLFwiY2Fubm90IGhhdmUgYm90aCBzcmMgYW5kIHNyY2RvY1wiKSwhMTtpZihcInN0cmluZ1wiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2Nhc2VcImxvY2F0aW9uXCI6aWYoIVtcIm1haW5cIixcInNpZGViYXJcIl0uaW5jbHVkZXMoZCkpcmV0dXJuIHIocyx0KHUpKSwhMTticmVhaztjYXNlXCJjb250cm9sbGVkQnlcIjppZihcIipcIiE9PWQmJlwib3duZXJzXCIhPT1kJiYoIUFycmF5LmlzQXJyYXkoZCl8fGQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV9KSkpKXJldHVybiByKHMsdCh1KSksITE7YnJlYWs7Y2FzZVwic2hhcmVkXCI6aWYoKCFBcnJheS5pc0FycmF5KGQpfHxkLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpKSYmXCJvd25lcnNcIiE9PWQmJlwiYm9vbGVhblwiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2RlZmF1bHQ6aWYoIWljLmlkW3VdKXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tSW50ZWdyYXRpb24gZG9lcyBub3Qgc3VwcG9ydCBrZXkgXCIuY29uY2F0KHUpKSwhMX19fXJldHVybiEwfWZ1bmN0aW9uIEFjKGUsdCl7aWYodm9pZCAwPT09dClyZXR1cm4hMTtzd2l0Y2gobih0KSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIG4oZSk9PT10O2Nhc2VcIm9iamVjdFwiOmlmKFwib2JqZWN0XCIhPT1uKGUpKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCFBYyhlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGpjKGUsdCl7dmFyIG49ZS5zZXNzaW9uSWQscj1lLnRvRW5kUG9pbnQsaT1lLmNhbGxlcklkLG89ZS51c2VTaXBSZWZlcjtpZighbnx8IXIpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHQsXCIoKSByZXF1aXJlcyBhIHNlc3Npb25JZCBhbmQgdG9FbmRQb2ludFwiKSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fFwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1hdGVyOiBzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZ1wiKTtpZihvJiYhci5zdGFydHNXaXRoKFwic2lwOlwiKSl0aHJvdyBuZXcgRXJyb3IoJ1widG9FbmRQb2ludFwiIG11c3QgYmUgYSBcInNpcFwiIGFkZHJlc3MnKTtpZighci5zdGFydHNXaXRoKFwic2lwOlwiKSYmIXIuc3RhcnRzV2l0aChcIitcIikpdGhyb3cgbmV3IEVycm9yKFwidG9FbmRQb2ludDogXCIuY29uY2F0KHIsJyBtdXN0IHN0YXJ0cyB3aXRoIGVpdGhlciBcInNpcDpcIiBvciBcIitcIicpKTtpZihpJiZcInN0cmluZ1wiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsZXJJZCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nXCIpO2lmKGkmJiFyLnN0YXJ0c1dpdGgoXCIrXCIpKXRocm93IG5ldyBFcnJvcihcImNhbGxlcklkIGlzIG9ubHkgdmFsaWQgd2hlbiB0cmFuc2ZlcnJpbmcgdG8gYSBQU1ROIG51bWJlclwiKX1mdW5jdGlvbiBJYyhlKXtpZihcIm9iamVjdFwiIT09bihlKSl0aHJvdyBuZXcgRXJyb3IoJ1JlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3M6IG11c3QgYmUgXCJvYmplY3RcIiB0eXBlJyk7aWYoZS5zdGF0ZSYmIU9iamVjdC52YWx1ZXMoaHMpLmluY2x1ZGVzKGUuc3RhdGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIFJlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3Muc3RhdGUsIHZhbGlkIHZhbHVlcyBhcmU6IFwiK0pTT04uc3RyaW5naWZ5KGhzKSk7aWYoZS52b2x1bWUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlLnZvbHVtZSl0aHJvdyBuZXcgRXJyb3IoJ1JlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3Mudm9sdW1lOiBtdXN0IGJlIFwibnVtYmVyXCIgdHlwZScpO2lmKGUudm9sdW1lPDB8fGUudm9sdW1lPjIpdGhyb3cgbmV3IEVycm9yKFwiUmVtb3RlTWVkaWFQbGF5ZXJTZXR0aW5ncy52b2x1bWU6IG11c3QgYmUgYmV0d2VlbiAwLjAgLSAyLjBcIil9fWZ1bmN0aW9uIHhjKGUsdCxuKXtyZXR1cm4hKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPHR8fGU+bil9ZnVuY3Rpb24gTGMoZSx0KXtyZXR1cm4gZSYmIXQmJmRlbGV0ZSBlLmRhdGEsZX1leHBvcnR7UGkgYXMgREFJTFlfQUNDRVNTX0xFVkVMX0ZVTEwsQWkgYXMgREFJTFlfQUNDRVNTX0xFVkVMX0xPQkJZLGppIGFzIERBSUxZX0FDQ0VTU19MRVZFTF9OT05FLE9pIGFzIERBSUxZX0FDQ0VTU19VTktOT1dOLFdpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9DQU1fQU5EX01JQ19JTl9VU0UscWkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX0NBTV9JTl9VU0UsS2kgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX0NPTlNUUkFJTlRTLHppIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9NSUNfSU5fVVNFLFFpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9OT1RfRk9VTkQsSGkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX1BFUk1JU1NJT05TLEdpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9VTkRFRl9NRURJQURFVklDRVMsWWkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX1VOS05PV04sZm8gYXMgREFJTFlfRVZFTlRfQUNDRVNTX1NUQVRFX1VQREFURUQsVW8gYXMgREFJTFlfRVZFTlRfQUNUSVZFX1NQRUFLRVJfQ0hBTkdFLFZvIGFzIERBSUxZX0VWRU5UX0FDVElWRV9TUEVBS0VSX01PREVfQ0hBTkdFLElvIGFzIERBSUxZX0VWRU5UX0FQUF9NU0csb28gYXMgREFJTFlfRVZFTlRfQ0FNRVJBX0VSUk9SLHFvIGFzIERBSUxZX0VWRU5UX0NQVV9MT0FEX0NIQU5HRSxucyBhcyBEQUlMWV9FVkVOVF9FUlJPUixIbyBhcyBEQUlMWV9FVkVOVF9FWElUX0ZVTExTQ1JFRU4sem8gYXMgREFJTFlfRVZFTlRfRkFDRV9DT1VOVFNfVVBEQVRFRCxXbyBhcyBEQUlMWV9FVkVOVF9GVUxMU0NSRUVOLFppIGFzIERBSUxZX0VWRU5UX0lGUkFNRV9MQVVOQ0hfQ09ORklHLFhpIGFzIERBSUxZX0VWRU5UX0lGUkFNRV9SRUFEWV9GT1JfTEFVTkNIX0NPTkZJRyxlcyBhcyBEQUlMWV9FVkVOVF9JTlBVVF9TRVRUSU5HU19VUERBVEVELGFvIGFzIERBSUxZX0VWRU5UX0pPSU5FRF9NRUVUSU5HLHNvIGFzIERBSUxZX0VWRU5UX0pPSU5JTkdfTUVFVElORyxYbyBhcyBEQUlMWV9FVkVOVF9MQU5HX1VQREFURUQsY28gYXMgREFJTFlfRVZFTlRfTEVGVF9NRUVUSU5HLFlvIGFzIERBSUxZX0VWRU5UX0xJVkVfU1RSRUFNSU5HX0VSUk9SLEdvIGFzIERBSUxZX0VWRU5UX0xJVkVfU1RSRUFNSU5HX1NUQVJURUQsS28gYXMgREFJTFlfRVZFTlRfTElWRV9TVFJFQU1JTkdfU1RPUFBFRCxRbyBhcyBEQUlMWV9FVkVOVF9MSVZFX1NUUkVBTUlOR19VUERBVEVELHJvIGFzIERBSUxZX0VWRU5UX0xPQURFRCx0byBhcyBEQUlMWV9FVkVOVF9MT0FESU5HLG5vIGFzIERBSUxZX0VWRU5UX0xPQURfQVRURU1QVF9GQUlMRUQsQm8gYXMgREFJTFlfRVZFTlRfTE9DQUxfU0NSRUVOX1NIQVJFX0NBTkNFTEVELFJvIGFzIERBSUxZX0VWRU5UX0xPQ0FMX1NDUkVFTl9TSEFSRV9TVEFSVEVELEZvIGFzIERBSUxZX0VWRU5UX0xPQ0FMX1NDUkVFTl9TSEFSRV9TVE9QUEVELG1vIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9EQVRBX0VSUk9SLGdvIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9TVEFURV9VUERBVEVELHZvIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9TVU1NQVJZX1VQREFURUQsJG8gYXMgREFJTFlfRVZFTlRfTkVUV09SS19DT05ORUNUSU9OLEpvIGFzIERBSUxZX0VWRU5UX05FVFdPUktfUVVBTElUWV9DSEFOR0UsdHMgYXMgREFJTFlfRVZFTlRfTk9ORkFUQUxfRVJST1IscG8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfQ09VTlRTX1VQREFURUQsbG8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfSk9JTkVELGhvIGFzIERBSUxZX0VWRU5UX1BBUlRJQ0lQQU5UX0xFRlQsdW8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfVVBEQVRFRCxabyBhcyBEQUlMWV9FVkVOVF9SRUNFSVZFX1NFVFRJTkdTX1VQREFURUQsam8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX0RBVEEsUG8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX0VSUk9SLEVvIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19TVEFSVEVELE9vIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19TVEFUUyxUbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfU1RPUFBFRCxBbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfVVBMT0FEX0NPTVBMRVRFRCxMbyBhcyBEQUlMWV9FVkVOVF9SRU1PVEVfTUVESUFfUExBWUVSX1NUQVJURUQsTm8gYXMgREFJTFlfRVZFTlRfUkVNT1RFX01FRElBX1BMQVlFUl9TVE9QUEVELERvIGFzIERBSUxZX0VWRU5UX1JFTU9URV9NRURJQV9QTEFZRVJfVVBEQVRFRCxpbyBhcyBEQUlMWV9FVkVOVF9TVEFSVEVEX0NBTUVSQSxlbyBhcyBEQUlMWV9FVkVOVF9USEVNRV9VUERBVEVELHdvIGFzIERBSUxZX0VWRU5UX1RSQUNLX1NUQVJURUQsU28gYXMgREFJTFlfRVZFTlRfVFJBQ0tfU1RPUFBFRCxDbyBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX0VSUk9SLHhvIGFzIERBSUxZX0VWRU5UX1RSQU5TQ1JJUFRJT05fTVNHLGtvIGFzIERBSUxZX0VWRU5UX1RSQU5TQ1JJUFRJT05fU1RBUlRFRCxNbyBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX1NUT1BQRUQseW8gYXMgREFJTFlfRVZFTlRfV0FJVElOR19QQVJUSUNJUEFOVF9BRERFRCxfbyBhcyBEQUlMWV9FVkVOVF9XQUlUSU5HX1BBUlRJQ0lQQU5UX1JFTU9WRUQsYm8gYXMgREFJTFlfRVZFTlRfV0FJVElOR19QQVJUSUNJUEFOVF9VUERBVEVELCRpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX0NPTk5FQ1RJT04sTGkgYXMgREFJTFlfRkFUQUxfRVJST1JfRUpFQ1RFRCxWaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9FT0wsUmkgYXMgREFJTFlfRkFUQUxfRVJST1JfRVhQX1JPT00sRmkgYXMgREFJTFlfRkFUQUxfRVJST1JfRVhQX1RPS0VOLFVpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX01FRVRJTkdfRlVMTCxEaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9OQkZfUk9PTSxOaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9OQkZfVE9LRU4sSmkgYXMgREFJTFlfRkFUQUxfRVJST1JfTk9UX0FMTE9XRUQsQmkgYXMgREFJTFlfRkFUQUxfRVJST1JfTk9fUk9PTSx4aSBhcyBEQUlMWV9SRUNFSVZFX1NFVFRJTkdTX0FMTF9QQVJUSUNJUEFOVFNfS0VZLElpIGFzIERBSUxZX1JFQ0VJVkVfU0VUVElOR1NfQkFTRV9LRVksd2kgYXMgREFJTFlfU1RBVEVfRVJST1IsYmkgYXMgREFJTFlfU1RBVEVfSk9JTkVELHlpIGFzIERBSUxZX1NUQVRFX0pPSU5JTkcsX2kgYXMgREFJTFlfU1RBVEVfTEVGVCx2aSBhcyBEQUlMWV9TVEFURV9ORVcsU2kgYXMgREFJTFlfVFJBQ0tfU1RBVEVfQkxPQ0tFRCxFaSBhcyBEQUlMWV9UUkFDS19TVEFURV9JTlRFUlJVUFRFRCxDaSBhcyBEQUlMWV9UUkFDS19TVEFURV9MT0FESU5HLGtpIGFzIERBSUxZX1RSQUNLX1NUQVRFX09GRixUaSBhcyBEQUlMWV9UUkFDS19TVEFURV9QTEFZQUJMRSxNaSBhcyBEQUlMWV9UUkFDS19TVEFURV9TRU5EQUJMRSxhYyBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@daily-co/daily-js/dist/daily-esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@pipecat-ai/client-js/dist/index.module.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@pipecat-ai/client-js/dist/index.module.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionEndpointNotSetError: function() { return /* binding */ $8ead7b33b8402751$export$be839f0100cd3132; },\n/* harmony export */   BotNotReadyError: function() { return /* binding */ $8ead7b33b8402751$export$885fb96b850e8fbb; },\n/* harmony export */   ConfigUpdateError: function() { return /* binding */ $8ead7b33b8402751$export$4eda4fd287fbbca5; },\n/* harmony export */   ConnectionTimeoutError: function() { return /* binding */ $8ead7b33b8402751$export$c67992fa684a81a6; },\n/* harmony export */   LLMActionType: function() { return /* binding */ $0908f693e3e0724c$export$43cdfb26f790451; },\n/* harmony export */   LLMHelper: function() { return /* binding */ $0908f693e3e0724c$export$3cf39a62d076dd5c; },\n/* harmony export */   LLMMessageType: function() { return /* binding */ $0908f693e3e0724c$export$441bcd2e10762760; },\n/* harmony export */   LogLevel: function() { return /* binding */ $7afbbd59ebaa42bf$export$243e62d78d3b544d; },\n/* harmony export */   MessageDispatcher: function() { return /* binding */ $b48f893ed1354c1e$export$e9a960646cc432aa; },\n/* harmony export */   RTVIActionRequest: function() { return /* binding */ $b48f893ed1354c1e$export$378529d7a8bead8b; },\n/* harmony export */   RTVIClient: function() { return /* binding */ $a7c324a73303ad55$export$fa42a01c1d60f4a1; },\n/* harmony export */   RTVIClientHelper: function() { return /* binding */ $7614fb2168c523cc$export$23bc637255b2a471; },\n/* harmony export */   RTVIError: function() { return /* binding */ $8ead7b33b8402751$export$59b4786f333aac02; },\n/* harmony export */   RTVIEvent: function() { return /* binding */ $f9fc0c57b9aaed9c$export$6b4624d233c61fcb; },\n/* harmony export */   RTVIMessage: function() { return /* binding */ $b48f893ed1354c1e$export$69aa9ab0334b212; },\n/* harmony export */   RTVIMessageType: function() { return /* binding */ $b48f893ed1354c1e$export$38b3db05cbf0e240; },\n/* harmony export */   RTVI_MESSAGE_LABEL: function() { return /* binding */ $b48f893ed1354c1e$export$882b13c7fda338f5; },\n/* harmony export */   StartBotError: function() { return /* binding */ $8ead7b33b8402751$export$e7544ab812238a61; },\n/* harmony export */   Transport: function() { return /* binding */ $4086f06442fcb7d7$export$86495b081fef8e52; },\n/* harmony export */   TransportStartError: function() { return /* binding */ $8ead7b33b8402751$export$e0624a511a2c4e9; },\n/* harmony export */   TransportWrapper: function() { return /* binding */ $4086f06442fcb7d7$export$82b6ede160a64a3c; },\n/* harmony export */   httpActionGenerator: function() { return /* binding */ $4bb349f22aee5185$export$8728b60ea57bf43e; },\n/* harmony export */   logger: function() { return /* binding */ $7afbbd59ebaa42bf$export$af88d00dbe7f521; }\n/* harmony export */ });\n/* harmony import */ var clone_deep__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clone-deep */ \"(app-pages-browser)/./node_modules/clone-deep/index.js\");\n/* harmony import */ var clone_deep__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone_deep__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n\n\n\n\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $4bb349f22aee5185$exports = {};\n\n$parcel$export($4bb349f22aee5185$exports, \"httpActionGenerator\", () => $4bb349f22aee5185$export$8728b60ea57bf43e);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \nasync function $4bb349f22aee5185$export$8728b60ea57bf43e(actionUrl, action, params, handleResponse) {\n    try {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI] Fetch action\", actionUrl, action);\n        const headers = new Headers({\n            ...Object.fromEntries((params.headers ?? new Headers()).entries())\n        });\n        if (!headers.has(\"Content-Type\")) headers.set(\"Content-Type\", \"application/json\");\n        headers.set(\"Cache-Control\", \"no-cache\");\n        headers.set(\"Connection\", \"keep-alive\");\n        // Perform the fetch request\n        const response = await fetch(actionUrl, {\n            method: \"POST\",\n            headers: headers,\n            body: JSON.stringify({\n                ...params.requestData,\n                actions: [\n                    action\n                ]\n            })\n        });\n        // Check the response content type\n        const contentType = response.headers.get(\"content-type\");\n        // Handle non-ok response status\n        if (!response.ok) {\n            const errorMessage = await response.text();\n            throw new (0, $8ead7b33b8402751$export$59b4786f333aac02)(`Failed to resolve action: ${errorMessage}`, response.status);\n        }\n        if (response.body && contentType?.includes(\"text/event-stream\")) {\n            // Parse streamed responses\n            const reader = response.body.pipeThrough(new TextDecoderStream()).getReader();\n            let buffer = \"\";\n            while(true){\n                const { value: value, done: done } = await reader.read();\n                if (done) break;\n                buffer += value;\n                let boundary = buffer.indexOf(\"\\n\\n\");\n                while(boundary !== -1){\n                    const message = buffer.slice(0, boundary);\n                    buffer = buffer.slice(boundary + 2);\n                    // Split on the first \":\" to extract the JSON part\n                    const lines = message.split(\"\\n\");\n                    let encodedData = \"\";\n                    for (const line of lines){\n                        const colonIndex = line.indexOf(\":\");\n                        if (colonIndex !== -1) encodedData += line.slice(colonIndex + 1).trim();\n                    }\n                    try {\n                        const jsonData = atob(encodedData);\n                        const parsedData = JSON.parse(jsonData);\n                        handleResponse(parsedData);\n                    } catch (error) {\n                        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).error(\"[RTVI] Failed to parse JSON:\", error);\n                        throw error;\n                    }\n                    boundary = buffer.indexOf(\"\\n\\n\");\n                }\n            }\n        } else {\n            // For regular non-streamed responses, parse and handle the data as JSON\n            const data = await response.json();\n            handleResponse(data);\n        }\n    } catch (error) {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).error(\"[RTVI] Error during fetch:\", error);\n        throw error;\n    }\n} /*\n//@TODO: implement abortController when mode changes / bad things happen\nexport async function dispatchAction(\n  this: RTVIClient,\n  action: RTVIActionRequest\n): Promise<RTVIActionResponse> {\n  const promise = new Promise((resolve, reject) => {\n    (async () => {\n      if (this.connected) {\n        return this._messageDispatcher.dispatch(action);\n      } else {\n        const actionUrl = this.constructUrl(\"action\");\n        try {\n          const result = await httpActionGenerator(\n            actionUrl,\n            action,\n            this.params,\n            (response) => {\n              this.handleMessage(response);\n            }\n          );\n          resolve(result);\n        } catch (error) {\n          reject(error);\n        }\n      }\n    })();\n  });\n\n  return promise as Promise<RTVIActionResponse>;\n}\n*/ \n\n\nvar $a7c324a73303ad55$exports = {};\n\n$parcel$export($a7c324a73303ad55$exports, \"RTVIClient\", () => $a7c324a73303ad55$export$fa42a01c1d60f4a1);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\nvar $e3bad9cc25e327f7$exports = {};\n$e3bad9cc25e327f7$exports = JSON.parse(\"{\\\"name\\\":\\\"@pipecat-ai/client-js\\\",\\\"version\\\":\\\"0.4.1\\\",\\\"license\\\":\\\"BSD-2-Clause\\\",\\\"main\\\":\\\"dist/index.js\\\",\\\"module\\\":\\\"dist/index.module.js\\\",\\\"types\\\":\\\"dist/index.d.ts\\\",\\\"source\\\":\\\"src/index.ts\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/pipecat-ai/pipecat-client-web.git\\\"},\\\"files\\\":[\\\"dist\\\",\\\"package.json\\\",\\\"README.md\\\"],\\\"scripts\\\":{\\\"build\\\":\\\"jest --silent && parcel build --no-cache\\\",\\\"dev\\\":\\\"parcel watch\\\",\\\"lint\\\":\\\"eslint src/ --report-unused-disable-directives --max-warnings 0\\\",\\\"test\\\":\\\"jest\\\"},\\\"jest\\\":{\\\"preset\\\":\\\"ts-jest\\\",\\\"testEnvironment\\\":\\\"node\\\"},\\\"devDependencies\\\":{\\\"@jest/globals\\\":\\\"^29.7.0\\\",\\\"@types/clone-deep\\\":\\\"^4.0.4\\\",\\\"@types/jest\\\":\\\"^29.5.12\\\",\\\"@types/uuid\\\":\\\"^10.0.0\\\",\\\"eslint\\\":\\\"^9.11.1\\\",\\\"eslint-config-prettier\\\":\\\"^9.1.0\\\",\\\"eslint-plugin-simple-import-sort\\\":\\\"^12.1.1\\\",\\\"jest\\\":\\\"^29.7.0\\\",\\\"ts-jest\\\":\\\"^29.2.5\\\"},\\\"dependencies\\\":{\\\"@types/events\\\":\\\"^3.0.3\\\",\\\"clone-deep\\\":\\\"^4.0.1\\\",\\\"events\\\":\\\"^3.3.0\\\",\\\"typed-emitter\\\":\\\"^2.1.0\\\",\\\"uuid\\\":\\\"^10.0.0\\\"}}\");\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $8ead7b33b8402751$exports = {};\n\n$parcel$export($8ead7b33b8402751$exports, \"RTVIError\", () => $8ead7b33b8402751$export$59b4786f333aac02);\n$parcel$export($8ead7b33b8402751$exports, \"ConnectionTimeoutError\", () => $8ead7b33b8402751$export$c67992fa684a81a6);\n$parcel$export($8ead7b33b8402751$exports, \"StartBotError\", () => $8ead7b33b8402751$export$e7544ab812238a61);\n$parcel$export($8ead7b33b8402751$exports, \"TransportStartError\", () => $8ead7b33b8402751$export$e0624a511a2c4e9);\n$parcel$export($8ead7b33b8402751$exports, \"BotNotReadyError\", () => $8ead7b33b8402751$export$885fb96b850e8fbb);\n$parcel$export($8ead7b33b8402751$exports, \"ConfigUpdateError\", () => $8ead7b33b8402751$export$4eda4fd287fbbca5);\n$parcel$export($8ead7b33b8402751$exports, \"ActionEndpointNotSetError\", () => $8ead7b33b8402751$export$be839f0100cd3132);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ class $8ead7b33b8402751$export$59b4786f333aac02 extends Error {\n    constructor(message, status){\n        super(message);\n        this.status = status;\n    }\n}\nclass $8ead7b33b8402751$export$c67992fa684a81a6 extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Bot did not enter ready state within the specified timeout period.\");\n    }\n}\nclass $8ead7b33b8402751$export$e7544ab812238a61 extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message, status){\n        super(message ?? `Failed to connect / invalid auth bundle from base url`, status ?? 500);\n        this.error = \"invalid-request-error\";\n    }\n}\nclass $8ead7b33b8402751$export$e0624a511a2c4e9 extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Unable to connect to transport\");\n    }\n}\nclass $8ead7b33b8402751$export$885fb96b850e8fbb extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Attempt to call action on transport when not in 'ready' state.\");\n    }\n}\nclass $8ead7b33b8402751$export$4eda4fd287fbbca5 extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Unable to update configuration\");\n        this.status = 400;\n    }\n}\nclass $8ead7b33b8402751$export$be839f0100cd3132 extends $8ead7b33b8402751$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Action endpoint is not set\");\n    }\n}\n\n\nfunction $16f019d4d16917df$export$f1586721024c4dab(_target, propertyKey, descriptor) {\n    const originalMethod = descriptor.value;\n    descriptor.value = function(...args) {\n        if (this.state === \"ready\") return originalMethod.apply(this, args);\n        else throw new (0, $8ead7b33b8402751$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ready state. Await connect() first.`);\n    };\n    return descriptor;\n}\nfunction $16f019d4d16917df$export$808994d0d8c9acb3(states) {\n    return function(_target, propertyKey, descriptor) {\n        const originalMethod = descriptor.value;\n        descriptor.get = function(...args) {\n            if (states.includes(this.state)) return originalMethod.apply(this, args);\n            else throw new (0, $8ead7b33b8402751$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ${states}.`);\n        };\n        return descriptor;\n    };\n}\nfunction $16f019d4d16917df$export$5c35b4fe6fa8c9a6(...states) {\n    states = [\n        \"ready\",\n        ...states\n    ];\n    return function(_target, propertyKey, descriptor) {\n        const originalGetter = descriptor.get;\n        descriptor.get = function() {\n            if (states.includes(this.state)) return originalGetter?.apply(this);\n            else throw new (0, $8ead7b33b8402751$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ${states}. Await connect() first.`);\n        };\n        return descriptor;\n    };\n}\n\n\n\nvar $f9fc0c57b9aaed9c$exports = {};\n\n$parcel$export($f9fc0c57b9aaed9c$exports, \"RTVIEvent\", () => $f9fc0c57b9aaed9c$export$6b4624d233c61fcb);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $f9fc0c57b9aaed9c$export$6b4624d233c61fcb;\n(function(RTVIEvent) {\n    RTVIEvent[\"MessageError\"] = \"messageError\";\n    RTVIEvent[\"Error\"] = \"error\";\n    RTVIEvent[\"Connected\"] = \"connected\";\n    RTVIEvent[\"Disconnected\"] = \"disconnected\";\n    RTVIEvent[\"TransportStateChanged\"] = \"transportStateChanged\";\n    RTVIEvent[\"Config\"] = \"config\";\n    RTVIEvent[\"ConfigDescribe\"] = \"configDescribe\";\n    RTVIEvent[\"ActionsAvailable\"] = \"actionsAvailable\";\n    RTVIEvent[\"ParticipantConnected\"] = \"participantConnected\";\n    RTVIEvent[\"ParticipantLeft\"] = \"participantLeft\";\n    RTVIEvent[\"TrackStarted\"] = \"trackStarted\";\n    RTVIEvent[\"TrackStopped\"] = \"trackStopped\";\n    RTVIEvent[\"ScreenTrackStarted\"] = \"screenTrackStarted\";\n    RTVIEvent[\"ScreenTrackStopped\"] = \"screenTrackStopped\";\n    RTVIEvent[\"ScreenShareError\"] = \"screenShareError\";\n    RTVIEvent[\"AvailableCamsUpdated\"] = \"availableCamsUpdated\";\n    RTVIEvent[\"AvailableMicsUpdated\"] = \"availableMicsUpdated\";\n    RTVIEvent[\"AvailableSpeakersUpdated\"] = \"availableSpeakersUpdated\";\n    RTVIEvent[\"CamUpdated\"] = \"camUpdated\";\n    RTVIEvent[\"MicUpdated\"] = \"micUpdated\";\n    RTVIEvent[\"SpeakerUpdated\"] = \"speakerUpdated\";\n    RTVIEvent[\"BotConnected\"] = \"botConnected\";\n    RTVIEvent[\"BotReady\"] = \"botReady\";\n    RTVIEvent[\"BotDisconnected\"] = \"botDisconnected\";\n    RTVIEvent[\"BotStartedSpeaking\"] = \"botStartedSpeaking\";\n    RTVIEvent[\"BotStoppedSpeaking\"] = \"botStoppedSpeaking\";\n    RTVIEvent[\"RemoteAudioLevel\"] = \"remoteAudioLevel\";\n    RTVIEvent[\"UserStartedSpeaking\"] = \"userStartedSpeaking\";\n    RTVIEvent[\"UserStoppedSpeaking\"] = \"userStoppedSpeaking\";\n    RTVIEvent[\"LocalAudioLevel\"] = \"localAudioLevel\";\n    RTVIEvent[\"Metrics\"] = \"metrics\";\n    RTVIEvent[\"UserTranscript\"] = \"userTranscript\";\n    RTVIEvent[\"BotTranscript\"] = \"botTranscript\";\n    RTVIEvent[\"BotLlmText\"] = \"botLlmText\";\n    RTVIEvent[\"BotLlmStarted\"] = \"botLlmStarted\";\n    RTVIEvent[\"BotLlmStopped\"] = \"botLlmStopped\";\n    RTVIEvent[\"BotTtsText\"] = \"botTtsText\";\n    RTVIEvent[\"BotTtsStarted\"] = \"botTtsStarted\";\n    RTVIEvent[\"BotTtsStopped\"] = \"botTtsStopped\";\n    RTVIEvent[\"LLMFunctionCall\"] = \"llmFunctionCall\";\n    RTVIEvent[\"LLMFunctionCallStart\"] = \"llmFunctionCallStart\";\n    RTVIEvent[\"LLMJsonCompletion\"] = \"llmJsonCompletion\";\n    RTVIEvent[\"StorageItemStored\"] = \"storageItemStored\";\n    RTVIEvent[\"BotLlmSearchResponse\"] = \"botLlmSearchResponse\";\n    RTVIEvent[\"ServerMessage\"] = \"serverMessage\";\n})($f9fc0c57b9aaed9c$export$6b4624d233c61fcb || ($f9fc0c57b9aaed9c$export$6b4624d233c61fcb = {}));\n\n\nvar $7614fb2168c523cc$exports = {};\n\n$parcel$export($7614fb2168c523cc$exports, \"RTVIClientHelper\", () => $7614fb2168c523cc$export$23bc637255b2a471);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ class $7614fb2168c523cc$export$23bc637255b2a471 {\n    constructor(options){\n        this._options = options;\n    }\n    set client(client) {\n        this._client = client;\n    }\n    set service(service) {\n        this._service = service;\n    }\n}\n\n\nvar $7afbbd59ebaa42bf$exports = {};\n\n$parcel$export($7afbbd59ebaa42bf$exports, \"LogLevel\", () => $7afbbd59ebaa42bf$export$243e62d78d3b544d);\n$parcel$export($7afbbd59ebaa42bf$exports, \"logger\", () => $7afbbd59ebaa42bf$export$af88d00dbe7f521);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $7afbbd59ebaa42bf$export$243e62d78d3b544d;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"NONE\"] = 0] = \"NONE\";\n    LogLevel[LogLevel[\"ERROR\"] = 1] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 3] = \"INFO\";\n    LogLevel[LogLevel[\"DEBUG\"] = 4] = \"DEBUG\";\n})($7afbbd59ebaa42bf$export$243e62d78d3b544d || ($7afbbd59ebaa42bf$export$243e62d78d3b544d = {}));\nclass $7afbbd59ebaa42bf$var$Logger {\n    constructor(){\n        this.level = $7afbbd59ebaa42bf$export$243e62d78d3b544d.DEBUG;\n    }\n    static getInstance() {\n        if (!$7afbbd59ebaa42bf$var$Logger.instance) $7afbbd59ebaa42bf$var$Logger.instance = new $7afbbd59ebaa42bf$var$Logger();\n        return $7afbbd59ebaa42bf$var$Logger.instance;\n    }\n    setLevel(level) {\n        this.level = level;\n    }\n    debug(...args) {\n        if (this.level >= $7afbbd59ebaa42bf$export$243e62d78d3b544d.DEBUG) console.debug(...args);\n    }\n    info(...args) {\n        if (this.level >= $7afbbd59ebaa42bf$export$243e62d78d3b544d.INFO) console.info(...args);\n    }\n    warn(...args) {\n        if (this.level >= $7afbbd59ebaa42bf$export$243e62d78d3b544d.WARN) console.warn(...args);\n    }\n    error(...args) {\n        if (this.level >= $7afbbd59ebaa42bf$export$243e62d78d3b544d.ERROR) console.error(...args);\n    }\n}\nconst $7afbbd59ebaa42bf$export$af88d00dbe7f521 = $7afbbd59ebaa42bf$var$Logger.getInstance();\n\n\nvar $b48f893ed1354c1e$exports = {};\n\n$parcel$export($b48f893ed1354c1e$exports, \"RTVI_MESSAGE_LABEL\", () => $b48f893ed1354c1e$export$882b13c7fda338f5);\n$parcel$export($b48f893ed1354c1e$exports, \"RTVIMessageType\", () => $b48f893ed1354c1e$export$38b3db05cbf0e240);\n$parcel$export($b48f893ed1354c1e$exports, \"RTVIMessage\", () => $b48f893ed1354c1e$export$69aa9ab0334b212);\n$parcel$export($b48f893ed1354c1e$exports, \"RTVIActionRequest\", () => $b48f893ed1354c1e$export$378529d7a8bead8b);\n$parcel$export($b48f893ed1354c1e$exports, \"MessageDispatcher\", () => $b48f893ed1354c1e$export$e9a960646cc432aa);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\nconst $b48f893ed1354c1e$export$882b13c7fda338f5 = \"rtvi-ai\";\nvar $b48f893ed1354c1e$export$38b3db05cbf0e240;\n(function(RTVIMessageType) {\n    // Outbound\n    RTVIMessageType[\"CLIENT_READY\"] = \"client-ready\";\n    RTVIMessageType[\"UPDATE_CONFIG\"] = \"update-config\";\n    RTVIMessageType[\"GET_CONFIG\"] = \"get-config\";\n    RTVIMessageType[\"DESCRIBE_CONFIG\"] = \"describe-config\";\n    RTVIMessageType[\"DESCRIBE_ACTIONS\"] = \"describe-actions\";\n    RTVIMessageType[\"DISCONNECT_BOT\"] = \"disconnect-bot\";\n    RTVIMessageType[\"ACTION\"] = \"action\";\n    // Inbound\n    RTVIMessageType[\"BOT_READY\"] = \"bot-ready\";\n    RTVIMessageType[\"ERROR\"] = \"error\";\n    RTVIMessageType[\"ERROR_RESPONSE\"] = \"error-response\";\n    RTVIMessageType[\"CONFIG\"] = \"config\";\n    RTVIMessageType[\"CONFIG_AVAILABLE\"] = \"config-available\";\n    RTVIMessageType[\"CONFIG_ERROR\"] = \"config-error\";\n    RTVIMessageType[\"ACTIONS_AVAILABLE\"] = \"actions-available\";\n    RTVIMessageType[\"ACTION_RESPONSE\"] = \"action-response\";\n    RTVIMessageType[\"METRICS\"] = \"metrics\";\n    RTVIMessageType[\"USER_TRANSCRIPTION\"] = \"user-transcription\";\n    RTVIMessageType[\"BOT_TRANSCRIPTION\"] = \"bot-transcription\";\n    RTVIMessageType[\"USER_STARTED_SPEAKING\"] = \"user-started-speaking\";\n    RTVIMessageType[\"USER_STOPPED_SPEAKING\"] = \"user-stopped-speaking\";\n    RTVIMessageType[\"BOT_STARTED_SPEAKING\"] = \"bot-started-speaking\";\n    RTVIMessageType[\"BOT_STOPPED_SPEAKING\"] = \"bot-stopped-speaking\";\n    // Service-specific\n    RTVIMessageType[\"USER_LLM_TEXT\"] = \"user-llm-text\";\n    RTVIMessageType[\"BOT_LLM_TEXT\"] = \"bot-llm-text\";\n    RTVIMessageType[\"BOT_LLM_STARTED\"] = \"bot-llm-started\";\n    RTVIMessageType[\"BOT_LLM_STOPPED\"] = \"bot-llm-stopped\";\n    RTVIMessageType[\"BOT_TTS_TEXT\"] = \"bot-tts-text\";\n    RTVIMessageType[\"BOT_TTS_STARTED\"] = \"bot-tts-started\";\n    RTVIMessageType[\"BOT_TTS_STOPPED\"] = \"bot-tts-stopped\";\n    RTVIMessageType[\"BOT_LLM_SEARCH_RESPONSE\"] = \"bot-llm-search-response\";\n    // Storage\n    RTVIMessageType[\"STORAGE_ITEM_STORED\"] = \"storage-item-stored\";\n    // Server-to-client messages\n    RTVIMessageType[\"SERVER_MESSAGE\"] = \"server-message\";\n})($b48f893ed1354c1e$export$38b3db05cbf0e240 || ($b48f893ed1354c1e$export$38b3db05cbf0e240 = {}));\nclass $b48f893ed1354c1e$export$69aa9ab0334b212 {\n    constructor(type, data, id){\n        this.label = $b48f893ed1354c1e$export$882b13c7fda338f5;\n        this.type = type;\n        this.data = data;\n        this.id = id || (0, uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().slice(0, 8);\n    }\n    // Outbound message types\n    static clientReady() {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.CLIENT_READY, {});\n    }\n    static updateConfig(config, interrupt = false) {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.UPDATE_CONFIG, {\n            config: config,\n            interrupt: interrupt\n        });\n    }\n    static describeConfig() {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.DESCRIBE_CONFIG, {});\n    }\n    static getBotConfig() {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.GET_CONFIG, {});\n    }\n    static describeActions() {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.DESCRIBE_ACTIONS, {});\n    }\n    static disconnectBot() {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.DISCONNECT_BOT, {});\n    }\n    static error(message, fatal = false) {\n        return new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.ERROR, {\n            message: message,\n            fatal: fatal\n        });\n    }\n}\nclass $b48f893ed1354c1e$export$378529d7a8bead8b extends $b48f893ed1354c1e$export$69aa9ab0334b212 {\n    constructor(data){\n        super($b48f893ed1354c1e$export$38b3db05cbf0e240.ACTION, data);\n    }\n}\nclass $b48f893ed1354c1e$export$e9a960646cc432aa {\n    constructor(client){\n        this._queue = new Array();\n        this._gcTime = 10000; // How long to wait before resolving the message\n        this._queue = [];\n        this._client = client;\n    }\n    dispatch(message) {\n        const promise = new Promise((resolve, reject)=>{\n            this._queue.push({\n                message: message,\n                timestamp: Date.now(),\n                resolve: resolve,\n                reject: reject\n            });\n        });\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] dispatch\", message);\n        this._client.sendMessage(message);\n        this._gc();\n        return promise;\n    }\n    async dispatchAction(action, onMessage) {\n        const promise = new Promise((resolve, reject)=>{\n            this._queue.push({\n                message: action,\n                timestamp: Date.now(),\n                resolve: resolve,\n                reject: reject\n            });\n        });\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] action\", action);\n        if (this._client.connected) // Send message to transport when connected\n        this._client.sendMessage(action);\n        else {\n            if (!this._client.params.endpoints?.action) {\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).error(\"[MessageDispatcher] Action endpoint is required when dispatching action in disconnected state\");\n                throw new (0, $8ead7b33b8402751$export$be839f0100cd3132)();\n            }\n            const actionUrl = this._client.constructUrl(\"action\");\n            try {\n                // Dispatch action via HTTP when disconnected\n                await (0, $4bb349f22aee5185$export$8728b60ea57bf43e)(actionUrl, action, this._client.params, (response)=>{\n                    onMessage(response);\n                });\n            // On HTTP success (resolve), send `action` message (for callbacks)\n            } catch (e) {\n                onMessage(new $b48f893ed1354c1e$export$69aa9ab0334b212($b48f893ed1354c1e$export$38b3db05cbf0e240.ERROR_RESPONSE, `Action endpoint '${actionUrl}' returned an error response`, action.id));\n            }\n        }\n        this._gc();\n        return promise;\n    }\n    _resolveReject(message, resolve = true) {\n        const queuedMessage = this._queue.find((msg)=>msg.message.id === message.id);\n        if (queuedMessage) {\n            if (resolve) {\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Resolve\", message);\n                queuedMessage.resolve(message.type === $b48f893ed1354c1e$export$38b3db05cbf0e240.ACTION_RESPONSE ? message : message);\n            } else {\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Reject\", message);\n                queuedMessage.reject(message);\n            }\n            // Remove message from queue\n            this._queue = this._queue.filter((msg)=>msg.message.id !== message.id);\n            (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Queue\", this._queue);\n        }\n        return message;\n    }\n    resolve(message) {\n        return this._resolveReject(message, true);\n    }\n    reject(message) {\n        return this._resolveReject(message, false);\n    }\n    _gc() {\n        this._queue = this._queue.filter((msg)=>{\n            return Date.now() - msg.timestamp < this._gcTime;\n        });\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[MessageDispatcher] GC\", this._queue);\n    }\n}\n\n\nvar $4086f06442fcb7d7$exports = {};\n\n$parcel$export($4086f06442fcb7d7$exports, \"Transport\", () => $4086f06442fcb7d7$export$86495b081fef8e52);\n$parcel$export($4086f06442fcb7d7$exports, \"TransportWrapper\", () => $4086f06442fcb7d7$export$82b6ede160a64a3c);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ class $4086f06442fcb7d7$export$86495b081fef8e52 {\n    constructor(){\n        this._state = \"disconnected\";\n        this._expiry = undefined;\n    }\n    get expiry() {\n        return this._expiry;\n    }\n}\nclass $4086f06442fcb7d7$export$82b6ede160a64a3c {\n    constructor(transport){\n        this._transport = transport;\n        this._proxy = new Proxy(this._transport, {\n            get: (target, prop, receiver)=>{\n                if (typeof target[prop] === \"function\") {\n                    let errMsg;\n                    switch(String(prop)){\n                        // Disable methods that modify the lifecycle of the call. These operations\n                        // should be performed via the RTVI client in order to keep state in sync.\n                        case \"initialize\":\n                            errMsg = `Direct calls to initialize() are disabled and used internally by the RTVIClient.`;\n                            break;\n                        case \"initDevices\":\n                            errMsg = `Direct calls to initDevices() are disabled. Please use the RTVIClient.initDevices() wrapper or let RTVIClient.connect() call it for you.`;\n                            break;\n                        case \"sendReadyMessage\":\n                            errMsg = `Direct calls to sendReadyMessage() are disabled and used internally by the RTVIClient.`;\n                            break;\n                        case \"connect\":\n                            errMsg = `Direct calls to connect() are disabled. Please use the RTVIClient.connect() wrapper.`;\n                            break;\n                        case \"disconnect\":\n                            errMsg = `Direct calls to disconnect() are disabled. Please use the RTVIClient.disconnect() wrapper.`;\n                            break;\n                    }\n                    if (errMsg) return ()=>{\n                        throw new Error(errMsg);\n                    };\n                    // Forward other method calls\n                    return (...args)=>{\n                        return target[prop](...args);\n                    };\n                }\n                // Forward property access\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n    get proxy() {\n        return this._proxy;\n    }\n}\n\n\nvar $a7c324a73303ad55$var$__decorate =  false || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst $a7c324a73303ad55$var$defaultEndpoints = {\n    connect: \"/connect\",\n    action: \"/action\"\n};\nclass $a7c324a73303ad55$var$RTVIEventEmitter extends (0, (events__WEBPACK_IMPORTED_MODULE_1___default())) {\n}\nclass $a7c324a73303ad55$export$fa42a01c1d60f4a1 extends $a7c324a73303ad55$var$RTVIEventEmitter {\n    constructor(options){\n        super();\n        this.params = {\n            ...options.params,\n            endpoints: {\n                ...$a7c324a73303ad55$var$defaultEndpoints,\n                ...options.params.endpoints ?? {}\n            }\n        };\n        this._helpers = {};\n        this._transport = options.transport;\n        this._transportWrapper = new (0, $4086f06442fcb7d7$export$82b6ede160a64a3c)(this._transport);\n        // Wrap transport callbacks with event triggers\n        // This allows for either functional callbacks or .on / .off event listeners\n        const wrappedCallbacks = {\n            ...options.callbacks,\n            onMessageError: (message)=>{\n                options?.callbacks?.onMessageError?.(message);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).MessageError, message);\n            },\n            onError: (message)=>{\n                options?.callbacks?.onError?.(message);\n                try {\n                    this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).Error, message);\n                } catch (e) {\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"Could not emit error\", message);\n                }\n                const data = message.data;\n                if (data?.fatal) {\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).error(\"Fatal error reported. Disconnecting...\");\n                    this.disconnect();\n                }\n            },\n            onConnected: ()=>{\n                options?.callbacks?.onConnected?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).Connected);\n            },\n            onDisconnected: ()=>{\n                options?.callbacks?.onDisconnected?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).Disconnected);\n            },\n            onTransportStateChanged: (state)=>{\n                options?.callbacks?.onTransportStateChanged?.(state);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).TransportStateChanged, state);\n            },\n            onConfig: (config)=>{\n                options?.callbacks?.onConfig?.(config);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).Config, config);\n            },\n            onConfigDescribe: (configDescription)=>{\n                options?.callbacks?.onConfigDescribe?.(configDescription);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ConfigDescribe, configDescription);\n            },\n            onActionsAvailable: (actionsAvailable)=>{\n                options?.callbacks?.onActionsAvailable?.(actionsAvailable);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ActionsAvailable, actionsAvailable);\n            },\n            onParticipantJoined: (p)=>{\n                options?.callbacks?.onParticipantJoined?.(p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ParticipantConnected, p);\n            },\n            onParticipantLeft: (p)=>{\n                options?.callbacks?.onParticipantLeft?.(p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ParticipantLeft, p);\n            },\n            onTrackStarted: (track, p)=>{\n                options?.callbacks?.onTrackStarted?.(track, p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).TrackStarted, track, p);\n            },\n            onTrackStopped: (track, p)=>{\n                options?.callbacks?.onTrackStopped?.(track, p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).TrackStopped, track, p);\n            },\n            onScreenTrackStarted: (track, p)=>{\n                options?.callbacks?.onScreenTrackStarted?.(track, p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ScreenTrackStarted, track, p);\n            },\n            onScreenTrackStopped: (track, p)=>{\n                options?.callbacks?.onScreenTrackStopped?.(track, p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ScreenTrackStopped, track, p);\n            },\n            onScreenShareError: (errorMessage)=>{\n                options?.callbacks?.onScreenShareError?.(errorMessage);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ScreenShareError, errorMessage);\n            },\n            onAvailableCamsUpdated: (cams)=>{\n                options?.callbacks?.onAvailableCamsUpdated?.(cams);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).AvailableCamsUpdated, cams);\n            },\n            onAvailableMicsUpdated: (mics)=>{\n                options?.callbacks?.onAvailableMicsUpdated?.(mics);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).AvailableMicsUpdated, mics);\n            },\n            onAvailableSpeakersUpdated: (speakers)=>{\n                options?.callbacks?.onAvailableSpeakersUpdated?.(speakers);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).AvailableSpeakersUpdated, speakers);\n            },\n            onCamUpdated: (cam)=>{\n                options?.callbacks?.onCamUpdated?.(cam);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).CamUpdated, cam);\n            },\n            onMicUpdated: (mic)=>{\n                options?.callbacks?.onMicUpdated?.(mic);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).MicUpdated, mic);\n            },\n            onSpeakerUpdated: (speaker)=>{\n                options?.callbacks?.onSpeakerUpdated?.(speaker);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).SpeakerUpdated, speaker);\n            },\n            onBotConnected: (p)=>{\n                options?.callbacks?.onBotConnected?.(p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotConnected, p);\n            },\n            onBotReady: (botReadyData)=>{\n                options?.callbacks?.onBotReady?.(botReadyData);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotReady, botReadyData);\n            },\n            onBotDisconnected: (p)=>{\n                options?.callbacks?.onBotDisconnected?.(p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotDisconnected, p);\n            },\n            onBotStartedSpeaking: ()=>{\n                options?.callbacks?.onBotStartedSpeaking?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotStartedSpeaking);\n            },\n            onBotStoppedSpeaking: ()=>{\n                options?.callbacks?.onBotStoppedSpeaking?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotStoppedSpeaking);\n            },\n            onRemoteAudioLevel: (level, p)=>{\n                options?.callbacks?.onRemoteAudioLevel?.(level, p);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).RemoteAudioLevel, level, p);\n            },\n            onUserStartedSpeaking: ()=>{\n                options?.callbacks?.onUserStartedSpeaking?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).UserStartedSpeaking);\n            },\n            onUserStoppedSpeaking: ()=>{\n                options?.callbacks?.onUserStoppedSpeaking?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).UserStoppedSpeaking);\n            },\n            onLocalAudioLevel: (level)=>{\n                options?.callbacks?.onLocalAudioLevel?.(level);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).LocalAudioLevel, level);\n            },\n            onUserTranscript: (data)=>{\n                options?.callbacks?.onUserTranscript?.(data);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).UserTranscript, data);\n            },\n            onBotTranscript: (text)=>{\n                options?.callbacks?.onBotTranscript?.(text);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotTranscript, text);\n            },\n            onBotLlmText: (text)=>{\n                options?.callbacks?.onBotLlmText?.(text);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotLlmText, text);\n            },\n            onBotLlmStarted: ()=>{\n                options?.callbacks?.onBotLlmStarted?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotLlmStarted);\n            },\n            onBotLlmStopped: ()=>{\n                options?.callbacks?.onBotLlmStopped?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotLlmStopped);\n            },\n            onBotTtsText: (text)=>{\n                options?.callbacks?.onBotTtsText?.(text);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotTtsText, text);\n            },\n            onBotTtsStarted: ()=>{\n                options?.callbacks?.onBotTtsStarted?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotTtsStarted);\n            },\n            onBotTtsStopped: ()=>{\n                options?.callbacks?.onBotTtsStopped?.();\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotTtsStopped);\n            },\n            onStorageItemStored: (data)=>{\n                options?.callbacks?.onStorageItemStored?.(data);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).StorageItemStored, data);\n            }\n        };\n        // Update options to reference wrapped callbacks and config defaults\n        this._options = {\n            ...options,\n            callbacks: wrappedCallbacks,\n            enableMic: options.enableMic ?? true,\n            enableCam: options.enableCam ?? false\n        };\n        // Instantiate the transport class and bind message handler\n        this._initialize();\n        // Get package version number\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Initialized\", this.version);\n    }\n    constructUrl(endpoint) {\n        if (!this.params.baseUrl) throw new $8ead7b33b8402751$export$59b4786f333aac02(\"Base URL not set. Please set rtviClient.params.baseUrl\");\n        const baseUrl = this.params.baseUrl.replace(/\\/+$/, \"\");\n        return baseUrl + (this.params.endpoints?.[endpoint] ?? \"\");\n    }\n    setLogLevel(level) {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).setLevel(level);\n    }\n    // ------ Transport methods\n    /**\n     * Initialize local media devices\n     */ async initDevices() {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Initializing devices...\");\n        await this._transport.initDevices();\n    }\n    /**\n     * Connect the voice client session with chosen transport\n     * Call async (await) to handle errors\n     */ async connect() {\n        if ([\n            \"authenticating\",\n            \"connecting\",\n            \"connected\",\n            \"ready\"\n        ].includes(this._transport.state)) throw new $8ead7b33b8402751$export$59b4786f333aac02(\"Voice client has already been started. Please call disconnect() before starting again.\");\n        this._abortController = new AbortController();\n        // Establish transport session and await bot ready signal\n        return new Promise((resolve, reject)=>{\n            (async ()=>{\n                this._startResolve = resolve;\n                if (this._transport.state === \"disconnected\") await this._transport.initDevices();\n                this._transport.state = \"authenticating\";\n                // Set a timer for the bot to enter a ready state, otherwise abort the attempt\n                if (this._options.timeout) this._handshakeTimeout = setTimeout(async ()=>{\n                    this._abortController?.abort();\n                    await this.disconnect();\n                    this._transport.state = \"error\";\n                    reject(new $8ead7b33b8402751$export$c67992fa684a81a6());\n                }, this._options.timeout);\n                let authBundle;\n                const customConnectHandler = this._options.customConnectHandler;\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Start params\", this.params);\n                this.params = {\n                    ...this.params,\n                    requestData: {\n                        ...this.params.requestData,\n                        rtvi_client_version: this.version\n                    }\n                };\n                if (!this.params.baseUrl && !this.params.endpoints?.connect) {\n                    // If baseUrl and endpoints.connect are not set, bypass the handshake and connect directly\n                    // This is useful with transports that do not require service side auth, especially in local development\n                    // Note: this is not recommended for production use, see [docs link]\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Connecting directly (skipping handshake / auth)...\");\n                    clearTimeout(this._handshakeTimeout);\n                } else {\n                    const connectUrl = this.constructUrl(\"connect\");\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Connecting...\", connectUrl);\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Start params\", this.params);\n                    try {\n                        if (customConnectHandler) authBundle = await customConnectHandler(this.params, this._handshakeTimeout, this._abortController);\n                        else authBundle = await fetch(connectUrl, {\n                            method: \"POST\",\n                            mode: \"cors\",\n                            headers: new Headers({\n                                \"Content-Type\": \"application/json\",\n                                ...Object.fromEntries((this.params.headers ?? new Headers()).entries())\n                            }),\n                            body: JSON.stringify({\n                                config: this.params.config,\n                                ...this.params.services ? {\n                                    services: this.params.services\n                                } : {},\n                                ...this.params.requestData\n                            }),\n                            signal: this._abortController?.signal\n                        }).then((res)=>{\n                            clearTimeout(this._handshakeTimeout);\n                            if (res.ok) return res.json();\n                            return Promise.reject(res);\n                        });\n                    } catch (e) {\n                        clearTimeout(this._handshakeTimeout);\n                        // Handle errors if the request was not aborted\n                        if (this._abortController?.signal.aborted) return;\n                        this._transport.state = \"error\";\n                        if (e instanceof Response) {\n                            const errorResp = await e.json();\n                            reject(new $8ead7b33b8402751$export$e7544ab812238a61(errorResp.info ?? errorResp.detail ?? e.statusText, e.status));\n                        } else reject(new $8ead7b33b8402751$export$e7544ab812238a61());\n                        return;\n                    }\n                    (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Auth bundle received\", authBundle);\n                }\n                try {\n                    await this._transport.connect(authBundle, this._abortController);\n                    await this._transport.sendReadyMessage();\n                } catch (e) {\n                    clearTimeout(this._handshakeTimeout);\n                    this.disconnect();\n                    reject(e);\n                    return;\n                }\n            })();\n        });\n    }\n    /**\n     * Disconnect the voice client from the transport\n     * Reset / reinitialize transport and abort any pending requests\n     */ async disconnect() {\n        if (this._abortController) this._abortController.abort();\n        clearTimeout(this._handshakeTimeout);\n        await this._transport.disconnect();\n        this._messageDispatcher = new (0, $b48f893ed1354c1e$export$e9a960646cc432aa)(this);\n    }\n    _initialize() {\n        this._transport.initialize(this._options, this.handleMessage.bind(this));\n        // Create a new message dispatch queue for async message handling\n        this._messageDispatcher = new (0, $b48f893ed1354c1e$export$e9a960646cc432aa)(this);\n    }\n    /**\n     * Get the current state of the transport\n     */ get connected() {\n        return [\n            \"connected\",\n            \"ready\"\n        ].includes(this._transport.state);\n    }\n    get transport() {\n        return this._transportWrapper.proxy;\n    }\n    get state() {\n        return this._transport.state;\n    }\n    get version() {\n        return (0, (/*@__PURE__*/$parcel$interopDefault($e3bad9cc25e327f7$exports))).version;\n    }\n    // ------ Device methods\n    async getAllMics() {\n        return await this._transport.getAllMics();\n    }\n    async getAllCams() {\n        return await this._transport.getAllCams();\n    }\n    async getAllSpeakers() {\n        return await this._transport.getAllSpeakers();\n    }\n    get selectedMic() {\n        return this._transport.selectedMic;\n    }\n    get selectedCam() {\n        return this._transport.selectedCam;\n    }\n    get selectedSpeaker() {\n        return this._transport.selectedSpeaker;\n    }\n    updateMic(micId) {\n        this._transport.updateMic(micId);\n    }\n    updateCam(camId) {\n        this._transport.updateCam(camId);\n    }\n    updateSpeaker(speakerId) {\n        this._transport.updateSpeaker(speakerId);\n    }\n    enableMic(enable) {\n        this._transport.enableMic(enable);\n    }\n    get isMicEnabled() {\n        return this._transport.isMicEnabled;\n    }\n    enableCam(enable) {\n        this._transport.enableCam(enable);\n    }\n    get isCamEnabled() {\n        return this._transport.isCamEnabled;\n    }\n    tracks() {\n        return this._transport.tracks();\n    }\n    enableScreenShare(enable) {\n        return this._transport.enableScreenShare(enable);\n    }\n    get isSharingScreen() {\n        return this._transport.isSharingScreen;\n    }\n    // ------ Config methods\n    /**\n     * Request the bot to send the current configuration\n     * @returns Promise<RTVIClientConfigOption[]> - Promise that resolves with the bot's configuration\n     */ async getConfig() {\n        const configMsg = await this._messageDispatcher.dispatch((0, $b48f893ed1354c1e$export$69aa9ab0334b212).getBotConfig());\n        return configMsg.data.config;\n    }\n    /**\n     * Update pipeline and services\n     * @param config - RTVIClientConfigOption[] partial object with the new configuration\n     * @param interrupt - boolean flag to interrupt the current pipeline, or wait until the next turn\n     * @returns Promise<RTVIMessage> - Promise that resolves with the updated configuration\n     */ async updateConfig(config, interrupt = false) {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Client] Updating config\", config);\n        // Only send the partial config if the bot is ready to prevent\n        // potential racing conditions whilst pipeline is instantiating\n        return this._messageDispatcher.dispatch((0, $b48f893ed1354c1e$export$69aa9ab0334b212).updateConfig(config, interrupt));\n    }\n    /**\n     * Request bot describe the current configuration options\n     * @returns Promise<unknown> - Promise that resolves with the bot's configuration description\n     */ async describeConfig() {\n        return this._messageDispatcher.dispatch((0, $b48f893ed1354c1e$export$69aa9ab0334b212).describeConfig());\n    }\n    /**\n     * Returns configuration options for specified service key\n     * @param serviceKey - Service name to get options for (e.g. \"llm\")\n     * @param config? - Optional RTVIClientConfigOption[] to query (vs. using remote config)\n     * @returns RTVIClientConfigOption | undefined - Configuration options array for the service with specified key or undefined\n     */ async getServiceOptionsFromConfig(serviceKey, config) {\n        if (!config && this.state !== \"ready\") throw new $8ead7b33b8402751$export$885fb96b850e8fbb(\"getServiceOptionsFromConfig called without config array before bot is ready\");\n        return Promise.resolve().then(async ()=>{\n            // Check if we have registered service with name service\n            if (!serviceKey) {\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"Target service name is required\");\n                return undefined;\n            }\n            const passedConfig = config ?? await this.getConfig();\n            // Find matching service name in the config and update the messages\n            const configServiceKey = passedConfig.find((config)=>config.service === serviceKey);\n            if (!configServiceKey) {\n                (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"No service with name \" + serviceKey + \" not found in config\");\n                return undefined;\n            }\n            // Return a new object, as to not mutate existing state\n            return configServiceKey;\n        });\n    }\n    /**\n     * Returns configuration option value (unknown) for specified service key and option name\n     * @param serviceKey - Service name to get options for (e.g. \"llm\")\n     * @optional option Name of option return from the config (e.g. \"model\")\n     * @returns Promise<unknown | undefined> - Service configuration option value or undefined\n     */ async getServiceOptionValueFromConfig(serviceKey, option, config) {\n        const configServiceKey = await this.getServiceOptionsFromConfig(serviceKey, config);\n        if (!configServiceKey) {\n            (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"Service with name \" + serviceKey + \" not found in config\");\n            return undefined;\n        }\n        // Find matching option key in the service config\n        const optionValue = configServiceKey.options.find((o)=>o.name === option);\n        return optionValue ? optionValue.value : undefined;\n    }\n    _updateOrAddOption(existingOptions, newOption) {\n        const existingOptionIndex = existingOptions.findIndex((item)=>item.name === newOption.name);\n        if (existingOptionIndex !== -1) // Update existing option\n        return existingOptions.map((item, index)=>index === existingOptionIndex ? {\n                ...item,\n                value: newOption.value\n            } : item);\n        else // Add new option\n        return [\n            ...existingOptions,\n            {\n                name: newOption.name,\n                value: newOption.value\n            }\n        ];\n    }\n    /**\n     * Returns config with updated option(s) for specified service key and option name\n     * Note: does not update current config, only returns a new object (call updateConfig to apply changes)\n     * @param serviceKey - Service name to get options for (e.g. \"llm\")\n     * @param option - Service name to get options for (e.g. \"model\")\n     * @param config - Optional RTVIClientConfigOption[] to update (vs. using current config)\n     * @returns Promise<RTVIClientConfigOption[] | undefined> - Configuration options array with updated option(s) or undefined\n     */ async setServiceOptionInConfig(serviceKey, option, config) {\n        const newConfig = (0, (clone_deep__WEBPACK_IMPORTED_MODULE_0___default()))(config ?? await this.getConfig());\n        const serviceOptions = await this.getServiceOptionsFromConfig(serviceKey, newConfig);\n        if (!serviceOptions) {\n            (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"Service with name '\" + serviceKey + \"' not found in config\");\n            return newConfig;\n        }\n        const optionsArray = Array.isArray(option) ? option : [\n            option\n        ];\n        for (const opt of optionsArray){\n            const existingItem = newConfig.find((item)=>item.service === serviceKey);\n            const updatedOptions = existingItem ? this._updateOrAddOption(existingItem.options, opt) : [\n                {\n                    name: opt.name,\n                    value: opt.value\n                }\n            ];\n            if (existingItem) existingItem.options = updatedOptions;\n            else newConfig.push({\n                service: serviceKey,\n                options: updatedOptions\n            });\n        }\n        return newConfig;\n    }\n    /**\n     * Returns config object with updated properties from passed array.\n     * @param configOptions - Array of RTVIClientConfigOption[] to update\n     * @param config? - Optional RTVIClientConfigOption[] to update (vs. using current config)\n     * @returns Promise<RTVIClientConfigOption[]> - Configuration options\n     */ async setConfigOptions(configOptions, config) {\n        let accumulator = (0, (clone_deep__WEBPACK_IMPORTED_MODULE_0___default()))(config ?? await this.getConfig());\n        for (const configOption of configOptions)accumulator = await this.setServiceOptionInConfig(configOption.service, configOption.options, accumulator) || accumulator;\n        return accumulator;\n    }\n    // ------ Actions\n    /**\n     * Dispatch an action message to the bot or http single-turn endpoint\n     */ async action(action) {\n        return this._messageDispatcher.dispatchAction(new (0, $b48f893ed1354c1e$export$378529d7a8bead8b)(action), this.handleMessage.bind(this));\n    }\n    /**\n     * Describe available / registered actions the bot has\n     * @returns Promise<unknown> - Promise that resolves with the bot's actions\n     */ async describeActions() {\n        return this._messageDispatcher.dispatch((0, $b48f893ed1354c1e$export$69aa9ab0334b212).describeActions());\n    }\n    // ------ Transport methods\n    /**\n     * Get the session expiry time for the transport session (if applicable)\n     * @returns number - Expiry time in milliseconds\n     */ get transportExpiry() {\n        return this._transport.expiry;\n    }\n    // ------ Messages\n    /**\n     * Directly send a message to the bot via the transport\n     * @param message - RTVIMessage object to send\n     */ sendMessage(message) {\n        this._transport.sendMessage(message);\n    }\n    /**\n     * Disconnects the bot, but keeps the session alive\n     */ disconnectBot() {\n        this._transport.sendMessage(new (0, $b48f893ed1354c1e$export$69aa9ab0334b212)((0, $b48f893ed1354c1e$export$38b3db05cbf0e240).DISCONNECT_BOT, {}));\n    }\n    handleMessage(ev) {\n        (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(\"[RTVI Message]\", ev);\n        switch(ev.type){\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_READY:\n                clearTimeout(this._handshakeTimeout);\n                this._startResolve?.(ev.data);\n                this._options.callbacks?.onBotReady?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).CONFIG_AVAILABLE:\n                this._messageDispatcher.resolve(ev);\n                this._options.callbacks?.onConfigDescribe?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).CONFIG:\n                {\n                    const resp = this._messageDispatcher.resolve(ev);\n                    this._options.callbacks?.onConfig?.(resp.data.config);\n                    break;\n                }\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).ACTIONS_AVAILABLE:\n                this._messageDispatcher.resolve(ev);\n                this._options.callbacks?.onActionsAvailable?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).ACTION_RESPONSE:\n                this._messageDispatcher.resolve(ev);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).ERROR_RESPONSE:\n                {\n                    const resp = this._messageDispatcher.reject(ev);\n                    this._options.callbacks?.onMessageError?.(resp);\n                    break;\n                }\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).ERROR:\n                this._options.callbacks?.onError?.(ev);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).USER_STARTED_SPEAKING:\n                this._options.callbacks?.onUserStartedSpeaking?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).USER_STOPPED_SPEAKING:\n                this._options.callbacks?.onUserStoppedSpeaking?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_STARTED_SPEAKING:\n                this._options.callbacks?.onBotStartedSpeaking?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_STOPPED_SPEAKING:\n                this._options.callbacks?.onBotStoppedSpeaking?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).USER_TRANSCRIPTION:\n                {\n                    const TranscriptData = ev.data;\n                    this._options.callbacks?.onUserTranscript?.(TranscriptData);\n                    break;\n                }\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_TRANSCRIPTION:\n                this._options.callbacks?.onBotTranscript?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_LLM_TEXT:\n                this._options.callbacks?.onBotLlmText?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_LLM_STARTED:\n                this._options.callbacks?.onBotLlmStarted?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_LLM_STOPPED:\n                this._options.callbacks?.onBotLlmStopped?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_TTS_TEXT:\n                this._options.callbacks?.onBotTtsText?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_TTS_STARTED:\n                this._options.callbacks?.onBotTtsStarted?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_TTS_STOPPED:\n                this._options.callbacks?.onBotTtsStopped?.();\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).BOT_LLM_SEARCH_RESPONSE:\n                this._options.callbacks?.onBotLlmSearchResponse?.(ev.data);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).BotLlmSearchResponse, ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).METRICS:\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).Metrics, ev.data);\n                this._options.callbacks?.onMetrics?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).STORAGE_ITEM_STORED:\n                this._options.callbacks?.onStorageItemStored?.(ev.data);\n                break;\n            case (0, $b48f893ed1354c1e$export$38b3db05cbf0e240).SERVER_MESSAGE:\n                this._options.callbacks?.onServerMessage?.(ev.data);\n                this.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).ServerMessage, ev.data);\n                break;\n            default:\n                {\n                    let match = false;\n                    // Pass message to registered helpers\n                    for (const helper of Object.values(this._helpers))if (helper.getMessageTypes().includes(ev.type)) {\n                        match = true;\n                        helper.handleMessage(ev);\n                    }\n                    if (!match) this._options.callbacks?.onGenericMessage?.(ev.data);\n                }\n        }\n    }\n    // ------ Helpers\n    /**\n     * Register a new helper to the client\n     * This (optionally) provides a way to reference helpers directly\n     * from the client and use the event dispatcher\n     * @param service - Target service for this helper\n     * @param helper - Helper instance\n     * @returns RTVIClientHelper - Registered helper instance\n     */ registerHelper(service, helper) {\n        if (this._helpers[service]) throw new Error(`Helper with name '${service}' already registered`);\n        // Check helper is instance of RTVIClientHelper\n        if (!(helper instanceof (0, $7614fb2168c523cc$export$23bc637255b2a471))) throw new Error(`Helper must be an instance of RTVIClientHelper`);\n        helper.service = service;\n        helper.client = this;\n        this._helpers[service] = helper;\n        return this._helpers[service];\n    }\n    getHelper(service) {\n        const helper = this._helpers[service];\n        if (!helper) {\n            (0, $7afbbd59ebaa42bf$export$af88d00dbe7f521).debug(`Helper targeting service '${service}' not found`);\n            return undefined;\n        }\n        return helper;\n    }\n    unregisterHelper(service) {\n        if (!this._helpers[service]) return;\n        delete this._helpers[service];\n    }\n}\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"getConfig\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"updateConfig\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"describeConfig\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"describeActions\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$5c35b4fe6fa8c9a6)(\"connected\", \"ready\")\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"transportExpiry\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"sendMessage\", null);\n$a7c324a73303ad55$var$__decorate([\n    (0, $16f019d4d16917df$export$f1586721024c4dab)\n], $a7c324a73303ad55$export$fa42a01c1d60f4a1.prototype, \"disconnectBot\", null);\n\n\n\n\n\nvar $0908f693e3e0724c$exports = {};\n\n$parcel$export($0908f693e3e0724c$exports, \"LLMMessageType\", () => $0908f693e3e0724c$export$441bcd2e10762760);\n$parcel$export($0908f693e3e0724c$exports, \"LLMActionType\", () => $0908f693e3e0724c$export$43cdfb26f790451);\n$parcel$export($0908f693e3e0724c$exports, \"LLMHelper\", () => $0908f693e3e0724c$export$3cf39a62d076dd5c);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\nvar $0908f693e3e0724c$export$441bcd2e10762760;\n(function(LLMMessageType) {\n    LLMMessageType[\"LLM_FUNCTION_CALL\"] = \"llm-function-call\";\n    LLMMessageType[\"LLM_FUNCTION_CALL_START\"] = \"llm-function-call-start\";\n    LLMMessageType[\"LLM_FUNCTION_CALL_RESULT\"] = \"llm-function-call-result\";\n    LLMMessageType[\"LLM_JSON_COMPLETION\"] = \"llm-json-completion\";\n})($0908f693e3e0724c$export$441bcd2e10762760 || ($0908f693e3e0724c$export$441bcd2e10762760 = {}));\nvar $0908f693e3e0724c$export$43cdfb26f790451;\n(function(LLMActionType) {\n    LLMActionType[\"APPEND_TO_MESSAGES\"] = \"append_to_messages\";\n    LLMActionType[\"GET_CONTEXT\"] = \"get_context\";\n    LLMActionType[\"SET_CONTEXT\"] = \"set_context\";\n    LLMActionType[\"RUN\"] = \"run\";\n})($0908f693e3e0724c$export$43cdfb26f790451 || ($0908f693e3e0724c$export$43cdfb26f790451 = {}));\nclass $0908f693e3e0724c$export$3cf39a62d076dd5c extends (0, $7614fb2168c523cc$export$23bc637255b2a471) {\n    constructor(options){\n        super(options);\n        this._functionCallCallback = null;\n    }\n    getMessageTypes() {\n        return Object.values($0908f693e3e0724c$export$441bcd2e10762760);\n    }\n    // --- Actions\n    /**\n     * Retrieve the bot's current LLM context.\n     * @returns Promise<LLMContext>\n     */ async getContext() {\n        if (this._client.state !== \"ready\") throw new $8ead7b33b8402751$export$885fb96b850e8fbb(\"getContext called while transport not in ready state\");\n        const actionResponseMsg = await this._client.action({\n            service: this._service,\n            action: $0908f693e3e0724c$export$43cdfb26f790451.GET_CONTEXT\n        });\n        return actionResponseMsg.data.result;\n    }\n    /**\n     * Update the bot's LLM context.\n     * If this is called while the transport is not in the ready state, the local context will be updated\n     * @param context LLMContext - The new context\n     * @param interrupt boolean - Whether to interrupt the bot, or wait until it has finished speaking\n     * @returns Promise<boolean>\n     */ async setContext(context, interrupt = false) {\n        if (this._client.state !== \"ready\") throw new $8ead7b33b8402751$export$885fb96b850e8fbb(\"setContext called while transport not in ready state\");\n        const actionResponse = await this._client.action({\n            service: this._service,\n            action: $0908f693e3e0724c$export$43cdfb26f790451.SET_CONTEXT,\n            arguments: [\n                {\n                    name: \"messages\",\n                    value: context.messages\n                },\n                {\n                    name: \"interrupt\",\n                    value: interrupt\n                }\n            ]\n        });\n        return !!actionResponse.data.result;\n    }\n    /**\n     * Append a new message to the LLM context.\n     * If this is called while the transport is not in the ready state, the local context will be updated\n     * @param context LLMContextMessage\n     * @param runImmediately boolean - wait until pipeline is idle before running\n     * @returns boolean\n     */ async appendToMessages(message, runImmediately = false) {\n        if (this._client.state !== \"ready\") throw new $8ead7b33b8402751$export$885fb96b850e8fbb(\"setContext called while transport not in ready state\");\n        const actionResponse = await this._client.action({\n            service: this._service,\n            action: $0908f693e3e0724c$export$43cdfb26f790451.APPEND_TO_MESSAGES,\n            arguments: [\n                {\n                    name: \"messages\",\n                    value: [\n                        message\n                    ]\n                },\n                {\n                    name: \"run_immediately\",\n                    value: runImmediately\n                }\n            ]\n        });\n        return !!actionResponse.data.result;\n    }\n    /**\n     * Run the bot's current LLM context.\n     * Useful when appending messages to the context without runImmediately set to true.\n     * Will do nothing if the bot is not in the ready state.\n     * @param interrupt boolean - Whether to interrupt the bot, or wait until it has finished speaking\n     * @returns Promise<unknown>\n     */ async run(interrupt = false) {\n        if (this._client.state !== \"ready\") return;\n        return this._client.action({\n            service: this._service,\n            action: $0908f693e3e0724c$export$43cdfb26f790451.RUN,\n            arguments: [\n                {\n                    name: \"interrupt\",\n                    value: interrupt\n                }\n            ]\n        });\n    }\n    // --- Handlers\n    /**\n     * If the LLM wants to call a function, RTVI will invoke the callback defined\n     * here. Whatever the callback returns will be sent to the LLM as the function result.\n     * @param callback\n     * @returns void\n     */ handleFunctionCall(callback) {\n        this._functionCallCallback = callback;\n    }\n    handleMessage(ev) {\n        switch(ev.type){\n            case $0908f693e3e0724c$export$441bcd2e10762760.LLM_JSON_COMPLETION:\n                this._options.callbacks?.onLLMJsonCompletion?.(ev.data);\n                this._client.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).LLMJsonCompletion, ev.data);\n                break;\n            case $0908f693e3e0724c$export$441bcd2e10762760.LLM_FUNCTION_CALL:\n                {\n                    const d = ev.data;\n                    this._options.callbacks?.onLLMFunctionCall?.(ev.data);\n                    this._client.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).LLMFunctionCall, ev.data);\n                    if (this._functionCallCallback) {\n                        const fn = {\n                            functionName: d.function_name,\n                            arguments: d.args\n                        };\n                        if (this._client.state === \"ready\") this._functionCallCallback(fn).then((result)=>{\n                            this._client.sendMessage(new (0, $b48f893ed1354c1e$export$69aa9ab0334b212)($0908f693e3e0724c$export$441bcd2e10762760.LLM_FUNCTION_CALL_RESULT, {\n                                function_name: d.function_name,\n                                tool_call_id: d.tool_call_id,\n                                arguments: d.args,\n                                result: result\n                            }));\n                        });\n                        else throw new $8ead7b33b8402751$export$885fb96b850e8fbb(\"Attempted to send a function call result from bot while transport not in ready state\");\n                    }\n                    break;\n                }\n            case $0908f693e3e0724c$export$441bcd2e10762760.LLM_FUNCTION_CALL_START:\n                {\n                    const e = ev.data;\n                    this._options.callbacks?.onLLMFunctionCallStart?.(e.function_name);\n                    this._client.emit((0, $f9fc0c57b9aaed9c$export$6b4624d233c61fcb).LLMFunctionCallStart, e.function_name);\n                    break;\n                }\n        }\n    }\n}\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS9jbGllbnQtanMvZGlzdC9pbmRleC5tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNQO0FBQ0U7OztBQUdyQztBQUNBLCtCQUErQixxREFBcUQ7QUFDcEY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxhQUFhO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDLCtOQUErTixz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QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsSUFBSTtBQUN0QztBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbURBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SkFBdUo7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxRQUFRO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLFFBQVE7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4RkFBOEY7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0RkFBNEY7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQVFxNEM7QUFDcjRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS9jbGllbnQtanMvZGlzdC9pbmRleC5tb2R1bGUuanM/OTgxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJGVJTkRrJGNsb25lZGVlcCBmcm9tIFwiY2xvbmUtZGVlcFwiO1xuaW1wb3J0ICRlSU5EayRldmVudHMgZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHt2NCBhcyAkZUlORGskdjR9IGZyb20gXCJ1dWlkXCI7XG5cblxuZnVuY3Rpb24gJHBhcmNlbCRleHBvcnQoZSwgbiwgdiwgcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbiwge2dldDogdiwgc2V0OiBzLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9KTtcbn1cblxuZnVuY3Rpb24gJHBhcmNlbCRpbnRlcm9wRGVmYXVsdChhKSB7XG4gIHJldHVybiBhICYmIGEuX19lc01vZHVsZSA/IGEuZGVmYXVsdCA6IGE7XG59XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIHZhciAkNGJiMzQ5ZjIyYWVlNTE4NSRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCQ0YmIzNDlmMjJhZWU1MTg1JGV4cG9ydHMsIFwiaHR0cEFjdGlvbkdlbmVyYXRvclwiLCAoKSA9PiAkNGJiMzQ5ZjIyYWVlNTE4NSRleHBvcnQkODcyOGI2MGVhNTdiZjQzZSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuYXN5bmMgZnVuY3Rpb24gJDRiYjM0OWYyMmFlZTUxODUkZXhwb3J0JDg3MjhiNjBlYTU3YmY0M2UoYWN0aW9uVXJsLCBhY3Rpb24sIHBhcmFtcywgaGFuZGxlUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbUlRWSV0gRmV0Y2ggYWN0aW9uXCIsIGFjdGlvblVybCwgYWN0aW9uKTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcygocGFyYW1zLmhlYWRlcnMgPz8gbmV3IEhlYWRlcnMoKSkuZW50cmllcygpKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFoZWFkZXJzLmhhcyhcIkNvbnRlbnQtVHlwZVwiKSkgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICBoZWFkZXJzLnNldChcIkNhY2hlLUNvbnRyb2xcIiwgXCJuby1jYWNoZVwiKTtcbiAgICAgICAgaGVhZGVycy5zZXQoXCJDb25uZWN0aW9uXCIsIFwia2VlcC1hbGl2ZVwiKTtcbiAgICAgICAgLy8gUGVyZm9ybSB0aGUgZmV0Y2ggcmVxdWVzdFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFjdGlvblVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgLi4ucGFyYW1zLnJlcXVlc3REYXRhLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENoZWNrIHRoZSByZXNwb25zZSBjb250ZW50IHR5cGVcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgLy8gSGFuZGxlIG5vbi1vayByZXNwb25zZSBzdGF0dXNcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3ICgwLCAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkNTliNDc4NmYzMzNhYWMwMikoYEZhaWxlZCB0byByZXNvbHZlIGFjdGlvbjogJHtlcnJvck1lc3NhZ2V9YCwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UuYm9keSAmJiBjb250ZW50VHlwZT8uaW5jbHVkZXMoXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiKSkge1xuICAgICAgICAgICAgLy8gUGFyc2Ugc3RyZWFtZWQgcmVzcG9uc2VzXG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSBcIlwiO1xuICAgICAgICAgICAgd2hpbGUodHJ1ZSl7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogdmFsdWUsIGRvbmU6IGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgYm91bmRhcnkgPSBidWZmZXIuaW5kZXhPZihcIlxcblxcblwiKTtcbiAgICAgICAgICAgICAgICB3aGlsZShib3VuZGFyeSAhPT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYnVmZmVyLnNsaWNlKDAsIGJvdW5kYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKGJvdW5kYXJ5ICsgMik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IG9uIHRoZSBmaXJzdCBcIjpcIiB0byBleHRyYWN0IHRoZSBKU09OIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBtZXNzYWdlLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5jb2RlZERhdGEgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb25JbmRleCAhPT0gLTEpIGVuY29kZWREYXRhICs9IGxpbmUuc2xpY2UoY29sb25JbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBhdG9iKGVuY29kZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGpzb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmVycm9yKFwiW1JUVkldIEZhaWxlZCB0byBwYXJzZSBKU09OOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBib3VuZGFyeSA9IGJ1ZmZlci5pbmRleE9mKFwiXFxuXFxuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvciByZWd1bGFyIG5vbi1zdHJlYW1lZCByZXNwb25zZXMsIHBhcnNlIGFuZCBoYW5kbGUgdGhlIGRhdGEgYXMgSlNPTlxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmVycm9yKFwiW1JUVkldIEVycm9yIGR1cmluZyBmZXRjaDpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59IC8qXG4vL0BUT0RPOiBpbXBsZW1lbnQgYWJvcnRDb250cm9sbGVyIHdoZW4gbW9kZSBjaGFuZ2VzIC8gYmFkIHRoaW5ncyBoYXBwZW5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFjdGlvbihcbiAgdGhpczogUlRWSUNsaWVudCxcbiAgYWN0aW9uOiBSVFZJQWN0aW9uUmVxdWVzdFxuKTogUHJvbWlzZTxSVFZJQWN0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYWN0aW9uVXJsID0gdGhpcy5jb25zdHJ1Y3RVcmwoXCJhY3Rpb25cIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaHR0cEFjdGlvbkdlbmVyYXRvcihcbiAgICAgICAgICAgIGFjdGlvblVybCxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLFxuICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKCk7XG4gIH0pO1xuXG4gIHJldHVybiBwcm9taXNlIGFzIFByb21pc2U8UlRWSUFjdGlvblJlc3BvbnNlPjtcbn1cbiovIFxuXG5cbnZhciAkYTdjMzI0YTczMzAzYWQ1NSRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydHMsIFwiUlRWSUNsaWVudFwiLCAoKSA9PiAkYTdjMzI0YTczMzAzYWQ1NSRleHBvcnQkZmE0MmEwMWMxZDYwZjRhMSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuXG52YXIgJGUzYmFkOWNjMjVlMzI3ZjckZXhwb3J0cyA9IHt9O1xuJGUzYmFkOWNjMjVlMzI3ZjckZXhwb3J0cyA9IEpTT04ucGFyc2UoXCJ7XFxcIm5hbWVcXFwiOlxcXCJAcGlwZWNhdC1haS9jbGllbnQtanNcXFwiLFxcXCJ2ZXJzaW9uXFxcIjpcXFwiMC40LjFcXFwiLFxcXCJsaWNlbnNlXFxcIjpcXFwiQlNELTItQ2xhdXNlXFxcIixcXFwibWFpblxcXCI6XFxcImRpc3QvaW5kZXguanNcXFwiLFxcXCJtb2R1bGVcXFwiOlxcXCJkaXN0L2luZGV4Lm1vZHVsZS5qc1xcXCIsXFxcInR5cGVzXFxcIjpcXFwiZGlzdC9pbmRleC5kLnRzXFxcIixcXFwic291cmNlXFxcIjpcXFwic3JjL2luZGV4LnRzXFxcIixcXFwicmVwb3NpdG9yeVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiZ2l0XFxcIixcXFwidXJsXFxcIjpcXFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9waXBlY2F0LWFpL3BpcGVjYXQtY2xpZW50LXdlYi5naXRcXFwifSxcXFwiZmlsZXNcXFwiOltcXFwiZGlzdFxcXCIsXFxcInBhY2thZ2UuanNvblxcXCIsXFxcIlJFQURNRS5tZFxcXCJdLFxcXCJzY3JpcHRzXFxcIjp7XFxcImJ1aWxkXFxcIjpcXFwiamVzdCAtLXNpbGVudCAmJiBwYXJjZWwgYnVpbGQgLS1uby1jYWNoZVxcXCIsXFxcImRldlxcXCI6XFxcInBhcmNlbCB3YXRjaFxcXCIsXFxcImxpbnRcXFwiOlxcXCJlc2xpbnQgc3JjLyAtLXJlcG9ydC11bnVzZWQtZGlzYWJsZS1kaXJlY3RpdmVzIC0tbWF4LXdhcm5pbmdzIDBcXFwiLFxcXCJ0ZXN0XFxcIjpcXFwiamVzdFxcXCJ9LFxcXCJqZXN0XFxcIjp7XFxcInByZXNldFxcXCI6XFxcInRzLWplc3RcXFwiLFxcXCJ0ZXN0RW52aXJvbm1lbnRcXFwiOlxcXCJub2RlXFxcIn0sXFxcImRldkRlcGVuZGVuY2llc1xcXCI6e1xcXCJAamVzdC9nbG9iYWxzXFxcIjpcXFwiXjI5LjcuMFxcXCIsXFxcIkB0eXBlcy9jbG9uZS1kZWVwXFxcIjpcXFwiXjQuMC40XFxcIixcXFwiQHR5cGVzL2plc3RcXFwiOlxcXCJeMjkuNS4xMlxcXCIsXFxcIkB0eXBlcy91dWlkXFxcIjpcXFwiXjEwLjAuMFxcXCIsXFxcImVzbGludFxcXCI6XFxcIl45LjExLjFcXFwiLFxcXCJlc2xpbnQtY29uZmlnLXByZXR0aWVyXFxcIjpcXFwiXjkuMS4wXFxcIixcXFwiZXNsaW50LXBsdWdpbi1zaW1wbGUtaW1wb3J0LXNvcnRcXFwiOlxcXCJeMTIuMS4xXFxcIixcXFwiamVzdFxcXCI6XFxcIl4yOS43LjBcXFwiLFxcXCJ0cy1qZXN0XFxcIjpcXFwiXjI5LjIuNVxcXCJ9LFxcXCJkZXBlbmRlbmNpZXNcXFwiOntcXFwiQHR5cGVzL2V2ZW50c1xcXCI6XFxcIl4zLjAuM1xcXCIsXFxcImNsb25lLWRlZXBcXFwiOlxcXCJeNC4wLjFcXFwiLFxcXCJldmVudHNcXFwiOlxcXCJeMy4zLjBcXFwiLFxcXCJ0eXBlZC1lbWl0dGVyXFxcIjpcXFwiXjIuMS4wXFxcIixcXFwidXVpZFxcXCI6XFxcIl4xMC4wLjBcXFwifX1cIik7XG5cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyB2YXIgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0cyA9IHt9O1xuXG4kcGFyY2VsJGV4cG9ydCgkOGVhZDdiMzNiODQwMjc1MSRleHBvcnRzLCBcIlJUVklFcnJvclwiLCAoKSA9PiAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkNTliNDc4NmYzMzNhYWMwMik7XG4kcGFyY2VsJGV4cG9ydCgkOGVhZDdiMzNiODQwMjc1MSRleHBvcnRzLCBcIkNvbm5lY3Rpb25UaW1lb3V0RXJyb3JcIiwgKCkgPT4gJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGM2Nzk5MmZhNjg0YTgxYTYpO1xuJHBhcmNlbCRleHBvcnQoJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0cywgXCJTdGFydEJvdEVycm9yXCIsICgpID0+ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCRlNzU0NGFiODEyMjM4YTYxKTtcbiRwYXJjZWwkZXhwb3J0KCQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydHMsIFwiVHJhbnNwb3J0U3RhcnRFcnJvclwiLCAoKSA9PiAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkZTA2MjRhNTExYTJjNGU5KTtcbiRwYXJjZWwkZXhwb3J0KCQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydHMsIFwiQm90Tm90UmVhZHlFcnJvclwiLCAoKSA9PiAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYik7XG4kcGFyY2VsJGV4cG9ydCgkOGVhZDdiMzNiODQwMjc1MSRleHBvcnRzLCBcIkNvbmZpZ1VwZGF0ZUVycm9yXCIsICgpID0+ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ0ZWRhNGZkMjg3ZmJiY2E1KTtcbiRwYXJjZWwkZXhwb3J0KCQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydHMsIFwiQWN0aW9uRW5kcG9pbnROb3RTZXRFcnJvclwiLCAoKSA9PiAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkYmU4MzlmMDEwMGNkMzEzMik7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIGNsYXNzICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cyl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG59XG5jbGFzcyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkYzY3OTkyZmE2ODRhODFhNiBleHRlbmRzICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKXtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/PyBcIkJvdCBkaWQgbm90IGVudGVyIHJlYWR5IHN0YXRlIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWVvdXQgcGVyaW9kLlwiKTtcbiAgICB9XG59XG5jbGFzcyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkZTc1NDRhYjgxMjIzOGE2MSBleHRlbmRzICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXMpe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IGBGYWlsZWQgdG8gY29ubmVjdCAvIGludmFsaWQgYXV0aCBidW5kbGUgZnJvbSBiYXNlIHVybGAsIHN0YXR1cyA/PyA1MDApO1xuICAgICAgICB0aGlzLmVycm9yID0gXCJpbnZhbGlkLXJlcXVlc3QtZXJyb3JcIjtcbiAgICB9XG59XG5jbGFzcyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkZTA2MjRhNTExYTJjNGU5IGV4dGVuZHMgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gdHJhbnNwb3J0XCIpO1xuICAgIH1cbn1cbmNsYXNzICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiIGV4dGVuZHMgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiQXR0ZW1wdCB0byBjYWxsIGFjdGlvbiBvbiB0cmFuc3BvcnQgd2hlbiBub3QgaW4gJ3JlYWR5JyBzdGF0ZS5cIik7XG4gICAgfVxufVxuY2xhc3MgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JDRlZGE0ZmQyODdmYmJjYTUgZXh0ZW5kcyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkNTliNDc4NmYzMzNhYWMwMiB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgPz8gXCJVbmFibGUgdG8gdXBkYXRlIGNvbmZpZ3VyYXRpb25cIik7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gNDAwO1xuICAgIH1cbn1cbmNsYXNzICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCRiZTgzOWYwMTAwY2QzMTMyIGV4dGVuZHMgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiQWN0aW9uIGVuZHBvaW50IGlzIG5vdCBzZXRcIik7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uICQxNmYwMTlkNGQxNjkxN2RmJGV4cG9ydCRmMTU4NjcyMTAyNGM0ZGFiKF90YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInJlYWR5XCIpIHJldHVybiBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgKDAsICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiKShgQXR0ZW1wdCB0byBjYWxsICR7cHJvcGVydHlLZXkudG9TdHJpbmcoKX0gd2hlbiB0cmFuc3BvcnQgbm90IGluIHJlYWR5IHN0YXRlLiBBd2FpdCBjb25uZWN0KCkgZmlyc3QuYCk7XG4gICAgfTtcbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cbmZ1bmN0aW9uICQxNmYwMTlkNGQxNjkxN2RmJGV4cG9ydCQ4MDg5OTRkMGQ4YzlhY2IzKHN0YXRlcykge1xuICAgIHJldHVybiBmdW5jdGlvbihfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHN0YXRlcy5pbmNsdWRlcyh0aGlzLnN0YXRlKSkgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgKDAsICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiKShgQXR0ZW1wdCB0byBjYWxsICR7cHJvcGVydHlLZXkudG9TdHJpbmcoKX0gd2hlbiB0cmFuc3BvcnQgbm90IGluICR7c3RhdGVzfS5gKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn1cbmZ1bmN0aW9uICQxNmYwMTlkNGQxNjkxN2RmJGV4cG9ydCQ1YzM1YjRmZTZmYThjOWE2KC4uLnN0YXRlcykge1xuICAgIHN0YXRlcyA9IFtcbiAgICAgICAgXCJyZWFkeVwiLFxuICAgICAgICAuLi5zdGF0ZXNcbiAgICBdO1xuICAgIHJldHVybiBmdW5jdGlvbihfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBjb25zdCBvcmlnaW5hbEdldHRlciA9IGRlc2NyaXB0b3IuZ2V0O1xuICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlcy5pbmNsdWRlcyh0aGlzLnN0YXRlKSkgcmV0dXJuIG9yaWdpbmFsR2V0dGVyPy5hcHBseSh0aGlzKTtcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3ICgwLCAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYikoYEF0dGVtcHQgdG8gY2FsbCAke3Byb3BlcnR5S2V5LnRvU3RyaW5nKCl9IHdoZW4gdHJhbnNwb3J0IG5vdCBpbiAke3N0YXRlc30uIEF3YWl0IGNvbm5lY3QoKSBmaXJzdC5gKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn1cblxuXG5cbnZhciAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydHMsIFwiUlRWSUV2ZW50XCIsICgpID0+ICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gdmFyICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiO1xuKGZ1bmN0aW9uKFJUVklFdmVudCkge1xuICAgIFJUVklFdmVudFtcIk1lc3NhZ2VFcnJvclwiXSA9IFwibWVzc2FnZUVycm9yXCI7XG4gICAgUlRWSUV2ZW50W1wiRXJyb3JcIl0gPSBcImVycm9yXCI7XG4gICAgUlRWSUV2ZW50W1wiQ29ubmVjdGVkXCJdID0gXCJjb25uZWN0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJEaXNjb25uZWN0ZWRcIl0gPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgIFJUVklFdmVudFtcIlRyYW5zcG9ydFN0YXRlQ2hhbmdlZFwiXSA9IFwidHJhbnNwb3J0U3RhdGVDaGFuZ2VkXCI7XG4gICAgUlRWSUV2ZW50W1wiQ29uZmlnXCJdID0gXCJjb25maWdcIjtcbiAgICBSVFZJRXZlbnRbXCJDb25maWdEZXNjcmliZVwiXSA9IFwiY29uZmlnRGVzY3JpYmVcIjtcbiAgICBSVFZJRXZlbnRbXCJBY3Rpb25zQXZhaWxhYmxlXCJdID0gXCJhY3Rpb25zQXZhaWxhYmxlXCI7XG4gICAgUlRWSUV2ZW50W1wiUGFydGljaXBhbnRDb25uZWN0ZWRcIl0gPSBcInBhcnRpY2lwYW50Q29ubmVjdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiUGFydGljaXBhbnRMZWZ0XCJdID0gXCJwYXJ0aWNpcGFudExlZnRcIjtcbiAgICBSVFZJRXZlbnRbXCJUcmFja1N0YXJ0ZWRcIl0gPSBcInRyYWNrU3RhcnRlZFwiO1xuICAgIFJUVklFdmVudFtcIlRyYWNrU3RvcHBlZFwiXSA9IFwidHJhY2tTdG9wcGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiU2NyZWVuVHJhY2tTdGFydGVkXCJdID0gXCJzY3JlZW5UcmFja1N0YXJ0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJTY3JlZW5UcmFja1N0b3BwZWRcIl0gPSBcInNjcmVlblRyYWNrU3RvcHBlZFwiO1xuICAgIFJUVklFdmVudFtcIlNjcmVlblNoYXJlRXJyb3JcIl0gPSBcInNjcmVlblNoYXJlRXJyb3JcIjtcbiAgICBSVFZJRXZlbnRbXCJBdmFpbGFibGVDYW1zVXBkYXRlZFwiXSA9IFwiYXZhaWxhYmxlQ2Ftc1VwZGF0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJBdmFpbGFibGVNaWNzVXBkYXRlZFwiXSA9IFwiYXZhaWxhYmxlTWljc1VwZGF0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJBdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWRcIl0gPSBcImF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZFwiO1xuICAgIFJUVklFdmVudFtcIkNhbVVwZGF0ZWRcIl0gPSBcImNhbVVwZGF0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJNaWNVcGRhdGVkXCJdID0gXCJtaWNVcGRhdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiU3BlYWtlclVwZGF0ZWRcIl0gPSBcInNwZWFrZXJVcGRhdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90Q29ubmVjdGVkXCJdID0gXCJib3RDb25uZWN0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RSZWFkeVwiXSA9IFwiYm90UmVhZHlcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3REaXNjb25uZWN0ZWRcIl0gPSBcImJvdERpc2Nvbm5lY3RlZFwiO1xuICAgIFJUVklFdmVudFtcIkJvdFN0YXJ0ZWRTcGVha2luZ1wiXSA9IFwiYm90U3RhcnRlZFNwZWFraW5nXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90U3RvcHBlZFNwZWFraW5nXCJdID0gXCJib3RTdG9wcGVkU3BlYWtpbmdcIjtcbiAgICBSVFZJRXZlbnRbXCJSZW1vdGVBdWRpb0xldmVsXCJdID0gXCJyZW1vdGVBdWRpb0xldmVsXCI7XG4gICAgUlRWSUV2ZW50W1wiVXNlclN0YXJ0ZWRTcGVha2luZ1wiXSA9IFwidXNlclN0YXJ0ZWRTcGVha2luZ1wiO1xuICAgIFJUVklFdmVudFtcIlVzZXJTdG9wcGVkU3BlYWtpbmdcIl0gPSBcInVzZXJTdG9wcGVkU3BlYWtpbmdcIjtcbiAgICBSVFZJRXZlbnRbXCJMb2NhbEF1ZGlvTGV2ZWxcIl0gPSBcImxvY2FsQXVkaW9MZXZlbFwiO1xuICAgIFJUVklFdmVudFtcIk1ldHJpY3NcIl0gPSBcIm1ldHJpY3NcIjtcbiAgICBSVFZJRXZlbnRbXCJVc2VyVHJhbnNjcmlwdFwiXSA9IFwidXNlclRyYW5zY3JpcHRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RUcmFuc2NyaXB0XCJdID0gXCJib3RUcmFuc2NyaXB0XCI7XG4gICAgUlRWSUV2ZW50W1wiQm90TGxtVGV4dFwiXSA9IFwiYm90TGxtVGV4dFwiO1xuICAgIFJUVklFdmVudFtcIkJvdExsbVN0YXJ0ZWRcIl0gPSBcImJvdExsbVN0YXJ0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RMbG1TdG9wcGVkXCJdID0gXCJib3RMbG1TdG9wcGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90VHRzVGV4dFwiXSA9IFwiYm90VHRzVGV4dFwiO1xuICAgIFJUVklFdmVudFtcIkJvdFR0c1N0YXJ0ZWRcIl0gPSBcImJvdFR0c1N0YXJ0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RUdHNTdG9wcGVkXCJdID0gXCJib3RUdHNTdG9wcGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiTExNRnVuY3Rpb25DYWxsXCJdID0gXCJsbG1GdW5jdGlvbkNhbGxcIjtcbiAgICBSVFZJRXZlbnRbXCJMTE1GdW5jdGlvbkNhbGxTdGFydFwiXSA9IFwibGxtRnVuY3Rpb25DYWxsU3RhcnRcIjtcbiAgICBSVFZJRXZlbnRbXCJMTE1Kc29uQ29tcGxldGlvblwiXSA9IFwibGxtSnNvbkNvbXBsZXRpb25cIjtcbiAgICBSVFZJRXZlbnRbXCJTdG9yYWdlSXRlbVN0b3JlZFwiXSA9IFwic3RvcmFnZUl0ZW1TdG9yZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RMbG1TZWFyY2hSZXNwb25zZVwiXSA9IFwiYm90TGxtU2VhcmNoUmVzcG9uc2VcIjtcbiAgICBSVFZJRXZlbnRbXCJTZXJ2ZXJNZXNzYWdlXCJdID0gXCJzZXJ2ZXJNZXNzYWdlXCI7XG59KSgkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYiB8fCAoJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IgPSB7fSkpO1xuXG5cbnZhciAkNzYxNGZiMjE2OGM1MjNjYyRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCQ3NjE0ZmIyMTY4YzUyM2NjJGV4cG9ydHMsIFwiUlRWSUNsaWVudEhlbHBlclwiLCAoKSA9PiAkNzYxNGZiMjE2OGM1MjNjYyRleHBvcnQkMjNiYzYzNzI1NWIyYTQ3MSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIGNsYXNzICQ3NjE0ZmIyMTY4YzUyM2NjJGV4cG9ydCQyM2JjNjM3MjU1YjJhNDcxIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHNldCBjbGllbnQoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuX2NsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgc2V0IHNlcnZpY2Uoc2VydmljZSkge1xuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gc2VydmljZTtcbiAgICB9XG59XG5cblxudmFyICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0cywgXCJMb2dMZXZlbFwiLCAoKSA9PiAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZCk7XG4kcGFyY2VsJGV4cG9ydCgkN2FmYmJkNTllYmFhNDJiZiRleHBvcnRzLCBcImxvZ2dlclwiLCAoKSA9PiAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gdmFyICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkO1xuKGZ1bmN0aW9uKExvZ0xldmVsKSB7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gMV0gPSBcIkVSUk9SXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gMl0gPSBcIldBUk5cIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAzXSA9IFwiSU5GT1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSA0XSA9IFwiREVCVUdcIjtcbn0pKCQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkIHx8ICgkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZCA9IHt9KSk7XG5jbGFzcyAkN2FmYmJkNTllYmFhNDJiZiR2YXIkTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLmxldmVsID0gJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JDI0M2U2MmQ3OGQzYjU0NGQuREVCVUc7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCEkN2FmYmJkNTllYmFhNDJiZiR2YXIkTG9nZ2VyLmluc3RhbmNlKSAkN2FmYmJkNTllYmFhNDJiZiR2YXIkTG9nZ2VyLmluc3RhbmNlID0gbmV3ICQ3YWZiYmQ1OWViYWE0MmJmJHZhciRMb2dnZXIoKTtcbiAgICAgICAgcmV0dXJuICQ3YWZiYmQ1OWViYWE0MmJmJHZhciRMb2dnZXIuaW5zdGFuY2U7XG4gICAgfVxuICAgIHNldExldmVsKGxldmVsKSB7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9XG4gICAgZGVidWcoLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZC5ERUJVRykgY29uc29sZS5kZWJ1ZyguLi5hcmdzKTtcbiAgICB9XG4gICAgaW5mbyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsID49ICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkLklORk8pIGNvbnNvbGUuaW5mbyguLi5hcmdzKTtcbiAgICB9XG4gICAgd2FybiguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsID49ICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkLldBUk4pIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgICB9XG4gICAgZXJyb3IoLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZC5FUlJPUikgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICB9XG59XG5jb25zdCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxID0gJDdhZmJiZDU5ZWJhYTQyYmYkdmFyJExvZ2dlci5nZXRJbnN0YW5jZSgpO1xuXG5cbnZhciAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydHMsIFwiUlRWSV9NRVNTQUdFX0xBQkVMXCIsICgpID0+ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ4ODJiMTNjN2ZkYTMzOGY1KTtcbiRwYXJjZWwkZXhwb3J0KCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydHMsIFwiUlRWSU1lc3NhZ2VUeXBlXCIsICgpID0+ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKTtcbiRwYXJjZWwkZXhwb3J0KCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydHMsIFwiUlRWSU1lc3NhZ2VcIiwgKCkgPT4gJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMik7XG4kcGFyY2VsJGV4cG9ydCgkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnRzLCBcIlJUVklBY3Rpb25SZXF1ZXN0XCIsICgpID0+ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzNzg1MjlkN2E4YmVhZDhiKTtcbiRwYXJjZWwkZXhwb3J0KCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydHMsIFwiTWVzc2FnZURpc3BhdGNoZXJcIiwgKCkgPT4gJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JGU5YTk2MDY0NmNjNDMyYWEpO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuXG5cbmNvbnN0ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ4ODJiMTNjN2ZkYTMzOGY1ID0gXCJydHZpLWFpXCI7XG52YXIgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDA7XG4oZnVuY3Rpb24oUlRWSU1lc3NhZ2VUeXBlKSB7XG4gICAgLy8gT3V0Ym91bmRcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJDTElFTlRfUkVBRFlcIl0gPSBcImNsaWVudC1yZWFkeVwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIlVQREFURV9DT05GSUdcIl0gPSBcInVwZGF0ZS1jb25maWdcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJHRVRfQ09ORklHXCJdID0gXCJnZXQtY29uZmlnXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiREVTQ1JJQkVfQ09ORklHXCJdID0gXCJkZXNjcmliZS1jb25maWdcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJERVNDUklCRV9BQ1RJT05TXCJdID0gXCJkZXNjcmliZS1hY3Rpb25zXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiRElTQ09OTkVDVF9CT1RcIl0gPSBcImRpc2Nvbm5lY3QtYm90XCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQUNUSU9OXCJdID0gXCJhY3Rpb25cIjtcbiAgICAvLyBJbmJvdW5kXG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX1JFQURZXCJdID0gXCJib3QtcmVhZHlcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJFUlJPUlwiXSA9IFwiZXJyb3JcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJFUlJPUl9SRVNQT05TRVwiXSA9IFwiZXJyb3ItcmVzcG9uc2VcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJDT05GSUdcIl0gPSBcImNvbmZpZ1wiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkNPTkZJR19BVkFJTEFCTEVcIl0gPSBcImNvbmZpZy1hdmFpbGFibGVcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJDT05GSUdfRVJST1JcIl0gPSBcImNvbmZpZy1lcnJvclwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkFDVElPTlNfQVZBSUxBQkxFXCJdID0gXCJhY3Rpb25zLWF2YWlsYWJsZVwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkFDVElPTl9SRVNQT05TRVwiXSA9IFwiYWN0aW9uLXJlc3BvbnNlXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiTUVUUklDU1wiXSA9IFwibWV0cmljc1wiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIlVTRVJfVFJBTlNDUklQVElPTlwiXSA9IFwidXNlci10cmFuc2NyaXB0aW9uXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX1RSQU5TQ1JJUFRJT05cIl0gPSBcImJvdC10cmFuc2NyaXB0aW9uXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiVVNFUl9TVEFSVEVEX1NQRUFLSU5HXCJdID0gXCJ1c2VyLXN0YXJ0ZWQtc3BlYWtpbmdcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJVU0VSX1NUT1BQRURfU1BFQUtJTkdcIl0gPSBcInVzZXItc3RvcHBlZC1zcGVha2luZ1wiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9TVEFSVEVEX1NQRUFLSU5HXCJdID0gXCJib3Qtc3RhcnRlZC1zcGVha2luZ1wiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9TVE9QUEVEX1NQRUFLSU5HXCJdID0gXCJib3Qtc3RvcHBlZC1zcGVha2luZ1wiO1xuICAgIC8vIFNlcnZpY2Utc3BlY2lmaWNcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJVU0VSX0xMTV9URVhUXCJdID0gXCJ1c2VyLWxsbS10ZXh0XCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX0xMTV9URVhUXCJdID0gXCJib3QtbGxtLXRleHRcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfTExNX1NUQVJURURcIl0gPSBcImJvdC1sbG0tc3RhcnRlZFwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9MTE1fU1RPUFBFRFwiXSA9IFwiYm90LWxsbS1zdG9wcGVkXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX1RUU19URVhUXCJdID0gXCJib3QtdHRzLXRleHRcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfVFRTX1NUQVJURURcIl0gPSBcImJvdC10dHMtc3RhcnRlZFwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9UVFNfU1RPUFBFRFwiXSA9IFwiYm90LXR0cy1zdG9wcGVkXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX0xMTV9TRUFSQ0hfUkVTUE9OU0VcIl0gPSBcImJvdC1sbG0tc2VhcmNoLXJlc3BvbnNlXCI7XG4gICAgLy8gU3RvcmFnZVxuICAgIFJUVklNZXNzYWdlVHlwZVtcIlNUT1JBR0VfSVRFTV9TVE9SRURcIl0gPSBcInN0b3JhZ2UtaXRlbS1zdG9yZWRcIjtcbiAgICAvLyBTZXJ2ZXItdG8tY2xpZW50IG1lc3NhZ2VzXG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiU0VSVkVSX01FU1NBR0VcIl0gPSBcInNlcnZlci1tZXNzYWdlXCI7XG59KSgkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCB8fCAoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAgPSB7fSkpO1xuY2xhc3MgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMiB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgZGF0YSwgaWQpe1xuICAgICAgICB0aGlzLmxhYmVsID0gJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDg4MmIxM2M3ZmRhMzM4ZjU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaWQgPSBpZCB8fCAoMCwgJGVJTkRrJHY0KSgpLnNsaWNlKDAsIDgpO1xuICAgIH1cbiAgICAvLyBPdXRib3VuZCBtZXNzYWdlIHR5cGVzXG4gICAgc3RhdGljIGNsaWVudFJlYWR5KCkge1xuICAgICAgICByZXR1cm4gbmV3ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuQ0xJRU5UX1JFQURZLCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGVDb25maWcoY29uZmlnLCBpbnRlcnJ1cHQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbmV3ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuVVBEQVRFX0NPTkZJRywge1xuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgICBpbnRlcnJ1cHQ6IGludGVycnVwdFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2NyaWJlQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gbmV3ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuREVTQ1JJQkVfQ09ORklHLCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRCb3RDb25maWcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMigkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MC5HRVRfQ09ORklHLCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNjcmliZUFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMigkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MC5ERVNDUklCRV9BQ1RJT05TLCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBkaXNjb25uZWN0Qm90KCkge1xuICAgICAgICByZXR1cm4gbmV3ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuRElTQ09OTkVDVF9CT1QsIHt9KTtcbiAgICB9XG4gICAgc3RhdGljIGVycm9yKG1lc3NhZ2UsIGZhdGFsID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwLkVSUk9SLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgZmF0YWw6IGZhdGFsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzNzg1MjlkN2E4YmVhZDhiIGV4dGVuZHMgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMiB7XG4gICAgY29uc3RydWN0b3IoZGF0YSl7XG4gICAgICAgIHN1cGVyKCRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwLkFDVElPTiwgZGF0YSk7XG4gICAgfVxufVxuY2xhc3MgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JGU5YTk2MDY0NmNjNDMyYWEge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCl7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuX2djVGltZSA9IDEwMDAwOyAvLyBIb3cgbG9uZyB0byB3YWl0IGJlZm9yZSByZXNvbHZpbmcgdGhlIG1lc3NhZ2VcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICBkaXNwYXRjaChtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbTWVzc2FnZURpc3BhdGNoZXJdIGRpc3BhdGNoXCIsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl9jbGllbnQuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX2djKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBhc3luYyBkaXNwYXRjaEFjdGlvbihhY3Rpb24sIG9uTWVzc2FnZSkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGFjdGlvbixcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbTWVzc2FnZURpc3BhdGNoZXJdIGFjdGlvblwiLCBhY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy5fY2xpZW50LmNvbm5lY3RlZCkgLy8gU2VuZCBtZXNzYWdlIHRvIHRyYW5zcG9ydCB3aGVuIGNvbm5lY3RlZFxuICAgICAgICB0aGlzLl9jbGllbnQuc2VuZE1lc3NhZ2UoYWN0aW9uKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NsaWVudC5wYXJhbXMuZW5kcG9pbnRzPy5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZXJyb3IoXCJbTWVzc2FnZURpc3BhdGNoZXJdIEFjdGlvbiBlbmRwb2ludCBpcyByZXF1aXJlZCB3aGVuIGRpc3BhdGNoaW5nIGFjdGlvbiBpbiBkaXNjb25uZWN0ZWQgc3RhdGVcIik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3ICgwLCAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkYmU4MzlmMDEwMGNkMzEzMikoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFjdGlvblVybCA9IHRoaXMuX2NsaWVudC5jb25zdHJ1Y3RVcmwoXCJhY3Rpb25cIik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIERpc3BhdGNoIGFjdGlvbiB2aWEgSFRUUCB3aGVuIGRpc2Nvbm5lY3RlZFxuICAgICAgICAgICAgICAgIGF3YWl0ICgwLCAkNGJiMzQ5ZjIyYWVlNTE4NSRleHBvcnQkODcyOGI2MGVhNTdiZjQzZSkoYWN0aW9uVXJsLCBhY3Rpb24sIHRoaXMuX2NsaWVudC5wYXJhbXMsIChyZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICAgICAgb25NZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIE9uIEhUVFAgc3VjY2VzcyAocmVzb2x2ZSksIHNlbmQgYGFjdGlvbmAgbWVzc2FnZSAoZm9yIGNhbGxiYWNrcylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBvbk1lc3NhZ2UobmV3ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuRVJST1JfUkVTUE9OU0UsIGBBY3Rpb24gZW5kcG9pbnQgJyR7YWN0aW9uVXJsfScgcmV0dXJuZWQgYW4gZXJyb3IgcmVzcG9uc2VgLCBhY3Rpb24uaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9nYygpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgX3Jlc29sdmVSZWplY3QobWVzc2FnZSwgcmVzb2x2ZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgcXVldWVkTWVzc2FnZSA9IHRoaXMuX3F1ZXVlLmZpbmQoKG1zZyk9Pm1zZy5tZXNzYWdlLmlkID09PSBtZXNzYWdlLmlkKTtcbiAgICAgICAgaWYgKHF1ZXVlZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW01lc3NhZ2VEaXNwYXRjaGVyXSBSZXNvbHZlXCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHF1ZXVlZE1lc3NhZ2UucmVzb2x2ZShtZXNzYWdlLnR5cGUgPT09ICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwLkFDVElPTl9SRVNQT05TRSA/IG1lc3NhZ2UgOiBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW01lc3NhZ2VEaXNwYXRjaGVyXSBSZWplY3RcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcXVldWVkTWVzc2FnZS5yZWplY3QobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgbWVzc2FnZSBmcm9tIHF1ZXVlXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZSA9IHRoaXMuX3F1ZXVlLmZpbHRlcigobXNnKT0+bXNnLm1lc3NhZ2UuaWQgIT09IG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW01lc3NhZ2VEaXNwYXRjaGVyXSBRdWV1ZVwiLCB0aGlzLl9xdWV1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHJlc29sdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZVJlamVjdChtZXNzYWdlLCB0cnVlKTtcbiAgICB9XG4gICAgcmVqZWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVSZWplY3QobWVzc2FnZSwgZmFsc2UpO1xuICAgIH1cbiAgICBfZ2MoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gdGhpcy5fcXVldWUuZmlsdGVyKChtc2cpPT57XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIG1zZy50aW1lc3RhbXAgPCB0aGlzLl9nY1RpbWU7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbTWVzc2FnZURpc3BhdGNoZXJdIEdDXCIsIHRoaXMuX3F1ZXVlKTtcbiAgICB9XG59XG5cblxudmFyICQ0MDg2ZjA2NDQyZmNiN2Q3JGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJDQwODZmMDY0NDJmY2I3ZDckZXhwb3J0cywgXCJUcmFuc3BvcnRcIiwgKCkgPT4gJDQwODZmMDY0NDJmY2I3ZDckZXhwb3J0JDg2NDk1YjA4MWZlZjhlNTIpO1xuJHBhcmNlbCRleHBvcnQoJDQwODZmMDY0NDJmY2I3ZDckZXhwb3J0cywgXCJUcmFuc3BvcnRXcmFwcGVyXCIsICgpID0+ICQ0MDg2ZjA2NDQyZmNiN2Q3JGV4cG9ydCQ4MmI2ZWRlMTYwYTY0YTNjKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gY2xhc3MgJDQwODZmMDY0NDJmY2I3ZDckZXhwb3J0JDg2NDk1YjA4MWZlZjhlNTIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICAgICAgdGhpcy5fZXhwaXJ5ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXQgZXhwaXJ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXhwaXJ5O1xuICAgIH1cbn1cbmNsYXNzICQ0MDg2ZjA2NDQyZmNiN2Q3JGV4cG9ydCQ4MmI2ZWRlMTYwYTY0YTNjIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQpe1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuX3Byb3h5ID0gbmV3IFByb3h5KHRoaXMuX3RyYW5zcG9ydCwge1xuICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik9PntcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtwcm9wXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJNc2c7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaChTdHJpbmcocHJvcCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBtZXRob2RzIHRoYXQgbW9kaWZ5IHRoZSBsaWZlY3ljbGUgb2YgdGhlIGNhbGwuIFRoZXNlIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBwZXJmb3JtZWQgdmlhIHRoZSBSVFZJIGNsaWVudCBpbiBvcmRlciB0byBrZWVwIHN0YXRlIGluIHN5bmMuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5pdGlhbGl6ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZyA9IGBEaXJlY3QgY2FsbHMgdG8gaW5pdGlhbGl6ZSgpIGFyZSBkaXNhYmxlZCBhbmQgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBSVFZJQ2xpZW50LmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5pdERldmljZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgRGlyZWN0IGNhbGxzIHRvIGluaXREZXZpY2VzKCkgYXJlIGRpc2FibGVkLiBQbGVhc2UgdXNlIHRoZSBSVFZJQ2xpZW50LmluaXREZXZpY2VzKCkgd3JhcHBlciBvciBsZXQgUlRWSUNsaWVudC5jb25uZWN0KCkgY2FsbCBpdCBmb3IgeW91LmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VuZFJlYWR5TWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZyA9IGBEaXJlY3QgY2FsbHMgdG8gc2VuZFJlYWR5TWVzc2FnZSgpIGFyZSBkaXNhYmxlZCBhbmQgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBSVFZJQ2xpZW50LmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZyA9IGBEaXJlY3QgY2FsbHMgdG8gY29ubmVjdCgpIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHVzZSB0aGUgUlRWSUNsaWVudC5jb25uZWN0KCkgd3JhcHBlci5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRpc2Nvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgRGlyZWN0IGNhbGxzIHRvIGRpc2Nvbm5lY3QoKSBhcmUgZGlzYWJsZWQuIFBsZWFzZSB1c2UgdGhlIFJUVklDbGllbnQuZGlzY29ubmVjdCgpIHdyYXBwZXIuYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyTXNnKSByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3J3YXJkIG90aGVyIG1ldGhvZCBjYWxsc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGb3J3YXJkIHByb3BlcnR5IGFjY2Vzc1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBwcm94eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3h5O1xuICAgIH1cbn1cblxuXG52YXIgJGE3YzMyNGE3MzMwM2FkNTUkdmFyJF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24oZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKWlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5jb25zdCAkYTdjMzI0YTczMzAzYWQ1NSR2YXIkZGVmYXVsdEVuZHBvaW50cyA9IHtcbiAgICBjb25uZWN0OiBcIi9jb25uZWN0XCIsXG4gICAgYWN0aW9uOiBcIi9hY3Rpb25cIlxufTtcbmNsYXNzICRhN2MzMjRhNzMzMDNhZDU1JHZhciRSVFZJRXZlbnRFbWl0dGVyIGV4dGVuZHMgKDAsICRlSU5EayRldmVudHMpIHtcbn1cbmNsYXNzICRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydCRmYTQyYTAxYzFkNjBmNGExIGV4dGVuZHMgJGE3YzMyNGE3MzMwM2FkNTUkdmFyJFJUVklFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMucGFyYW1zLFxuICAgICAgICAgICAgZW5kcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgLi4uJGE3YzMyNGE3MzMwM2FkNTUkdmFyJGRlZmF1bHRFbmRwb2ludHMsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5wYXJhbXMuZW5kcG9pbnRzID8/IHt9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2hlbHBlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0ID0gb3B0aW9ucy50cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydFdyYXBwZXIgPSBuZXcgKDAsICQ0MDg2ZjA2NDQyZmNiN2Q3JGV4cG9ydCQ4MmI2ZWRlMTYwYTY0YTNjKSh0aGlzLl90cmFuc3BvcnQpO1xuICAgICAgICAvLyBXcmFwIHRyYW5zcG9ydCBjYWxsYmFja3Mgd2l0aCBldmVudCB0cmlnZ2Vyc1xuICAgICAgICAvLyBUaGlzIGFsbG93cyBmb3IgZWl0aGVyIGZ1bmN0aW9uYWwgY2FsbGJhY2tzIG9yIC5vbiAvIC5vZmYgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIGNvbnN0IHdyYXBwZWRDYWxsYmFja3MgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLmNhbGxiYWNrcyxcbiAgICAgICAgICAgIG9uTWVzc2FnZUVycm9yOiAobWVzc2FnZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uTWVzc2FnZUVycm9yPy4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuTWVzc2FnZUVycm9yLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVycm9yOiAobWVzc2FnZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uRXJyb3I/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5FcnJvciwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJDb3VsZCBub3QgZW1pdCBlcnJvclwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG1lc3NhZ2UuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YT8uZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmVycm9yKFwiRmF0YWwgZXJyb3IgcmVwb3J0ZWQuIERpc2Nvbm5lY3RpbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbm5lY3RlZDogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQ29ubmVjdGVkPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Db25uZWN0ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlzY29ubmVjdGVkOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25EaXNjb25uZWN0ZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkRpc2Nvbm5lY3RlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFuc3BvcnRTdGF0ZUNoYW5nZWQ6IChzdGF0ZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVHJhbnNwb3J0U3RhdGVDaGFuZ2VkPy4oc3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlRyYW5zcG9ydFN0YXRlQ2hhbmdlZCwgc3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ29uZmlnOiAoY29uZmlnKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Db25maWc/Lihjb25maWcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkNvbmZpZywgY29uZmlnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbmZpZ0Rlc2NyaWJlOiAoY29uZmlnRGVzY3JpcHRpb24pPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkNvbmZpZ0Rlc2NyaWJlPy4oY29uZmlnRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkNvbmZpZ0Rlc2NyaWJlLCBjb25maWdEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BY3Rpb25zQXZhaWxhYmxlOiAoYWN0aW9uc0F2YWlsYWJsZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQWN0aW9uc0F2YWlsYWJsZT8uKGFjdGlvbnNBdmFpbGFibGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkFjdGlvbnNBdmFpbGFibGUsIGFjdGlvbnNBdmFpbGFibGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUGFydGljaXBhbnRKb2luZWQ6IChwKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25QYXJ0aWNpcGFudEpvaW5lZD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlBhcnRpY2lwYW50Q29ubmVjdGVkLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBhcnRpY2lwYW50TGVmdDogKHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblBhcnRpY2lwYW50TGVmdD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlBhcnRpY2lwYW50TGVmdCwgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFja1N0YXJ0ZWQ6ICh0cmFjaywgcCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVHJhY2tTdGFydGVkPy4odHJhY2ssIHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlRyYWNrU3RhcnRlZCwgdHJhY2ssIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVHJhY2tTdG9wcGVkOiAodHJhY2ssIHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblRyYWNrU3RvcHBlZD8uKHRyYWNrLCBwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5UcmFja1N0b3BwZWQsIHRyYWNrLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblNjcmVlblRyYWNrU3RhcnRlZDogKHRyYWNrLCBwKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25TY3JlZW5UcmFja1N0YXJ0ZWQ/Lih0cmFjaywgcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2NyZWVuVHJhY2tTdGFydGVkLCB0cmFjaywgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TY3JlZW5UcmFja1N0b3BwZWQ6ICh0cmFjaywgcCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uU2NyZWVuVHJhY2tTdG9wcGVkPy4odHJhY2ssIHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlNjcmVlblRyYWNrU3RvcHBlZCwgdHJhY2ssIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU2NyZWVuU2hhcmVFcnJvcjogKGVycm9yTWVzc2FnZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uU2NyZWVuU2hhcmVFcnJvcj8uKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2NyZWVuU2hhcmVFcnJvciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkF2YWlsYWJsZUNhbXNVcGRhdGVkOiAoY2Ftcyk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQXZhaWxhYmxlQ2Ftc1VwZGF0ZWQ/LihjYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5BdmFpbGFibGVDYW1zVXBkYXRlZCwgY2Ftcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BdmFpbGFibGVNaWNzVXBkYXRlZDogKG1pY3MpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkPy4obWljcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQXZhaWxhYmxlTWljc1VwZGF0ZWQsIG1pY3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQXZhaWxhYmxlU3BlYWtlcnNVcGRhdGVkOiAoc3BlYWtlcnMpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZD8uKHNwZWFrZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5BdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWQsIHNwZWFrZXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNhbVVwZGF0ZWQ6IChjYW0pPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkNhbVVwZGF0ZWQ/LihjYW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkNhbVVwZGF0ZWQsIGNhbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25NaWNVcGRhdGVkOiAobWljKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25NaWNVcGRhdGVkPy4obWljKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5NaWNVcGRhdGVkLCBtaWMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3BlYWtlclVwZGF0ZWQ6IChzcGVha2VyKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25TcGVha2VyVXBkYXRlZD8uKHNwZWFrZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlNwZWFrZXJVcGRhdGVkLCBzcGVha2VyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdENvbm5lY3RlZDogKHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdENvbm5lY3RlZD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdENvbm5lY3RlZCwgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Cb3RSZWFkeTogKGJvdFJlYWR5RGF0YSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90UmVhZHk/Lihib3RSZWFkeURhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFJlYWR5LCBib3RSZWFkeURhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90RGlzY29ubmVjdGVkOiAocCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90RGlzY29ubmVjdGVkPy4ocCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90RGlzY29ubmVjdGVkLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdFN0YXJ0ZWRTcGVha2luZzogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90U3RhcnRlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RTdGFydGVkU3BlYWtpbmcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90U3RvcHBlZFNwZWFraW5nOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RTdG9wcGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFN0b3BwZWRTcGVha2luZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZW1vdGVBdWRpb0xldmVsOiAobGV2ZWwsIHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblJlbW90ZUF1ZGlvTGV2ZWw/LihsZXZlbCwgcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuUmVtb3RlQXVkaW9MZXZlbCwgbGV2ZWwsIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVXNlclN0YXJ0ZWRTcGVha2luZzogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVXNlclN0YXJ0ZWRTcGVha2luZz8uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuVXNlclN0YXJ0ZWRTcGVha2luZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Vc2VyU3RvcHBlZFNwZWFraW5nOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Vc2VyU3RvcHBlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Vc2VyU3RvcHBlZFNwZWFraW5nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxvY2FsQXVkaW9MZXZlbDogKGxldmVsKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Mb2NhbEF1ZGlvTGV2ZWw/LihsZXZlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuTG9jYWxBdWRpb0xldmVsLCBsZXZlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Vc2VyVHJhbnNjcmlwdDogKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblVzZXJUcmFuc2NyaXB0Py4oZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuVXNlclRyYW5zY3JpcHQsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHJhbnNjcmlwdDogKHRleHQpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFRyYW5zY3JpcHQ/Lih0ZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RUcmFuc2NyaXB0LCB0ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdExsbVRleHQ6ICh0ZXh0KT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RMbG1UZXh0Py4odGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90TGxtVGV4dCwgdGV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Cb3RMbG1TdGFydGVkOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RMbG1TdGFydGVkPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RMbG1TdGFydGVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdExsbVN0b3BwZWQ6ICgpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdExsbVN0b3BwZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdExsbVN0b3BwZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHRzVGV4dDogKHRleHQpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFR0c1RleHQ/Lih0ZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RUdHNUZXh0LCB0ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdFR0c1N0YXJ0ZWQ6ICgpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFR0c1N0YXJ0ZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFR0c1N0YXJ0ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHRzU3RvcHBlZDogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90VHRzU3RvcHBlZD8uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90VHRzU3RvcHBlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TdG9yYWdlSXRlbVN0b3JlZDogKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblN0b3JhZ2VJdGVtU3RvcmVkPy4oZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU3RvcmFnZUl0ZW1TdG9yZWQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBVcGRhdGUgb3B0aW9ucyB0byByZWZlcmVuY2Ugd3JhcHBlZCBjYWxsYmFja3MgYW5kIGNvbmZpZyBkZWZhdWx0c1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGNhbGxiYWNrczogd3JhcHBlZENhbGxiYWNrcyxcbiAgICAgICAgICAgIGVuYWJsZU1pYzogb3B0aW9ucy5lbmFibGVNaWMgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZUNhbTogb3B0aW9ucy5lbmFibGVDYW0gPz8gZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgdGhlIHRyYW5zcG9ydCBjbGFzcyBhbmQgYmluZCBtZXNzYWdlIGhhbmRsZXJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICAgICAgICAvLyBHZXQgcGFja2FnZSB2ZXJzaW9uIG51bWJlclxuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbUlRWSSBDbGllbnRdIEluaXRpYWxpemVkXCIsIHRoaXMudmVyc2lvbik7XG4gICAgfVxuICAgIGNvbnN0cnVjdFVybChlbmRwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyYW1zLmJhc2VVcmwpIHRocm93IG5ldyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkNTliNDc4NmYzMzNhYWMwMihcIkJhc2UgVVJMIG5vdCBzZXQuIFBsZWFzZSBzZXQgcnR2aUNsaWVudC5wYXJhbXMuYmFzZVVybFwiKTtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IHRoaXMucGFyYW1zLmJhc2VVcmwucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmwgKyAodGhpcy5wYXJhbXMuZW5kcG9pbnRzPy5bZW5kcG9pbnRdID8/IFwiXCIpO1xuICAgIH1cbiAgICBzZXRMb2dMZXZlbChsZXZlbCkge1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuc2V0TGV2ZWwobGV2ZWwpO1xuICAgIH1cbiAgICAvLyAtLS0tLS0gVHJhbnNwb3J0IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGxvY2FsIG1lZGlhIGRldmljZXNcbiAgICAgKi8gYXN5bmMgaW5pdERldmljZXMoKSB7XG4gICAgICAgICgwLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltSVFZJIENsaWVudF0gSW5pdGlhbGl6aW5nIGRldmljZXMuLi5cIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5pbml0RGV2aWNlcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRoZSB2b2ljZSBjbGllbnQgc2Vzc2lvbiB3aXRoIGNob3NlbiB0cmFuc3BvcnRcbiAgICAgKiBDYWxsIGFzeW5jIChhd2FpdCkgdG8gaGFuZGxlIGVycm9yc1xuICAgICAqLyBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgXCJhdXRoZW50aWNhdGluZ1wiLFxuICAgICAgICAgICAgXCJjb25uZWN0aW5nXCIsXG4gICAgICAgICAgICBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgXCJyZWFkeVwiXG4gICAgICAgIF0uaW5jbHVkZXModGhpcy5fdHJhbnNwb3J0LnN0YXRlKSkgdGhyb3cgbmV3ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyKFwiVm9pY2UgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZC4gUGxlYXNlIGNhbGwgZGlzY29ubmVjdCgpIGJlZm9yZSBzdGFydGluZyBhZ2Fpbi5cIik7XG4gICAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgLy8gRXN0YWJsaXNoIHRyYW5zcG9ydCBzZXNzaW9uIGFuZCBhd2FpdCBib3QgcmVhZHkgc2lnbmFsXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgKGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNwb3J0LnN0YXRlID09PSBcImRpc2Nvbm5lY3RlZFwiKSBhd2FpdCB0aGlzLl90cmFuc3BvcnQuaW5pdERldmljZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc3BvcnQuc3RhdGUgPSBcImF1dGhlbnRpY2F0aW5nXCI7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGEgdGltZXIgZm9yIHRoZSBib3QgdG8gZW50ZXIgYSByZWFkeSBzdGF0ZSwgb3RoZXJ3aXNlIGFib3J0IHRoZSBhdHRlbXB0XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudGltZW91dCkgdGhpcy5faGFuZHNoYWtlVGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnN0YXRlID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCRjNjc5OTJmYTY4NGE4MWE2KCkpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuX29wdGlvbnMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgbGV0IGF1dGhCdW5kbGU7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tQ29ubmVjdEhhbmRsZXIgPSB0aGlzLl9vcHRpb25zLmN1c3RvbUNvbm5lY3RIYW5kbGVyO1xuICAgICAgICAgICAgICAgICgwLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltSVFZJIENsaWVudF0gU3RhcnQgcGFyYW1zXCIsIHRoaXMucGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnBhcmFtcy5yZXF1ZXN0RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ0dmlfY2xpZW50X3ZlcnNpb246IHRoaXMudmVyc2lvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1zLmJhc2VVcmwgJiYgIXRoaXMucGFyYW1zLmVuZHBvaW50cz8uY29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBiYXNlVXJsIGFuZCBlbmRwb2ludHMuY29ubmVjdCBhcmUgbm90IHNldCwgYnlwYXNzIHRoZSBoYW5kc2hha2UgYW5kIGNvbm5lY3QgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VmdWwgd2l0aCB0cmFuc3BvcnRzIHRoYXQgZG8gbm90IHJlcXVpcmUgc2VydmljZSBzaWRlIGF1dGgsIGVzcGVjaWFsbHkgaW4gbG9jYWwgZGV2ZWxvcG1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24gdXNlLCBzZWUgW2RvY3MgbGlua11cbiAgICAgICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW1JUVkkgQ2xpZW50XSBDb25uZWN0aW5nIGRpcmVjdGx5IChza2lwcGluZyBoYW5kc2hha2UgLyBhdXRoKS4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hhbmRzaGFrZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RVcmwgPSB0aGlzLmNvbnN0cnVjdFVybChcImNvbm5lY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICgwLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltSVFZJIENsaWVudF0gQ29ubmVjdGluZy4uLlwiLCBjb25uZWN0VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW1JUVkkgQ2xpZW50XSBTdGFydCBwYXJhbXNcIiwgdGhpcy5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbm5lY3RIYW5kbGVyKSBhdXRoQnVuZGxlID0gYXdhaXQgY3VzdG9tQ29ubmVjdEhhbmRsZXIodGhpcy5wYXJhbXMsIHRoaXMuX2hhbmRzaGFrZVRpbWVvdXQsIHRoaXMuX2Fib3J0Q29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGF1dGhCdW5kbGUgPSBhd2FpdCBmZXRjaChjb25uZWN0VXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoKHRoaXMucGFyYW1zLmhlYWRlcnMgPz8gbmV3IEhlYWRlcnMoKSkuZW50cmllcygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLnBhcmFtcy5jb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucGFyYW1zLnNlcnZpY2VzID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXM6IHRoaXMucGFyYW1zLnNlcnZpY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wYXJhbXMucmVxdWVzdERhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHRoaXMuX2Fib3J0Q29udHJvbGxlcj8uc2lnbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hhbmRzaGFrZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9oYW5kc2hha2VUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBlcnJvcnMgaWYgdGhlIHJlcXVlc3Qgd2FzIG5vdCBhYm9ydGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnN0YXRlID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yUmVzcCA9IGF3YWl0IGUuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGU3NTQ0YWI4MTIyMzhhNjEoZXJyb3JSZXNwLmluZm8gPz8gZXJyb3JSZXNwLmRldGFpbCA/PyBlLnN0YXR1c1RleHQsIGUuc3RhdHVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmVqZWN0KG5ldyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkZTc1NDRhYjgxMjIzOGE2MSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbUlRWSSBDbGllbnRdIEF1dGggYnVuZGxlIHJlY2VpdmVkXCIsIGF1dGhCdW5kbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl90cmFuc3BvcnQuY29ubmVjdChhdXRoQnVuZGxlLCB0aGlzLl9hYm9ydENvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl90cmFuc3BvcnQuc2VuZFJlYWR5TWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hhbmRzaGFrZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgdGhlIHZvaWNlIGNsaWVudCBmcm9tIHRoZSB0cmFuc3BvcnRcbiAgICAgKiBSZXNldCAvIHJlaW5pdGlhbGl6ZSB0cmFuc3BvcnQgYW5kIGFib3J0IGFueSBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICovIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXIpIHRoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faGFuZHNoYWtlVGltZW91dCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyID0gbmV3ICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkZTlhOTYwNjQ2Y2M0MzJhYSkodGhpcyk7XG4gICAgfVxuICAgIF9pbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQuaW5pdGlhbGl6ZSh0aGlzLl9vcHRpb25zLCB0aGlzLmhhbmRsZU1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtZXNzYWdlIGRpc3BhdGNoIHF1ZXVlIGZvciBhc3luYyBtZXNzYWdlIGhhbmRsaW5nXG4gICAgICAgIHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyID0gbmV3ICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkZTlhOTYwNjQ2Y2M0MzJhYSkodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdHJhbnNwb3J0XG4gICAgICovIGdldCBjb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgXCJyZWFkeVwiXG4gICAgICAgIF0uaW5jbHVkZXModGhpcy5fdHJhbnNwb3J0LnN0YXRlKTtcbiAgICB9XG4gICAgZ2V0IHRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydFdyYXBwZXIucHJveHk7XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zdGF0ZTtcbiAgICB9XG4gICAgZ2V0IHZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiAoMCwgKC8qQF9fUFVSRV9fKi8kcGFyY2VsJGludGVyb3BEZWZhdWx0KCRlM2JhZDljYzI1ZTMyN2Y3JGV4cG9ydHMpKSkudmVyc2lvbjtcbiAgICB9XG4gICAgLy8gLS0tLS0tIERldmljZSBtZXRob2RzXG4gICAgYXN5bmMgZ2V0QWxsTWljcygpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5nZXRBbGxNaWNzKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldEFsbENhbXMoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cmFuc3BvcnQuZ2V0QWxsQ2FtcygpO1xuICAgIH1cbiAgICBhc3luYyBnZXRBbGxTcGVha2VycygpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5nZXRBbGxTcGVha2VycygpO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRNaWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc2VsZWN0ZWRNaWM7XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZENhbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zZWxlY3RlZENhbTtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkU3BlYWtlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zZWxlY3RlZFNwZWFrZXI7XG4gICAgfVxuICAgIHVwZGF0ZU1pYyhtaWNJZCkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQudXBkYXRlTWljKG1pY0lkKTtcbiAgICB9XG4gICAgdXBkYXRlQ2FtKGNhbUlkKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC51cGRhdGVDYW0oY2FtSWQpO1xuICAgIH1cbiAgICB1cGRhdGVTcGVha2VyKHNwZWFrZXJJZCkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQudXBkYXRlU3BlYWtlcihzcGVha2VySWQpO1xuICAgIH1cbiAgICBlbmFibGVNaWMoZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC5lbmFibGVNaWMoZW5hYmxlKTtcbiAgICB9XG4gICAgZ2V0IGlzTWljRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5pc01pY0VuYWJsZWQ7XG4gICAgfVxuICAgIGVuYWJsZUNhbShlbmFibGUpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LmVuYWJsZUNhbShlbmFibGUpO1xuICAgIH1cbiAgICBnZXQgaXNDYW1FbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmlzQ2FtRW5hYmxlZDtcbiAgICB9XG4gICAgdHJhY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LnRyYWNrcygpO1xuICAgIH1cbiAgICBlbmFibGVTY3JlZW5TaGFyZShlbmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5lbmFibGVTY3JlZW5TaGFyZShlbmFibGUpO1xuICAgIH1cbiAgICBnZXQgaXNTaGFyaW5nU2NyZWVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmlzU2hhcmluZ1NjcmVlbjtcbiAgICB9XG4gICAgLy8gLS0tLS0tIENvbmZpZyBtZXRob2RzXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0aGUgYm90IHRvIHNlbmQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvblxuICAgICAqIEByZXR1cm5zIFByb21pc2U8UlRWSUNsaWVudENvbmZpZ09wdGlvbltdPiAtIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBib3QncyBjb25maWd1cmF0aW9uXG4gICAgICovIGFzeW5jIGdldENvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnTXNnID0gYXdhaXQgdGhpcy5fbWVzc2FnZURpc3BhdGNoZXIuZGlzcGF0Y2goKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIpLmdldEJvdENvbmZpZygpKTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ01zZy5kYXRhLmNvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBpcGVsaW5lIGFuZCBzZXJ2aWNlc1xuICAgICAqIEBwYXJhbSBjb25maWcgLSBSVFZJQ2xpZW50Q29uZmlnT3B0aW9uW10gcGFydGlhbCBvYmplY3Qgd2l0aCB0aGUgbmV3IGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0gaW50ZXJydXB0IC0gYm9vbGVhbiBmbGFnIHRvIGludGVycnVwdCB0aGUgY3VycmVudCBwaXBlbGluZSwgb3Igd2FpdCB1bnRpbCB0aGUgbmV4dCB0dXJuXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxSVFZJTWVzc2FnZT4gLSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlZCBjb25maWd1cmF0aW9uXG4gICAgICovIGFzeW5jIHVwZGF0ZUNvbmZpZyhjb25maWcsIGludGVycnVwdCA9IGZhbHNlKSB7XG4gICAgICAgICgwLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltSVFZJIENsaWVudF0gVXBkYXRpbmcgY29uZmlnXCIsIGNvbmZpZyk7XG4gICAgICAgIC8vIE9ubHkgc2VuZCB0aGUgcGFydGlhbCBjb25maWcgaWYgdGhlIGJvdCBpcyByZWFkeSB0byBwcmV2ZW50XG4gICAgICAgIC8vIHBvdGVudGlhbCByYWNpbmcgY29uZGl0aW9ucyB3aGlsc3QgcGlwZWxpbmUgaXMgaW5zdGFudGlhdGluZ1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZURpc3BhdGNoZXIuZGlzcGF0Y2goKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIpLnVwZGF0ZUNvbmZpZyhjb25maWcsIGludGVycnVwdCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGJvdCBkZXNjcmliZSB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHVua25vd24+IC0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGJvdCdzIGNvbmZpZ3VyYXRpb24gZGVzY3JpcHRpb25cbiAgICAgKi8gYXN5bmMgZGVzY3JpYmVDb25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaCgoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMikuZGVzY3JpYmVDb25maWcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBzcGVjaWZpZWQgc2VydmljZSBrZXlcbiAgICAgKiBAcGFyYW0gc2VydmljZUtleSAtIFNlcnZpY2UgbmFtZSB0byBnZXQgb3B0aW9ucyBmb3IgKGUuZy4gXCJsbG1cIilcbiAgICAgKiBAcGFyYW0gY29uZmlnPyAtIE9wdGlvbmFsIFJUVklDbGllbnRDb25maWdPcHRpb25bXSB0byBxdWVyeSAodnMuIHVzaW5nIHJlbW90ZSBjb25maWcpXG4gICAgICogQHJldHVybnMgUlRWSUNsaWVudENvbmZpZ09wdGlvbiB8IHVuZGVmaW5lZCAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcnJheSBmb3IgdGhlIHNlcnZpY2Ugd2l0aCBzcGVjaWZpZWQga2V5IG9yIHVuZGVmaW5lZFxuICAgICAqLyBhc3luYyBnZXRTZXJ2aWNlT3B0aW9uc0Zyb21Db25maWcoc2VydmljZUtleSwgY29uZmlnKSB7XG4gICAgICAgIGlmICghY29uZmlnICYmIHRoaXMuc3RhdGUgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiKFwiZ2V0U2VydmljZU9wdGlvbnNGcm9tQ29uZmlnIGNhbGxlZCB3aXRob3V0IGNvbmZpZyBhcnJheSBiZWZvcmUgYm90IGlzIHJlYWR5XCIpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKT0+e1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSByZWdpc3RlcmVkIHNlcnZpY2Ugd2l0aCBuYW1lIHNlcnZpY2VcbiAgICAgICAgICAgIGlmICghc2VydmljZUtleSkge1xuICAgICAgICAgICAgICAgICgwLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIlRhcmdldCBzZXJ2aWNlIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhc3NlZENvbmZpZyA9IGNvbmZpZyA/PyBhd2FpdCB0aGlzLmdldENvbmZpZygpO1xuICAgICAgICAgICAgLy8gRmluZCBtYXRjaGluZyBzZXJ2aWNlIG5hbWUgaW4gdGhlIGNvbmZpZyBhbmQgdXBkYXRlIHRoZSBtZXNzYWdlc1xuICAgICAgICAgICAgY29uc3QgY29uZmlnU2VydmljZUtleSA9IHBhc3NlZENvbmZpZy5maW5kKChjb25maWcpPT5jb25maWcuc2VydmljZSA9PT0gc2VydmljZUtleSk7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ1NlcnZpY2VLZXkpIHtcbiAgICAgICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJObyBzZXJ2aWNlIHdpdGggbmFtZSBcIiArIHNlcnZpY2VLZXkgKyBcIiBub3QgZm91bmQgaW4gY29uZmlnXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gYSBuZXcgb2JqZWN0LCBhcyB0byBub3QgbXV0YXRlIGV4aXN0aW5nIHN0YXRlXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnU2VydmljZUtleTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29uZmlndXJhdGlvbiBvcHRpb24gdmFsdWUgKHVua25vd24pIGZvciBzcGVjaWZpZWQgc2VydmljZSBrZXkgYW5kIG9wdGlvbiBuYW1lXG4gICAgICogQHBhcmFtIHNlcnZpY2VLZXkgLSBTZXJ2aWNlIG5hbWUgdG8gZ2V0IG9wdGlvbnMgZm9yIChlLmcuIFwibGxtXCIpXG4gICAgICogQG9wdGlvbmFsIG9wdGlvbiBOYW1lIG9mIG9wdGlvbiByZXR1cm4gZnJvbSB0aGUgY29uZmlnIChlLmcuIFwibW9kZWxcIilcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHVua25vd24gfCB1bmRlZmluZWQ+IC0gU2VydmljZSBjb25maWd1cmF0aW9uIG9wdGlvbiB2YWx1ZSBvciB1bmRlZmluZWRcbiAgICAgKi8gYXN5bmMgZ2V0U2VydmljZU9wdGlvblZhbHVlRnJvbUNvbmZpZyhzZXJ2aWNlS2V5LCBvcHRpb24sIGNvbmZpZykge1xuICAgICAgICBjb25zdCBjb25maWdTZXJ2aWNlS2V5ID0gYXdhaXQgdGhpcy5nZXRTZXJ2aWNlT3B0aW9uc0Zyb21Db25maWcoc2VydmljZUtleSwgY29uZmlnKTtcbiAgICAgICAgaWYgKCFjb25maWdTZXJ2aWNlS2V5KSB7XG4gICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJTZXJ2aWNlIHdpdGggbmFtZSBcIiArIHNlcnZpY2VLZXkgKyBcIiBub3QgZm91bmQgaW4gY29uZmlnXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIG1hdGNoaW5nIG9wdGlvbiBrZXkgaW4gdGhlIHNlcnZpY2UgY29uZmlnXG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gY29uZmlnU2VydmljZUtleS5vcHRpb25zLmZpbmQoKG8pPT5vLm5hbWUgPT09IG9wdGlvbik7XG4gICAgICAgIHJldHVybiBvcHRpb25WYWx1ZSA/IG9wdGlvblZhbHVlLnZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfdXBkYXRlT3JBZGRPcHRpb24oZXhpc3RpbmdPcHRpb25zLCBuZXdPcHRpb24pIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdPcHRpb25JbmRleCA9IGV4aXN0aW5nT3B0aW9ucy5maW5kSW5kZXgoKGl0ZW0pPT5pdGVtLm5hbWUgPT09IG5ld09wdGlvbi5uYW1lKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nT3B0aW9uSW5kZXggIT09IC0xKSAvLyBVcGRhdGUgZXhpc3Rpbmcgb3B0aW9uXG4gICAgICAgIHJldHVybiBleGlzdGluZ09wdGlvbnMubWFwKChpdGVtLCBpbmRleCk9PmluZGV4ID09PSBleGlzdGluZ09wdGlvbkluZGV4ID8ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ld09wdGlvbi52YWx1ZVxuICAgICAgICAgICAgfSA6IGl0ZW0pO1xuICAgICAgICBlbHNlIC8vIEFkZCBuZXcgb3B0aW9uXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi5leGlzdGluZ09wdGlvbnMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogbmV3T3B0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ld09wdGlvbi52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbmZpZyB3aXRoIHVwZGF0ZWQgb3B0aW9uKHMpIGZvciBzcGVjaWZpZWQgc2VydmljZSBrZXkgYW5kIG9wdGlvbiBuYW1lXG4gICAgICogTm90ZTogZG9lcyBub3QgdXBkYXRlIGN1cnJlbnQgY29uZmlnLCBvbmx5IHJldHVybnMgYSBuZXcgb2JqZWN0IChjYWxsIHVwZGF0ZUNvbmZpZyB0byBhcHBseSBjaGFuZ2VzKVxuICAgICAqIEBwYXJhbSBzZXJ2aWNlS2V5IC0gU2VydmljZSBuYW1lIHRvIGdldCBvcHRpb25zIGZvciAoZS5nLiBcImxsbVwiKVxuICAgICAqIEBwYXJhbSBvcHRpb24gLSBTZXJ2aWNlIG5hbWUgdG8gZ2V0IG9wdGlvbnMgZm9yIChlLmcuIFwibW9kZWxcIilcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gT3B0aW9uYWwgUlRWSUNsaWVudENvbmZpZ09wdGlvbltdIHRvIHVwZGF0ZSAodnMuIHVzaW5nIGN1cnJlbnQgY29uZmlnKVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8UlRWSUNsaWVudENvbmZpZ09wdGlvbltdIHwgdW5kZWZpbmVkPiAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcnJheSB3aXRoIHVwZGF0ZWQgb3B0aW9uKHMpIG9yIHVuZGVmaW5lZFxuICAgICAqLyBhc3luYyBzZXRTZXJ2aWNlT3B0aW9uSW5Db25maWcoc2VydmljZUtleSwgb3B0aW9uLCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gKDAsICRlSU5EayRjbG9uZWRlZXApKGNvbmZpZyA/PyBhd2FpdCB0aGlzLmdldENvbmZpZygpKTtcbiAgICAgICAgY29uc3Qgc2VydmljZU9wdGlvbnMgPSBhd2FpdCB0aGlzLmdldFNlcnZpY2VPcHRpb25zRnJvbUNvbmZpZyhzZXJ2aWNlS2V5LCBuZXdDb25maWcpO1xuICAgICAgICBpZiAoIXNlcnZpY2VPcHRpb25zKSB7XG4gICAgICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJTZXJ2aWNlIHdpdGggbmFtZSAnXCIgKyBzZXJ2aWNlS2V5ICsgXCInIG5vdCBmb3VuZCBpbiBjb25maWdcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3Q29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnNBcnJheSA9IEFycmF5LmlzQXJyYXkob3B0aW9uKSA/IG9wdGlvbiA6IFtcbiAgICAgICAgICAgIG9wdGlvblxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBvcHRpb25zQXJyYXkpe1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gbmV3Q29uZmlnLmZpbmQoKGl0ZW0pPT5pdGVtLnNlcnZpY2UgPT09IHNlcnZpY2VLZXkpO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZE9wdGlvbnMgPSBleGlzdGluZ0l0ZW0gPyB0aGlzLl91cGRhdGVPckFkZE9wdGlvbihleGlzdGluZ0l0ZW0ub3B0aW9ucywgb3B0KSA6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wdC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0LnZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW0pIGV4aXN0aW5nSXRlbS5vcHRpb25zID0gdXBkYXRlZE9wdGlvbnM7XG4gICAgICAgICAgICBlbHNlIG5ld0NvbmZpZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlS2V5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHVwZGF0ZWRPcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3Q29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbmZpZyBvYmplY3Qgd2l0aCB1cGRhdGVkIHByb3BlcnRpZXMgZnJvbSBwYXNzZWQgYXJyYXkuXG4gICAgICogQHBhcmFtIGNvbmZpZ09wdGlvbnMgLSBBcnJheSBvZiBSVFZJQ2xpZW50Q29uZmlnT3B0aW9uW10gdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIGNvbmZpZz8gLSBPcHRpb25hbCBSVFZJQ2xpZW50Q29uZmlnT3B0aW9uW10gdG8gdXBkYXRlICh2cy4gdXNpbmcgY3VycmVudCBjb25maWcpXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxSVFZJQ2xpZW50Q29uZmlnT3B0aW9uW10+IC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICovIGFzeW5jIHNldENvbmZpZ09wdGlvbnMoY29uZmlnT3B0aW9ucywgY29uZmlnKSB7XG4gICAgICAgIGxldCBhY2N1bXVsYXRvciA9ICgwLCAkZUlORGskY2xvbmVkZWVwKShjb25maWcgPz8gYXdhaXQgdGhpcy5nZXRDb25maWcoKSk7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlnT3B0aW9uIG9mIGNvbmZpZ09wdGlvbnMpYWNjdW11bGF0b3IgPSBhd2FpdCB0aGlzLnNldFNlcnZpY2VPcHRpb25JbkNvbmZpZyhjb25maWdPcHRpb24uc2VydmljZSwgY29uZmlnT3B0aW9uLm9wdGlvbnMsIGFjY3VtdWxhdG9yKSB8fCBhY2N1bXVsYXRvcjtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cbiAgICAvLyAtLS0tLS0gQWN0aW9uc1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIGFuIGFjdGlvbiBtZXNzYWdlIHRvIHRoZSBib3Qgb3IgaHR0cCBzaW5nbGUtdHVybiBlbmRwb2ludFxuICAgICAqLyBhc3luYyBhY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaEFjdGlvbihuZXcgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzNzg1MjlkN2E4YmVhZDhiKShhY3Rpb24pLCB0aGlzLmhhbmRsZU1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIGF2YWlsYWJsZSAvIHJlZ2lzdGVyZWQgYWN0aW9ucyB0aGUgYm90IGhhc1xuICAgICAqIEByZXR1cm5zIFByb21pc2U8dW5rbm93bj4gLSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgYm90J3MgYWN0aW9uc1xuICAgICAqLyBhc3luYyBkZXNjcmliZUFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaCgoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMikuZGVzY3JpYmVBY3Rpb25zKCkpO1xuICAgIH1cbiAgICAvLyAtLS0tLS0gVHJhbnNwb3J0IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlc3Npb24gZXhwaXJ5IHRpbWUgZm9yIHRoZSB0cmFuc3BvcnQgc2Vzc2lvbiAoaWYgYXBwbGljYWJsZSlcbiAgICAgKiBAcmV0dXJucyBudW1iZXIgLSBFeHBpcnkgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICAgKi8gZ2V0IHRyYW5zcG9ydEV4cGlyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5leHBpcnk7XG4gICAgfVxuICAgIC8vIC0tLS0tLSBNZXNzYWdlc1xuICAgIC8qKlxuICAgICAqIERpcmVjdGx5IHNlbmQgYSBtZXNzYWdlIHRvIHRoZSBib3QgdmlhIHRoZSB0cmFuc3BvcnRcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIFJUVklNZXNzYWdlIG9iamVjdCB0byBzZW5kXG4gICAgICovIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgYm90LCBidXQga2VlcHMgdGhlIHNlc3Npb24gYWxpdmVcbiAgICAgKi8gZGlzY29ubmVjdEJvdCgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG5ldyAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMikoKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5ESVNDT05ORUNUX0JPVCwge30pKTtcbiAgICB9XG4gICAgaGFuZGxlTWVzc2FnZShldikge1xuICAgICAgICAoMCwgJDdhZmJiZDU5ZWJhYTQyYmYkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbUlRWSSBNZXNzYWdlXVwiLCBldik7XG4gICAgICAgIHN3aXRjaChldi50eXBlKXtcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfUkVBRFk6XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hhbmRzaGFrZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVzb2x2ZT8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFJlYWR5Py4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQ09ORklHX0FWQUlMQUJMRTpcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5yZXNvbHZlKGV2KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Db25maWdEZXNjcmliZT8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkNPTkZJRzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3AgPSB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5yZXNvbHZlKGV2KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQ29uZmlnPy4ocmVzcC5kYXRhLmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5BQ1RJT05TX0FWQUlMQUJMRTpcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlci5yZXNvbHZlKGV2KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25BY3Rpb25zQXZhaWxhYmxlPy4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQUNUSU9OX1JFU1BPTlNFOlxuICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLnJlc29sdmUoZXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkVSUk9SX1JFU1BPTlNFOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLnJlamVjdChldik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbk1lc3NhZ2VFcnJvcj8uKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uRXJyb3I/Lihldik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuVVNFUl9TVEFSVEVEX1NQRUFLSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vblVzZXJTdGFydGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLlVTRVJfU1RPUFBFRF9TUEVBS0lORzpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Vc2VyU3RvcHBlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfU1RBUlRFRF9TUEVBS0lORzpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RTdGFydGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9TVE9QUEVEX1NQRUFLSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFN0b3BwZWRTcGVha2luZz8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuVVNFUl9UUkFOU0NSSVBUSU9OOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVHJhbnNjcmlwdERhdGEgPSBldi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Vc2VyVHJhbnNjcmlwdD8uKFRyYW5zY3JpcHREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9UUkFOU0NSSVBUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFRyYW5zY3JpcHQ/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfTExNX1RFWFQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90TGxtVGV4dD8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9MTE1fU1RBUlRFRDpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RMbG1TdGFydGVkPy4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfTExNX1NUT1BQRUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90TGxtU3RvcHBlZD8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQk9UX1RUU19URVhUOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFR0c1RleHQ/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfVFRTX1NUQVJURUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90VHRzU3RhcnRlZD8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQk9UX1RUU19TVE9QUEVEOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFR0c1N0b3BwZWQ/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9MTE1fU0VBUkNIX1JFU1BPTlNFOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdExsbVNlYXJjaFJlc3BvbnNlPy4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90TGxtU2VhcmNoUmVzcG9uc2UsIGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLk1FVFJJQ1M6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuTWV0cmljcywgZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uTWV0cmljcz8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLlNUT1JBR0VfSVRFTV9TVE9SRUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uU3RvcmFnZUl0ZW1TdG9yZWQ/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5TRVJWRVJfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25TZXJ2ZXJNZXNzYWdlPy4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkZjlmYzBjNTdiOWFhZWQ5YyRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2VydmVyTWVzc2FnZSwgZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgbWVzc2FnZSB0byByZWdpc3RlcmVkIGhlbHBlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoZWxwZXIgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9oZWxwZXJzKSlpZiAoaGVscGVyLmdldE1lc3NhZ2VUeXBlcygpLmluY2x1ZGVzKGV2LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWxwZXIuaGFuZGxlTWVzc2FnZShldik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaCkgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uR2VuZXJpY01lc3NhZ2U/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tLS0tIEhlbHBlcnNcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBoZWxwZXIgdG8gdGhlIGNsaWVudFxuICAgICAqIFRoaXMgKG9wdGlvbmFsbHkpIHByb3ZpZGVzIGEgd2F5IHRvIHJlZmVyZW5jZSBoZWxwZXJzIGRpcmVjdGx5XG4gICAgICogZnJvbSB0aGUgY2xpZW50IGFuZCB1c2UgdGhlIGV2ZW50IGRpc3BhdGNoZXJcbiAgICAgKiBAcGFyYW0gc2VydmljZSAtIFRhcmdldCBzZXJ2aWNlIGZvciB0aGlzIGhlbHBlclxuICAgICAqIEBwYXJhbSBoZWxwZXIgLSBIZWxwZXIgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyBSVFZJQ2xpZW50SGVscGVyIC0gUmVnaXN0ZXJlZCBoZWxwZXIgaW5zdGFuY2VcbiAgICAgKi8gcmVnaXN0ZXJIZWxwZXIoc2VydmljZSwgaGVscGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWxwZXJzW3NlcnZpY2VdKSB0aHJvdyBuZXcgRXJyb3IoYEhlbHBlciB3aXRoIG5hbWUgJyR7c2VydmljZX0nIGFscmVhZHkgcmVnaXN0ZXJlZGApO1xuICAgICAgICAvLyBDaGVjayBoZWxwZXIgaXMgaW5zdGFuY2Ugb2YgUlRWSUNsaWVudEhlbHBlclxuICAgICAgICBpZiAoIShoZWxwZXIgaW5zdGFuY2VvZiAoMCwgJDc2MTRmYjIxNjhjNTIzY2MkZXhwb3J0JDIzYmM2MzcyNTViMmE0NzEpKSkgdGhyb3cgbmV3IEVycm9yKGBIZWxwZXIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSVFZJQ2xpZW50SGVscGVyYCk7XG4gICAgICAgIGhlbHBlci5zZXJ2aWNlID0gc2VydmljZTtcbiAgICAgICAgaGVscGVyLmNsaWVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2hlbHBlcnNbc2VydmljZV0gPSBoZWxwZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWxwZXJzW3NlcnZpY2VdO1xuICAgIH1cbiAgICBnZXRIZWxwZXIoc2VydmljZSkge1xuICAgICAgICBjb25zdCBoZWxwZXIgPSB0aGlzLl9oZWxwZXJzW3NlcnZpY2VdO1xuICAgICAgICBpZiAoIWhlbHBlcikge1xuICAgICAgICAgICAgKDAsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKGBIZWxwZXIgdGFyZ2V0aW5nIHNlcnZpY2UgJyR7c2VydmljZX0nIG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVscGVyO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVySGVscGVyKHNlcnZpY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oZWxwZXJzW3NlcnZpY2VdKSByZXR1cm47XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oZWxwZXJzW3NlcnZpY2VdO1xuICAgIH1cbn1cbiRhN2MzMjRhNzMzMDNhZDU1JHZhciRfX2RlY29yYXRlKFtcbiAgICAoMCwgJDE2ZjAxOWQ0ZDE2OTE3ZGYkZXhwb3J0JGYxNTg2NzIxMDI0YzRkYWIpXG5dLCAkYTdjMzI0YTczMzAzYWQ1NSRleHBvcnQkZmE0MmEwMWMxZDYwZjRhMS5wcm90b3R5cGUsIFwiZ2V0Q29uZmlnXCIsIG51bGwpO1xuJGE3YzMyNGE3MzMwM2FkNTUkdmFyJF9fZGVjb3JhdGUoW1xuICAgICgwLCAkMTZmMDE5ZDRkMTY5MTdkZiRleHBvcnQkZjE1ODY3MjEwMjRjNGRhYilcbl0sICRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydCRmYTQyYTAxYzFkNjBmNGExLnByb3RvdHlwZSwgXCJ1cGRhdGVDb25maWdcIiwgbnVsbCk7XG4kYTdjMzI0YTczMzAzYWQ1NSR2YXIkX19kZWNvcmF0ZShbXG4gICAgKDAsICQxNmYwMTlkNGQxNjkxN2RmJGV4cG9ydCRmMTU4NjcyMTAyNGM0ZGFiKVxuXSwgJGE3YzMyNGE3MzMwM2FkNTUkZXhwb3J0JGZhNDJhMDFjMWQ2MGY0YTEucHJvdG90eXBlLCBcImRlc2NyaWJlQ29uZmlnXCIsIG51bGwpO1xuJGE3YzMyNGE3MzMwM2FkNTUkdmFyJF9fZGVjb3JhdGUoW1xuICAgICgwLCAkMTZmMDE5ZDRkMTY5MTdkZiRleHBvcnQkZjE1ODY3MjEwMjRjNGRhYilcbl0sICRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydCRmYTQyYTAxYzFkNjBmNGExLnByb3RvdHlwZSwgXCJkZXNjcmliZUFjdGlvbnNcIiwgbnVsbCk7XG4kYTdjMzI0YTczMzAzYWQ1NSR2YXIkX19kZWNvcmF0ZShbXG4gICAgKDAsICQxNmYwMTlkNGQxNjkxN2RmJGV4cG9ydCQ1YzM1YjRmZTZmYThjOWE2KShcImNvbm5lY3RlZFwiLCBcInJlYWR5XCIpXG5dLCAkYTdjMzI0YTczMzAzYWQ1NSRleHBvcnQkZmE0MmEwMWMxZDYwZjRhMS5wcm90b3R5cGUsIFwidHJhbnNwb3J0RXhwaXJ5XCIsIG51bGwpO1xuJGE3YzMyNGE3MzMwM2FkNTUkdmFyJF9fZGVjb3JhdGUoW1xuICAgICgwLCAkMTZmMDE5ZDRkMTY5MTdkZiRleHBvcnQkZjE1ODY3MjEwMjRjNGRhYilcbl0sICRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydCRmYTQyYTAxYzFkNjBmNGExLnByb3RvdHlwZSwgXCJzZW5kTWVzc2FnZVwiLCBudWxsKTtcbiRhN2MzMjRhNzMzMDNhZDU1JHZhciRfX2RlY29yYXRlKFtcbiAgICAoMCwgJDE2ZjAxOWQ0ZDE2OTE3ZGYkZXhwb3J0JGYxNTg2NzIxMDI0YzRkYWIpXG5dLCAkYTdjMzI0YTczMzAzYWQ1NSRleHBvcnQkZmE0MmEwMWMxZDYwZjRhMS5wcm90b3R5cGUsIFwiZGlzY29ubmVjdEJvdFwiLCBudWxsKTtcblxuXG5cblxuXG52YXIgJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0cyA9IHt9O1xuXG4kcGFyY2VsJGV4cG9ydCgkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnRzLCBcIkxMTU1lc3NhZ2VUeXBlXCIsICgpID0+ICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0NDFiY2QyZTEwNzYyNzYwKTtcbiRwYXJjZWwkZXhwb3J0KCQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydHMsIFwiTExNQWN0aW9uVHlwZVwiLCAoKSA9PiAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkNDNjZGZiMjZmNzkwNDUxKTtcbiRwYXJjZWwkZXhwb3J0KCQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydHMsIFwiTExNSGVscGVyXCIsICgpID0+ICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQzY2YzOWE2MmQwNzZkZDVjKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gXG5cblxuXG52YXIgJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQ0MWJjZDJlMTA3NjI3NjA7XG4oZnVuY3Rpb24oTExNTWVzc2FnZVR5cGUpIHtcbiAgICBMTE1NZXNzYWdlVHlwZVtcIkxMTV9GVU5DVElPTl9DQUxMXCJdID0gXCJsbG0tZnVuY3Rpb24tY2FsbFwiO1xuICAgIExMTU1lc3NhZ2VUeXBlW1wiTExNX0ZVTkNUSU9OX0NBTExfU1RBUlRcIl0gPSBcImxsbS1mdW5jdGlvbi1jYWxsLXN0YXJ0XCI7XG4gICAgTExNTWVzc2FnZVR5cGVbXCJMTE1fRlVOQ1RJT05fQ0FMTF9SRVNVTFRcIl0gPSBcImxsbS1mdW5jdGlvbi1jYWxsLXJlc3VsdFwiO1xuICAgIExMTU1lc3NhZ2VUeXBlW1wiTExNX0pTT05fQ09NUExFVElPTlwiXSA9IFwibGxtLWpzb24tY29tcGxldGlvblwiO1xufSkoJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQ0MWJjZDJlMTA3NjI3NjAgfHwgKCQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0NDFiY2QyZTEwNzYyNzYwID0ge30pKTtcbnZhciAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkNDNjZGZiMjZmNzkwNDUxO1xuKGZ1bmN0aW9uKExMTUFjdGlvblR5cGUpIHtcbiAgICBMTE1BY3Rpb25UeXBlW1wiQVBQRU5EX1RPX01FU1NBR0VTXCJdID0gXCJhcHBlbmRfdG9fbWVzc2FnZXNcIjtcbiAgICBMTE1BY3Rpb25UeXBlW1wiR0VUX0NPTlRFWFRcIl0gPSBcImdldF9jb250ZXh0XCI7XG4gICAgTExNQWN0aW9uVHlwZVtcIlNFVF9DT05URVhUXCJdID0gXCJzZXRfY29udGV4dFwiO1xuICAgIExMTUFjdGlvblR5cGVbXCJSVU5cIl0gPSBcInJ1blwiO1xufSkoJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQzY2RmYjI2Zjc5MDQ1MSB8fCAoJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQzY2RmYjI2Zjc5MDQ1MSA9IHt9KSk7XG5jbGFzcyAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkM2NmMzlhNjJkMDc2ZGQ1YyBleHRlbmRzICgwLCAkNzYxNGZiMjE2OGM1MjNjYyRleHBvcnQkMjNiYzYzNzI1NWIyYTQ3MSkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZnVuY3Rpb25DYWxsQ2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICBnZXRNZXNzYWdlVHlwZXMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKCQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0NDFiY2QyZTEwNzYyNzYwKTtcbiAgICB9XG4gICAgLy8gLS0tIEFjdGlvbnNcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgYm90J3MgY3VycmVudCBMTE0gY29udGV4dC5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPExMTUNvbnRleHQ+XG4gICAgICovIGFzeW5jIGdldENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jbGllbnQuc3RhdGUgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiKFwiZ2V0Q29udGV4dCBjYWxsZWQgd2hpbGUgdHJhbnNwb3J0IG5vdCBpbiByZWFkeSBzdGF0ZVwiKTtcbiAgICAgICAgY29uc3QgYWN0aW9uUmVzcG9uc2VNc2cgPSBhd2FpdCB0aGlzLl9jbGllbnQuYWN0aW9uKHtcbiAgICAgICAgICAgIHNlcnZpY2U6IHRoaXMuX3NlcnZpY2UsXG4gICAgICAgICAgICBhY3Rpb246ICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0M2NkZmIyNmY3OTA0NTEuR0VUX0NPTlRFWFRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhY3Rpb25SZXNwb25zZU1zZy5kYXRhLnJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBib3QncyBMTE0gY29udGV4dC5cbiAgICAgKiBJZiB0aGlzIGlzIGNhbGxlZCB3aGlsZSB0aGUgdHJhbnNwb3J0IGlzIG5vdCBpbiB0aGUgcmVhZHkgc3RhdGUsIHRoZSBsb2NhbCBjb250ZXh0IHdpbGwgYmUgdXBkYXRlZFxuICAgICAqIEBwYXJhbSBjb250ZXh0IExMTUNvbnRleHQgLSBUaGUgbmV3IGNvbnRleHRcbiAgICAgKiBAcGFyYW0gaW50ZXJydXB0IGJvb2xlYW4gLSBXaGV0aGVyIHRvIGludGVycnVwdCB0aGUgYm90LCBvciB3YWl0IHVudGlsIGl0IGhhcyBmaW5pc2hlZCBzcGVha2luZ1xuICAgICAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj5cbiAgICAgKi8gYXN5bmMgc2V0Q29udGV4dChjb250ZXh0LCBpbnRlcnJ1cHQgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5fY2xpZW50LnN0YXRlICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYihcInNldENvbnRleHQgY2FsbGVkIHdoaWxlIHRyYW5zcG9ydCBub3QgaW4gcmVhZHkgc3RhdGVcIik7XG4gICAgICAgIGNvbnN0IGFjdGlvblJlc3BvbnNlID0gYXdhaXQgdGhpcy5fY2xpZW50LmFjdGlvbih7XG4gICAgICAgICAgICBzZXJ2aWNlOiB0aGlzLl9zZXJ2aWNlLFxuICAgICAgICAgICAgYWN0aW9uOiAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkNDNjZGZiMjZmNzkwNDUxLlNFVF9DT05URVhULFxuICAgICAgICAgICAgYXJndW1lbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm1lc3NhZ2VzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb250ZXh0Lm1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaW50ZXJydXB0XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnRlcnJ1cHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gISFhY3Rpb25SZXNwb25zZS5kYXRhLnJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGEgbmV3IG1lc3NhZ2UgdG8gdGhlIExMTSBjb250ZXh0LlxuICAgICAqIElmIHRoaXMgaXMgY2FsbGVkIHdoaWxlIHRoZSB0cmFuc3BvcnQgaXMgbm90IGluIHRoZSByZWFkeSBzdGF0ZSwgdGhlIGxvY2FsIGNvbnRleHQgd2lsbCBiZSB1cGRhdGVkXG4gICAgICogQHBhcmFtIGNvbnRleHQgTExNQ29udGV4dE1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gcnVuSW1tZWRpYXRlbHkgYm9vbGVhbiAtIHdhaXQgdW50aWwgcGlwZWxpbmUgaXMgaWRsZSBiZWZvcmUgcnVubmluZ1xuICAgICAqIEByZXR1cm5zIGJvb2xlYW5cbiAgICAgKi8gYXN5bmMgYXBwZW5kVG9NZXNzYWdlcyhtZXNzYWdlLCBydW5JbW1lZGlhdGVseSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9jbGllbnQuc3RhdGUgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3ICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiKFwic2V0Q29udGV4dCBjYWxsZWQgd2hpbGUgdHJhbnNwb3J0IG5vdCBpbiByZWFkeSBzdGF0ZVwiKTtcbiAgICAgICAgY29uc3QgYWN0aW9uUmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9jbGllbnQuYWN0aW9uKHtcbiAgICAgICAgICAgIHNlcnZpY2U6IHRoaXMuX3NlcnZpY2UsXG4gICAgICAgICAgICBhY3Rpb246ICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0M2NkZmIyNmY3OTA0NTEuQVBQRU5EX1RPX01FU1NBR0VTLFxuICAgICAgICAgICAgYXJndW1lbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm1lc3NhZ2VzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJydW5faW1tZWRpYXRlbHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJ1bkltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICEhYWN0aW9uUmVzcG9uc2UuZGF0YS5yZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgYm90J3MgY3VycmVudCBMTE0gY29udGV4dC5cbiAgICAgKiBVc2VmdWwgd2hlbiBhcHBlbmRpbmcgbWVzc2FnZXMgdG8gdGhlIGNvbnRleHQgd2l0aG91dCBydW5JbW1lZGlhdGVseSBzZXQgdG8gdHJ1ZS5cbiAgICAgKiBXaWxsIGRvIG5vdGhpbmcgaWYgdGhlIGJvdCBpcyBub3QgaW4gdGhlIHJlYWR5IHN0YXRlLlxuICAgICAqIEBwYXJhbSBpbnRlcnJ1cHQgYm9vbGVhbiAtIFdoZXRoZXIgdG8gaW50ZXJydXB0IHRoZSBib3QsIG9yIHdhaXQgdW50aWwgaXQgaGFzIGZpbmlzaGVkIHNwZWFraW5nXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx1bmtub3duPlxuICAgICAqLyBhc3luYyBydW4oaW50ZXJydXB0ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NsaWVudC5zdGF0ZSAhPT0gXCJyZWFkeVwiKSByZXR1cm47XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuYWN0aW9uKHtcbiAgICAgICAgICAgIHNlcnZpY2U6IHRoaXMuX3NlcnZpY2UsXG4gICAgICAgICAgICBhY3Rpb246ICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0M2NkZmIyNmY3OTA0NTEuUlVOLFxuICAgICAgICAgICAgYXJndW1lbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImludGVycnVwdFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW50ZXJydXB0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gLS0tIEhhbmRsZXJzXG4gICAgLyoqXG4gICAgICogSWYgdGhlIExMTSB3YW50cyB0byBjYWxsIGEgZnVuY3Rpb24sIFJUVkkgd2lsbCBpbnZva2UgdGhlIGNhbGxiYWNrIGRlZmluZWRcbiAgICAgKiBoZXJlLiBXaGF0ZXZlciB0aGUgY2FsbGJhY2sgcmV0dXJucyB3aWxsIGJlIHNlbnQgdG8gdGhlIExMTSBhcyB0aGUgZnVuY3Rpb24gcmVzdWx0LlxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi8gaGFuZGxlRnVuY3Rpb25DYWxsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2Z1bmN0aW9uQ2FsbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIGhhbmRsZU1lc3NhZ2UoZXYpIHtcbiAgICAgICAgc3dpdGNoKGV2LnR5cGUpe1xuICAgICAgICAgICAgY2FzZSAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkNDQxYmNkMmUxMDc2Mjc2MC5MTE1fSlNPTl9DT01QTEVUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkxMTUpzb25Db21wbGV0aW9uPy4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5MTE1Kc29uQ29tcGxldGlvbiwgZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0NDFiY2QyZTEwNzYyNzYwLkxMTV9GVU5DVElPTl9DQUxMOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IGV2LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkxMTUZ1bmN0aW9uQ2FsbD8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGllbnQuZW1pdCgoMCwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkxMTUZ1bmN0aW9uQ2FsbCwgZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mdW5jdGlvbkNhbGxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiBkLmZ1bmN0aW9uX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBkLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpZW50LnN0YXRlID09PSBcInJlYWR5XCIpIHRoaXMuX2Z1bmN0aW9uQ2FsbENhbGxiYWNrKGZuKS50aGVuKChyZXN1bHQpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LnNlbmRNZXNzYWdlKG5ldyAoMCwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMikoJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQ0MWJjZDJlMTA3NjI3NjAuTExNX0ZVTkNUSU9OX0NBTExfUkVTVUxULCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uX25hbWU6IGQuZnVuY3Rpb25fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsX2lkOiBkLnRvb2xfY2FsbF9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBkLmFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYihcIkF0dGVtcHRlZCB0byBzZW5kIGEgZnVuY3Rpb24gY2FsbCByZXN1bHQgZnJvbSBib3Qgd2hpbGUgdHJhbnNwb3J0IG5vdCBpbiByZWFkeSBzdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICQwOTA4ZjY5M2UzZTA3MjRjJGV4cG9ydCQ0NDFiY2QyZTEwNzYyNzYwLkxMTV9GVU5DVElPTl9DQUxMX1NUQVJUOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IGV2LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkxMTUZ1bmN0aW9uQ2FsbFN0YXJ0Py4oZS5mdW5jdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LmVtaXQoKDAsICRmOWZjMGM1N2I5YWFlZDljJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5MTE1GdW5jdGlvbkNhbGxTdGFydCwgZS5mdW5jdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5leHBvcnQgeyQ0YmIzNDlmMjJhZWU1MTg1JGV4cG9ydCQ4NzI4YjYwZWE1N2JmNDNlIGFzIGh0dHBBY3Rpb25HZW5lcmF0b3IsICRhN2MzMjRhNzMzMDNhZDU1JGV4cG9ydCRmYTQyYTAxYzFkNjBmNGExIGFzIFJUVklDbGllbnQsICQ4ZWFkN2IzM2I4NDAyNzUxJGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIGFzIFJUVklFcnJvciwgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGM2Nzk5MmZhNjg0YTgxYTYgYXMgQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGU3NTQ0YWI4MTIyMzhhNjEgYXMgU3RhcnRCb3RFcnJvciwgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGUwNjI0YTUxMWEyYzRlOSBhcyBUcmFuc3BvcnRTdGFydEVycm9yLCAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYiBhcyBCb3ROb3RSZWFkeUVycm9yLCAkOGVhZDdiMzNiODQwMjc1MSRleHBvcnQkNGVkYTRmZDI4N2ZiYmNhNSBhcyBDb25maWdVcGRhdGVFcnJvciwgJDhlYWQ3YjMzYjg0MDI3NTEkZXhwb3J0JGJlODM5ZjAxMDBjZDMxMzIgYXMgQWN0aW9uRW5kcG9pbnROb3RTZXRFcnJvciwgJGY5ZmMwYzU3YjlhYWVkOWMkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IgYXMgUlRWSUV2ZW50LCAkNzYxNGZiMjE2OGM1MjNjYyRleHBvcnQkMjNiYzYzNzI1NWIyYTQ3MSBhcyBSVFZJQ2xpZW50SGVscGVyLCAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkNDQxYmNkMmUxMDc2Mjc2MCBhcyBMTE1NZXNzYWdlVHlwZSwgJDA5MDhmNjkzZTNlMDcyNGMkZXhwb3J0JDQzY2RmYjI2Zjc5MDQ1MSBhcyBMTE1BY3Rpb25UeXBlLCAkMDkwOGY2OTNlM2UwNzI0YyRleHBvcnQkM2NmMzlhNjJkMDc2ZGQ1YyBhcyBMTE1IZWxwZXIsICQ3YWZiYmQ1OWViYWE0MmJmJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkIGFzIExvZ0xldmVsLCAkN2FmYmJkNTllYmFhNDJiZiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxIGFzIGxvZ2dlciwgJGI0OGY4OTNlZDEzNTRjMWUkZXhwb3J0JDg4MmIxM2M3ZmRhMzM4ZjUgYXMgUlRWSV9NRVNTQUdFX0xBQkVMLCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCBhcyBSVFZJTWVzc2FnZVR5cGUsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIgYXMgUlRWSU1lc3NhZ2UsICRiNDhmODkzZWQxMzU0YzFlJGV4cG9ydCQzNzg1MjlkN2E4YmVhZDhiIGFzIFJUVklBY3Rpb25SZXF1ZXN0LCAkYjQ4Zjg5M2VkMTM1NGMxZSRleHBvcnQkZTlhOTYwNjQ2Y2M0MzJhYSBhcyBNZXNzYWdlRGlzcGF0Y2hlciwgJDQwODZmMDY0NDJmY2I3ZDckZXhwb3J0JDg2NDk1YjA4MWZlZjhlNTIgYXMgVHJhbnNwb3J0LCAkNDA4NmYwNjQ0MmZjYjdkNyRleHBvcnQkODJiNmVkZTE2MGE2NGEzYyBhcyBUcmFuc3BvcnRXcmFwcGVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@pipecat-ai/client-js/dist/index.module.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@pipecat-ai/websocket-transport/dist/index.module.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@pipecat-ai/websocket-transport/dist/index.module.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DailyMediaManager: function() { return /* binding */ $22ece045290c996a$export$c95c65abc5f47125; },\n/* harmony export */   ProtobufFrameSerializer: function() { return /* binding */ $a6c080dc51c9687f$export$4b2026f8e11b148a; },\n/* harmony export */   TwilioSerializer: function() { return /* binding */ $5b926fa33e35e45c$export$44a8a077420336af; },\n/* harmony export */   WavMediaManager: function() { return /* binding */ $fc49a56cd8739127$export$45c5b9bfba2f6304; },\n/* harmony export */   WebSocketTransport: function() { return /* binding */ $7f42eda74f1b1632$export$de21836fc42c6f9c; }\n/* harmony export */ });\n/* harmony import */ var _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @daily-co/daily-js */ \"(app-pages-browser)/./node_modules/@daily-co/daily-js/dist/daily-esm.js\");\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(app-pages-browser)/./node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\");\n/* harmony import */ var x_law__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! x-law */ \"(app-pages-browser)/./node_modules/x-law/dist/index.js\");\n\n\n\n\n\n\n// export * from \"./realTimeWebSocketTransport\";\n// export * from \"../../../lib/wavtools/dist/index.d.ts\";\n/**\n * Raw wav audio file contents\n * @typedef {Object} WavPackerAudioType\n * @property {Blob} blob\n * @property {string} url\n * @property {number} channelCount\n * @property {number} sampleRate\n * @property {number} duration\n */ /**\n * Utility class for assembling PCM16 \"audio/wav\" data\n * @class\n */ class $6d4b7449a1e1544a$export$13afda237b1c9846 {\n    /**\n   * Converts Float32Array of amplitude data to ArrayBuffer in Int16Array format\n   * @param {Float32Array} float32Array\n   * @returns {ArrayBuffer}\n   */ static floatTo16BitPCM(float32Array) {\n        const buffer = new ArrayBuffer(float32Array.length * 2);\n        const view = new DataView(buffer);\n        let offset = 0;\n        for(let i = 0; i < float32Array.length; i++, offset += 2){\n            let s = Math.max(-1, Math.min(1, float32Array[i]));\n            view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n        }\n        return buffer;\n    }\n    /**\n   * Concatenates two ArrayBuffers\n   * @param {ArrayBuffer} leftBuffer\n   * @param {ArrayBuffer} rightBuffer\n   * @returns {ArrayBuffer}\n   */ static mergeBuffers(leftBuffer, rightBuffer) {\n        const tmpArray = new Uint8Array(leftBuffer.byteLength + rightBuffer.byteLength);\n        tmpArray.set(new Uint8Array(leftBuffer), 0);\n        tmpArray.set(new Uint8Array(rightBuffer), leftBuffer.byteLength);\n        return tmpArray.buffer;\n    }\n    /**\n   * Packs data into an Int16 format\n   * @private\n   * @param {number} size 0 = 1x Int16, 1 = 2x Int16\n   * @param {number} arg value to pack\n   * @returns\n   */ _packData(size, arg) {\n        return [\n            new Uint8Array([\n                arg,\n                arg >> 8\n            ]),\n            new Uint8Array([\n                arg,\n                arg >> 8,\n                arg >> 16,\n                arg >> 24\n            ])\n        ][size];\n    }\n    /**\n   * Packs audio into \"audio/wav\" Blob\n   * @param {number} sampleRate\n   * @param {{bitsPerSample: number, channels: Array<Float32Array>, data: Int16Array}} audio\n   * @returns {WavPackerAudioType}\n   */ pack(sampleRate, audio) {\n        if (!audio?.bitsPerSample) throw new Error(`Missing \"bitsPerSample\"`);\n        else if (!audio?.channels) throw new Error(`Missing \"channels\"`);\n        else if (!audio?.data) throw new Error(`Missing \"data\"`);\n        const { bitsPerSample: bitsPerSample, channels: channels, data: data } = audio;\n        const output = [\n            // Header\n            'RIFF',\n            this._packData(1, 52),\n            'WAVE',\n            // chunk 1\n            'fmt ',\n            this._packData(1, 16),\n            this._packData(0, 1),\n            this._packData(0, channels.length),\n            this._packData(1, sampleRate),\n            this._packData(1, sampleRate * channels.length * bitsPerSample / 8),\n            this._packData(0, channels.length * bitsPerSample / 8),\n            this._packData(0, bitsPerSample),\n            // chunk 2\n            'data',\n            this._packData(1, channels[0].length * channels.length * bitsPerSample / 8),\n            data\n        ];\n        const blob = new Blob(output, {\n            type: 'audio/mpeg'\n        });\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            channelCount: channels.length,\n            sampleRate: sampleRate,\n            duration: data.byteLength / (channels.length * sampleRate * 2)\n        };\n    }\n}\nglobalThis.WavPacker = $6d4b7449a1e1544a$export$13afda237b1c9846;\n\n\n/**\n * Constants for help with visualization\n * Helps map frequency ranges from Fast Fourier Transform\n * to human-interpretable ranges, notably music ranges and\n * human vocal ranges.\n */ // Eighth octave frequencies\nconst $03f71ce85e00ada6$var$octave8Frequencies = [\n    4186.01,\n    4434.92,\n    4698.63,\n    4978.03,\n    5274.04,\n    5587.65,\n    5919.91,\n    6271.93,\n    6644.88,\n    7040.0,\n    7458.62,\n    7902.13\n];\n// Labels for each of the above frequencies\nconst $03f71ce85e00ada6$var$octave8FrequencyLabels = [\n    'C',\n    'C#',\n    'D',\n    'D#',\n    'E',\n    'F',\n    'F#',\n    'G',\n    'G#',\n    'A',\n    'A#',\n    'B'\n];\nconst $03f71ce85e00ada6$export$776c63898ae5b636 = [];\nconst $03f71ce85e00ada6$export$facd167cc27ea9b0 = [];\nfor(let i = 1; i <= 8; i++)for(let f = 0; f < $03f71ce85e00ada6$var$octave8Frequencies.length; f++){\n    const freq = $03f71ce85e00ada6$var$octave8Frequencies[f];\n    $03f71ce85e00ada6$export$776c63898ae5b636.push(freq / Math.pow(2, 8 - i));\n    $03f71ce85e00ada6$export$facd167cc27ea9b0.push($03f71ce85e00ada6$var$octave8FrequencyLabels[f] + i);\n}\n/**\n * Subset of the note frequencies between 32 and 2000 Hz\n * 6 octave range: C1 to B6\n */ const $03f71ce85e00ada6$var$voiceFrequencyRange = [\n    32.0,\n    2000.0\n];\nconst $03f71ce85e00ada6$export$dbc1581ed2cfa183 = $03f71ce85e00ada6$export$776c63898ae5b636.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\nconst $03f71ce85e00ada6$export$30a6f2881311088f = $03f71ce85e00ada6$export$facd167cc27ea9b0.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\n\n\nclass $f32f064564ee62f6$export$2c3136da0bf130f9 {\n    /**\n   * Retrieves frequency domain data from an AnalyserNode adjusted to a decibel range\n   * returns human-readable formatting and labels\n   * @param {AnalyserNode} analyser\n   * @param {number} sampleRate\n   * @param {Float32Array} [fftResult]\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ static getFrequencies(analyser, sampleRate, fftResult, analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!fftResult) {\n            fftResult = new Float32Array(analyser.frequencyBinCount);\n            analyser.getFloatFrequencyData(fftResult);\n        }\n        const nyquistFrequency = sampleRate / 2;\n        const frequencyStep = 1 / fftResult.length * nyquistFrequency;\n        let outputValues;\n        let frequencies;\n        let labels;\n        if (analysisType === 'music' || analysisType === 'voice') {\n            const useFrequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            const aggregateOutput = Array(useFrequencies.length).fill(minDecibels);\n            for(let i = 0; i < fftResult.length; i++){\n                const frequency = i * frequencyStep;\n                const amplitude = fftResult[i];\n                for(let n = useFrequencies.length - 1; n >= 0; n--)if (frequency > useFrequencies[n]) {\n                    aggregateOutput[n] = Math.max(aggregateOutput[n], amplitude);\n                    break;\n                }\n            }\n            outputValues = aggregateOutput;\n            frequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            labels = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$30a6f2881311088f) : (0, $03f71ce85e00ada6$export$facd167cc27ea9b0);\n        } else {\n            outputValues = Array.from(fftResult);\n            frequencies = outputValues.map((_, i)=>frequencyStep * i);\n            labels = frequencies.map((f)=>`${f.toFixed(2)} Hz`);\n        }\n        // We normalize to {0, 1}\n        const normalizedOutput = outputValues.map((v)=>{\n            return Math.max(0, Math.min((v - minDecibels) / (maxDecibels - minDecibels), 1));\n        });\n        const values = new Float32Array(normalizedOutput);\n        return {\n            values: values,\n            frequencies: frequencies,\n            labels: labels\n        };\n    }\n    /**\n   * Creates a new AudioAnalysis instance for an HTMLAudioElement\n   * @param {HTMLAudioElement} audioElement\n   * @param {AudioBuffer|null} [audioBuffer] If provided, will cache all frequency domain data from the buffer\n   * @returns {AudioAnalysis}\n   */ constructor(audioElement, audioBuffer = null){\n        this.fftResults = [];\n        if (audioBuffer) {\n            /**\n       * Modified from\n       * https://stackoverflow.com/questions/75063715/using-the-web-audio-api-to-analyze-a-song-without-playing\n       *\n       * We do this to populate FFT values for the audio if provided an `audioBuffer`\n       * The reason to do this is that Safari fails when using `createMediaElementSource`\n       * This has a non-zero RAM cost so we only opt-in to run it on Safari, Chrome is better\n       */ const { length: length, sampleRate: sampleRate } = audioBuffer;\n            const offlineAudioContext = new OfflineAudioContext({\n                length: length,\n                sampleRate: sampleRate\n            });\n            const source = offlineAudioContext.createBufferSource();\n            source.buffer = audioBuffer;\n            const analyser = offlineAudioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            source.connect(analyser);\n            // limit is :: 128 / sampleRate;\n            // but we just want 60fps - cuts ~1s from 6MB to 1MB of RAM\n            const renderQuantumInSeconds = 1 / 60;\n            const durationInSeconds = length / sampleRate;\n            const analyze = (index)=>{\n                const suspendTime = renderQuantumInSeconds * index;\n                if (suspendTime < durationInSeconds) offlineAudioContext.suspend(suspendTime).then(()=>{\n                    const fftResult = new Float32Array(analyser.frequencyBinCount);\n                    analyser.getFloatFrequencyData(fftResult);\n                    this.fftResults.push(fftResult);\n                    analyze(index + 1);\n                });\n                if (index === 1) offlineAudioContext.startRendering();\n                else offlineAudioContext.resume();\n            };\n            source.start(0);\n            analyze(1);\n            this.audio = audioElement;\n            this.context = offlineAudioContext;\n            this.analyser = analyser;\n            this.sampleRate = sampleRate;\n            this.audioBuffer = audioBuffer;\n        } else {\n            const audioContext = new AudioContext();\n            const track = audioContext.createMediaElementSource(audioElement);\n            const analyser = audioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            track.connect(analyser);\n            analyser.connect(audioContext.destination);\n            this.audio = audioElement;\n            this.context = audioContext;\n            this.analyser = analyser;\n            this.sampleRate = this.context.sampleRate;\n            this.audioBuffer = null;\n        }\n    }\n    /**\n   * Gets the current frequency domain data from the playing audio track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        let fftResult = null;\n        if (this.audioBuffer && this.fftResults.length) {\n            const pct = this.audio.currentTime / this.audio.duration;\n            const index = Math.min(pct * this.fftResults.length | 0, this.fftResults.length - 1);\n            fftResult = this.fftResults[index];\n        }\n        return $f32f064564ee62f6$export$2c3136da0bf130f9.getFrequencies(this.analyser, this.sampleRate, fftResult, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Resume the internal AudioContext if it was suspended due to the lack of\n   * user interaction when the AudioAnalysis was instantiated.\n   * @returns {Promise<true>}\n   */ async resumeIfSuspended() {\n        if (this.context.state === 'suspended') await this.context.resume();\n        return true;\n    }\n}\nglobalThis.AudioAnalysis = $f32f064564ee62f6$export$2c3136da0bf130f9;\n\n\nconst $29a8a70a9466b14f$export$50b76700e2b15e9 = `\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };\n    this.writeOffset = 0;\n    this.trackSampleOffsets = {};\n    this.port.onmessage = (event) => {\n      if (event.data) {\n        const payload = event.data;\n        if (payload.event === 'write') {\n          const int16Array = payload.buffer;\n          const float32Array = new Float32Array(int16Array.length);\n          for (let i = 0; i < int16Array.length; i++) {\n            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n          }\n          this.writeData(float32Array, payload.trackId);\n        } else if (\n          payload.event === 'offset' ||\n          payload.event === 'interrupt'\n        ) {\n          const requestId = payload.requestId;\n          const trackId = this.write.trackId;\n          const offset = this.trackSampleOffsets[trackId] || 0;\n          this.port.postMessage({\n            event: 'offset',\n            requestId,\n            trackId,\n            offset,\n          });\n          if (payload.event === 'interrupt') {\n            this.hasInterrupted = true;\n          }\n        } else {\n          throw new Error(\\`Unhandled event \"\\${payload.event}\"\\`);\n        }\n      }\n    };\n  }\n\n  writeData(float32Array, trackId = null) {\n    let { buffer } = this.write;\n    let offset = this.writeOffset;\n    for (let i = 0; i < float32Array.length; i++) {\n      buffer[offset++] = float32Array[i];\n      if (offset >= buffer.length) {\n        this.outputBuffers.push(this.write);\n        this.write = { buffer: new Float32Array(this.bufferLength), trackId };\n        buffer = this.write.buffer;\n        offset = 0;\n      }\n    }\n    this.writeOffset = offset;\n    return true;\n  }\n\n  process(inputs, outputs, parameters) {\n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else if (outputBuffers.length) {\n      this.hasStarted = true;\n      const { buffer, trackId } = outputBuffers.shift();\n      for (let i = 0; i < outputChannelData.length; i++) {\n        outputChannelData[i] = buffer[i] || 0;\n      }\n      if (trackId) {\n        this.trackSampleOffsets[trackId] =\n          this.trackSampleOffsets[trackId] || 0;\n        this.trackSampleOffsets[trackId] += buffer.length;\n      }\n      return true;\n    } else if (this.hasStarted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n`;\nconst $29a8a70a9466b14f$var$script = new Blob([\n    $29a8a70a9466b14f$export$50b76700e2b15e9\n], {\n    type: 'application/javascript'\n});\nconst $29a8a70a9466b14f$var$src = URL.createObjectURL($29a8a70a9466b14f$var$script);\nconst $29a8a70a9466b14f$export$bfa8c596114d74df = $29a8a70a9466b14f$var$src;\n\n\n\nclass $d0a969833958d9e7$export$9698d62c78b8f366 {\n    /**\n   * Creates a new WavStreamPlayer instance\n   * @param {{sampleRate?: number}} options\n   * @returns {WavStreamPlayer}\n   */ constructor({ sampleRate: sampleRate = 44100 } = {}){\n        this.scriptSrc = (0, $29a8a70a9466b14f$export$bfa8c596114d74df);\n        this.sampleRate = sampleRate;\n        this.context = null;\n        this.stream = null;\n        this.analyser = null;\n        this.trackSampleOffsets = {};\n        this.interruptedTrackIds = {};\n    }\n    /**\n   * Connects the audio context and enables output to speakers\n   * @returns {Promise<true>}\n   */ async connect() {\n        this.context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        if (this._speakerID) this.context.setSinkId(this._speakerID);\n        if (this.context.state === \"suspended\") await this.context.resume();\n        try {\n            await this.context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const analyser = this.context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        this.analyser = analyser;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the playing track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.analyser) throw new Error(\"Not connected, please call .connect() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * @param {string} speaker deviceId\n   */ async updateSpeaker(speaker) {\n        const _prevSpeaker = this._speakerID;\n        this._speakerID = speaker;\n        if (this.context) try {\n            if (speaker === \"default\") await this.context.setSinkId();\n            else await this.context.setSinkId(speaker);\n        } catch (e) {\n            console.error(`Could not set sinkId to ${speaker}: ${e}`);\n            this._speakerID = _prevSpeaker;\n        }\n    }\n    /**\n   * Starts audio streaming\n   * @private\n   * @returns {Promise<true>}\n   */ _start() {\n        const streamNode = new AudioWorkletNode(this.context, \"stream_processor\");\n        streamNode.connect(this.context.destination);\n        streamNode.port.onmessage = (e)=>{\n            const { event: event } = e.data;\n            if (event === \"stop\") {\n                streamNode.disconnect();\n                this.stream = null;\n            } else if (event === \"offset\") {\n                const { requestId: requestId, trackId: trackId, offset: offset } = e.data;\n                const currentTime = offset / this.sampleRate;\n                this.trackSampleOffsets[requestId] = {\n                    trackId: trackId,\n                    offset: offset,\n                    currentTime: currentTime\n                };\n            }\n        };\n        this.analyser.disconnect();\n        streamNode.connect(this.analyser);\n        this.stream = streamNode;\n        return true;\n    }\n    /**\n   * Adds 16BitPCM data to the currently playing audio stream\n   * You can add chunks beyond the current play point and they will be queued for play\n   * @param {ArrayBuffer|Int16Array} arrayBuffer\n   * @param {string} [trackId]\n   * @returns {Int16Array}\n   */ add16BitPCM(arrayBuffer, trackId = \"default\") {\n        if (typeof trackId !== \"string\") throw new Error(`trackId must be a string`);\n        else if (this.interruptedTrackIds[trackId]) return;\n        if (!this.stream) this._start();\n        let buffer;\n        if (arrayBuffer instanceof Int16Array) buffer = arrayBuffer;\n        else if (arrayBuffer instanceof ArrayBuffer) buffer = new Int16Array(arrayBuffer);\n        else throw new Error(`argument must be Int16Array or ArrayBuffer`);\n        this.stream.port.postMessage({\n            event: \"write\",\n            buffer: buffer,\n            trackId: trackId\n        });\n        return buffer;\n    }\n    /**\n   * Gets the offset (sample count) of the currently playing stream\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async getTrackSampleOffset(interrupt = false) {\n        if (!this.stream) return null;\n        const requestId = crypto.randomUUID();\n        this.stream.port.postMessage({\n            event: interrupt ? \"interrupt\" : \"offset\",\n            requestId: requestId\n        });\n        let trackSampleOffset;\n        while(!trackSampleOffset){\n            trackSampleOffset = this.trackSampleOffsets[requestId];\n            await new Promise((r)=>setTimeout(()=>r(), 1));\n        }\n        const { trackId: trackId } = trackSampleOffset;\n        if (interrupt && trackId) this.interruptedTrackIds[trackId] = true;\n        return trackSampleOffset;\n    }\n    /**\n   * Strips the current stream and returns the sample offset of the audio\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async interrupt() {\n        return this.getTrackSampleOffset(true);\n    }\n}\nglobalThis.WavStreamPlayer = $d0a969833958d9e7$export$9698d62c78b8f366;\n\n\nconst $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet = `\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          \\`Channel \\${channel} out of range: max \\${chunks[0].length}\\`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        return sum + chunk[n].length;\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n]);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    return {\n      meanValues: meanValues,\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n      },\n    };\n  }\n\n  receive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n    });\n  }\n\n  process(inputList, outputList, parameters) {\n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the \\`process\\`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n`;\nconst $8e1d1e6ff08f6fb5$var$script = new Blob([\n    $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet\n], {\n    type: 'application/javascript'\n});\nconst $8e1d1e6ff08f6fb5$var$src = URL.createObjectURL($8e1d1e6ff08f6fb5$var$script);\nconst $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c = $8e1d1e6ff08f6fb5$var$src;\n\n\n\n\nclass $62bc376044a05513$export$439b217ca659a877 {\n    /**\n   * Create a new WavRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {WavRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        this._deviceChangeCallback = null;\n        this._devices = [];\n        this.deviceSelection = null;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Decodes audio data from multiple formats to a Blob, url, Float32Array and AudioBuffer\n   * @param {Blob|Float32Array|Int16Array|ArrayBuffer|number[]} audioData\n   * @param {number} sampleRate\n   * @param {number} fromSampleRate\n   * @returns {Promise<DecodedAudioType>}\n   */ static async decode(audioData, sampleRate = 44100, fromSampleRate = -1) {\n        const context = new AudioContext({\n            sampleRate: sampleRate\n        });\n        let arrayBuffer;\n        let blob;\n        if (audioData instanceof Blob) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from Blob`);\n            blob = audioData;\n            arrayBuffer = await blob.arrayBuffer();\n        } else if (audioData instanceof ArrayBuffer) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from ArrayBuffer`);\n            arrayBuffer = audioData;\n            blob = new Blob([\n                arrayBuffer\n            ], {\n                type: 'audio/wav'\n            });\n        } else {\n            let float32Array;\n            let data;\n            if (audioData instanceof Int16Array) {\n                data = audioData;\n                float32Array = new Float32Array(audioData.length);\n                for(let i = 0; i < audioData.length; i++)float32Array[i] = audioData[i] / 0x8000;\n            } else if (audioData instanceof Float32Array) float32Array = audioData;\n            else if (audioData instanceof Array) float32Array = new Float32Array(audioData);\n            else throw new Error(`\"audioData\" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>`);\n            if (fromSampleRate === -1) throw new Error(`Must specify \"fromSampleRate\" when reading from Float32Array, In16Array or Array`);\n            else if (fromSampleRate < 3000) throw new Error(`Minimum \"fromSampleRate\" is 3000 (3kHz)`);\n            if (!data) data = (0, $6d4b7449a1e1544a$export$13afda237b1c9846).floatTo16BitPCM(float32Array);\n            const audio = {\n                bitsPerSample: 16,\n                channels: [\n                    float32Array\n                ],\n                data: data\n            };\n            const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n            const result = packer.pack(fromSampleRate, audio);\n            blob = result.blob;\n            arrayBuffer = await blob.arrayBuffer();\n        }\n        const audioBuffer = await context.decodeAudioData(arrayBuffer);\n        const values = audioBuffer.getChannelData(0);\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            values: values,\n            audioBuffer: audioBuffer\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return 'ended';\n        else if (!this.recording) return 'paused';\n        else return 'recording';\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error('Can not send events without recording first');\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Sets device change callback, remove if callback provided is `null`\n   * @param {(Array<MediaDeviceInfo & {default: boolean}>): void|null} callback\n   * @returns {true}\n   */ listenForDeviceChange(callback) {\n        if (callback === null && this._deviceChangeCallback) {\n            navigator.mediaDevices.removeEventListener('devicechange', this._deviceChangeCallback);\n            this._deviceChangeCallback = null;\n        } else if (callback !== null) {\n            // Basically a debounce; we only want this called once when devices change\n            // And we only want the most recent callback() to be executed\n            // if a few are operating at the same time\n            let lastId = 0;\n            let lastDevices = [];\n            const serializeDevices = (devices)=>devices.map((d)=>d.deviceId).sort().join(',');\n            const cb = async ()=>{\n                let id = ++lastId;\n                const devices = await this.listDevices();\n                if (id === lastId) {\n                    if (serializeDevices(lastDevices) !== serializeDevices(devices)) {\n                        lastDevices = devices;\n                        callback(devices.slice());\n                    }\n                }\n            };\n            navigator.mediaDevices.addEventListener('devicechange', cb);\n            cb();\n            this._deviceChangeCallback = cb;\n        }\n        return true;\n    }\n    /**\n   * Manually request permission to use the microphone\n   * @returns {Promise<true>}\n   */ async requestPermission() {\n        const permissionStatus = await navigator.permissions.query({\n            name: 'microphone'\n        });\n        if (permissionStatus.state === 'denied') window.alert('You must grant microphone access to use this feature.');\n        else if (permissionStatus.state === 'prompt') try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            const tracks = stream.getTracks();\n            tracks.forEach((track)=>track.stop());\n        } catch (e) {\n            window.alert('You must grant microphone access to use this feature.');\n        }\n        return true;\n    }\n    /**\n   * List all eligible devices for recording, will request permission to use microphone\n   * @returns {Promise<Array<MediaDeviceInfo & {default: boolean}>>}\n   */ async listDevices() {\n        if (!navigator.mediaDevices || !('enumerateDevices' in navigator.mediaDevices)) throw new Error('Could not request user devices');\n        await this.requestPermission();\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const audioDevices = devices.filter((device)=>device.kind === 'audioinput');\n        return audioDevices;\n    // const defaultDeviceIndex = audioDevices.findIndex(\n    //   (device) => device.deviceId === 'default'\n    // );\n    // const deviceList = [];\n    // if (defaultDeviceIndex !== -1) {\n    //   let defaultDevice = audioDevices.splice(defaultDeviceIndex, 1)[0];\n    //   let existingIndex = audioDevices.findIndex(\n    //     (device) => device.groupId === defaultDevice.groupId\n    //   );\n    //   if (existingIndex !== -1) {\n    //     defaultDevice = audioDevices.splice(existingIndex, 1)[0];\n    //   }\n    //   defaultDevice.default = true;\n    //   deviceList.push(defaultDevice);\n    // }\n    // return deviceList.concat(audioDevices);\n    }\n    /**\n   * Begins a recording session and requests microphone permissions if not already granted\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {string} [deviceId] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(deviceId) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!navigator.mediaDevices || !('getUserMedia' in navigator.mediaDevices)) throw new Error('Could not request user media');\n        deviceId = deviceId ?? this.deviceSelection?.deviceId;\n        try {\n            const config = {\n                audio: true\n            };\n            if (deviceId) config.audio = {\n                deviceId: {\n                    exact: deviceId\n                }\n            };\n            this.stream = await navigator.mediaDevices.getUserMedia(config);\n        } catch (err) {\n            throw new Error('Could not start media stream');\n        }\n        this.listDevices().then((devices)=>{\n            deviceId = this.stream.getAudioTracks()[0].getSettings().deviceId;\n            console.log('find current device', devices, deviceId, this.stream.getAudioTracks()[0].getSettings());\n            this.deviceSelection = devices.find((d)=>d.deviceId === deviceId);\n            console.log('current device', this.deviceSelection);\n        });\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, 'audio_processor');\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === 'receipt') this.eventReceipts[id] = data;\n            else if (event === 'chunk') {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        console.log('begin completed');\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (!this.recording) throw new Error('Already paused: please call .record() first');\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log('Pausing ...');\n        await this._event('stop');\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (this.recording) throw new Error('Already recording: please call .pause() first');\n        else if (typeof chunkProcessor !== 'function') throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log('Recording ...');\n        await this._event('start');\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        await this._event('clear');\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        this.log('Reading ...');\n        const result = await this._event('read');\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        if (!force && this.recording) throw new Error('Currently recording: please call .pause() first, or call .save(true) to force');\n        this.log('Exporting ...');\n        const exportData = await this._event('export');\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        const _processor = this.processor;\n        this.log('Stopping ...');\n        await this._event('stop');\n        this.recording = false;\n        const tracks = this.stream.getTracks();\n        tracks.forEach((track)=>track.stop());\n        this.log('Exporting ...');\n        const exportData = await this._event('export', {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        // we do not reset this on end so that selections persist across starts\n        this.deviceSelection = null;\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = $62bc376044a05513$export$439b217ca659a877;\n\n\n\n\n\nclass $5fc11d7bc0d20724$export$2934cf2d25c67a48 {\n    /**\n   * Create a new MediaStreamRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {MediaStreamRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return \"ended\";\n        else if (!this.recording) return \"paused\";\n        else return \"recording\";\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error(\"Can not send events without recording first\");\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Begins a recording session for the given audioTrack\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {MediaStreamTrack} [audioTrack] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(audioTrack) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!audioTrack || audioTrack.kind !== \"audio\") throw new Error(\"No audio track provided\");\n        this.stream = new MediaStream([\n            audioTrack\n        ]);\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, \"audio_processor\");\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === \"receipt\") this.eventReceipts[id] = data;\n            else if (event === \"chunk\") {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (!this.recording) throw new Error(\"Already paused: please call .record() first\");\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log(\"Pausing ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (this.recording) throw new Error(\"Already recording: HELLO please call .pause() first\");\n        else if (typeof chunkProcessor !== \"function\") throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log(\"Recording ...\");\n        await this._event(\"start\");\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        await this._event(\"clear\");\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        this.log(\"Reading ...\");\n        const result = await this._event(\"read\");\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        if (!force && this.recording) throw new Error(\"Currently recording: please call .pause() first, or call .save(true) to force\");\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\");\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        const _processor = this.processor;\n        this.log(\"Stopping ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\", {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = WavRecorder;\n\n\n\n\nvar $fc49a56cd8739127$var$__extends =  false || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $fc49a56cd8739127$var$__awaiter =  false || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $fc49a56cd8739127$var$__generator =  false || function(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar $fc49a56cd8739127$export$4a0c46dbbe2ddb67 = /** @class */ function() {\n    function MediaManager() {\n        this._callbacks = {};\n        this._micEnabled = true;\n        this._camEnabled = false;\n    }\n    MediaManager.prototype.setUserAudioCallback = function(userAudioCallback) {\n        this._userAudioCallback = userAudioCallback;\n    };\n    MediaManager.prototype.setRTVIOptions = function(options, override) {\n        var _a, _b, _c;\n        if (override === void 0) override = false;\n        if (this._options && !override) return;\n        this._options = options;\n        this._callbacks = (_a = options.callbacks) !== null && _a !== void 0 ? _a : {};\n        this._micEnabled = (_b = options.enableMic) !== null && _b !== void 0 ? _b : true;\n        this._camEnabled = (_c = options.enableCam) !== null && _c !== void 0 ? _c : false;\n    };\n    return MediaManager;\n}();\nvar $fc49a56cd8739127$export$45c5b9bfba2f6304 = /** @class */ function(_super) {\n    $fc49a56cd8739127$var$__extends(WavMediaManager, _super);\n    function WavMediaManager(recorderChunkSize, recorderSampleRate) {\n        if (recorderChunkSize === void 0) recorderChunkSize = undefined;\n        if (recorderSampleRate === void 0) recorderSampleRate = 24000;\n        var _this = _super.call(this) || this;\n        _this._initialized = false;\n        _this._recorderChunkSize = undefined;\n        _this._recorderChunkSize = recorderChunkSize;\n        _this._wavRecorder = new (0, $62bc376044a05513$export$439b217ca659a877)({\n            sampleRate: recorderSampleRate\n        });\n        _this._wavStreamPlayer = new (0, $d0a969833958d9e7$export$9698d62c78b8f366)({\n            sampleRate: 24000\n        });\n        return _this;\n    }\n    WavMediaManager.prototype.initialize = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.begin()\n                        ];\n                    case 1:\n                        _a.sent();\n                        this._wavRecorder.listenForDeviceChange(null);\n                        this._wavRecorder.listenForDeviceChange(this._handleAvailableDevicesUpdated.bind(this));\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.connect()\n                        ];\n                    case 2:\n                        _a.sent();\n                        this._initialized = true;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.connect = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var isAlreadyRecording;\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        if (!!this._initialized) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this.initialize()\n                        ];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        isAlreadyRecording = this._wavRecorder.getStatus() == \"recording\";\n                        if (!(this._micEnabled && !isAlreadyRecording)) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.disconnect = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        if (!this._initialized) return [\n                            2 /*return*/ \n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.end()\n                        ];\n                    case 1:\n                        _a.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.interrupt()\n                        ];\n                    case 2:\n                        _a.sent();\n                        this._initialized = false;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.userStartedSpeaking = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                return [\n                    2 /*return*/ ,\n                    this._wavStreamPlayer.interrupt()\n                ];\n            });\n        });\n    };\n    WavMediaManager.prototype.bufferBotAudio = function(data, id) {\n        return this._wavStreamPlayer.add16BitPCM(data, id);\n    };\n    WavMediaManager.prototype.getAllMics = function() {\n        return this._wavRecorder.listDevices();\n    };\n    WavMediaManager.prototype.getAllCams = function() {\n        // TODO: Video not supported yet\n        return Promise.resolve([]);\n    };\n    WavMediaManager.prototype.getAllSpeakers = function() {\n        // TODO: Implement speaker support\n        return Promise.resolve([]);\n    };\n    WavMediaManager.prototype.updateMic = function(micId) {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var prevMic, curMic;\n            var _a, _b;\n            return $fc49a56cd8739127$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        prevMic = this._wavRecorder.deviceSelection;\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.end()\n                        ];\n                    case 1:\n                        _c.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.begin(micId)\n                        ];\n                    case 2:\n                        _c.sent();\n                        if (!this._micEnabled) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 3:\n                        _c.sent();\n                        _c.label = 4;\n                    case 4:\n                        curMic = this._wavRecorder.deviceSelection;\n                        if (curMic && prevMic && prevMic.label !== curMic.label) (_b = (_a = this._callbacks).onMicUpdated) === null || _b === void 0 || _b.call(_a, curMic);\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.updateCam = function(camId) {\n    // TODO: Video not supported yet\n    };\n    WavMediaManager.prototype.updateSpeaker = function(speakerId) {\n    // TODO: Implement speaker support\n    };\n    Object.defineProperty(WavMediaManager.prototype, \"selectedMic\", {\n        get: function() {\n            var _a;\n            return (_a = this._wavRecorder.deviceSelection) !== null && _a !== void 0 ? _a : {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"selectedCam\", {\n        get: function() {\n            // TODO: Video not supported yet\n            return {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"selectedSpeaker\", {\n        get: function() {\n            // TODO: Implement speaker support\n            return {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WavMediaManager.prototype.enableMic = function(enable) {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var _this = this;\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        this._micEnabled = enable;\n                        if (!this._wavRecorder.stream) return [\n                            2 /*return*/ \n                        ];\n                        this._wavRecorder.stream.getAudioTracks().forEach(function(track) {\n                            var _a, _b;\n                            track.enabled = enable;\n                            if (!enable) (_b = (_a = _this._callbacks).onTrackStopped) === null || _b === void 0 || _b.call(_a, track, $fc49a56cd8739127$var$localParticipant());\n                        });\n                        if (!enable) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 1:\n                        _a.sent();\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 2:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.pause()\n                        ];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.enableCam = function(enable) {\n    // TODO: Video not supported yet\n    };\n    Object.defineProperty(WavMediaManager.prototype, \"isCamEnabled\", {\n        get: function() {\n            // TODO: Video not supported yet\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"isMicEnabled\", {\n        get: function() {\n            return this._micEnabled;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WavMediaManager.prototype.tracks = function() {\n        var _a;\n        var tracks = (_a = this._wavRecorder.stream) === null || _a === void 0 ? void 0 : _a.getTracks()[0];\n        return {\n            local: tracks ? {\n                audio: tracks\n            } : {}\n        };\n    };\n    WavMediaManager.prototype._startRecording = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, void 0, function() {\n            var track;\n            var _this = this;\n            var _a, _b, _c;\n            return $fc49a56cd8739127$var$__generator(this, function(_d) {\n                switch(_d.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.record(function(data) {\n                                _this._userAudioCallback(data.mono);\n                            }, this._recorderChunkSize)\n                        ];\n                    case 1:\n                        _d.sent();\n                        track = (_a = this._wavRecorder.stream) === null || _a === void 0 ? void 0 : _a.getAudioTracks()[0];\n                        if (track) (_c = (_b = this._callbacks).onTrackStarted) === null || _c === void 0 || _c.call(_b, track, $fc49a56cd8739127$var$localParticipant());\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype._handleAvailableDevicesUpdated = function(devices) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, devices.filter(function(d) {\n            return d.kind === \"videoinput\";\n        }));\n        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, devices.filter(function(d) {\n            return d.kind === \"audioinput\";\n        }));\n        // if the current device went away or we're using the default and\n        // the default changed, reset the mic.\n        var defaultDevice = devices.find(function(d) {\n            return d.deviceId === \"default\";\n        });\n        var currentDevice = this._wavRecorder.deviceSelection;\n        if (currentDevice && (!devices.some(function(d) {\n            return d.deviceId === currentDevice.deviceId;\n        }) || currentDevice.deviceId === \"default\" && currentDevice.label !== (defaultDevice === null || defaultDevice === void 0 ? void 0 : defaultDevice.label))) this.updateMic(\"\");\n    };\n    return WavMediaManager;\n}($fc49a56cd8739127$export$4a0c46dbbe2ddb67);\nvar $fc49a56cd8739127$var$localParticipant = function() {\n    return {\n        id: \"local\",\n        name: \"\",\n        local: true\n    };\n};\n\n\n\n\n\nvar $22ece045290c996a$var$__extends =  false || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $22ece045290c996a$var$__awaiter =  false || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $22ece045290c996a$var$__generator =  false || function(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar $22ece045290c996a$export$c95c65abc5f47125 = /** @class */ function(_super) {\n    $22ece045290c996a$var$__extends(DailyMediaManager, _super);\n    function DailyMediaManager(enablePlayer, enableRecording, onTrackStartedCallback, onTrackStoppedCallback, recorderChunkSize, recorderSampleRate, playerSampleRate) {\n        if (enablePlayer === void 0) enablePlayer = true;\n        if (enableRecording === void 0) enableRecording = true;\n        if (recorderChunkSize === void 0) recorderChunkSize = undefined;\n        if (recorderSampleRate === void 0) recorderSampleRate = 24000;\n        if (playerSampleRate === void 0) playerSampleRate = 24000;\n        var _a;\n        var _this = _super.call(this) || this;\n        _this._selectedCam = {};\n        _this._selectedMic = {};\n        _this._selectedSpeaker = {};\n        _this._remoteAudioLevelInterval = null;\n        _this._recorderChunkSize = undefined;\n        _this._initialized = false;\n        _this._connected = false;\n        _this._currentAudioTrack = null;\n        _this._connectResolve = null;\n        _this.onTrackStartedCallback = onTrackStartedCallback;\n        _this.onTrackStoppedCallback = onTrackStoppedCallback;\n        _this._recorderChunkSize = recorderChunkSize;\n        _this._daily = (_a = (0, _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).getCallInstance()) !== null && _a !== void 0 ? _a : (0, _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).createCallObject();\n        if (enableRecording) _this._mediaStreamRecorder = new (0, $5fc11d7bc0d20724$export$2934cf2d25c67a48)({\n            sampleRate: recorderSampleRate\n        });\n        if (enablePlayer) _this._wavStreamPlayer = new (0, $d0a969833958d9e7$export$9698d62c78b8f366)({\n            sampleRate: playerSampleRate\n        });\n        _this._daily.on(\"track-started\", _this.handleTrackStarted.bind(_this));\n        _this._daily.on(\"track-stopped\", _this.handleTrackStopped.bind(_this));\n        _this._daily.on(\"available-devices-updated\", _this._handleAvailableDevicesUpdated.bind(_this));\n        _this._daily.on(\"selected-devices-updated\", _this._handleSelectedDevicesUpdated.bind(_this));\n        _this._daily.on(\"local-audio-level\", _this._handleLocalAudioLevel.bind(_this));\n        return _this;\n    }\n    DailyMediaManager.prototype.initialize = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var infos, devices, cams, mics, speakers;\n            var _this = this;\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            return $22ece045290c996a$var$__generator(this, function(_o) {\n                switch(_o.label){\n                    case 0:\n                        if (this._initialized) {\n                            console.warn(\"DailyMediaManager already initialized\");\n                            return [\n                                2 /*return*/ \n                            ];\n                        }\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.startCamera({\n                                startVideoOff: !this._camEnabled,\n                                startAudioOff: !this._micEnabled\n                            })\n                        ];\n                    case 1:\n                        infos = _o.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 2:\n                        devices = _o.sent().devices;\n                        cams = devices.filter(function(d) {\n                            return d.kind === \"videoinput\";\n                        });\n                        mics = devices.filter(function(d) {\n                            return d.kind === \"audioinput\";\n                        });\n                        speakers = devices.filter(function(d) {\n                            return d.kind === \"audiooutput\";\n                        });\n                        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, cams);\n                        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, mics);\n                        (_f = (_e = this._callbacks).onAvailableSpeakersUpdated) === null || _f === void 0 || _f.call(_e, speakers);\n                        this._selectedCam = infos.camera;\n                        (_h = (_g = this._callbacks).onCamUpdated) === null || _h === void 0 || _h.call(_g, infos.camera);\n                        this._selectedMic = infos.mic;\n                        (_k = (_j = this._callbacks).onMicUpdated) === null || _k === void 0 || _k.call(_j, infos.mic);\n                        this._selectedSpeaker = infos.speaker;\n                        (_m = (_l = this._callbacks).onSpeakerUpdated) === null || _m === void 0 || _m.call(_l, infos.speaker);\n                        if (!!this._daily.isLocalAudioLevelObserverRunning()) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.startLocalAudioLevelObserver(100)\n                        ];\n                    case 3:\n                        _o.sent();\n                        _o.label = 4;\n                    case 4:\n                        if (!this._wavStreamPlayer) return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.connect()\n                        ];\n                    case 5:\n                        _o.sent();\n                        if (!this._remoteAudioLevelInterval) this._remoteAudioLevelInterval = setInterval(function() {\n                            var _a;\n                            var frequencies = _this._wavStreamPlayer.getFrequencies();\n                            var aveVal = 0;\n                            if ((_a = frequencies.values) === null || _a === void 0 ? void 0 : _a.length) aveVal = frequencies.values.reduce(function(a, c) {\n                                return a + c;\n                            }, 0) / frequencies.values.length;\n                            _this._handleRemoteAudioLevel(aveVal);\n                        }, 100);\n                        _o.label = 6;\n                    case 6:\n                        this._initialized = true;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.connect = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _this = this;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                if (this._connected) {\n                    console.warn(\"DailyMediaManager already connected\");\n                    return [\n                        2 /*return*/ \n                    ];\n                }\n                this._connected = true;\n                if (!this._initialized) return [\n                    2 /*return*/ ,\n                    new Promise(function(resolve) {\n                        (function() {\n                            return $22ece045290c996a$var$__awaiter(_this, void 0, void 0, function() {\n                                return $22ece045290c996a$var$__generator(this, function(_a) {\n                                    switch(_a.label){\n                                        case 0:\n                                            this._connectResolve = resolve;\n                                            return [\n                                                4 /*yield*/ ,\n                                                this.initialize()\n                                            ];\n                                        case 1:\n                                            _a.sent();\n                                            return [\n                                                2 /*return*/ \n                                            ];\n                                    }\n                                });\n                            });\n                        })();\n                    })\n                ];\n                if (this._micEnabled) this._startRecording();\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.disconnect = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a, _b;\n            return $22ece045290c996a$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        if (this._remoteAudioLevelInterval) clearInterval(this._remoteAudioLevelInterval);\n                        this._remoteAudioLevelInterval = null;\n                        this._daily.leave();\n                        this._currentAudioTrack = null;\n                        return [\n                            4 /*yield*/ ,\n                            (_a = this._mediaStreamRecorder) === null || _a === void 0 ? void 0 : _a.end()\n                        ];\n                    case 1:\n                        _c.sent();\n                        (_b = this._wavStreamPlayer) === null || _b === void 0 || _b.interrupt();\n                        this._initialized = false;\n                        this._connected = false;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.userStartedSpeaking = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a;\n            return $22ece045290c996a$var$__generator(this, function(_b) {\n                return [\n                    2 /*return*/ ,\n                    (_a = this._wavStreamPlayer) === null || _a === void 0 ? void 0 : _a.interrupt()\n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.bufferBotAudio = function(data, id) {\n        var _a;\n        return (_a = this._wavStreamPlayer) === null || _a === void 0 ? void 0 : _a.add16BitPCM(data, id);\n    };\n    DailyMediaManager.prototype.getAllMics = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"audioinput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.getAllCams = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"videoinput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.getAllSpeakers = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"audiooutput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.updateMic = function(micId) {\n        var _this = this;\n        this._daily.setInputDevicesAsync({\n            audioDeviceId: micId\n        }).then(function(deviceInfo) {\n            _this._selectedMic = deviceInfo.mic;\n        });\n    };\n    DailyMediaManager.prototype.updateCam = function(camId) {\n        var _this = this;\n        this._daily.setInputDevicesAsync({\n            videoDeviceId: camId\n        }).then(function(deviceInfo) {\n            _this._selectedCam = deviceInfo.camera;\n        });\n    };\n    DailyMediaManager.prototype.updateSpeaker = function(speakerId) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var sID, speakers, defaultSpeaker_1, defaultSpeakerCp;\n            var _this = this;\n            var _a, _b;\n            return $22ece045290c996a$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        if (speakerId !== \"default\" && this._selectedSpeaker.deviceId === speakerId) return [\n                            2 /*return*/ \n                        ];\n                        sID = speakerId;\n                        if (!(sID === \"default\")) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this.getAllSpeakers()\n                        ];\n                    case 1:\n                        speakers = _c.sent();\n                        defaultSpeaker_1 = speakers.find(function(s) {\n                            return s.deviceId === \"default\";\n                        });\n                        if (!defaultSpeaker_1) {\n                            console.warn(\"No default speaker found\");\n                            return [\n                                2 /*return*/ \n                            ];\n                        }\n                        speakers.splice(speakers.indexOf(defaultSpeaker_1), 1);\n                        defaultSpeakerCp = speakers.find(function(s) {\n                            return defaultSpeaker_1.label.includes(s.label);\n                        });\n                        sID = (_a = defaultSpeakerCp === null || defaultSpeakerCp === void 0 ? void 0 : defaultSpeakerCp.deviceId) !== null && _a !== void 0 ? _a : speakerId;\n                        _c.label = 2;\n                    case 2:\n                        (_b = this._wavStreamPlayer) === null || _b === void 0 || _b.updateSpeaker(sID).then(function() {\n                            var _a, _b;\n                            _this._selectedSpeaker = {\n                                deviceId: speakerId\n                            };\n                            (_b = (_a = _this._callbacks).onSpeakerUpdated) === null || _b === void 0 || _b.call(_a, _this._selectedSpeaker);\n                        });\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedMic\", {\n        get: function() {\n            return this._selectedMic;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedCam\", {\n        get: function() {\n            return this._selectedCam;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedSpeaker\", {\n        get: function() {\n            return this._selectedSpeaker;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DailyMediaManager.prototype.enableMic = function(enable) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a;\n            return $22ece045290c996a$var$__generator(this, function(_b) {\n                this._micEnabled = enable;\n                if (!((_a = this._daily.participants()) === null || _a === void 0 ? void 0 : _a.local)) return [\n                    2 /*return*/ \n                ];\n                this._daily.setLocalAudio(enable);\n                if (this._mediaStreamRecorder) {\n                    if (enable) {\n                        if (this._mediaStreamRecorder.getStatus() === \"paused\") this._startRecording();\n                         // else, we'll record on the track-started event\n                    } else if (this._mediaStreamRecorder.getStatus() === \"recording\") this._mediaStreamRecorder.pause();\n                }\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.enableCam = function(enable) {\n        this._camEnabled = enable;\n        this._daily.setLocalVideo(enable);\n    };\n    Object.defineProperty(DailyMediaManager.prototype, \"isCamEnabled\", {\n        get: function() {\n            return this._daily.localVideo();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"isMicEnabled\", {\n        get: function() {\n            return this._daily.localAudio();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DailyMediaManager.prototype.tracks = function() {\n        var _a, _b, _c, _d, _e, _f;\n        var participants = this._daily.participants();\n        return {\n            local: {\n                audio: (_c = (_b = (_a = participants === null || participants === void 0 ? void 0 : participants.local) === null || _a === void 0 ? void 0 : _a.tracks) === null || _b === void 0 ? void 0 : _b.audio) === null || _c === void 0 ? void 0 : _c.persistentTrack,\n                video: (_f = (_e = (_d = participants === null || participants === void 0 ? void 0 : participants.local) === null || _d === void 0 ? void 0 : _d.tracks) === null || _e === void 0 ? void 0 : _e.video) === null || _f === void 0 ? void 0 : _f.persistentTrack\n            }\n        };\n    };\n    DailyMediaManager.prototype._startRecording = function() {\n        var _this = this;\n        if (!this._connected || !this._mediaStreamRecorder) return;\n        try {\n            this._mediaStreamRecorder.record(function(data) {\n                _this._userAudioCallback(data.mono);\n            }, this._recorderChunkSize);\n        } catch (e) {\n            var err = e;\n            if (!err.message.includes(\"Already recording\")) console.error(\"Error starting recording\", e);\n        }\n    };\n    DailyMediaManager.prototype._handleAvailableDevicesUpdated = function(event) {\n        var _a, _b, _c, _d, _e, _f;\n        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, event.availableDevices.filter(function(d) {\n            return d.kind === \"videoinput\";\n        }));\n        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, event.availableDevices.filter(function(d) {\n            return d.kind === \"audioinput\";\n        }));\n        (_f = (_e = this._callbacks).onAvailableSpeakersUpdated) === null || _f === void 0 || _f.call(_e, event.availableDevices.filter(function(d) {\n            return d.kind === \"audiooutput\";\n        }));\n        if (this._selectedSpeaker.deviceId === \"default\") this.updateSpeaker(\"default\");\n    };\n    DailyMediaManager.prototype._handleSelectedDevicesUpdated = function(event) {\n        var _a, _b, _c, _d, _e, _f;\n        if (((_a = this._selectedCam) === null || _a === void 0 ? void 0 : _a.deviceId) !== event.devices.camera) {\n            this._selectedCam = event.devices.camera;\n            (_c = (_b = this._callbacks).onCamUpdated) === null || _c === void 0 || _c.call(_b, event.devices.camera);\n        }\n        if (((_d = this._selectedMic) === null || _d === void 0 ? void 0 : _d.deviceId) !== event.devices.mic) {\n            this._selectedMic = event.devices.mic;\n            (_f = (_e = this._callbacks).onMicUpdated) === null || _f === void 0 || _f.call(_e, event.devices.mic);\n        }\n    };\n    DailyMediaManager.prototype._handleLocalAudioLevel = function(ev) {\n        var _a, _b;\n        (_b = (_a = this._callbacks).onLocalAudioLevel) === null || _b === void 0 || _b.call(_a, ev.audioLevel);\n    };\n    DailyMediaManager.prototype._handleRemoteAudioLevel = function(audioLevel) {\n        var _a, _b;\n        (_b = (_a = this._callbacks).onRemoteAudioLevel) === null || _b === void 0 || _b.call(_a, audioLevel, $22ece045290c996a$var$botParticipant());\n    };\n    DailyMediaManager.prototype.handleTrackStarted = function(event) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, void 0, function() {\n            var status, _a;\n            var _b, _c, _d, _e;\n            return $22ece045290c996a$var$__generator(this, function(_f) {\n                switch(_f.label){\n                    case 0:\n                        if (!((_b = event.participant) === null || _b === void 0 ? void 0 : _b.local)) return [\n                            2 /*return*/ \n                        ];\n                        if (!(event.track.kind === \"audio\")) return [\n                            3 /*break*/ ,\n                            10\n                        ];\n                        if (!this._mediaStreamRecorder) return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                        status = this._mediaStreamRecorder.getStatus();\n                        _a = status;\n                        switch(_a){\n                            case \"ended\":\n                                return [\n                                    3 /*break*/ ,\n                                    1\n                                ];\n                            case \"paused\":\n                                return [\n                                    3 /*break*/ ,\n                                    3\n                                ];\n                            case \"recording\":\n                                return [\n                                    3 /*break*/ ,\n                                    4\n                                ];\n                        }\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 1:\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.begin(event.track)\n                        ];\n                    case 2:\n                        _f.sent();\n                        if (this._connected) {\n                            this._startRecording();\n                            if (this._connectResolve) {\n                                this._connectResolve();\n                                this._connectResolve = null;\n                            }\n                        }\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 3:\n                        this._startRecording();\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 4:\n                        if (!(this._currentAudioTrack !== event.track)) return [\n                            3 /*break*/ ,\n                            7\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.end()\n                        ];\n                    case 5:\n                        _f.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.begin(event.track)\n                        ];\n                    case 6:\n                        _f.sent();\n                        this._startRecording();\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 7:\n                        console.warn(\"track-started event received for current track and already recording\");\n                        _f.label = 8;\n                    case 8:\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 9:\n                        this._currentAudioTrack = event.track;\n                        _f.label = 10;\n                    case 10:\n                        (_d = (_c = this._callbacks).onTrackStarted) === null || _d === void 0 || _d.call(_c, event.track, event.participant ? $22ece045290c996a$var$dailyParticipantToParticipant(event.participant) : undefined);\n                        (_e = this.onTrackStartedCallback) === null || _e === void 0 || _e.call(this, event);\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.handleTrackStopped = function(event) {\n        var _a, _b, _c, _d;\n        if (!((_a = event.participant) === null || _a === void 0 ? void 0 : _a.local)) return;\n        if (event.track.kind === \"audio\") {\n            if (this._mediaStreamRecorder && this._mediaStreamRecorder.getStatus() === \"recording\") this._mediaStreamRecorder.pause();\n        }\n        (_c = (_b = this._callbacks).onTrackStopped) === null || _c === void 0 || _c.call(_b, event.track, event.participant ? $22ece045290c996a$var$dailyParticipantToParticipant(event.participant) : undefined);\n        (_d = this.onTrackStoppedCallback) === null || _d === void 0 || _d.call(this, event);\n    };\n    return DailyMediaManager;\n}((0, $fc49a56cd8739127$export$4a0c46dbbe2ddb67));\nvar $22ece045290c996a$var$dailyParticipantToParticipant = function(p) {\n    return {\n        id: p.user_id,\n        local: p.local,\n        name: p.user_name\n    };\n};\nvar $22ece045290c996a$var$botParticipant = function() {\n    return {\n        id: \"bot\",\n        local: false,\n        name: \"Bot\"\n    };\n};\n\n\n\n\nvar $032380dbcf3f4e13$var$__extends =  false || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $032380dbcf3f4e13$var$__awaiter =  false || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $032380dbcf3f4e13$var$__generator =  false || function(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar $032380dbcf3f4e13$var$__spreadArray =  false || function(to, from, pack) {\n    if (pack || arguments.length === 2) {\n        for(var i = 0, l = from.length, ar; i < l; i++)if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar $032380dbcf3f4e13$var$readyStates = [\n    \"CONNECTING\",\n    \"OPEN\",\n    \"CLOSING\",\n    \"CLOSED\"\n];\nvar $032380dbcf3f4e13$var$KEEP_ALIVE_INTERVAL = 5000;\nvar $032380dbcf3f4e13$var$KEEP_ALIVE_TIMEOUT = 15000;\n// client side code in soupSFU has a timeout of 15 seconds for command response\n// 5 seconds seems reasonable that it provides roughly 3 retry attempts\nvar $032380dbcf3f4e13$var$WEBSOCKET_CONNECTION_TIMEOUT = 150000;\nvar $032380dbcf3f4e13$var$DEFAULT_RECONNECT_ATTEMPTS = 2;\nvar $032380dbcf3f4e13$var$MAX_RECONNECT_ATTEMPTS = 10;\nvar $032380dbcf3f4e13$var$DEFAULT_RECONNECT_INTERVAL = 1000;\nvar $032380dbcf3f4e13$var$MAX_RECONNECT_INTERVAL = 30000;\nvar $032380dbcf3f4e13$var$DEFAULT_RECONNECT_DECAY = 1.5;\nvar $032380dbcf3f4e13$var$WEBSOCKET_TIMEOUT_CODE = 4100;\nvar $032380dbcf3f4e13$var$SIG_CONNECTION_CANCELED = \"SIG_CONNECTION_CANCELED\";\nvar $032380dbcf3f4e13$var$WEBSOCKET_ERROR = \"WEBSOCKET_ERROR\";\nvar $032380dbcf3f4e13$var$LOG_LEVEL;\n(function(LOG_LEVEL) {\n    LOG_LEVEL[LOG_LEVEL[\"DEBUG\"] = 0] = \"DEBUG\";\n    LOG_LEVEL[LOG_LEVEL[\"ERROR\"] = 1] = \"ERROR\";\n    LOG_LEVEL[LOG_LEVEL[\"INFO\"] = 2] = \"INFO\";\n    LOG_LEVEL[LOG_LEVEL[\"WARN\"] = 3] = \"WARN\";\n})($032380dbcf3f4e13$var$LOG_LEVEL || ($032380dbcf3f4e13$var$LOG_LEVEL = {}));\nvar $032380dbcf3f4e13$var$rWebSocket = /** @class */ function() {\n    function rWebSocket(url, protocols) {\n        this._closedManually = false;\n        this._errored = false;\n        this._rejected = false;\n        this._timed_out = false;\n        this._initialConnectionOk = false;\n        this._ws = new WebSocket(url, protocols);\n    }\n    rWebSocket.prototype.addEventListener = function(type, listener) {\n        this._ws.addEventListener(type, listener);\n    };\n    // Add other WebSocket methods as needed\n    rWebSocket.prototype.close = function(code, reason) {\n        this._ws.close(code, reason);\n    };\n    rWebSocket.prototype.send = function(data) {\n        this._ws.send(data);\n    };\n    Object.defineProperty(rWebSocket.prototype, \"url\", {\n        // Add getters for WebSocket properties\n        get: function() {\n            return this._ws.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(rWebSocket.prototype, \"readyState\", {\n        get: function() {\n            return this._ws.readyState;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return rWebSocket;\n}();\n/**\n * Builds on top of Javascript Websockets\n *\n * This behaves like the Websocket library in every way, except if it fails to\n * connect or if it gets disconnected, it will try to reconnect depending on\n * the maximum number of reconnect attempts set. retry is not enabled for initial\n * connection. When initial connection fails it is best to check yourself before\n * you keep wreckin' yourself.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * While it is API compatible with the NodeJS ws library, we provide the\n * following additional properties and events on the ReconnectingWebSocket.\n *\n * Events:\n *\n * connection-timeout\n * - Emitted when the web socket connection times out.\n *\n * reconnecting\n * - Emitted after a manual close of the web socket is done and before retrying\n *   the connection.\n *\n * reconnect-failed\n * - Emitted when the number of connection attempts exceeds the set number of\n *   reconnection attempts.\n *\n * keep-alive\n * - Emitted when the set keep alive interval elapses. This event may be used\n *   to have ping pong keep-alive mechanism for web socket health.\n *\n * Properties:\n *\n * keepAliveTimeout\n * - The timeout for keep-alive. Default: 15000\n *\n * keepAliveInterval\n * - The interval at which to emit keep-alive event. Default: 5000\n *\n * shouldRetryFn\n * - A callback function which should return boolean to determine if a web\n *   socket reconnection attempt should be made. When not set, connection is\n *   always retried.\n *\n * connectionTimeout\n * - The timeout interval for considering whether the connection timed out.\n *   Default: 20000 ms\n *\n * maxReconnectAttempts\n * - The maximum number of attempts to be made for reconnection. Default: 2\n *\n * reconnectInterval\n * - The interval to wait before attempting a reconnection. Default: 1000 ms\n */ var $032380dbcf3f4e13$export$4f3d0ffd941ebefb = /** @class */ function(_super) {\n    $032380dbcf3f4e13$var$__extends(ReconnectingWebSocket, _super);\n    function ReconnectingWebSocket(address, protocols, options) {\n        if (options === void 0) options = {};\n        var _a;\n        var _this = _super.call(this) || this;\n        if (!address) throw new Error(\"Need a valid WebSocket URL\");\n        _this._ws = null;\n        _this._url = address;\n        _this._protocols = protocols;\n        _this._parseBlobToJson = (_a = options === null || options === void 0 ? void 0 : options.parseBlobToJson) !== null && _a !== void 0 ? _a : true;\n        _this.init();\n        return _this;\n    }\n    ReconnectingWebSocket.prototype.init = function() {\n        this._keepAliveTimeout = $032380dbcf3f4e13$var$KEEP_ALIVE_TIMEOUT;\n        this._keepAliveInterval = $032380dbcf3f4e13$var$KEEP_ALIVE_INTERVAL;\n        this._disconnected = false;\n        this._keepIntervalID = null;\n        this._shouldRetryFn = null;\n        this._connectionTimeout = $032380dbcf3f4e13$var$WEBSOCKET_CONNECTION_TIMEOUT;\n        this._reconnectAttempts = 0;\n        this._allowedReconnectAttempts = $032380dbcf3f4e13$var$DEFAULT_RECONNECT_ATTEMPTS;\n        this._reconnectInterval = $032380dbcf3f4e13$var$DEFAULT_RECONNECT_INTERVAL;\n        this._maxReconnectInterval = $032380dbcf3f4e13$var$MAX_RECONNECT_INTERVAL;\n        this._reconnectDecay = $032380dbcf3f4e13$var$DEFAULT_RECONNECT_DECAY;\n    };\n    ReconnectingWebSocket.prototype.connect = function() {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            var _this = this;\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                return [\n                    2 /*return*/ ,\n                    new Promise(function(resolve, reject) {\n                        _this._disconnected = false;\n                        _this.clearReconnectTimeout();\n                        var ws = new $032380dbcf3f4e13$var$rWebSocket(_this._url, _this._protocols);\n                        _this.setConnectionTimeout();\n                        ws.addEventListener(\"close\", function(evt) {\n                            var closeEvent = evt;\n                            var code = ws._timed_out ? $032380dbcf3f4e13$var$WEBSOCKET_TIMEOUT_CODE : closeEvent.code;\n                            var reason = ws._timed_out ? \"websocket connection timed out\" : closeEvent.reason;\n                            ws._timed_out = false;\n                            if (!ws._closedManually && ws._initialConnectionOk) {\n                                console.warn(\"signaling socket closed unexpectedly: \".concat(code).concat(reason ? \" \" + reason : \"\"));\n                                _this._closeSocket();\n                                _this.emit(\"close\", code, reason);\n                            } else _this.log(\"signaling socket closed\");\n                            if (!ws._closedManually && (ws._errored || ws._timed_out)) {\n                                console.warn(\"signaling socket closed on error: \".concat(code).concat(reason ? \" \" + reason : \"\"));\n                                if (!ws._rejected) {\n                                    ws._rejected = true;\n                                    var err = new Error(\"WebSocket connection error (\".concat(code, \"): \").concat(reason));\n                                    err.name = $032380dbcf3f4e13$var$WEBSOCKET_ERROR;\n                                    reject(err);\n                                }\n                            }\n                        });\n                        ws.addEventListener(\"open\", function(evt) {\n                            _this.log(\"wss connection opened to\", $032380dbcf3f4e13$var$LOG_LEVEL.DEBUG, _this._url);\n                            _this.clearConnectionTimeout();\n                            // now that the timeout closes the socket, in theory this onopen\n                            // callback should never happen in the first place, but seems\n                            // harmless to leave these safeguards in\n                            if (ws._rejected || ws._timed_out) return;\n                            if (ws._closedManually || _this._ws && _this._ws !== ws) {\n                                ws._rejected = true;\n                                ws.close();\n                                var err = Error(\"wss connection interrupted by disconnect or newer connection\");\n                                err.name = $032380dbcf3f4e13$var$SIG_CONNECTION_CANCELED;\n                                reject(err);\n                                return;\n                            }\n                            ws._initialConnectionOk = _this._url;\n                            _this._lastMsgRecvTime = Date.now();\n                            if (_this._keepAliveInterval) _this._keepIntervalID = setInterval(function() {\n                                return _this.checkSocketHealthAndSendKeepAlive();\n                            }, _this._keepAliveInterval);\n                            _this._ws = ws;\n                            _this.emit(\"open\");\n                            resolve(ws);\n                        });\n                        ws.addEventListener(\"error\", function(evt) {\n                            // fyi: evt is an Event here, with 0 amount of helpful info. If there\n                            //   happens to be info about the error, it's included in the\n                            //   accompanying close event (because that make sense. shakes head)\n                            //   SO. We do not reject here. Instead, we just set the _errored\n                            //   flag on the socket so when the close event occurs, it knows to\n                            //   reject the promise\n                            if (!ws._closedManually) {\n                                var wsTarget = evt.currentTarget;\n                                _this.log(\"websocket error event: \".concat(wsTarget === null || wsTarget === void 0 ? void 0 : wsTarget.url));\n                            }\n                            ws._errored = true;\n                        });\n                        ws.addEventListener(\"message\", function(msg) {\n                            _this._handleMessage(msg);\n                        });\n                    })\n                ];\n            });\n        });\n    };\n    ReconnectingWebSocket.prototype.setConnectionTimeout = function() {\n        var _this = this;\n        this._connectionTimeoutID = setTimeout(function() {\n            return $032380dbcf3f4e13$var$__awaiter(_this, void 0, void 0, function() {\n                return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                    switch(_a.label){\n                        case 0:\n                            this.log(\"Connection reconnect attempt timed out.\");\n                            this.emit(\"connection-timeout\");\n                            this.clearConnectionTimeout();\n                            return [\n                                4 /*yield*/ ,\n                                this._closeSocket()\n                            ];\n                        case 1:\n                            _a.sent();\n                            return [\n                                2 /*return*/ \n                            ];\n                    }\n                });\n            });\n        }, this._connectionTimeout);\n    };\n    ReconnectingWebSocket.prototype.clearConnectionTimeout = function() {\n        clearTimeout(this._connectionTimeoutID);\n        this._connectionTimeoutID = undefined;\n    };\n    ReconnectingWebSocket.prototype.clearReconnectTimeout = function() {\n        clearTimeout(this._reconnectTimeoutID);\n        this._reconnectTimeoutID = undefined;\n    };\n    ReconnectingWebSocket.prototype.clearKeepAliveInterval = function() {\n        if (this._keepIntervalID) {\n            clearInterval(this._keepIntervalID);\n            this._keepIntervalID = null;\n        }\n    };\n    ReconnectingWebSocket.prototype.checkSocketHealthAndSendKeepAlive = function() {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        if (!(this._ws && this._ws.readyState === WebSocket.OPEN)) return [\n                            2 /*return*/ \n                        ];\n                        if (!this._keepAliveTimeout || !this._keepAliveInterval) return [\n                            2 /*return*/ \n                        ];\n                        if (!(Date.now() - this._lastMsgRecvTime > this._keepAliveTimeout)) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        this.log(\"Connection is stale, need to reconnect\", $032380dbcf3f4e13$var$LOG_LEVEL.WARN);\n                        return [\n                            4 /*yield*/ ,\n                            this._closeSocket()\n                        ];\n                    case 1:\n                        _a.sent();\n                        return [\n                            2 /*return*/ \n                        ];\n                    case 2:\n                        // Only emit the keep-alive event if we haven't sent anything else recently\n                        if (Date.now() - this._lastMsgSendTime < this._keepAliveInterval) return [\n                            2 /*return*/ \n                        ];\n                        this.log(\"Emitting keep-alive\", $032380dbcf3f4e13$var$LOG_LEVEL.DEBUG);\n                        this.emit(\"keep-alive\");\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    // We use the word manually here to imply the application using this code\n    // or this code itself will decide to close the socket.\n    ReconnectingWebSocket.prototype._closeSocket = function() {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            var shouldRetry, error_1;\n            var _a;\n            return $032380dbcf3f4e13$var$__generator(this, function(_b) {\n                switch(_b.label){\n                    case 0:\n                        this.log(\"Closing\");\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        this.clearKeepAliveInterval();\n                        this._lastMsgRecvTime = 0;\n                        if (this._ws) {\n                            this._ws._closedManually = true;\n                            this._ws.close();\n                        }\n                        shouldRetry = ((_a = this._ws) === null || _a === void 0 ? void 0 : _a._initialConnectionOk) && this._shouldRetryFn && this._shouldRetryFn();\n                        this._ws = null;\n                        if (!shouldRetry) return [\n                            3 /*break*/ ,\n                            3\n                        ];\n                        this.log(\"Emitting reconnect\", $032380dbcf3f4e13$var$LOG_LEVEL.DEBUG);\n                        this.emit(\"reconnecting\");\n                        return [\n                            4 /*yield*/ ,\n                            this.retryFailedConnection()\n                        ];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        return [\n                            3 /*break*/ ,\n                            5\n                        ];\n                    case 4:\n                        error_1 = _b.sent();\n                        this.log(\"Error while closing and retrying: \".concat(error_1), $032380dbcf3f4e13$var$LOG_LEVEL.ERROR);\n                        return [\n                            3 /*break*/ ,\n                            5\n                        ];\n                    case 5:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    ReconnectingWebSocket.prototype.retryFailedConnection = function() {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            var timeout;\n            var _this = this;\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                if (this._reconnectAttempts < this._allowedReconnectAttempts) {\n                    if (this._reconnectTimeoutID) {\n                        this.log(\"Retry already scheduled\");\n                        return [\n                            2 /*return*/ \n                        ];\n                    }\n                    this.log(\"Retrying failed connection\");\n                    timeout = // The timeout logic is taken from\n                    // https://github.com/joewalnes/reconnecting-websocket\n                    this._reconnectInterval * Math.pow(this._reconnectDecay, this._reconnectAttempts);\n                    timeout = timeout > this._maxReconnectInterval ? this._maxReconnectInterval : timeout;\n                    this.log(\"Reconnecting in \".concat(timeout / 1000, \" seconds\"));\n                    this._reconnectAttempts += 1;\n                    this._reconnectTimeoutID = setTimeout(function() {\n                        return _this.connect();\n                    }, timeout);\n                } else {\n                    this.log(\"Maximum connection retry attempts exceeded\", $032380dbcf3f4e13$var$LOG_LEVEL.ERROR);\n                    this.emit(\"reconnect-failed\");\n                }\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    ReconnectingWebSocket.prototype.log = function(msg, log_level) {\n        if (log_level === void 0) log_level = $032380dbcf3f4e13$var$LOG_LEVEL.DEBUG;\n        var args = [];\n        for(var _i = 2; _i < arguments.length; _i++)args[_i - 2] = arguments[_i];\n        switch(log_level){\n            case $032380dbcf3f4e13$var$LOG_LEVEL.DEBUG:\n                console.debug.apply(console, $032380dbcf3f4e13$var$__spreadArray([\n                    \"websocket: \".concat(msg)\n                ], args, false));\n                break;\n            case $032380dbcf3f4e13$var$LOG_LEVEL.ERROR:\n                console.error.apply(console, $032380dbcf3f4e13$var$__spreadArray([\n                    \"websocket: \".concat(msg)\n                ], args, false));\n                break;\n            case $032380dbcf3f4e13$var$LOG_LEVEL.WARN:\n                console.warn.apply(console, $032380dbcf3f4e13$var$__spreadArray([\n                    \"websocket: \".concat(msg)\n                ], args, false));\n                break;\n            case $032380dbcf3f4e13$var$LOG_LEVEL.INFO:\n            default:\n                console.log.apply(console, $032380dbcf3f4e13$var$__spreadArray([\n                    \"websocket: \".concat(msg)\n                ], args, false));\n                break;\n        }\n    };\n    ReconnectingWebSocket.prototype.send = function(data) {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                try {\n                    if (this._ws && this._ws.readyState === WebSocket.OPEN) {\n                        this._lastMsgSendTime = Date.now();\n                        this._ws.send(data);\n                    } else this.log(\"Failed to send data, web socket not open.\", $032380dbcf3f4e13$var$LOG_LEVEL.ERROR);\n                } catch (error) {\n                    this.log(\"Failed to send data. \".concat(error), $032380dbcf3f4e13$var$LOG_LEVEL.ERROR);\n                }\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    ReconnectingWebSocket.prototype.close = function() {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                try {\n                    this.log(\"Closing websocket\");\n                    this._disconnected = true;\n                    this.clearReconnectTimeout();\n                    this._closeSocket();\n                } catch (error) {\n                    this.log(\"Failed to close websocket. \".concat(error));\n                }\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"readyState\", {\n        get: function() {\n            var _a, _b;\n            return (_b = (_a = this._ws) === null || _a === void 0 ? void 0 : _a.readyState) !== null && _b !== void 0 ? _b : WebSocket.CLOSED;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"url\", {\n        get: function() {\n            return this._url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"keepAliveTimeout\", {\n        get: function() {\n            return this._keepAliveTimeout;\n        },\n        set: function(keepAliveTimeout) {\n            if (typeof keepAliveTimeout === \"number\") {\n                this.log(\"Setting ACK freshness timeout to \".concat(keepAliveTimeout));\n                this._keepAliveTimeout = keepAliveTimeout;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"keepAliveInterval\", {\n        get: function() {\n            return this._keepAliveInterval;\n        },\n        set: function(keepAliveInterval) {\n            if (typeof keepAliveInterval === \"number\") {\n                this.log(\"Setting keep-alive interval to \".concat(keepAliveInterval));\n                this._keepAliveInterval = keepAliveInterval;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"shouldRetryFn\", {\n        set: function(cb) {\n            if (typeof cb === \"function\") this._shouldRetryFn = cb;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"connectionTimeout\", {\n        get: function() {\n            return this._connectionTimeout;\n        },\n        set: function(timeout) {\n            if (typeof timeout === \"number\") this._connectionTimeout = timeout;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"maxReconnectAttempts\", {\n        get: function() {\n            return this._allowedReconnectAttempts;\n        },\n        set: function(attempts) {\n            if (attempts > 0 && attempts < $032380dbcf3f4e13$var$MAX_RECONNECT_ATTEMPTS) {\n                this.log(\"Setting maximum connection retry attempts to \".concat(attempts));\n                this._allowedReconnectAttempts = attempts;\n            } else this._allowedReconnectAttempts = $032380dbcf3f4e13$var$DEFAULT_RECONNECT_ATTEMPTS;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"reconnectInterval\", {\n        get: function() {\n            return this._reconnectInterval;\n        },\n        set: function(interval) {\n            if (typeof interval === \"number\") this._reconnectInterval = interval < this._maxReconnectInterval ? interval : this._maxReconnectInterval;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ReconnectingWebSocket.prototype._handleMessage = function(event) {\n        return $032380dbcf3f4e13$var$__awaiter(this, void 0, void 0, function() {\n            var data, _parsePromise, msg;\n            var _this = this;\n            return $032380dbcf3f4e13$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        this._lastMsgRecvTime = Date.now();\n                        data = event.data;\n                        _parsePromise = new Promise(function(resolve, reject) {\n                            if (typeof data === \"string\") // Handle text message\n                            resolve(data);\n                            else if (data instanceof ArrayBuffer) {\n                                // Handle binary message\n                                var arrayBuffer = data;\n                                // Parse the ArrayBuffer as needed\n                                // Example: Convert ArrayBuffer to Uint8Array\n                                resolve(new Uint8Array(arrayBuffer));\n                            // Process the Uint8Array as needed\n                            } else if (data instanceof Blob) {\n                                if (!_this._parseBlobToJson) {\n                                    resolve(data);\n                                    return;\n                                }\n                                // Handle Blob message\n                                var blob = data;\n                                // Convert Blob to ArrayBuffer\n                                var reader_1 = new FileReader();\n                                reader_1.onload = function() {\n                                    var text = reader_1.result;\n                                    try {\n                                        var json = JSON.parse(text);\n                                        resolve(json);\n                                    } catch (e) {\n                                        console.error(\"Failed to parse JSON from Blob:\", e);\n                                    }\n                                };\n                                reader_1.readAsText(blob);\n                            }\n                        });\n                        return [\n                            4 /*yield*/ ,\n                            _parsePromise\n                        ];\n                    case 1:\n                        msg = _a.sent();\n                        this.emit(\"message\", msg);\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    return ReconnectingWebSocket;\n}((0, events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter));\n[\n    \"binaryType\",\n    \"bufferedAmount\",\n    \"extensions\",\n    \"protocol\",\n    \"readyState\",\n    \"url\",\n    \"keepAliveTimeout\",\n    \"keepAliveInterval\",\n    \"shouldRetryFn\",\n    \"connectionTimeout\",\n    \"maxReconnectAttempts\",\n    \"reconnectInterval\"\n].forEach(function(property) {\n    Object.defineProperty($032380dbcf3f4e13$export$4f3d0ffd941ebefb.prototype, property, {\n        enumerable: true\n    });\n});\n[\n    \"CONNECTING\",\n    \"OPEN\",\n    \"CLOSING\",\n    \"CLOSED\"\n].forEach(function(property) {\n    Object.defineProperty($032380dbcf3f4e13$export$4f3d0ffd941ebefb.prototype, property, {\n        enumerable: true,\n        value: $032380dbcf3f4e13$var$readyStates.indexOf(property)\n    });\n});\n[\n    \"CONNECTING\",\n    \"OPEN\",\n    \"CLOSING\",\n    \"CLOSED\"\n].forEach(function(property) {\n    Object.defineProperty($032380dbcf3f4e13$export$4f3d0ffd941ebefb, property, {\n        enumerable: true,\n        value: $032380dbcf3f4e13$var$readyStates.indexOf(property)\n    });\n});\n\n\n\n\n// @generated message type with reflection information, may provide speed optimized methods\nclass $5177d56bd0c995e0$var$TextFrame$Type extends (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__.MessageType) {\n    constructor(){\n        super(\"pipecat.TextFrame\", [\n            {\n                no: 1,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 4 /*ScalarType.UINT64*/ ,\n                L: 0 /*LongType.BIGINT*/ \n            },\n            {\n                no: 2,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"text\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.id = 0n;\n        message.name = \"\";\n        message.text = \"\";\n        if (value !== undefined) (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint64 id */ 1:\n                    message.id = reader.uint64().toBigInt();\n                    break;\n                case /* string name */ 2:\n                    message.name = reader.string();\n                    break;\n                case /* string text */ 3:\n                    message.text = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint64 id = 1; */ if (message.id !== 0n) writer.tag(1, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint64(message.id);\n        /* string name = 2; */ if (message.name !== \"\") writer.tag(2, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.name);\n        /* string text = 3; */ if (message.text !== \"\") writer.tag(3, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.text);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\nconst $5177d56bd0c995e0$export$78410ada03f6931b = new $5177d56bd0c995e0$var$TextFrame$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass $5177d56bd0c995e0$var$AudioRawFrame$Type extends (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__.MessageType) {\n    constructor(){\n        super(\"pipecat.AudioRawFrame\", [\n            {\n                no: 1,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 4 /*ScalarType.UINT64*/ ,\n                L: 0 /*LongType.BIGINT*/ \n            },\n            {\n                no: 2,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"audio\",\n                kind: \"scalar\",\n                T: 12 /*ScalarType.BYTES*/ \n            },\n            {\n                no: 4,\n                name: \"sample_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"num_channels\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"pts\",\n                kind: \"scalar\",\n                opt: true,\n                T: 4 /*ScalarType.UINT64*/ ,\n                L: 0 /*LongType.BIGINT*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.id = 0n;\n        message.name = \"\";\n        message.audio = new Uint8Array(0);\n        message.sampleRate = 0;\n        message.numChannels = 0;\n        if (value !== undefined) (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint64 id */ 1:\n                    message.id = reader.uint64().toBigInt();\n                    break;\n                case /* string name */ 2:\n                    message.name = reader.string();\n                    break;\n                case /* bytes audio */ 3:\n                    message.audio = reader.bytes();\n                    break;\n                case /* uint32 sample_rate */ 4:\n                    message.sampleRate = reader.uint32();\n                    break;\n                case /* uint32 num_channels */ 5:\n                    message.numChannels = reader.uint32();\n                    break;\n                case /* optional uint64 pts */ 6:\n                    message.pts = reader.uint64().toBigInt();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint64 id = 1; */ if (message.id !== 0n) writer.tag(1, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint64(message.id);\n        /* string name = 2; */ if (message.name !== \"\") writer.tag(2, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.name);\n        /* bytes audio = 3; */ if (message.audio.length) writer.tag(3, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).bytes(message.audio);\n        /* uint32 sample_rate = 4; */ if (message.sampleRate !== 0) writer.tag(4, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint32(message.sampleRate);\n        /* uint32 num_channels = 5; */ if (message.numChannels !== 0) writer.tag(5, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint32(message.numChannels);\n        /* optional uint64 pts = 6; */ if (message.pts !== undefined) writer.tag(6, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint64(message.pts);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\nconst $5177d56bd0c995e0$export$51d8721de3cbff8f = new $5177d56bd0c995e0$var$AudioRawFrame$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass $5177d56bd0c995e0$var$TranscriptionFrame$Type extends (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__.MessageType) {\n    constructor(){\n        super(\"pipecat.TranscriptionFrame\", [\n            {\n                no: 1,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 4 /*ScalarType.UINT64*/ ,\n                L: 0 /*LongType.BIGINT*/ \n            },\n            {\n                no: 2,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"text\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"timestamp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.id = 0n;\n        message.name = \"\";\n        message.text = \"\";\n        message.userId = \"\";\n        message.timestamp = \"\";\n        if (value !== undefined) (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* uint64 id */ 1:\n                    message.id = reader.uint64().toBigInt();\n                    break;\n                case /* string name */ 2:\n                    message.name = reader.string();\n                    break;\n                case /* string text */ 3:\n                    message.text = reader.string();\n                    break;\n                case /* string user_id */ 4:\n                    message.userId = reader.string();\n                    break;\n                case /* string timestamp */ 5:\n                    message.timestamp = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* uint64 id = 1; */ if (message.id !== 0n) writer.tag(1, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).Varint).uint64(message.id);\n        /* string name = 2; */ if (message.name !== \"\") writer.tag(2, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.name);\n        /* string text = 3; */ if (message.text !== \"\") writer.tag(3, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.text);\n        /* string user_id = 4; */ if (message.userId !== \"\") writer.tag(4, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.userId);\n        /* string timestamp = 5; */ if (message.timestamp !== \"\") writer.tag(5, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.timestamp);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\nconst $5177d56bd0c995e0$export$10b388c15a5cdc8a = new $5177d56bd0c995e0$var$TranscriptionFrame$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass $5177d56bd0c995e0$var$MessageFrame$Type extends (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__.MessageType) {\n    constructor(){\n        super(\"pipecat.MessageFrame\", [\n            {\n                no: 1,\n                name: \"data\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.data = \"\";\n        if (value !== undefined) (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* string data */ 1:\n                    message.data = reader.string();\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* string data = 1; */ if (message.data !== \"\") writer.tag(1, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).string(message.data);\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\nconst $5177d56bd0c995e0$export$bc3f45a6d434f14a = new $5177d56bd0c995e0$var$MessageFrame$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass $5177d56bd0c995e0$var$Frame$Type extends (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_4__.MessageType) {\n    constructor(){\n        super(\"pipecat.Frame\", [\n            {\n                no: 1,\n                name: \"text\",\n                kind: \"message\",\n                oneof: \"frame\",\n                T: ()=>$5177d56bd0c995e0$export$78410ada03f6931b\n            },\n            {\n                no: 2,\n                name: \"audio\",\n                kind: \"message\",\n                oneof: \"frame\",\n                T: ()=>$5177d56bd0c995e0$export$51d8721de3cbff8f\n            },\n            {\n                no: 3,\n                name: \"transcription\",\n                kind: \"message\",\n                oneof: \"frame\",\n                T: ()=>$5177d56bd0c995e0$export$10b388c15a5cdc8a\n            },\n            {\n                no: 4,\n                name: \"message\",\n                kind: \"message\",\n                oneof: \"frame\",\n                T: ()=>$5177d56bd0c995e0$export$bc3f45a6d434f14a\n            }\n        ]);\n    }\n    create(value) {\n        const message = globalThis.Object.create(this.messagePrototype);\n        message.frame = {\n            oneofKind: undefined\n        };\n        if (value !== undefined) (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.reflectionMergePartial)(this, message, value);\n        return message;\n    }\n    internalBinaryRead(reader, length, options, target) {\n        let message = target ?? this.create(), end = reader.pos + length;\n        while(reader.pos < end){\n            let [fieldNo, wireType] = reader.tag();\n            switch(fieldNo){\n                case /* pipecat.TextFrame text */ 1:\n                    message.frame = {\n                        oneofKind: \"text\",\n                        text: $5177d56bd0c995e0$export$78410ada03f6931b.internalBinaryRead(reader, reader.uint32(), options, message.frame.text)\n                    };\n                    break;\n                case /* pipecat.AudioRawFrame audio */ 2:\n                    message.frame = {\n                        oneofKind: \"audio\",\n                        audio: $5177d56bd0c995e0$export$51d8721de3cbff8f.internalBinaryRead(reader, reader.uint32(), options, message.frame.audio)\n                    };\n                    break;\n                case /* pipecat.TranscriptionFrame transcription */ 3:\n                    message.frame = {\n                        oneofKind: \"transcription\",\n                        transcription: $5177d56bd0c995e0$export$10b388c15a5cdc8a.internalBinaryRead(reader, reader.uint32(), options, message.frame.transcription)\n                    };\n                    break;\n                case /* pipecat.MessageFrame message */ 4:\n                    message.frame = {\n                        oneofKind: \"message\",\n                        message: $5177d56bd0c995e0$export$bc3f45a6d434f14a.internalBinaryRead(reader, reader.uint32(), options, message.frame.message)\n                    };\n                    break;\n                default:\n                    let u = options.readUnknownField;\n                    if (u === \"throw\") throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);\n                    let d = reader.skip(wireType);\n                    if (u !== false) (u === true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onRead : u)(this.typeName, message, fieldNo, wireType, d);\n            }\n        }\n        return message;\n    }\n    internalBinaryWrite(message, writer, options) {\n        /* pipecat.TextFrame text = 1; */ if (message.frame.oneofKind === \"text\") $5177d56bd0c995e0$export$78410ada03f6931b.internalBinaryWrite(message.frame.text, writer.tag(1, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).fork(), options).join();\n        /* pipecat.AudioRawFrame audio = 2; */ if (message.frame.oneofKind === \"audio\") $5177d56bd0c995e0$export$51d8721de3cbff8f.internalBinaryWrite(message.frame.audio, writer.tag(2, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).fork(), options).join();\n        /* pipecat.TranscriptionFrame transcription = 3; */ if (message.frame.oneofKind === \"transcription\") $5177d56bd0c995e0$export$10b388c15a5cdc8a.internalBinaryWrite(message.frame.transcription, writer.tag(3, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).fork(), options).join();\n        /* pipecat.MessageFrame message = 4; */ if (message.frame.oneofKind === \"message\") $5177d56bd0c995e0$export$bc3f45a6d434f14a.internalBinaryWrite(message.frame.message, writer.tag(4, (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.WireType).LengthDelimited).fork(), options).join();\n        let u = options.writeUnknownFields;\n        if (u !== false) (u == true ? (0, _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.UnknownFieldHandler).onWrite : u)(this.typeName, message, writer);\n        return writer;\n    }\n}\nconst $5177d56bd0c995e0$export$b89a827e9254211a = new $5177d56bd0c995e0$var$Frame$Type();\n\n\nclass $a6c080dc51c9687f$export$4b2026f8e11b148a {\n    serialize(data) {}\n    serializeAudio(data, sampleRate, numChannels) {\n        const pcmByteArray = new Uint8Array(data);\n        const frame = (0, $5177d56bd0c995e0$export$b89a827e9254211a).create({\n            frame: {\n                oneofKind: \"audio\",\n                audio: {\n                    id: 0n,\n                    name: \"audio\",\n                    audio: pcmByteArray,\n                    sampleRate: sampleRate,\n                    numChannels: numChannels\n                }\n            }\n        });\n        return new Uint8Array((0, $5177d56bd0c995e0$export$b89a827e9254211a).toBinary(frame));\n    }\n    serializeMessage(msg) {\n        const frame = (0, $5177d56bd0c995e0$export$b89a827e9254211a).create({\n            frame: {\n                oneofKind: \"message\",\n                message: {\n                    data: JSON.stringify(msg)\n                }\n            }\n        });\n        return new Uint8Array((0, $5177d56bd0c995e0$export$b89a827e9254211a).toBinary(frame));\n    }\n    async deserialize(data) {\n        if (!(data instanceof Blob)) throw new Error(\"Unknown data type\");\n        const arrayBuffer = await data.arrayBuffer();\n        const parsed = (0, $5177d56bd0c995e0$export$b89a827e9254211a).fromBinary(new Uint8Array(arrayBuffer)).frame;\n        if (parsed.oneofKind === \"audio\") {\n            const audioVector = Array.from(parsed.audio.audio);\n            const uint8Array = new Uint8Array(audioVector);\n            const int16Array = new Int16Array(uint8Array.buffer);\n            return {\n                type: \"audio\",\n                audio: int16Array\n            };\n        } else if (parsed.oneofKind === \"message\") {\n            const msg = JSON.parse(parsed.message.data);\n            return {\n                type: \"message\",\n                message: msg\n            };\n        } else throw new Error(\"Unknown frame kind\");\n    }\n}\n\n\nclass $7f42eda74f1b1632$export$de21836fc42c6f9c extends (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.Transport) {\n    constructor({ serializer: serializer, recorderSampleRate: recorderSampleRate, playerSampleRate: playerSampleRate } = {\n        serializer: new (0, $a6c080dc51c9687f$export$4b2026f8e11b148a)(),\n        recorderSampleRate: $7f42eda74f1b1632$export$de21836fc42c6f9c.RECORDER_SAMPLE_RATE,\n        playerSampleRate: $7f42eda74f1b1632$export$de21836fc42c6f9c.PLAYER_SAMPLE_RATE\n    }){\n        super();\n        this.audioQueue = [];\n        this._mediaManager = new (0, $22ece045290c996a$export$c95c65abc5f47125)(true, true, undefined, undefined, 512, recorderSampleRate, playerSampleRate);\n        this._mediaManager.setUserAudioCallback(this.handleUserAudioStream.bind(this));\n        this._ws = null;\n        this._serializer = serializer;\n    }\n    initialize(options, messageHandler) {\n        this._options = options;\n        this._callbacks = options.callbacks ?? {};\n        this._onMessage = messageHandler;\n        this._mediaManager.setRTVIOptions(options);\n        this.state = \"disconnected\";\n    }\n    async initDevices() {\n        this.state = \"initializing\";\n        await this._mediaManager.initialize();\n        this.state = \"initialized\";\n    }\n    async connect(authBundle, abortController) {\n        this.state = \"connecting\";\n        try {\n            this._ws = this.initializeWebsocket(authBundle);\n            await this._ws.connect();\n            await this._mediaManager.connect();\n            this.state = \"connected\";\n            this._callbacks.onConnected?.();\n        } catch (error) {\n            const msg = `Failed to connect to websocket: ${error}`;\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(msg);\n            this.state = \"error\";\n            throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.TransportStartError)(msg);\n        }\n    }\n    async disconnect() {\n        this.state = \"disconnecting\";\n        await this._mediaManager.disconnect();\n        await this._ws?.close();\n        this.state = \"disconnected\";\n        this._callbacks.onDisconnected?.();\n    }\n    getAllMics() {\n        return this._mediaManager.getAllMics();\n    }\n    getAllCams() {\n        return this._mediaManager.getAllCams();\n    }\n    getAllSpeakers() {\n        return this._mediaManager.getAllSpeakers();\n    }\n    async updateMic(micId) {\n        return this._mediaManager.updateMic(micId);\n    }\n    updateCam(camId) {\n        return this._mediaManager.updateCam(camId);\n    }\n    updateSpeaker(speakerId) {\n        return this._mediaManager.updateSpeaker(speakerId);\n    }\n    get selectedMic() {\n        return this._mediaManager.selectedMic;\n    }\n    get selectedSpeaker() {\n        return this._mediaManager.selectedSpeaker;\n    }\n    enableMic(enable) {\n        this._mediaManager.enableMic(enable);\n    }\n    get isMicEnabled() {\n        return this._mediaManager.isMicEnabled;\n    }\n    get state() {\n        return this._state;\n    }\n    set state(state) {\n        if (this._state === state) return;\n        this._state = state;\n        this._callbacks.onTransportStateChanged?.(state);\n    }\n    get expiry() {\n        return this._expiry;\n    }\n    tracks() {\n        return this._mediaManager.tracks();\n    }\n    initializeWebsocket(authBundle) {\n        console.log(\"Initializing websocket\", authBundle);\n        const ws = new (0, $032380dbcf3f4e13$export$4f3d0ffd941ebefb)(`${authBundle.ws_url}`, undefined, {\n            parseBlobToJson: false\n        });\n        // disabling the keep alive, there is no API for it inside Pipecat\n        ws.keepAliveInterval = 0;\n        ws.on(\"open\", ()=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(\"Websocket connection opened\");\n        });\n        ws.on(\"message\", async (data)=>{\n            try {\n                const parsed = await this._serializer.deserialize(data);\n                if (parsed.type === \"audio\") this._mediaManager.bufferBotAudio(parsed.audio);\n                else if (parsed.type === \"message\") {\n                    if (parsed.message.label === \"rtvi-ai\") this._onMessage(parsed.message);\n                }\n            } catch (e) {\n                (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Failed to deserialize incoming message\", e);\n            }\n        });\n        ws.on(\"error\", (error)=>{\n            this.connectionError(`websocket error: ${error}`);\n        });\n        ws.on(\"connection-timeout\", ()=>{\n            this.connectionError(\"websocket connection timed out\");\n        });\n        ws.on(\"close\", (code)=>{\n            this.connectionError(`websocket connection closed. Code: ${code}`);\n        });\n        ws.on(\"reconnect-failed\", ()=>{\n            this.connectionError(`websocket reconnect failed`);\n        });\n        return ws;\n    }\n    sendReadyMessage() {\n        this.state = \"ready\";\n        this.sendMessage((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIMessage).clientReady());\n    }\n    handleUserAudioStream(data) {\n        if (this.state === \"ready\") try {\n            this.flushAudioQueue();\n            this._sendAudioInput(data);\n        } catch (error) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Error sending audio stream to websocket:\", error);\n            this.state = \"error\";\n        }\n        else this.audioQueue.push(data);\n    }\n    flushAudioQueue() {\n        if (this.audioQueue.length <= 0) return;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).info(\"Will flush audio queue\", this.audioQueue.length);\n        while(this.audioQueue.length > 0){\n            const queuedData = this.audioQueue.shift();\n            if (queuedData) this._sendAudioInput(queuedData);\n        }\n    }\n    sendRawMessage(message) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(\"Received raw message to send to Web Socket\", message);\n        const encoded = this._serializer.serialize(message);\n        this._sendMsg(encoded);\n    }\n    sendMessage(message) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(\"Received message to send to Web Socket\", message);\n        const encoded = this._serializer.serializeMessage(message);\n        this._sendMsg(encoded);\n    }\n    async _sendAudioInput(data) {\n        try {\n            const encoded = this._serializer.serializeAudio(data, $7f42eda74f1b1632$export$de21836fc42c6f9c.RECORDER_SAMPLE_RATE, 1);\n            await this._sendMsg(encoded);\n        } catch (e) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Error sending audio frame\", e);\n        }\n    }\n    async _sendMsg(msg) {\n        if (!this._ws) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"sendMsg called but WS is null\");\n            return;\n        }\n        if (this._ws.readyState !== WebSocket.OPEN) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"attempt to send to closed socket\");\n            return;\n        }\n        if (!msg) return;\n        try {\n            await this._ws.send(msg);\n        } catch (e) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"sendMsg error\", e);\n        }\n    }\n    connectionError(errorMsg) {\n        console.error(errorMsg);\n        this.state = \"error\";\n        this.disconnect();\n    }\n    // Not implemented\n    enableScreenShare(enable) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"startScreenShare not implemented for WebSocketTransport\");\n        throw new Error(\"Not implemented\");\n    }\n    get isSharingScreen() {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"isSharingScreen not implemented for WebSocketTransport\");\n        return false;\n    }\n    enableCam(enable) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"enableCam not implemented for WebSocketTransport\");\n        throw new Error(\"Not implemented\");\n    }\n    get isCamEnabled() {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"isCamEnabled not implemented for WebSocketTransport\");\n        return false;\n    }\n    get selectedCam() {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"selectedCam not implemented for WebSocketTransport\");\n        throw new Error(\"Not implemented\");\n    }\n}\n$7f42eda74f1b1632$export$de21836fc42c6f9c.RECORDER_SAMPLE_RATE = 16000;\n$7f42eda74f1b1632$export$de21836fc42c6f9c.PLAYER_SAMPLE_RATE = 24000;\n\n\n\n\nclass $5b926fa33e35e45c$export$44a8a077420336af {\n    serialize(data) {\n        return JSON.stringify(data);\n    }\n    serializeAudio(data, sampleRate, numChannels) {\n        const pcmSamples = new Int16Array(data);\n        const muLawSamples = (0, x_law__WEBPACK_IMPORTED_MODULE_3__.mulaw).encode(pcmSamples);\n        const base64Payload = this.arrayToBase64(muLawSamples);\n        const twilioMessage = {\n            event: \"media\",\n            media: {\n                payload: base64Payload\n            }\n        };\n        return JSON.stringify(twilioMessage);\n    }\n    serializeMessage(msg) {\n        // Twilio does not support RTVI messages, so just ignore them\n        return null;\n    }\n    arrayToBase64(bytes) {\n        let binary = \"\";\n        for(let i = 0; i < bytes.byteLength; i++)binary += String.fromCharCode(bytes[i]);\n        return btoa(binary);\n    }\n    base64ToUint8Array(base64) {\n        const binaryString = atob(base64);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for(let i = 0; i < len; i++)bytes[i] = binaryString.charCodeAt(i);\n        return bytes;\n    }\n    async deserialize(data) {\n        const jsonMessage = JSON.parse(data); // Assuming 'data' is a JSON string\n        if (jsonMessage.event === \"clear\") return {\n            type: \"raw\",\n            message: jsonMessage\n        };\n        else if (jsonMessage.event === \"media\") {\n            // Deserialize 'media' event\n            const payload = jsonMessage.media.payload;\n            const serialized_data = this.base64ToUint8Array(payload);\n            //const decoded_audio = this.ulawToPcm(serialized_data);\n            const decoded_audio = (0, x_law__WEBPACK_IMPORTED_MODULE_3__.mulaw).decode(serialized_data);\n            return {\n                type: \"audio\",\n                audio: decoded_audio\n            };\n        } else // Deserialize other message types (assuming 'frame' has 'message' field)\n        return {\n            type: \"message\",\n            message: jsonMessage.message\n        };\n    }\n}\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS93ZWJzb2NrZXQtdHJhbnNwb3J0L2Rpc3QvaW5kZXgubW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDNEg7QUFDeEg7QUFDcUo7QUFDcEs7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsTUFBTTtBQUNwQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxjQUFjO0FBQzNCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsYUFBYSxhQUFhO0FBQzFCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyx5RUFBeUU7QUFDdkYsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtEQUErRDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBLHNDQUFzQyxNQUFnQztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHNDQUFzQyxNQUFnQztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MsTUFBa0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUEsc0NBQXNDLE1BQWdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0NBQXNDLE1BQWdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdDQUF3QyxNQUFrQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMERBQXFCLDBEQUEwRCwwREFBcUI7QUFDckk7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBLHNDQUFzQyxNQUFnQztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHNDQUFzQyxNQUFnQztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MsTUFBa0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFvQztBQUM5RTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwRUFBMEU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFB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QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0NBQVk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUs0VTtBQUM1VSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHBpcGVjYXQtYWkvd2Vic29ja2V0LXRyYW5zcG9ydC9kaXN0L2luZGV4Lm1vZHVsZS5qcz8xMzNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAka1I2dEckZGFpbHljb2RhaWx5anMgZnJvbSBcIkBkYWlseS1jby9kYWlseS1qc1wiO1xuaW1wb3J0IHtsb2dnZXIgYXMgJGtSNnRHJGxvZ2dlciwgVHJhbnNwb3J0U3RhcnRFcnJvciBhcyAka1I2dEckVHJhbnNwb3J0U3RhcnRFcnJvciwgUlRWSU1lc3NhZ2UgYXMgJGtSNnRHJFJUVklNZXNzYWdlLCBUcmFuc3BvcnQgYXMgJGtSNnRHJFRyYW5zcG9ydH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0IHtFdmVudEVtaXR0ZXIgYXMgJGtSNnRHJEV2ZW50RW1pdHRlcn0gZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHtyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsIGFzICRrUjZ0RyRyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsLCBVbmtub3duRmllbGRIYW5kbGVyIGFzICRrUjZ0RyRVbmtub3duRmllbGRIYW5kbGVyLCBXaXJlVHlwZSBhcyAka1I2dEckV2lyZVR5cGUsIE1lc3NhZ2VUeXBlIGFzICRrUjZ0RyRNZXNzYWdlVHlwZX0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQge211bGF3IGFzICRrUjZ0RyRtdWxhd30gZnJvbSBcIngtbGF3XCI7XG5cbi8vIGV4cG9ydCAqIGZyb20gXCIuL3JlYWxUaW1lV2ViU29ja2V0VHJhbnNwb3J0XCI7XG4vLyBleHBvcnQgKiBmcm9tIFwiLi4vLi4vLi4vbGliL3dhdnRvb2xzL2Rpc3QvaW5kZXguZC50c1wiO1xuLyoqXG4gKiBSYXcgd2F2IGF1ZGlvIGZpbGUgY29udGVudHNcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdhdlBhY2tlckF1ZGlvVHlwZVxuICogQHByb3BlcnR5IHtCbG9ifSBibG9iXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2hhbm5lbENvdW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gc2FtcGxlUmF0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKi8gLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBhc3NlbWJsaW5nIFBDTTE2IFwiYXVkaW8vd2F2XCIgZGF0YVxuICogQGNsYXNzXG4gKi8gY2xhc3MgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYge1xuICAgIC8qKlxuICAgKiBDb252ZXJ0cyBGbG9hdDMyQXJyYXkgb2YgYW1wbGl0dWRlIGRhdGEgdG8gQXJyYXlCdWZmZXIgaW4gSW50MTZBcnJheSBmb3JtYXRcbiAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IGZsb2F0MzJBcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9XG4gICAqLyBzdGF0aWMgZmxvYXRUbzE2Qml0UENNKGZsb2F0MzJBcnJheSkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoZmxvYXQzMkFycmF5Lmxlbmd0aCAqIDIpO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZmxvYXQzMkFycmF5Lmxlbmd0aDsgaSsrLCBvZmZzZXQgKz0gMil7XG4gICAgICAgICAgICBsZXQgcyA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBmbG9hdDMyQXJyYXlbaV0pKTtcbiAgICAgICAgICAgIHZpZXcuc2V0SW50MTYob2Zmc2V0LCBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3ZmZmLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICogQ29uY2F0ZW5hdGVzIHR3byBBcnJheUJ1ZmZlcnNcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gbGVmdEJ1ZmZlclxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSByaWdodEJ1ZmZlclxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9XG4gICAqLyBzdGF0aWMgbWVyZ2VCdWZmZXJzKGxlZnRCdWZmZXIsIHJpZ2h0QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHRtcEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobGVmdEJ1ZmZlci5ieXRlTGVuZ3RoICsgcmlnaHRCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRtcEFycmF5LnNldChuZXcgVWludDhBcnJheShsZWZ0QnVmZmVyKSwgMCk7XG4gICAgICAgIHRtcEFycmF5LnNldChuZXcgVWludDhBcnJheShyaWdodEJ1ZmZlciksIGxlZnRCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0bXBBcnJheS5idWZmZXI7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYWNrcyBkYXRhIGludG8gYW4gSW50MTYgZm9ybWF0XG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIDAgPSAxeCBJbnQxNiwgMSA9IDJ4IEludDE2XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhcmcgdmFsdWUgdG8gcGFja1xuICAgKiBAcmV0dXJuc1xuICAgKi8gX3BhY2tEYXRhKHNpemUsIGFyZykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgICAgIGFyZyxcbiAgICAgICAgICAgICAgICBhcmcgPj4gOFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIGFyZyA+PiA4LFxuICAgICAgICAgICAgICAgIGFyZyA+PiAxNixcbiAgICAgICAgICAgICAgICBhcmcgPj4gMjRcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF1bc2l6ZV07XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYWNrcyBhdWRpbyBpbnRvIFwiYXVkaW8vd2F2XCIgQmxvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2FtcGxlUmF0ZVxuICAgKiBAcGFyYW0ge3tiaXRzUGVyU2FtcGxlOiBudW1iZXIsIGNoYW5uZWxzOiBBcnJheTxGbG9hdDMyQXJyYXk+LCBkYXRhOiBJbnQxNkFycmF5fX0gYXVkaW9cbiAgICogQHJldHVybnMge1dhdlBhY2tlckF1ZGlvVHlwZX1cbiAgICovIHBhY2soc2FtcGxlUmF0ZSwgYXVkaW8pIHtcbiAgICAgICAgaWYgKCFhdWRpbz8uYml0c1BlclNhbXBsZSkgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFwiYml0c1BlclNhbXBsZVwiYCk7XG4gICAgICAgIGVsc2UgaWYgKCFhdWRpbz8uY2hhbm5lbHMpIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBcImNoYW5uZWxzXCJgKTtcbiAgICAgICAgZWxzZSBpZiAoIWF1ZGlvPy5kYXRhKSB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgXCJkYXRhXCJgKTtcbiAgICAgICAgY29uc3QgeyBiaXRzUGVyU2FtcGxlOiBiaXRzUGVyU2FtcGxlLCBjaGFubmVsczogY2hhbm5lbHMsIGRhdGE6IGRhdGEgfSA9IGF1ZGlvO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXG4gICAgICAgICAgICAvLyBIZWFkZXJcbiAgICAgICAgICAgICdSSUZGJyxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDEsIDUyKSxcbiAgICAgICAgICAgICdXQVZFJyxcbiAgICAgICAgICAgIC8vIGNodW5rIDFcbiAgICAgICAgICAgICdmbXQgJyxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDEsIDE2KSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDAsIDEpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMCwgY2hhbm5lbHMubGVuZ3RoKSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDEsIHNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMSwgc2FtcGxlUmF0ZSAqIGNoYW5uZWxzLmxlbmd0aCAqIGJpdHNQZXJTYW1wbGUgLyA4KSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDAsIGNoYW5uZWxzLmxlbmd0aCAqIGJpdHNQZXJTYW1wbGUgLyA4KSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDAsIGJpdHNQZXJTYW1wbGUpLFxuICAgICAgICAgICAgLy8gY2h1bmsgMlxuICAgICAgICAgICAgJ2RhdGEnLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMSwgY2hhbm5lbHNbMF0ubGVuZ3RoICogY2hhbm5lbHMubGVuZ3RoICogYml0c1BlclNhbXBsZSAvIDgpLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2Iob3V0cHV0LCB7XG4gICAgICAgICAgICB0eXBlOiAnYXVkaW8vbXBlZydcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9iOiBibG9iLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IGNoYW5uZWxzLmxlbmd0aCxcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogZGF0YS5ieXRlTGVuZ3RoIC8gKGNoYW5uZWxzLmxlbmd0aCAqIHNhbXBsZVJhdGUgKiAyKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmdsb2JhbFRoaXMuV2F2UGFja2VyID0gJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDY7XG5cblxuLyoqXG4gKiBDb25zdGFudHMgZm9yIGhlbHAgd2l0aCB2aXN1YWxpemF0aW9uXG4gKiBIZWxwcyBtYXAgZnJlcXVlbmN5IHJhbmdlcyBmcm9tIEZhc3QgRm91cmllciBUcmFuc2Zvcm1cbiAqIHRvIGh1bWFuLWludGVycHJldGFibGUgcmFuZ2VzLCBub3RhYmx5IG11c2ljIHJhbmdlcyBhbmRcbiAqIGh1bWFuIHZvY2FsIHJhbmdlcy5cbiAqLyAvLyBFaWdodGggb2N0YXZlIGZyZXF1ZW5jaWVzXG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkb2N0YXZlOEZyZXF1ZW5jaWVzID0gW1xuICAgIDQxODYuMDEsXG4gICAgNDQzNC45MixcbiAgICA0Njk4LjYzLFxuICAgIDQ5NzguMDMsXG4gICAgNTI3NC4wNCxcbiAgICA1NTg3LjY1LFxuICAgIDU5MTkuOTEsXG4gICAgNjI3MS45MyxcbiAgICA2NjQ0Ljg4LFxuICAgIDcwNDAuMCxcbiAgICA3NDU4LjYyLFxuICAgIDc5MDIuMTNcbl07XG4vLyBMYWJlbHMgZm9yIGVhY2ggb2YgdGhlIGFib3ZlIGZyZXF1ZW5jaWVzXG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkb2N0YXZlOEZyZXF1ZW5jeUxhYmVscyA9IFtcbiAgICAnQycsXG4gICAgJ0MjJyxcbiAgICAnRCcsXG4gICAgJ0QjJyxcbiAgICAnRScsXG4gICAgJ0YnLFxuICAgICdGIycsXG4gICAgJ0cnLFxuICAgICdHIycsXG4gICAgJ0EnLFxuICAgICdBIycsXG4gICAgJ0InXG5dO1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzYgPSBbXTtcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRmYWNkMTY3Y2MyN2VhOWIwID0gW107XG5mb3IobGV0IGkgPSAxOyBpIDw9IDg7IGkrKylmb3IobGV0IGYgPSAwOyBmIDwgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJG9jdGF2ZThGcmVxdWVuY2llcy5sZW5ndGg7IGYrKyl7XG4gICAgY29uc3QgZnJlcSA9ICQwM2Y3MWNlODVlMDBhZGE2JHZhciRvY3RhdmU4RnJlcXVlbmNpZXNbZl07XG4gICAgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzYucHVzaChmcmVxIC8gTWF0aC5wb3coMiwgOCAtIGkpKTtcbiAgICAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZmFjZDE2N2NjMjdlYTliMC5wdXNoKCQwM2Y3MWNlODVlMDBhZGE2JHZhciRvY3RhdmU4RnJlcXVlbmN5TGFiZWxzW2ZdICsgaSk7XG59XG4vKipcbiAqIFN1YnNldCBvZiB0aGUgbm90ZSBmcmVxdWVuY2llcyBiZXR3ZWVuIDMyIGFuZCAyMDAwIEh6XG4gKiA2IG9jdGF2ZSByYW5nZTogQzEgdG8gQjZcbiAqLyBjb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkdm9pY2VGcmVxdWVuY3lSYW5nZSA9IFtcbiAgICAzMi4wLFxuICAgIDIwMDAuMFxuXTtcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRkYmMxNTgxZWQyY2ZhMTgzID0gJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzYuZmlsdGVyKChfLCBpKT0+e1xuICAgIHJldHVybiAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNltpXSA+ICQwM2Y3MWNlODVlMDBhZGE2JHZhciR2b2ljZUZyZXF1ZW5jeVJhbmdlWzBdICYmICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2W2ldIDwgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJHZvaWNlRnJlcXVlbmN5UmFuZ2VbMV07XG59KTtcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQzMGE2ZjI4ODEzMTEwODhmID0gJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGZhY2QxNjdjYzI3ZWE5YjAuZmlsdGVyKChfLCBpKT0+e1xuICAgIHJldHVybiAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNltpXSA+ICQwM2Y3MWNlODVlMDBhZGE2JHZhciR2b2ljZUZyZXF1ZW5jeVJhbmdlWzBdICYmICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2W2ldIDwgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJHZvaWNlRnJlcXVlbmN5UmFuZ2VbMV07XG59KTtcblxuXG5jbGFzcyAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOSB7XG4gICAgLyoqXG4gICAqIFJldHJpZXZlcyBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSBhbiBBbmFseXNlck5vZGUgYWRqdXN0ZWQgdG8gYSBkZWNpYmVsIHJhbmdlXG4gICAqIHJldHVybnMgaHVtYW4tcmVhZGFibGUgZm9ybWF0dGluZyBhbmQgbGFiZWxzXG4gICAqIEBwYXJhbSB7QW5hbHlzZXJOb2RlfSBhbmFseXNlclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2FtcGxlUmF0ZVxuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW2ZmdFJlc3VsdF1cbiAgICogQHBhcmFtIHtcImZyZXF1ZW5jeVwifFwibXVzaWNcInxcInZvaWNlXCJ9IFthbmFseXNpc1R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRGVjaWJlbHNdIGRlZmF1bHQgLTEwMFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heERlY2liZWxzXSBkZWZhdWx0IC0zMFxuICAgKiBAcmV0dXJucyB7QXVkaW9BbmFseXNpc091dHB1dFR5cGV9XG4gICAqLyBzdGF0aWMgZ2V0RnJlcXVlbmNpZXMoYW5hbHlzZXIsIHNhbXBsZVJhdGUsIGZmdFJlc3VsdCwgYW5hbHlzaXNUeXBlID0gJ2ZyZXF1ZW5jeScsIG1pbkRlY2liZWxzID0gLTEwMCwgbWF4RGVjaWJlbHMgPSAtMzApIHtcbiAgICAgICAgaWYgKCFmZnRSZXN1bHQpIHtcbiAgICAgICAgICAgIGZmdFJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgICAgICAgICAgYW5hbHlzZXIuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKGZmdFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnlxdWlzdEZyZXF1ZW5jeSA9IHNhbXBsZVJhdGUgLyAyO1xuICAgICAgICBjb25zdCBmcmVxdWVuY3lTdGVwID0gMSAvIGZmdFJlc3VsdC5sZW5ndGggKiBueXF1aXN0RnJlcXVlbmN5O1xuICAgICAgICBsZXQgb3V0cHV0VmFsdWVzO1xuICAgICAgICBsZXQgZnJlcXVlbmNpZXM7XG4gICAgICAgIGxldCBsYWJlbHM7XG4gICAgICAgIGlmIChhbmFseXNpc1R5cGUgPT09ICdtdXNpYycgfHwgYW5hbHlzaXNUeXBlID09PSAndm9pY2UnKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VGcmVxdWVuY2llcyA9IGFuYWx5c2lzVHlwZSA9PT0gJ3ZvaWNlJyA/ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZGJjMTU4MWVkMmNmYTE4MykgOiAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzYpO1xuICAgICAgICAgICAgY29uc3QgYWdncmVnYXRlT3V0cHV0ID0gQXJyYXkodXNlRnJlcXVlbmNpZXMubGVuZ3RoKS5maWxsKG1pbkRlY2liZWxzKTtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmZnRSZXN1bHQubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyZXF1ZW5jeSA9IGkgKiBmcmVxdWVuY3lTdGVwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtcGxpdHVkZSA9IGZmdFJlc3VsdFtpXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IG4gPSB1c2VGcmVxdWVuY2llcy5sZW5ndGggLSAxOyBuID49IDA7IG4tLSlpZiAoZnJlcXVlbmN5ID4gdXNlRnJlcXVlbmNpZXNbbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlT3V0cHV0W25dID0gTWF0aC5tYXgoYWdncmVnYXRlT3V0cHV0W25dLCBhbXBsaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRWYWx1ZXMgPSBhZ2dyZWdhdGVPdXRwdXQ7XG4gICAgICAgICAgICBmcmVxdWVuY2llcyA9IGFuYWx5c2lzVHlwZSA9PT0gJ3ZvaWNlJyA/ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZGJjMTU4MWVkMmNmYTE4MykgOiAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzYpO1xuICAgICAgICAgICAgbGFiZWxzID0gYW5hbHlzaXNUeXBlID09PSAndm9pY2UnID8gKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQzMGE2ZjI4ODEzMTEwODhmKSA6ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZmFjZDE2N2NjMjdlYTliMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXRWYWx1ZXMgPSBBcnJheS5mcm9tKGZmdFJlc3VsdCk7XG4gICAgICAgICAgICBmcmVxdWVuY2llcyA9IG91dHB1dFZhbHVlcy5tYXAoKF8sIGkpPT5mcmVxdWVuY3lTdGVwICogaSk7XG4gICAgICAgICAgICBsYWJlbHMgPSBmcmVxdWVuY2llcy5tYXAoKGYpPT5gJHtmLnRvRml4ZWQoMil9IEh6YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugbm9ybWFsaXplIHRvIHswLCAxfVxuICAgICAgICBjb25zdCBub3JtYWxpemVkT3V0cHV0ID0gb3V0cHV0VmFsdWVzLm1hcCgodik9PntcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigodiAtIG1pbkRlY2liZWxzKSAvIChtYXhEZWNpYmVscyAtIG1pbkRlY2liZWxzKSwgMSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShub3JtYWxpemVkT3V0cHV0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZnJlcXVlbmNpZXM6IGZyZXF1ZW5jaWVzLFxuICAgICAgICAgICAgbGFiZWxzOiBsYWJlbHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQXVkaW9BbmFseXNpcyBpbnN0YW5jZSBmb3IgYW4gSFRNTEF1ZGlvRWxlbWVudFxuICAgKiBAcGFyYW0ge0hUTUxBdWRpb0VsZW1lbnR9IGF1ZGlvRWxlbWVudFxuICAgKiBAcGFyYW0ge0F1ZGlvQnVmZmVyfG51bGx9IFthdWRpb0J1ZmZlcl0gSWYgcHJvdmlkZWQsIHdpbGwgY2FjaGUgYWxsIGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIHRoZSBidWZmZXJcbiAgICogQHJldHVybnMge0F1ZGlvQW5hbHlzaXN9XG4gICAqLyBjb25zdHJ1Y3RvcihhdWRpb0VsZW1lbnQsIGF1ZGlvQnVmZmVyID0gbnVsbCl7XG4gICAgICAgIHRoaXMuZmZ0UmVzdWx0cyA9IFtdO1xuICAgICAgICBpZiAoYXVkaW9CdWZmZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICogTW9kaWZpZWQgZnJvbVxuICAgICAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzUwNjM3MTUvdXNpbmctdGhlLXdlYi1hdWRpby1hcGktdG8tYW5hbHl6ZS1hLXNvbmctd2l0aG91dC1wbGF5aW5nXG4gICAgICAgKlxuICAgICAgICogV2UgZG8gdGhpcyB0byBwb3B1bGF0ZSBGRlQgdmFsdWVzIGZvciB0aGUgYXVkaW8gaWYgcHJvdmlkZWQgYW4gYGF1ZGlvQnVmZmVyYFxuICAgICAgICogVGhlIHJlYXNvbiB0byBkbyB0aGlzIGlzIHRoYXQgU2FmYXJpIGZhaWxzIHdoZW4gdXNpbmcgYGNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZWBcbiAgICAgICAqIFRoaXMgaGFzIGEgbm9uLXplcm8gUkFNIGNvc3Qgc28gd2Ugb25seSBvcHQtaW4gdG8gcnVuIGl0IG9uIFNhZmFyaSwgQ2hyb21lIGlzIGJldHRlclxuICAgICAgICovIGNvbnN0IHsgbGVuZ3RoOiBsZW5ndGgsIHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUgfSA9IGF1ZGlvQnVmZmVyO1xuICAgICAgICAgICAgY29uc3Qgb2ZmbGluZUF1ZGlvQ29udGV4dCA9IG5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgICAgICAgICBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IG9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9CdWZmZXI7XG4gICAgICAgICAgICBjb25zdCBhbmFseXNlciA9IG9mZmxpbmVBdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSA4MTkyO1xuICAgICAgICAgICAgYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4xO1xuICAgICAgICAgICAgc291cmNlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICAgICAgLy8gbGltaXQgaXMgOjogMTI4IC8gc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIC8vIGJ1dCB3ZSBqdXN0IHdhbnQgNjBmcHMgLSBjdXRzIH4xcyBmcm9tIDZNQiB0byAxTUIgb2YgUkFNXG4gICAgICAgICAgICBjb25zdCByZW5kZXJRdWFudHVtSW5TZWNvbmRzID0gMSAvIDYwO1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25JblNlY29uZHMgPSBsZW5ndGggLyBzYW1wbGVSYXRlO1xuICAgICAgICAgICAgY29uc3QgYW5hbHl6ZSA9IChpbmRleCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBzdXNwZW5kVGltZSA9IHJlbmRlclF1YW50dW1JblNlY29uZHMgKiBpbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuZFRpbWUgPCBkdXJhdGlvbkluU2Vjb25kcykgb2ZmbGluZUF1ZGlvQ29udGV4dC5zdXNwZW5kKHN1c3BlbmRUaW1lKS50aGVuKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZmdFJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICBhbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZmZ0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZnRSZXN1bHRzLnB1c2goZmZ0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgYW5hbHl6ZShpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMSkgb2ZmbGluZUF1ZGlvQ29udGV4dC5zdGFydFJlbmRlcmluZygpO1xuICAgICAgICAgICAgICAgIGVsc2Ugb2ZmbGluZUF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgICAgICAgICBhbmFseXplKDEpO1xuICAgICAgICAgICAgdGhpcy5hdWRpbyA9IGF1ZGlvRWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IG9mZmxpbmVBdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyID0gYW5hbHlzZXI7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlciA9IGF1ZGlvQnVmZmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9Db250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhY2sgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGF1ZGlvRWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBhbmFseXNlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICAgICAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDgxOTI7XG4gICAgICAgICAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjE7XG4gICAgICAgICAgICB0cmFjay5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBhdWRpb0VsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBhdWRpb0NvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyID0gYW5hbHlzZXI7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSB0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIHRoZSBwbGF5aW5nIGF1ZGlvIHRyYWNrXG4gICAqIEBwYXJhbSB7XCJmcmVxdWVuY3lcInxcIm11c2ljXCJ8XCJ2b2ljZVwifSBbYW5hbHlzaXNUeXBlXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkRlY2liZWxzXSBkZWZhdWx0IC0xMDBcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhEZWNpYmVsc10gZGVmYXVsdCAtMzBcbiAgICogQHJldHVybnMge0F1ZGlvQW5hbHlzaXNPdXRwdXRUeXBlfVxuICAgKi8gZ2V0RnJlcXVlbmNpZXMoYW5hbHlzaXNUeXBlID0gJ2ZyZXF1ZW5jeScsIG1pbkRlY2liZWxzID0gLTEwMCwgbWF4RGVjaWJlbHMgPSAtMzApIHtcbiAgICAgICAgbGV0IGZmdFJlc3VsdCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQnVmZmVyICYmIHRoaXMuZmZ0UmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBjdCA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWUgLyB0aGlzLmF1ZGlvLmR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLm1pbihwY3QgKiB0aGlzLmZmdFJlc3VsdHMubGVuZ3RoIHwgMCwgdGhpcy5mZnRSZXN1bHRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgZmZ0UmVzdWx0ID0gdGhpcy5mZnRSZXN1bHRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjkuZ2V0RnJlcXVlbmNpZXModGhpcy5hbmFseXNlciwgdGhpcy5zYW1wbGVSYXRlLCBmZnRSZXN1bHQsIGFuYWx5c2lzVHlwZSwgbWluRGVjaWJlbHMsIG1heERlY2liZWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJlc3VtZSB0aGUgaW50ZXJuYWwgQXVkaW9Db250ZXh0IGlmIGl0IHdhcyBzdXNwZW5kZWQgZHVlIHRvIHRoZSBsYWNrIG9mXG4gICAqIHVzZXIgaW50ZXJhY3Rpb24gd2hlbiB0aGUgQXVkaW9BbmFseXNpcyB3YXMgaW5zdGFudGlhdGVkLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHJlc3VtZUlmU3VzcGVuZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJykgYXdhaXQgdGhpcy5jb250ZXh0LnJlc3VtZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5nbG9iYWxUaGlzLkF1ZGlvQW5hbHlzaXMgPSAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOTtcblxuXG5jb25zdCAkMjlhOGE3MGE5NDY2YjE0ZiRleHBvcnQkNTBiNzY3MDBlMmIxNWU5ID0gYFxuY2xhc3MgU3RyZWFtUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmhhc0ludGVycnVwdGVkID0gZmFsc2U7XG4gICAgdGhpcy5vdXRwdXRCdWZmZXJzID0gW107XG4gICAgdGhpcy5idWZmZXJMZW5ndGggPSAxMjg7XG4gICAgdGhpcy53cml0ZSA9IHsgYnVmZmVyOiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKSwgdHJhY2tJZDogbnVsbCB9O1xuICAgIHRoaXMud3JpdGVPZmZzZXQgPSAwO1xuICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzID0ge307XG4gICAgdGhpcy5wb3J0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRhdGEpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGV2ZW50LmRhdGE7XG4gICAgICAgIGlmIChwYXlsb2FkLmV2ZW50ID09PSAnd3JpdGUnKSB7XG4gICAgICAgICAgY29uc3QgaW50MTZBcnJheSA9IHBheWxvYWQuYnVmZmVyO1xuICAgICAgICAgIGNvbnN0IGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoaW50MTZBcnJheS5sZW5ndGgpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50MTZBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZmxvYXQzMkFycmF5W2ldID0gaW50MTZBcnJheVtpXSAvIDB4ODAwMDsgLy8gQ29udmVydCBJbnQxNiB0byBGbG9hdDMyXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud3JpdGVEYXRhKGZsb2F0MzJBcnJheSwgcGF5bG9hZC50cmFja0lkKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBwYXlsb2FkLmV2ZW50ID09PSAnb2Zmc2V0JyB8fFxuICAgICAgICAgIHBheWxvYWQuZXZlbnQgPT09ICdpbnRlcnJ1cHQnXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IHBheWxvYWQucmVxdWVzdElkO1xuICAgICAgICAgIGNvbnN0IHRyYWNrSWQgPSB0aGlzLndyaXRlLnRyYWNrSWQ7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy50cmFja1NhbXBsZU9mZnNldHNbdHJhY2tJZF0gfHwgMDtcbiAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXZlbnQ6ICdvZmZzZXQnLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgdHJhY2tJZCxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocGF5bG9hZC5ldmVudCA9PT0gJ2ludGVycnVwdCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzSW50ZXJydXB0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxgVW5oYW5kbGVkIGV2ZW50IFwiXFwke3BheWxvYWQuZXZlbnR9XCJcXGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHdyaXRlRGF0YShmbG9hdDMyQXJyYXksIHRyYWNrSWQgPSBudWxsKSB7XG4gICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLndyaXRlO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLndyaXRlT2Zmc2V0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxvYXQzMkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBidWZmZXJbb2Zmc2V0KytdID0gZmxvYXQzMkFycmF5W2ldO1xuICAgICAgaWYgKG9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMub3V0cHV0QnVmZmVycy5wdXNoKHRoaXMud3JpdGUpO1xuICAgICAgICB0aGlzLndyaXRlID0geyBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5idWZmZXJMZW5ndGgpLCB0cmFja0lkIH07XG4gICAgICAgIGJ1ZmZlciA9IHRoaXMud3JpdGUuYnVmZmVyO1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLndyaXRlT2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBvdXRwdXQgPSBvdXRwdXRzWzBdO1xuICAgIGNvbnN0IG91dHB1dENoYW5uZWxEYXRhID0gb3V0cHV0WzBdO1xuICAgIGNvbnN0IG91dHB1dEJ1ZmZlcnMgPSB0aGlzLm91dHB1dEJ1ZmZlcnM7XG4gICAgaWYgKHRoaXMuaGFzSW50ZXJydXB0ZWQpIHtcbiAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IGV2ZW50OiAnc3RvcCcgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChvdXRwdXRCdWZmZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHsgYnVmZmVyLCB0cmFja0lkIH0gPSBvdXRwdXRCdWZmZXJzLnNoaWZ0KCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dENoYW5uZWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG91dHB1dENoYW5uZWxEYXRhW2ldID0gYnVmZmVyW2ldIHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHJhY2tJZCkge1xuICAgICAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1t0cmFja0lkXSA9XG4gICAgICAgICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHNbdHJhY2tJZF0gfHwgMDtcbiAgICAgICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHNbdHJhY2tJZF0gKz0gYnVmZmVyLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyBldmVudDogJ3N0b3AnIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxucmVnaXN0ZXJQcm9jZXNzb3IoJ3N0cmVhbV9wcm9jZXNzb3InLCBTdHJlYW1Qcm9jZXNzb3IpO1xuYDtcbmNvbnN0ICQyOWE4YTcwYTk0NjZiMTRmJHZhciRzY3JpcHQgPSBuZXcgQmxvYihbXG4gICAgJDI5YThhNzBhOTQ2NmIxNGYkZXhwb3J0JDUwYjc2NzAwZTJiMTVlOVxuXSwge1xuICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xufSk7XG5jb25zdCAkMjlhOGE3MGE5NDY2YjE0ZiR2YXIkc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCgkMjlhOGE3MGE5NDY2YjE0ZiR2YXIkc2NyaXB0KTtcbmNvbnN0ICQyOWE4YTcwYTk0NjZiMTRmJGV4cG9ydCRiZmE4YzU5NjExNGQ3NGRmID0gJDI5YThhNzBhOTQ2NmIxNGYkdmFyJHNyYztcblxuXG5cbmNsYXNzICRkMGE5Njk4MzM5NThkOWU3JGV4cG9ydCQ5Njk4ZDYyYzc4YjhmMzY2IHtcbiAgICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBXYXZTdHJlYW1QbGF5ZXIgaW5zdGFuY2VcbiAgICogQHBhcmFtIHt7c2FtcGxlUmF0ZT86IG51bWJlcn19IG9wdGlvbnNcbiAgICogQHJldHVybnMge1dhdlN0cmVhbVBsYXllcn1cbiAgICovIGNvbnN0cnVjdG9yKHsgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSA9IDQ0MTAwIH0gPSB7fSl7XG4gICAgICAgIHRoaXMuc2NyaXB0U3JjID0gKDAsICQyOWE4YTcwYTk0NjZiMTRmJGV4cG9ydCRiZmE4YzU5NjExNGQ3NGRmKTtcbiAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLmFuYWx5c2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHMgPSB7fTtcbiAgICAgICAgdGhpcy5pbnRlcnJ1cHRlZFRyYWNrSWRzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgYXVkaW8gY29udGV4dCBhbmQgZW5hYmxlcyBvdXRwdXQgdG8gc3BlYWtlcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuX3NwZWFrZXJJRCkgdGhpcy5jb250ZXh0LnNldFNpbmtJZCh0aGlzLl9zcGVha2VySUQpO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSBhd2FpdCB0aGlzLmNvbnRleHQucmVzdW1lKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNvbnRleHQuYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZSh0aGlzLnNjcmlwdFNyYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBhZGQgYXVkaW9Xb3JrbGV0IG1vZHVsZTogJHt0aGlzLnNjcmlwdFNyY31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmFseXNlciA9IHRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICBhbmFseXNlci5mZnRTaXplID0gODE5MjtcbiAgICAgICAgYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4xO1xuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYW5hbHlzZXI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSB0aGUgcGxheWluZyB0cmFja1xuICAgKiBAcGFyYW0ge1wiZnJlcXVlbmN5XCJ8XCJtdXNpY1wifFwidm9pY2VcIn0gW2FuYWx5c2lzVHlwZV1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5EZWNpYmVsc10gZGVmYXVsdCAtMTAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RGVjaWJlbHNdIGRlZmF1bHQgLTMwXG4gICAqIEByZXR1cm5zIHtpbXBvcnQoJy4vYW5hbHlzaXMvYXVkaW9fYW5hbHlzaXMuanMnKS5BdWRpb0FuYWx5c2lzT3V0cHV0VHlwZX1cbiAgICovIGdldEZyZXF1ZW5jaWVzKGFuYWx5c2lzVHlwZSA9IFwiZnJlcXVlbmN5XCIsIG1pbkRlY2liZWxzID0gLTEwMCwgbWF4RGVjaWJlbHMgPSAtMzApIHtcbiAgICAgICAgaWYgKCF0aGlzLmFuYWx5c2VyKSB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkLCBwbGVhc2UgY2FsbCAuY29ubmVjdCgpIGZpcnN0XCIpO1xuICAgICAgICByZXR1cm4gKDAsICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5KS5nZXRGcmVxdWVuY2llcyh0aGlzLmFuYWx5c2VyLCB0aGlzLnNhbXBsZVJhdGUsIG51bGwsIGFuYWx5c2lzVHlwZSwgbWluRGVjaWJlbHMsIG1heERlY2liZWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcGVha2VyIGRldmljZUlkXG4gICAqLyBhc3luYyB1cGRhdGVTcGVha2VyKHNwZWFrZXIpIHtcbiAgICAgICAgY29uc3QgX3ByZXZTcGVha2VyID0gdGhpcy5fc3BlYWtlcklEO1xuICAgICAgICB0aGlzLl9zcGVha2VySUQgPSBzcGVha2VyO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB0cnkge1xuICAgICAgICAgICAgaWYgKHNwZWFrZXIgPT09IFwiZGVmYXVsdFwiKSBhd2FpdCB0aGlzLmNvbnRleHQuc2V0U2lua0lkKCk7XG4gICAgICAgICAgICBlbHNlIGF3YWl0IHRoaXMuY29udGV4dC5zZXRTaW5rSWQoc3BlYWtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBzZXQgc2lua0lkIHRvICR7c3BlYWtlcn06ICR7ZX1gKTtcbiAgICAgICAgICAgIHRoaXMuX3NwZWFrZXJJRCA9IF9wcmV2U3BlYWtlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICogU3RhcnRzIGF1ZGlvIHN0cmVhbWluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIF9zdGFydCgpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtTm9kZSA9IG5ldyBBdWRpb1dvcmtsZXROb2RlKHRoaXMuY29udGV4dCwgXCJzdHJlYW1fcHJvY2Vzc29yXCIpO1xuICAgICAgICBzdHJlYW1Ob2RlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgc3RyZWFtTm9kZS5wb3J0Lm9ubWVzc2FnZSA9IChlKT0+e1xuICAgICAgICAgICAgY29uc3QgeyBldmVudDogZXZlbnQgfSA9IGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gXCJzdG9wXCIpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW1Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBcIm9mZnNldFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXF1ZXN0SWQ6IHJlcXVlc3RJZCwgdHJhY2tJZDogdHJhY2tJZCwgb2Zmc2V0OiBvZmZzZXQgfSA9IGUuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG9mZnNldCAvIHRoaXMuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1tyZXF1ZXN0SWRdID0ge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0lkOiB0cmFja0lkLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWU6IGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hbmFseXNlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHN0cmVhbU5vZGUuY29ubmVjdCh0aGlzLmFuYWx5c2VyKTtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW1Ob2RlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEFkZHMgMTZCaXRQQ00gZGF0YSB0byB0aGUgY3VycmVudGx5IHBsYXlpbmcgYXVkaW8gc3RyZWFtXG4gICAqIFlvdSBjYW4gYWRkIGNodW5rcyBiZXlvbmQgdGhlIGN1cnJlbnQgcGxheSBwb2ludCBhbmQgdGhleSB3aWxsIGJlIHF1ZXVlZCBmb3IgcGxheVxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfEludDE2QXJyYXl9IGFycmF5QnVmZmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHJhY2tJZF1cbiAgICogQHJldHVybnMge0ludDE2QXJyYXl9XG4gICAqLyBhZGQxNkJpdFBDTShhcnJheUJ1ZmZlciwgdHJhY2tJZCA9IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdHJhY2tJZCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKGB0cmFja0lkIG11c3QgYmUgYSBzdHJpbmdgKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbnRlcnJ1cHRlZFRyYWNrSWRzW3RyYWNrSWRdKSByZXR1cm47XG4gICAgICAgIGlmICghdGhpcy5zdHJlYW0pIHRoaXMuX3N0YXJ0KCk7XG4gICAgICAgIGxldCBidWZmZXI7XG4gICAgICAgIGlmIChhcnJheUJ1ZmZlciBpbnN0YW5jZW9mIEludDE2QXJyYXkpIGJ1ZmZlciA9IGFycmF5QnVmZmVyO1xuICAgICAgICBlbHNlIGlmIChhcnJheUJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSBidWZmZXIgPSBuZXcgSW50MTZBcnJheShhcnJheUJ1ZmZlcik7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKGBhcmd1bWVudCBtdXN0IGJlIEludDE2QXJyYXkgb3IgQXJyYXlCdWZmZXJgKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ucG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBldmVudDogXCJ3cml0ZVwiLFxuICAgICAgICAgICAgYnVmZmVyOiBidWZmZXIsXG4gICAgICAgICAgICB0cmFja0lkOiB0cmFja0lkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICogR2V0cyB0aGUgb2Zmc2V0IChzYW1wbGUgY291bnQpIG9mIHRoZSBjdXJyZW50bHkgcGxheWluZyBzdHJlYW1cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJydXB0XVxuICAgKiBAcmV0dXJucyB7e3RyYWNrSWQ6IHN0cmluZ3xudWxsLCBvZmZzZXQ6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlcn19XG4gICAqLyBhc3luYyBnZXRUcmFja1NhbXBsZU9mZnNldChpbnRlcnJ1cHQgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMuc3RyZWFtKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ucG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBldmVudDogaW50ZXJydXB0ID8gXCJpbnRlcnJ1cHRcIiA6IFwib2Zmc2V0XCIsXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRyYWNrU2FtcGxlT2Zmc2V0O1xuICAgICAgICB3aGlsZSghdHJhY2tTYW1wbGVPZmZzZXQpe1xuICAgICAgICAgICAgdHJhY2tTYW1wbGVPZmZzZXQgPSB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1tyZXF1ZXN0SWRdO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpPT5zZXRUaW1lb3V0KCgpPT5yKCksIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRyYWNrSWQ6IHRyYWNrSWQgfSA9IHRyYWNrU2FtcGxlT2Zmc2V0O1xuICAgICAgICBpZiAoaW50ZXJydXB0ICYmIHRyYWNrSWQpIHRoaXMuaW50ZXJydXB0ZWRUcmFja0lkc1t0cmFja0lkXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cmFja1NhbXBsZU9mZnNldDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFN0cmlwcyB0aGUgY3VycmVudCBzdHJlYW0gYW5kIHJldHVybnMgdGhlIHNhbXBsZSBvZmZzZXQgb2YgdGhlIGF1ZGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVycnVwdF1cbiAgICogQHJldHVybnMge3t0cmFja0lkOiBzdHJpbmd8bnVsbCwgb2Zmc2V0OiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXJ9fVxuICAgKi8gYXN5bmMgaW50ZXJydXB0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUcmFja1NhbXBsZU9mZnNldCh0cnVlKTtcbiAgICB9XG59XG5nbG9iYWxUaGlzLldhdlN0cmVhbVBsYXllciA9ICRkMGE5Njk4MzM5NThkOWU3JGV4cG9ydCQ5Njk4ZDYyYzc4YjhmMzY2O1xuXG5cbmNvbnN0ICQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRBdWRpb1Byb2Nlc3NvcldvcmtsZXQgPSBgXG5jbGFzcyBBdWRpb1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBvcnQub25tZXNzYWdlID0gdGhpcy5yZWNlaXZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZm91bmRBdWRpbyA9IGZhbHNlO1xuICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25jYXRlbmF0ZXMgc2FtcGxlZCBjaHVua3MgaW50byBjaGFubmVsc1xuICAgKiBGb3JtYXQgaXMgY2h1bmtbTGVmdFtdLCBSaWdodFtdXVxuICAgKi9cbiAgcmVhZENoYW5uZWxEYXRhKGNodW5rcywgY2hhbm5lbCA9IC0xLCBtYXhDaGFubmVscyA9IDkpIHtcbiAgICBsZXQgY2hhbm5lbExpbWl0O1xuICAgIGlmIChjaGFubmVsICE9PSAtMSkge1xuICAgICAgaWYgKGNodW5rc1swXSAmJiBjaHVua3NbMF0ubGVuZ3RoIC0gMSA8IGNoYW5uZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFxcYENoYW5uZWwgXFwke2NoYW5uZWx9IG91dCBvZiByYW5nZTogbWF4IFxcJHtjaHVua3NbMF0ubGVuZ3RofVxcYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2hhbm5lbExpbWl0ID0gY2hhbm5lbCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5uZWwgPSAwO1xuICAgICAgY2hhbm5lbExpbWl0ID0gTWF0aC5taW4oY2h1bmtzWzBdID8gY2h1bmtzWzBdLmxlbmd0aCA6IDEsIG1heENoYW5uZWxzKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbm5lbHMgPSBbXTtcbiAgICBmb3IgKGxldCBuID0gY2hhbm5lbDsgbiA8IGNoYW5uZWxMaW1pdDsgbisrKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBjaHVua3MucmVkdWNlKChzdW0sIGNodW5rKSA9PiB7XG4gICAgICAgIHJldHVybiBzdW0gKyBjaHVua1tuXS5sZW5ndGg7XG4gICAgICB9LCAwKTtcbiAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBjaHVua3MubWFwKChjaHVuaykgPT4gY2h1bmtbbl0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnNldChidWZmZXJzW2ldLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gYnVmZmVyc1tpXS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBjaGFubmVsc1tuXSA9IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5uZWxzO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbWJpbmVzIHBhcmFsbGVsIGF1ZGlvIGRhdGEgaW50byBjb3JyZWN0IGZvcm1hdCxcbiAgICogY2hhbm5lbHNbTGVmdFtdLCBSaWdodFtdXSB0byBmbG9hdDMyQXJyYXlbTFJMUkxSTFIuLi5dXG4gICAqL1xuICBmb3JtYXRBdWRpb0RhdGEoY2hhbm5lbHMpIHtcbiAgICBpZiAoY2hhbm5lbHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBTaW1wbGUgY2FzZSBpcyBvbmx5IG9uZSBjaGFubmVsXG4gICAgICBjb25zdCBmbG9hdDMyQXJyYXkgPSBjaGFubmVsc1swXS5zbGljZSgpO1xuICAgICAgY29uc3QgbWVhblZhbHVlcyA9IGNoYW5uZWxzWzBdLnNsaWNlKCk7XG4gICAgICByZXR1cm4geyBmbG9hdDMyQXJyYXksIG1lYW5WYWx1ZXMgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShcbiAgICAgICAgY2hhbm5lbHNbMF0ubGVuZ3RoICogY2hhbm5lbHMubGVuZ3RoXG4gICAgICApO1xuICAgICAgY29uc3QgbWVhblZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoY2hhbm5lbHNbMF0ubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbHNbMF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIGNoYW5uZWxzLmxlbmd0aDtcbiAgICAgICAgbGV0IG1lYW5WYWx1ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgY2hhbm5lbHMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICBmbG9hdDMyQXJyYXlbb2Zmc2V0ICsgbl0gPSBjaGFubmVsc1tuXVtpXTtcbiAgICAgICAgICBtZWFuVmFsdWUgKz0gY2hhbm5lbHNbbl1baV07XG4gICAgICAgIH1cbiAgICAgICAgbWVhblZhbHVlc1tpXSA9IG1lYW5WYWx1ZSAvIGNoYW5uZWxzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGZsb2F0MzJBcnJheSwgbWVhblZhbHVlcyB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyAzMi1iaXQgZmxvYXQgZGF0YSB0byAxNi1iaXQgaW50ZWdlcnNcbiAgICovXG4gIGZsb2F0VG8xNkJpdFBDTShmbG9hdDMyQXJyYXkpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoZmxvYXQzMkFycmF5Lmxlbmd0aCAqIDIpO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsb2F0MzJBcnJheS5sZW5ndGg7IGkrKywgb2Zmc2V0ICs9IDIpIHtcbiAgICAgIGxldCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIGZsb2F0MzJBcnJheVtpXSkpO1xuICAgICAgdmlldy5zZXRJbnQxNihvZmZzZXQsIHMgPCAwID8gcyAqIDB4ODAwMCA6IHMgKiAweDdmZmYsIHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbW9zdCByZWNlbnQgYW1wbGl0dWRlIHZhbHVlcyBmcm9tIHRoZSBhdWRpbyBzdHJlYW1cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNoYW5uZWxcbiAgICovXG4gIGdldFZhbHVlcyhjaGFubmVsID0gLTEpIHtcbiAgICBjb25zdCBjaGFubmVscyA9IHRoaXMucmVhZENoYW5uZWxEYXRhKHRoaXMuY2h1bmtzLCBjaGFubmVsKTtcbiAgICBjb25zdCB7IG1lYW5WYWx1ZXMgfSA9IHRoaXMuZm9ybWF0QXVkaW9EYXRhKGNoYW5uZWxzKTtcbiAgICByZXR1cm4geyBtZWFuVmFsdWVzLCBjaGFubmVscyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9ydHMgY2h1bmtzIGFzIGFuIGF1ZGlvL3dhdiBmaWxlXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgY29uc3QgY2hhbm5lbHMgPSB0aGlzLnJlYWRDaGFubmVsRGF0YSh0aGlzLmNodW5rcyk7XG4gICAgY29uc3QgeyBmbG9hdDMyQXJyYXksIG1lYW5WYWx1ZXMgfSA9IHRoaXMuZm9ybWF0QXVkaW9EYXRhKGNoYW5uZWxzKTtcbiAgICBjb25zdCBhdWRpb0RhdGEgPSB0aGlzLmZsb2F0VG8xNkJpdFBDTShmbG9hdDMyQXJyYXkpO1xuICAgIHJldHVybiB7XG4gICAgICBtZWFuVmFsdWVzOiBtZWFuVmFsdWVzLFxuICAgICAgYXVkaW86IHtcbiAgICAgICAgYml0c1BlclNhbXBsZTogMTYsXG4gICAgICAgIGNoYW5uZWxzOiBjaGFubmVscyxcbiAgICAgICAgZGF0YTogYXVkaW9EYXRhLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcmVjZWl2ZShlKSB7XG4gICAgY29uc3QgeyBldmVudCwgaWQgfSA9IGUuZGF0YTtcbiAgICBsZXQgcmVjZWlwdERhdGEgPSB7fTtcbiAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjbGVhcic6XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2V4cG9ydCc6XG4gICAgICAgIHJlY2VpcHREYXRhID0gdGhpcy5leHBvcnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFkJzpcbiAgICAgICAgcmVjZWlwdERhdGEgPSB0aGlzLmdldFZhbHVlcygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBBbHdheXMgc2VuZCBiYWNrIHJlY2VpcHRcbiAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyBldmVudDogJ3JlY2VpcHQnLCBpZCwgZGF0YTogcmVjZWlwdERhdGEgfSk7XG4gIH1cblxuICBzZW5kQ2h1bmsoY2h1bmspIHtcbiAgICBjb25zdCBjaGFubmVscyA9IHRoaXMucmVhZENoYW5uZWxEYXRhKFtjaHVua10pO1xuICAgIGNvbnN0IHsgZmxvYXQzMkFycmF5LCBtZWFuVmFsdWVzIH0gPSB0aGlzLmZvcm1hdEF1ZGlvRGF0YShjaGFubmVscyk7XG4gICAgY29uc3QgcmF3QXVkaW9EYXRhID0gdGhpcy5mbG9hdFRvMTZCaXRQQ00oZmxvYXQzMkFycmF5KTtcbiAgICBjb25zdCBtb25vQXVkaW9EYXRhID0gdGhpcy5mbG9hdFRvMTZCaXRQQ00obWVhblZhbHVlcyk7XG4gICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgIGV2ZW50OiAnY2h1bmsnLFxuICAgICAgZGF0YToge1xuICAgICAgICBtb25vOiBtb25vQXVkaW9EYXRhLFxuICAgICAgICByYXc6IHJhd0F1ZGlvRGF0YSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcm9jZXNzKGlucHV0TGlzdCwgb3V0cHV0TGlzdCwgcGFyYW1ldGVycykge1xuICAgIC8vIENvcHkgaW5wdXQgdG8gb3V0cHV0IChlLmcuIHNwZWFrZXJzKVxuICAgIC8vIE5vdGUgdGhhdCB0aGlzIGNyZWF0ZXMgY2hvcHB5IHNvdW5kcyB3aXRoIE1hYyBwcm9kdWN0c1xuICAgIGNvbnN0IHNvdXJjZUxpbWl0ID0gTWF0aC5taW4oaW5wdXRMaXN0Lmxlbmd0aCwgb3V0cHV0TGlzdC5sZW5ndGgpO1xuICAgIGZvciAobGV0IGlucHV0TnVtID0gMDsgaW5wdXROdW0gPCBzb3VyY2VMaW1pdDsgaW5wdXROdW0rKykge1xuICAgICAgY29uc3QgaW5wdXQgPSBpbnB1dExpc3RbaW5wdXROdW1dO1xuICAgICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0TGlzdFtpbnB1dE51bV07XG4gICAgICBjb25zdCBjaGFubmVsQ291bnQgPSBNYXRoLm1pbihpbnB1dC5sZW5ndGgsIG91dHB1dC5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgY2hhbm5lbE51bSA9IDA7IGNoYW5uZWxOdW0gPCBjaGFubmVsQ291bnQ7IGNoYW5uZWxOdW0rKykge1xuICAgICAgICBpbnB1dFtjaGFubmVsTnVtXS5mb3JFYWNoKChzYW1wbGUsIGkpID0+IHtcbiAgICAgICAgICBvdXRwdXRbY2hhbm5lbE51bV1baV0gPSBzYW1wbGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnB1dHMgPSBpbnB1dExpc3RbMF07XG4gICAgLy8gVGhlcmUncyBsYXRlbmN5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBzdHJlYW0gYmVmb3JlIHJlY29yZGluZyBzdGFydHNcbiAgICAvLyBNYWtlIHN1cmUgd2UgYWN0dWFsbHkgcmVjZWl2ZSBhdWRpbyBkYXRhIGJlZm9yZSB3ZSBzdGFydCBzdG9yaW5nIGNodW5rc1xuICAgIGxldCBzbGljZUluZGV4ID0gMDtcbiAgICBpZiAoIXRoaXMuZm91bmRBdWRpbykge1xuICAgICAgZm9yIChjb25zdCBjaGFubmVsIG9mIGlucHV0cykge1xuICAgICAgICBzbGljZUluZGV4ID0gMDsgLy8gcmVzZXQgZm9yIGVhY2ggY2hhbm5lbFxuICAgICAgICBpZiAodGhpcy5mb3VuZEF1ZGlvKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGNoYW5uZWwpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAvLyBmaW5kIG9ubHkgb25lIG5vbi16ZXJvIGVudHJ5IGluIGFueSBjaGFubmVsXG4gICAgICAgICAgICAgIHRoaXMuZm91bmRBdWRpbyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2xpY2VJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5wdXRzICYmIGlucHV0c1swXSAmJiB0aGlzLmZvdW5kQXVkaW8gJiYgdGhpcy5yZWNvcmRpbmcpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gY29weSB0aGUgVHlwZWRBcnJheSwgYmVjYXVzZSB0aGUgXFxgcHJvY2Vzc1xcYFxuICAgICAgLy8gaW50ZXJuYWxzIHdpbGwgcmV1c2UgdGhlIHNhbWUgYnVmZmVyIHRvIGhvbGQgZWFjaCBpbnB1dFxuICAgICAgY29uc3QgY2h1bmsgPSBpbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQuc2xpY2Uoc2xpY2VJbmRleCkpO1xuICAgICAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG4gICAgICB0aGlzLnNlbmRDaHVuayhjaHVuayk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbnJlZ2lzdGVyUHJvY2Vzc29yKCdhdWRpb19wcm9jZXNzb3InLCBBdWRpb1Byb2Nlc3Nvcik7XG5gO1xuY29uc3QgJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJHNjcmlwdCA9IG5ldyBCbG9iKFtcbiAgICAkOGUxZDFlNmZmMDhmNmZiNSR2YXIkQXVkaW9Qcm9jZXNzb3JXb3JrbGV0XG5dLCB7XG4gICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXG59KTtcbmNvbnN0ICQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRzcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRzY3JpcHQpO1xuY29uc3QgJDhlMWQxZTZmZjA4ZjZmYjUkZXhwb3J0JDFmNjVmNTBhOGNiZmY0M2MgPSAkOGUxZDFlNmZmMDhmNmZiNSR2YXIkc3JjO1xuXG5cblxuXG5jbGFzcyAkNjJiYzM3NjA0NGEwNTUxMyRleHBvcnQkNDM5YjIxN2NhNjU5YTg3NyB7XG4gICAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBXYXZSZWNvcmRlciBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3tzYW1wbGVSYXRlPzogbnVtYmVyLCBvdXRwdXRUb1NwZWFrZXJzPzogYm9vbGVhbiwgZGVidWc/OiBib29sZWFufX0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtXYXZSZWNvcmRlcn1cbiAgICovIGNvbnN0cnVjdG9yKHsgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSA9IDQ0MTAwLCBvdXRwdXRUb1NwZWFrZXJzOiBvdXRwdXRUb1NwZWFrZXJzID0gZmFsc2UsIGRlYnVnOiBkZWJ1ZyA9IGZhbHNlIH0gPSB7fSl7XG4gICAgICAgIC8vIFNjcmlwdCBzb3VyY2VcbiAgICAgICAgdGhpcy5zY3JpcHRTcmMgPSAoMCwgJDhlMWQxZTZmZjA4ZjZmYjUkZXhwb3J0JDFmNjVmNTBhOGNiZmY0M2MpO1xuICAgICAgICAvLyBDb25maWdcbiAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbiAgICAgICAgdGhpcy5vdXRwdXRUb1NwZWFrZXJzID0gb3V0cHV0VG9TcGVha2VycztcbiAgICAgICAgdGhpcy5kZWJ1ZyA9ICEhZGVidWc7XG4gICAgICAgIHRoaXMuX2RldmljZUNoYW5nZUNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGV2aWNlcyA9IFtdO1xuICAgICAgICB0aGlzLmRldmljZVNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIC8vIFN0YXRlIHZhcmlhYmxlc1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICAvLyBFdmVudCBoYW5kbGluZyB3aXRoIEF1ZGlvV29ya2xldFxuICAgICAgICB0aGlzLl9sYXN0RXZlbnRJZCA9IDA7XG4gICAgICAgIHRoaXMuZXZlbnRSZWNlaXB0cyA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50VGltZW91dCA9IDUwMDA7XG4gICAgICAgIC8vIFByb2Nlc3MgY2h1bmtzIG9mIGF1ZGlvXG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yID0gKCk9Pnt9O1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAqIERlY29kZXMgYXVkaW8gZGF0YSBmcm9tIG11bHRpcGxlIGZvcm1hdHMgdG8gYSBCbG9iLCB1cmwsIEZsb2F0MzJBcnJheSBhbmQgQXVkaW9CdWZmZXJcbiAgICogQHBhcmFtIHtCbG9ifEZsb2F0MzJBcnJheXxJbnQxNkFycmF5fEFycmF5QnVmZmVyfG51bWJlcltdfSBhdWRpb0RhdGFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNhbXBsZVJhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21TYW1wbGVSYXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPERlY29kZWRBdWRpb1R5cGU+fVxuICAgKi8gc3RhdGljIGFzeW5jIGRlY29kZShhdWRpb0RhdGEsIHNhbXBsZVJhdGUgPSA0NDEwMCwgZnJvbVNhbXBsZVJhdGUgPSAtMSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXJyYXlCdWZmZXI7XG4gICAgICAgIGxldCBibG9iO1xuICAgICAgICBpZiAoYXVkaW9EYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgaWYgKGZyb21TYW1wbGVSYXRlICE9PSAtMSkgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IHNwZWNpZnkgXCJmcm9tU2FtcGxlUmF0ZVwiIHdoZW4gcmVhZGluZyBmcm9tIEJsb2JgKTtcbiAgICAgICAgICAgIGJsb2IgPSBhdWRpb0RhdGE7XG4gICAgICAgICAgICBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdWRpb0RhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKGZyb21TYW1wbGVSYXRlICE9PSAtMSkgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IHNwZWNpZnkgXCJmcm9tU2FtcGxlUmF0ZVwiIHdoZW4gcmVhZGluZyBmcm9tIEFycmF5QnVmZmVyYCk7XG4gICAgICAgICAgICBhcnJheUJ1ZmZlciA9IGF1ZGlvRGF0YTtcbiAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbXG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXJcbiAgICAgICAgICAgIF0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8vd2F2J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmxvYXQzMkFycmF5O1xuICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICBpZiAoYXVkaW9EYXRhIGluc3RhbmNlb2YgSW50MTZBcnJheSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBhdWRpb0RhdGE7XG4gICAgICAgICAgICAgICAgZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShhdWRpb0RhdGEubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgYXVkaW9EYXRhLmxlbmd0aDsgaSsrKWZsb2F0MzJBcnJheVtpXSA9IGF1ZGlvRGF0YVtpXSAvIDB4ODAwMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXVkaW9EYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSBmbG9hdDMyQXJyYXkgPSBhdWRpb0RhdGE7XG4gICAgICAgICAgICBlbHNlIGlmIChhdWRpb0RhdGEgaW5zdGFuY2VvZiBBcnJheSkgZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShhdWRpb0RhdGEpO1xuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFwiYXVkaW9EYXRhXCIgbXVzdCBiZSBvbmUgb2Y6IEJsb2IsIEZsb2F0MzJBcnJyYXksIEludDE2QXJyYXksIEFycmF5QnVmZmVyLCBBcnJheTxudW1iZXI+YCk7XG4gICAgICAgICAgICBpZiAoZnJvbVNhbXBsZVJhdGUgPT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYE11c3Qgc3BlY2lmeSBcImZyb21TYW1wbGVSYXRlXCIgd2hlbiByZWFkaW5nIGZyb20gRmxvYXQzMkFycmF5LCBJbjE2QXJyYXkgb3IgQXJyYXlgKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21TYW1wbGVSYXRlIDwgMzAwMCkgdGhyb3cgbmV3IEVycm9yKGBNaW5pbXVtIFwiZnJvbVNhbXBsZVJhdGVcIiBpcyAzMDAwICgza0h6KWApO1xuICAgICAgICAgICAgaWYgKCFkYXRhKSBkYXRhID0gKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KS5mbG9hdFRvMTZCaXRQQ00oZmxvYXQzMkFycmF5KTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0ge1xuICAgICAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IDE2LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxzOiBbXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0MzJBcnJheVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tlciA9IG5ldyAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBwYWNrZXIucGFjayhmcm9tU2FtcGxlUmF0ZSwgYXVkaW8pO1xuICAgICAgICAgICAgYmxvYiA9IHJlc3VsdC5ibG9iO1xuICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmxvYjogYmxvYixcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBhdWRpb0J1ZmZlcjogYXVkaW9CdWZmZXJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAqIExvZ3MgZGF0YSBpbiBkZWJ1ZyBtb2RlXG4gICAqIEBwYXJhbSB7Li4uYW55fSBhcmd1bWVudHNcbiAgICogQHJldHVybnMge3RydWV9XG4gICAqLyBsb2coKSB7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB0aGlzLmxvZyguLi5hcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBzYW1wbGVSYXRlIGZvciB0aGUgcmVjb3JkZXJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovIGdldFNhbXBsZVJhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1wiZW5kZWRcInxcInBhdXNlZFwifFwicmVjb3JkaW5nXCJ9XG4gICAqLyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHJldHVybiAnZW5kZWQnO1xuICAgICAgICBlbHNlIGlmICghdGhpcy5yZWNvcmRpbmcpIHJldHVybiAncGF1c2VkJztcbiAgICAgICAgZWxzZSByZXR1cm4gJ3JlY29yZGluZyc7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTZW5kcyBhbiBldmVudCB0byB0aGUgQXVkaW9Xb3JrbGV0XG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7e1trZXk6IHN0cmluZ106IGFueX19IGRhdGFcbiAgICogQHBhcmFtIHtBdWRpb1dvcmtsZXROb2RlfSBbX3Byb2Nlc3Nvcl1cbiAgICogQHJldHVybnMge1Byb21pc2U8e1trZXk6IHN0cmluZ106IGFueX0+fVxuICAgKi8gYXN5bmMgX2V2ZW50KG5hbWUsIGRhdGEgPSB7fSwgX3Byb2Nlc3NvciA9IG51bGwpIHtcbiAgICAgICAgX3Byb2Nlc3NvciA9IF9wcm9jZXNzb3IgfHwgdGhpcy5wcm9jZXNzb3I7XG4gICAgICAgIGlmICghX3Byb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHNlbmQgZXZlbnRzIHdpdGhvdXQgcmVjb3JkaW5nIGZpcnN0Jyk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBldmVudDogbmFtZSxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9sYXN0RXZlbnRJZCsrLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9O1xuICAgICAgICBfcHJvY2Vzc29yLnBvcnQucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IHQwID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgICAgIHdoaWxlKCF0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF0pe1xuICAgICAgICAgICAgaWYgKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gdDAgPiB0aGlzLmV2ZW50VGltZW91dCkgdGhyb3cgbmV3IEVycm9yKGBUaW1lb3V0IHdhaXRpbmcgZm9yIFwiJHtuYW1lfVwiIGV2ZW50YCk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKT0+c2V0VGltZW91dCgoKT0+cmVzKHRydWUpLCAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTZXRzIGRldmljZSBjaGFuZ2UgY2FsbGJhY2ssIHJlbW92ZSBpZiBjYWxsYmFjayBwcm92aWRlZCBpcyBgbnVsbGBcbiAgICogQHBhcmFtIHsoQXJyYXk8TWVkaWFEZXZpY2VJbmZvICYge2RlZmF1bHQ6IGJvb2xlYW59Pik6IHZvaWR8bnVsbH0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge3RydWV9XG4gICAqLyBsaXN0ZW5Gb3JEZXZpY2VDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrID09PSBudWxsICYmIHRoaXMuX2RldmljZUNoYW5nZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZWNoYW5nZScsIHRoaXMuX2RldmljZUNoYW5nZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUNoYW5nZUNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQmFzaWNhbGx5IGEgZGVib3VuY2U7IHdlIG9ubHkgd2FudCB0aGlzIGNhbGxlZCBvbmNlIHdoZW4gZGV2aWNlcyBjaGFuZ2VcbiAgICAgICAgICAgIC8vIEFuZCB3ZSBvbmx5IHdhbnQgdGhlIG1vc3QgcmVjZW50IGNhbGxiYWNrKCkgdG8gYmUgZXhlY3V0ZWRcbiAgICAgICAgICAgIC8vIGlmIGEgZmV3IGFyZSBvcGVyYXRpbmcgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgICAgbGV0IGxhc3RJZCA9IDA7XG4gICAgICAgICAgICBsZXQgbGFzdERldmljZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZURldmljZXMgPSAoZGV2aWNlcyk9PmRldmljZXMubWFwKChkKT0+ZC5kZXZpY2VJZCkuc29ydCgpLmpvaW4oJywnKTtcbiAgICAgICAgICAgIGNvbnN0IGNiID0gYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSArK2xhc3RJZDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXZpY2VzID0gYXdhaXQgdGhpcy5saXN0RGV2aWNlcygpO1xuICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gbGFzdElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpYWxpemVEZXZpY2VzKGxhc3REZXZpY2VzKSAhPT0gc2VyaWFsaXplRGV2aWNlcyhkZXZpY2VzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERldmljZXMgPSBkZXZpY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGV2aWNlcy5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZWNoYW5nZScsIGNiKTtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VDaGFuZ2VDYWxsYmFjayA9IGNiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogTWFudWFsbHkgcmVxdWVzdCBwZXJtaXNzaW9uIHRvIHVzZSB0aGUgbWljcm9waG9uZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHJlcXVlc3RQZXJtaXNzaW9uKCkge1xuICAgICAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtcbiAgICAgICAgICAgIG5hbWU6ICdtaWNyb3Bob25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdkZW5pZWQnKSB3aW5kb3cuYWxlcnQoJ1lvdSBtdXN0IGdyYW50IG1pY3JvcGhvbmUgYWNjZXNzIHRvIHVzZSB0aGlzIGZlYXR1cmUuJyk7XG4gICAgICAgIGVsc2UgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdwcm9tcHQnKSB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKCh0cmFjayk9PnRyYWNrLnN0b3AoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnWW91IG11c3QgZ3JhbnQgbWljcm9waG9uZSBhY2Nlc3MgdG8gdXNlIHRoaXMgZmVhdHVyZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIExpc3QgYWxsIGVsaWdpYmxlIGRldmljZXMgZm9yIHJlY29yZGluZywgd2lsbCByZXF1ZXN0IHBlcm1pc3Npb24gdG8gdXNlIG1pY3JvcGhvbmVcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8TWVkaWFEZXZpY2VJbmZvICYge2RlZmF1bHQ6IGJvb2xlYW59Pj59XG4gICAqLyBhc3luYyBsaXN0RGV2aWNlcygpIHtcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8ICEoJ2VudW1lcmF0ZURldmljZXMnIGluIG5hdmlnYXRvci5tZWRpYURldmljZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXF1ZXN0IHVzZXIgZGV2aWNlcycpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIGNvbnN0IGRldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgICAgY29uc3QgYXVkaW9EZXZpY2VzID0gZGV2aWNlcy5maWx0ZXIoKGRldmljZSk9PmRldmljZS5raW5kID09PSAnYXVkaW9pbnB1dCcpO1xuICAgICAgICByZXR1cm4gYXVkaW9EZXZpY2VzO1xuICAgIC8vIGNvbnN0IGRlZmF1bHREZXZpY2VJbmRleCA9IGF1ZGlvRGV2aWNlcy5maW5kSW5kZXgoXG4gICAgLy8gICAoZGV2aWNlKSA9PiBkZXZpY2UuZGV2aWNlSWQgPT09ICdkZWZhdWx0J1xuICAgIC8vICk7XG4gICAgLy8gY29uc3QgZGV2aWNlTGlzdCA9IFtdO1xuICAgIC8vIGlmIChkZWZhdWx0RGV2aWNlSW5kZXggIT09IC0xKSB7XG4gICAgLy8gICBsZXQgZGVmYXVsdERldmljZSA9IGF1ZGlvRGV2aWNlcy5zcGxpY2UoZGVmYXVsdERldmljZUluZGV4LCAxKVswXTtcbiAgICAvLyAgIGxldCBleGlzdGluZ0luZGV4ID0gYXVkaW9EZXZpY2VzLmZpbmRJbmRleChcbiAgICAvLyAgICAgKGRldmljZSkgPT4gZGV2aWNlLmdyb3VwSWQgPT09IGRlZmF1bHREZXZpY2UuZ3JvdXBJZFxuICAgIC8vICAgKTtcbiAgICAvLyAgIGlmIChleGlzdGluZ0luZGV4ICE9PSAtMSkge1xuICAgIC8vICAgICBkZWZhdWx0RGV2aWNlID0gYXVkaW9EZXZpY2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKVswXTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGRlZmF1bHREZXZpY2UuZGVmYXVsdCA9IHRydWU7XG4gICAgLy8gICBkZXZpY2VMaXN0LnB1c2goZGVmYXVsdERldmljZSk7XG4gICAgLy8gfVxuICAgIC8vIHJldHVybiBkZXZpY2VMaXN0LmNvbmNhdChhdWRpb0RldmljZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICogQmVnaW5zIGEgcmVjb3JkaW5nIHNlc3Npb24gYW5kIHJlcXVlc3RzIG1pY3JvcGhvbmUgcGVybWlzc2lvbnMgaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICAgKiBNaWNyb3Bob25lIHJlY29yZGluZyBpbmRpY2F0b3Igd2lsbCBhcHBlYXIgb24gYnJvd3NlciB0YWIgYnV0IHN0YXR1cyB3aWxsIGJlIFwicGF1c2VkXCJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZXZpY2VJZF0gaWYgbm8gZGV2aWNlIHByb3ZpZGVkLCBkZWZhdWx0IGRldmljZSB3aWxsIGJlIHVzZWRcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBiZWdpbihkZXZpY2VJZCkge1xuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihgQWxyZWFkeSBjb25uZWN0ZWQ6IHBsZWFzZSBjYWxsIC5lbmQoKSB0byBzdGFydCBhIG5ldyBzZXNzaW9uYCk7XG4gICAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhKCdnZXRVc2VyTWVkaWEnIGluIG5hdmlnYXRvci5tZWRpYURldmljZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXF1ZXN0IHVzZXIgbWVkaWEnKTtcbiAgICAgICAgZGV2aWNlSWQgPSBkZXZpY2VJZCA/PyB0aGlzLmRldmljZVNlbGVjdGlvbj8uZGV2aWNlSWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYXVkaW86IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZGV2aWNlSWQpIGNvbmZpZy5hdWRpbyA9IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VJZDoge1xuICAgICAgICAgICAgICAgICAgICBleGFjdDogZGV2aWNlSWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25maWcpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHN0YXJ0IG1lZGlhIHN0cmVhbScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdERldmljZXMoKS50aGVuKChkZXZpY2VzKT0+e1xuICAgICAgICAgICAgZGV2aWNlSWQgPSB0aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmluZCBjdXJyZW50IGRldmljZScsIGRldmljZXMsIGRldmljZUlkLCB0aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmdldFNldHRpbmdzKCkpO1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VTZWxlY3Rpb24gPSBkZXZpY2VzLmZpbmQoKGQpPT5kLmRldmljZUlkID09PSBkZXZpY2VJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY3VycmVudCBkZXZpY2UnLCB0aGlzLmRldmljZVNlbGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiB0aGlzLnNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodGhpcy5zdHJlYW0pO1xuICAgICAgICAvLyBMb2FkIGFuZCBleGVjdXRlIHRoZSBtb2R1bGUgc2NyaXB0LlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY29udGV4dC5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKHRoaXMuc2NyaXB0U3JjKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGFkZCBhdWRpb1dvcmtsZXQgbW9kdWxlOiAke3RoaXMuc2NyaXB0U3JjfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2Nlc3NvciA9IG5ldyBBdWRpb1dvcmtsZXROb2RlKGNvbnRleHQsICdhdWRpb19wcm9jZXNzb3InKTtcbiAgICAgICAgcHJvY2Vzc29yLnBvcnQub25tZXNzYWdlID0gKGUpPT57XG4gICAgICAgICAgICBjb25zdCB7IGV2ZW50OiBldmVudCwgaWQ6IGlkLCBkYXRhOiBkYXRhIH0gPSBlLmRhdGE7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdyZWNlaXB0JykgdGhpcy5ldmVudFJlY2VpcHRzW2lkXSA9IGRhdGE7XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2NodW5rJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpLm1lcmdlQnVmZmVycyhidWZmZXIucmF3LCBkYXRhLnJhdyksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb25vOiAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpLm1lcmdlQnVmZmVycyhidWZmZXIubW9ubywgZGF0YS5tb25vKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIubW9uby5ieXRlTGVuZ3RoID49IHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuX2NodW5rUHJvY2Vzc29yKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBub2RlID0gc291cmNlLmNvbm5lY3QocHJvY2Vzc29yKTtcbiAgICAgICAgY29uc3QgYW5hbHlzZXIgPSBjb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSA4MTkyO1xuICAgICAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjE7XG4gICAgICAgIG5vZGUuY29ubmVjdChhbmFseXNlcik7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFRvU3BlYWtlcnMpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBPdXRwdXQgdG8gc3BlYWtlcnMgbWF5IGFmZmVjdCBzb3VuZCBxdWFsaXR5LFxcbmVzcGVjaWFsbHkgZHVlIHRvIHN5c3RlbSBhdWRpbyBmZWVkYmFjayBwcmV2ZW50YXRpdmUgbWVhc3VyZXMuXFxudXNlIG9ubHkgZm9yIGRlYnVnZ2luZ1wiKTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSBhbmFseXNlcjtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIGNvbnNvbGUubG9nKCdiZWdpbiBjb21wbGV0ZWQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIHRoZSByZWNvcmRpbmcgdHJhY2tcbiAgICogQHBhcmFtIHtcImZyZXF1ZW5jeVwifFwibXVzaWNcInxcInZvaWNlXCJ9IFthbmFseXNpc1R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRGVjaWJlbHNdIGRlZmF1bHQgLTEwMFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heERlY2liZWxzXSBkZWZhdWx0IC0zMFxuICAgKiBAcmV0dXJucyB7aW1wb3J0KCcuL2FuYWx5c2lzL2F1ZGlvX2FuYWx5c2lzLmpzJykuQXVkaW9BbmFseXNpc091dHB1dFR5cGV9XG4gICAqLyBnZXRGcmVxdWVuY2llcyhhbmFseXNpc1R5cGUgPSAnZnJlcXVlbmN5JywgbWluRGVjaWJlbHMgPSAtMTAwLCBtYXhEZWNpYmVscyA9IC0zMCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIHJldHVybiAoMCwgJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjkpLmdldEZyZXF1ZW5jaWVzKHRoaXMuYW5hbHlzZXIsIHRoaXMuc2FtcGxlUmF0ZSwgbnVsbCwgYW5hbHlzaXNUeXBlLCBtaW5EZWNpYmVscywgbWF4RGVjaWJlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICogUGF1c2VzIHRoZSByZWNvcmRpbmdcbiAgICogS2VlcHMgbWljcm9waG9uZSBzdHJlYW0gb3BlbiBidXQgaGFsdHMgc3RvcmFnZSBvZiBhdWRpb1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHBhdXNlKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IHBhdXNlZDogcGxlYXNlIGNhbGwgLnJlY29yZCgpIGZpcnN0Jyk7XG4gICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlci5yYXcuYnl0ZUxlbmd0aCkgdGhpcy5fY2h1bmtQcm9jZXNzb3IodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIpO1xuICAgICAgICB0aGlzLmxvZygnUGF1c2luZyAuLi4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoJ3N0b3AnKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTdGFydCByZWNvcmRpbmcgc3RyZWFtIGFuZCBzdG9yaW5nIHRvIG1lbW9yeSBmcm9tIHRoZSBjb25uZWN0ZWQgYXVkaW8gc291cmNlXG4gICAqIEBwYXJhbSB7KGRhdGE6IHsgbW9ubzogSW50MTZBcnJheTsgcmF3OiBJbnQxNkFycmF5IH0pID0+IGFueX0gW2NodW5rUHJvY2Vzc29yXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NodW5rU2l6ZV0gY2h1bmtQcm9jZXNzb3Igd2lsbCBub3QgYmUgdHJpZ2dlcmVkIHVudGlsIHRoaXMgc2l6ZSB0aHJlc2hvbGQgbWV0IGluIG1vbm8gYXVkaW9cbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyByZWNvcmQoY2h1bmtQcm9jZXNzb3IgPSAoKT0+e30sIGNodW5rU2l6ZSA9IDgxOTIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IHJlY29yZGluZzogcGxlYXNlIGNhbGwgLnBhdXNlKCkgZmlyc3QnKTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNodW5rUHJvY2Vzc29yICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgRXJyb3IoYGNodW5rUHJvY2Vzc29yIG11c3QgYmUgYSBmdW5jdGlvbmApO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvciA9IGNodW5rUHJvY2Vzc29yO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUgPSBjaHVua1NpemU7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2coJ1JlY29yZGluZyAuLi4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoJ3N0YXJ0Jyk7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBDbGVhcnMgdGhlIGF1ZGlvIGJ1ZmZlciwgZW1wdGllcyBzdG9yZWQgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgY2xlYXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoJ2NsZWFyJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmVhZHMgdGhlIGN1cnJlbnQgYXVkaW8gc3RyZWFtIGRhdGFcbiAgICogQHJldHVybnMge1Byb21pc2U8e21lYW5WYWx1ZXM6IEZsb2F0MzJBcnJheSwgY2hhbm5lbHM6IEFycmF5PEZsb2F0MzJBcnJheT59Pn1cbiAgICovIGFzeW5jIHJlYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgdGhpcy5sb2coJ1JlYWRpbmcgLi4uJyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2V2ZW50KCdyZWFkJyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTYXZlcyB0aGUgY3VycmVudCBhdWRpbyBzdHJlYW0gdG8gYSBmaWxlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlXSBGb3JjZSBzYXZpbmcgd2hpbGUgc3RpbGwgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi93YXZfcGFja2VyLmpzJykuV2F2UGFja2VyQXVkaW9UeXBlPn1cbiAgICovIGFzeW5jIHNhdmUoZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIGlmICghZm9yY2UgJiYgdGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcignQ3VycmVudGx5IHJlY29yZGluZzogcGxlYXNlIGNhbGwgLnBhdXNlKCkgZmlyc3QsIG9yIGNhbGwgLnNhdmUodHJ1ZSkgdG8gZm9yY2UnKTtcbiAgICAgICAgdGhpcy5sb2coJ0V4cG9ydGluZyAuLi4nKTtcbiAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IHRoaXMuX2V2ZW50KCdleHBvcnQnKTtcbiAgICAgICAgY29uc3QgcGFja2VyID0gbmV3ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFja2VyLnBhY2sodGhpcy5zYW1wbGVSYXRlLCBleHBvcnREYXRhLmF1ZGlvKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIEVuZHMgdGhlIGN1cnJlbnQgcmVjb3JkaW5nIHNlc3Npb24gYW5kIHNhdmVzIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3dhdl9wYWNrZXIuanMnKS5XYXZQYWNrZXJBdWRpb1R5cGU+fVxuICAgKi8gYXN5bmMgZW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIGNvbnN0IF9wcm9jZXNzb3IgPSB0aGlzLnByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5sb2coJ1N0b3BwaW5nIC4uLicpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudCgnc3RvcCcpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCB0cmFja3MgPSB0aGlzLnN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgdHJhY2tzLmZvckVhY2goKHRyYWNrKT0+dHJhY2suc3RvcCgpKTtcbiAgICAgICAgdGhpcy5sb2coJ0V4cG9ydGluZyAuLi4nKTtcbiAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IHRoaXMuX2V2ZW50KCdleHBvcnQnLCB7fSwgX3Byb2Nlc3Nvcik7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLmFuYWx5c2VyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICAgICAgY29uc3QgcGFja2VyID0gbmV3ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFja2VyLnBhY2sodGhpcy5zYW1wbGVSYXRlLCBleHBvcnREYXRhLmF1ZGlvKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBlcmZvcm1zIGEgZnVsbCBjbGVhbnVwIG9mIFdhdlJlY29yZGVyIGluc3RhbmNlXG4gICAqIFN0b3BzIGFjdGl2ZWx5IGxpc3RlbmluZyB2aWEgbWljcm9waG9uZSBhbmQgcmVtb3ZlcyBleGlzdGluZyBsaXN0ZW5lcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBxdWl0KCkge1xuICAgICAgICB0aGlzLmxpc3RlbkZvckRldmljZUNoYW5nZShudWxsKTtcbiAgICAgICAgLy8gd2UgZG8gbm90IHJlc2V0IHRoaXMgb24gZW5kIHNvIHRoYXQgc2VsZWN0aW9ucyBwZXJzaXN0IGFjcm9zcyBzdGFydHNcbiAgICAgICAgdGhpcy5kZXZpY2VTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIGF3YWl0IHRoaXMuZW5kKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmdsb2JhbFRoaXMuV2F2UmVjb3JkZXIgPSAkNjJiYzM3NjA0NGEwNTUxMyRleHBvcnQkNDM5YjIxN2NhNjU5YTg3NztcblxuXG5cblxuXG5jbGFzcyAkNWZjMTFkN2JjMGQyMDcyNCRleHBvcnQkMjkzNGNmMmQyNWM2N2E0OCB7XG4gICAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBNZWRpYVN0cmVhbVJlY29yZGVyIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7e3NhbXBsZVJhdGU/OiBudW1iZXIsIG91dHB1dFRvU3BlYWtlcnM/OiBib29sZWFuLCBkZWJ1Zz86IGJvb2xlYW59fSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge01lZGlhU3RyZWFtUmVjb3JkZXJ9XG4gICAqLyBjb25zdHJ1Y3Rvcih7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUgPSA0NDEwMCwgb3V0cHV0VG9TcGVha2Vyczogb3V0cHV0VG9TcGVha2VycyA9IGZhbHNlLCBkZWJ1ZzogZGVidWcgPSBmYWxzZSB9ID0ge30pe1xuICAgICAgICAvLyBTY3JpcHQgc291cmNlXG4gICAgICAgIHRoaXMuc2NyaXB0U3JjID0gKDAsICQ4ZTFkMWU2ZmYwOGY2ZmI1JGV4cG9ydCQxZjY1ZjUwYThjYmZmNDNjKTtcbiAgICAgICAgLy8gQ29uZmlnXG4gICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gICAgICAgIHRoaXMub3V0cHV0VG9TcGVha2VycyA9IG91dHB1dFRvU3BlYWtlcnM7XG4gICAgICAgIHRoaXMuZGVidWcgPSAhIWRlYnVnO1xuICAgICAgICAvLyBTdGF0ZSB2YXJpYWJsZXNcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gRXZlbnQgaGFuZGxpbmcgd2l0aCBBdWRpb1dvcmtsZXRcbiAgICAgICAgdGhpcy5fbGFzdEV2ZW50SWQgPSAwO1xuICAgICAgICB0aGlzLmV2ZW50UmVjZWlwdHMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudFRpbWVvdXQgPSA1MDAwO1xuICAgICAgICAvLyBQcm9jZXNzIGNodW5rcyBvZiBhdWRpb1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvciA9ICgpPT57fTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplID0gdm9pZCAwO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgKiBMb2dzIGRhdGEgaW4gZGVidWcgbW9kZVxuICAgKiBAcGFyYW0gey4uLmFueX0gYXJndW1lbnRzXG4gICAqIEByZXR1cm5zIHt0cnVlfVxuICAgKi8gbG9nKCkge1xuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgdGhpcy5sb2coLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgc2FtcGxlUmF0ZSBmb3IgdGhlIHJlY29yZGVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqLyBnZXRTYW1wbGVSYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVSYXRlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtcImVuZGVkXCJ8XCJwYXVzZWRcInxcInJlY29yZGluZ1wifVxuICAgKi8gZ2V0U3RhdHVzKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSByZXR1cm4gXCJlbmRlZFwiO1xuICAgICAgICBlbHNlIGlmICghdGhpcy5yZWNvcmRpbmcpIHJldHVybiBcInBhdXNlZFwiO1xuICAgICAgICBlbHNlIHJldHVybiBcInJlY29yZGluZ1wiO1xuICAgIH1cbiAgICAvKipcbiAgICogU2VuZHMgYW4gZXZlbnQgdG8gdGhlIEF1ZGlvV29ya2xldFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge3tba2V5OiBzdHJpbmddOiBhbnl9fSBkYXRhXG4gICAqIEBwYXJhbSB7QXVkaW9Xb3JrbGV0Tm9kZX0gW19wcm9jZXNzb3JdXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtba2V5OiBzdHJpbmddOiBhbnl9Pn1cbiAgICovIGFzeW5jIF9ldmVudChuYW1lLCBkYXRhID0ge30sIF9wcm9jZXNzb3IgPSBudWxsKSB7XG4gICAgICAgIF9wcm9jZXNzb3IgPSBfcHJvY2Vzc29yIHx8IHRoaXMucHJvY2Vzc29yO1xuICAgICAgICBpZiAoIV9wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3Qgc2VuZCBldmVudHMgd2l0aG91dCByZWNvcmRpbmcgZmlyc3RcIik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBldmVudDogbmFtZSxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9sYXN0RXZlbnRJZCsrLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9O1xuICAgICAgICBfcHJvY2Vzc29yLnBvcnQucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IHQwID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgICAgIHdoaWxlKCF0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF0pe1xuICAgICAgICAgICAgaWYgKG5ldyBEYXRlKCkudmFsdWVPZigpIC0gdDAgPiB0aGlzLmV2ZW50VGltZW91dCkgdGhyb3cgbmV3IEVycm9yKGBUaW1lb3V0IHdhaXRpbmcgZm9yIFwiJHtuYW1lfVwiIGV2ZW50YCk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKT0+c2V0VGltZW91dCgoKT0+cmVzKHRydWUpLCAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBCZWdpbnMgYSByZWNvcmRpbmcgc2Vzc2lvbiBmb3IgdGhlIGdpdmVuIGF1ZGlvVHJhY2tcbiAgICogTWljcm9waG9uZSByZWNvcmRpbmcgaW5kaWNhdG9yIHdpbGwgYXBwZWFyIG9uIGJyb3dzZXIgdGFiIGJ1dCBzdGF0dXMgd2lsbCBiZSBcInBhdXNlZFwiXG4gICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gW2F1ZGlvVHJhY2tdIGlmIG5vIGRldmljZSBwcm92aWRlZCwgZGVmYXVsdCBkZXZpY2Ugd2lsbCBiZSB1c2VkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgYmVnaW4oYXVkaW9UcmFjaykge1xuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihgQWxyZWFkeSBjb25uZWN0ZWQ6IHBsZWFzZSBjYWxsIC5lbmQoKSB0byBzdGFydCBhIG5ldyBzZXNzaW9uYCk7XG4gICAgICAgIGlmICghYXVkaW9UcmFjayB8fCBhdWRpb1RyYWNrLmtpbmQgIT09IFwiYXVkaW9cIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXVkaW8gdHJhY2sgcHJvdmlkZWRcIik7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKFtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLnN0cmVhbSk7XG4gICAgICAgIC8vIExvYWQgYW5kIGV4ZWN1dGUgdGhlIG1vZHVsZSBzY3JpcHQuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjb250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodGhpcy5zY3JpcHRTcmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgYWRkIGF1ZGlvV29ya2xldCBtb2R1bGU6ICR7dGhpcy5zY3JpcHRTcmN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvY2Vzc29yID0gbmV3IEF1ZGlvV29ya2xldE5vZGUoY29udGV4dCwgXCJhdWRpb19wcm9jZXNzb3JcIik7XG4gICAgICAgIHByb2Nlc3Nvci5wb3J0Lm9ubWVzc2FnZSA9IChlKT0+e1xuICAgICAgICAgICAgY29uc3QgeyBldmVudDogZXZlbnQsIGlkOiBpZCwgZGF0YTogZGF0YSB9ID0gZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBcInJlY2VpcHRcIikgdGhpcy5ldmVudFJlY2VpcHRzW2lkXSA9IGRhdGE7XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gXCJjaHVua1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXc6ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikubWVyZ2VCdWZmZXJzKGJ1ZmZlci5yYXcsIGRhdGEucmF3KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbm86ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikubWVyZ2VCdWZmZXJzKGJ1ZmZlci5tb25vLCBkYXRhLm1vbm8pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlci5tb25vLmJ5dGVMZW5ndGggPj0gdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3Nvcih0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5fY2h1bmtQcm9jZXNzb3IoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzb3VyY2UuY29ubmVjdChwcm9jZXNzb3IpO1xuICAgICAgICBjb25zdCBhbmFseXNlciA9IGNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDgxOTI7XG4gICAgICAgIGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuMTtcbiAgICAgICAgbm9kZS5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VG9TcGVha2Vycykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IE91dHB1dCB0byBzcGVha2VycyBtYXkgYWZmZWN0IHNvdW5kIHF1YWxpdHksXFxuZXNwZWNpYWxseSBkdWUgdG8gc3lzdGVtIGF1ZGlvIGZlZWRiYWNrIHByZXZlbnRhdGl2ZSBtZWFzdXJlcy5cXG51c2Ugb25seSBmb3IgZGVidWdnaW5nXCIpO1xuICAgICAgICAgICAgYW5hbHlzZXIuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IGFuYWx5c2VyO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIHRoZSByZWNvcmRpbmcgdHJhY2tcbiAgICogQHBhcmFtIHtcImZyZXF1ZW5jeVwifFwibXVzaWNcInxcInZvaWNlXCJ9IFthbmFseXNpc1R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRGVjaWJlbHNdIGRlZmF1bHQgLTEwMFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heERlY2liZWxzXSBkZWZhdWx0IC0zMFxuICAgKiBAcmV0dXJucyB7aW1wb3J0KCcuL2FuYWx5c2lzL2F1ZGlvX2FuYWx5c2lzLmpzJykuQXVkaW9BbmFseXNpc091dHB1dFR5cGV9XG4gICAqLyBnZXRGcmVxdWVuY2llcyhhbmFseXNpc1R5cGUgPSBcImZyZXF1ZW5jeVwiLCBtaW5EZWNpYmVscyA9IC0xMDAsIG1heERlY2liZWxzID0gLTMwKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICByZXR1cm4gKDAsICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5KS5nZXRGcmVxdWVuY2llcyh0aGlzLmFuYWx5c2VyLCB0aGlzLnNhbXBsZVJhdGUsIG51bGwsIGFuYWx5c2lzVHlwZSwgbWluRGVjaWJlbHMsIG1heERlY2liZWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhdXNlcyB0aGUgcmVjb3JkaW5nXG4gICAqIEtlZXBzIG1pY3JvcGhvbmUgc3RyZWFtIG9wZW4gYnV0IGhhbHRzIHN0b3JhZ2Ugb2YgYXVkaW9cbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBwYXVzZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBwYXVzZWQ6IHBsZWFzZSBjYWxsIC5yZWNvcmQoKSBmaXJzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyLnJhdy5ieXRlTGVuZ3RoKSB0aGlzLl9jaHVua1Byb2Nlc3Nvcih0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcik7XG4gICAgICAgIHRoaXMubG9nKFwiUGF1c2luZyAuLi5cIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KFwic3RvcFwiKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTdGFydCByZWNvcmRpbmcgc3RyZWFtIGFuZCBzdG9yaW5nIHRvIG1lbW9yeSBmcm9tIHRoZSBjb25uZWN0ZWQgYXVkaW8gc291cmNlXG4gICAqIEBwYXJhbSB7KGRhdGE6IHsgbW9ubzogSW50MTZBcnJheTsgcmF3OiBJbnQxNkFycmF5IH0pID0+IGFueX0gW2NodW5rUHJvY2Vzc29yXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NodW5rU2l6ZV0gY2h1bmtQcm9jZXNzb3Igd2lsbCBub3QgYmUgdHJpZ2dlcmVkIHVudGlsIHRoaXMgc2l6ZSB0aHJlc2hvbGQgbWV0IGluIG1vbm8gYXVkaW9cbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyByZWNvcmQoY2h1bmtQcm9jZXNzb3IgPSAoKT0+e30sIGNodW5rU2l6ZSA9IDgxOTIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHJlY29yZGluZzogSEVMTE8gcGxlYXNlIGNhbGwgLnBhdXNlKCkgZmlyc3RcIik7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjaHVua1Byb2Nlc3NvciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoYGNodW5rUHJvY2Vzc29yIG11c3QgYmUgYSBmdW5jdGlvbmApO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvciA9IGNodW5rUHJvY2Vzc29yO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUgPSBjaHVua1NpemU7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2coXCJSZWNvcmRpbmcgLi4uXCIpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudChcInN0YXJ0XCIpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogQ2xlYXJzIHRoZSBhdWRpbyBidWZmZXIsIGVtcHRpZXMgc3RvcmVkIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIGNsZWFyKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoXCJjbGVhclwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZWFkcyB0aGUgY3VycmVudCBhdWRpbyBzdHJlYW0gZGF0YVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7bWVhblZhbHVlczogRmxvYXQzMkFycmF5LCBjaGFubmVsczogQXJyYXk8RmxvYXQzMkFycmF5Pn0+fVxuICAgKi8gYXN5bmMgcmVhZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIHRoaXMubG9nKFwiUmVhZGluZyAuLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2V2ZW50KFwicmVhZFwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNhdmVzIHRoZSBjdXJyZW50IGF1ZGlvIHN0cmVhbSB0byBhIGZpbGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VdIEZvcmNlIHNhdmluZyB3aGlsZSBzdGlsbCByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3dhdl9wYWNrZXIuanMnKS5XYXZQYWNrZXJBdWRpb1R5cGU+fVxuICAgKi8gYXN5bmMgc2F2ZShmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICBpZiAoIWZvcmNlICYmIHRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW50bHkgcmVjb3JkaW5nOiBwbGVhc2UgY2FsbCAucGF1c2UoKSBmaXJzdCwgb3IgY2FsbCAuc2F2ZSh0cnVlKSB0byBmb3JjZVwiKTtcbiAgICAgICAgdGhpcy5sb2coXCJFeHBvcnRpbmcgLi4uXCIpO1xuICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5fZXZlbnQoXCJleHBvcnRcIik7XG4gICAgICAgIGNvbnN0IHBhY2tlciA9IG5ldyAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhY2tlci5wYWNrKHRoaXMuc2FtcGxlUmF0ZSwgZXhwb3J0RGF0YS5hdWRpbyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBFbmRzIHRoZSBjdXJyZW50IHJlY29yZGluZyBzZXNzaW9uIGFuZCBzYXZlcyB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi93YXZfcGFja2VyLmpzJykuV2F2UGFja2VyQXVkaW9UeXBlPn1cbiAgICovIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIGNvbnN0IF9wcm9jZXNzb3IgPSB0aGlzLnByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5sb2coXCJTdG9wcGluZyAuLi5cIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KFwic3RvcFwiKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2coXCJFeHBvcnRpbmcgLi4uXCIpO1xuICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5fZXZlbnQoXCJleHBvcnRcIiwge30sIF9wcm9jZXNzb3IpO1xuICAgICAgICB0aGlzLnByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5ub2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5hbmFseXNlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHBhY2tlciA9IG5ldyAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhY2tlci5wYWNrKHRoaXMuc2FtcGxlUmF0ZSwgZXhwb3J0RGF0YS5hdWRpbyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQZXJmb3JtcyBhIGZ1bGwgY2xlYW51cCBvZiBXYXZSZWNvcmRlciBpbnN0YW5jZVxuICAgKiBTdG9wcyBhY3RpdmVseSBsaXN0ZW5pbmcgdmlhIG1pY3JvcGhvbmUgYW5kIHJlbW92ZXMgZXhpc3RpbmcgbGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcXVpdCgpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JEZXZpY2VDaGFuZ2UobnVsbCk7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NvcikgYXdhaXQgdGhpcy5lbmQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZ2xvYmFsVGhpcy5XYXZSZWNvcmRlciA9IFdhdlJlY29yZGVyO1xuXG5cblxuXG52YXIgJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZXh0ZW5kcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzIHx8IGZ1bmN0aW9uKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICh7XG4gICAgICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgICAgIH0pIGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24oZCwgYikge1xuICAgICAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgICAgICB9IHx8IGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBiKWlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIgfHwgZnVuY3Rpb24odGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2dlbmVyYXRvciA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19nZW5lcmF0b3IgfHwgZnVuY3Rpb24odGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0ge1xuICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgc2VudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ5czogW10sXG4gICAgICAgIG9wczogW11cbiAgICB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW1xuICAgICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgICAgdlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZShnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbXG4gICAgICAgICAgICAgICAgb3BbMF0gJiAyLFxuICAgICAgICAgICAgICAgIHQudmFsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBzd2l0Y2gob3BbMF0pe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3BbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgIG9wID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCBvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG9wID0gW1xuICAgICAgICAgICAgICAgIDYsXG4gICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9IGZpbmFsbHl7XG4gICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG59O1xudmFyICRmYzQ5YTU2Y2Q4NzM5MTI3JGV4cG9ydCQ0YTBjNDZkYmJlMmRkYjY3ID0gLyoqIEBjbGFzcyAqLyBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBNZWRpYU1hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgICAgICB0aGlzLl9taWNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FtRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBNZWRpYU1hbmFnZXIucHJvdG90eXBlLnNldFVzZXJBdWRpb0NhbGxiYWNrID0gZnVuY3Rpb24odXNlckF1ZGlvQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdXNlckF1ZGlvQ2FsbGJhY2sgPSB1c2VyQXVkaW9DYWxsYmFjaztcbiAgICB9O1xuICAgIE1lZGlhTWFuYWdlci5wcm90b3R5cGUuc2V0UlRWSU9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zLCBvdmVycmlkZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKG92ZXJyaWRlID09PSB2b2lkIDApIG92ZXJyaWRlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zICYmICFvdmVycmlkZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gKF9hID0gb3B0aW9ucy5jYWxsYmFja3MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICB0aGlzLl9taWNFbmFibGVkID0gKF9iID0gb3B0aW9ucy5lbmFibGVNaWMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbUVuYWJsZWQgPSAoX2MgPSBvcHRpb25zLmVuYWJsZUNhbSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gTWVkaWFNYW5hZ2VyO1xufSgpO1xudmFyICRmYzQ5YTU2Y2Q4NzM5MTI3JGV4cG9ydCQ0NWM1YjliZmJhMmY2MzA0ID0gLyoqIEBjbGFzcyAqLyBmdW5jdGlvbihfc3VwZXIpIHtcbiAgICAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19leHRlbmRzKFdhdk1lZGlhTWFuYWdlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXYXZNZWRpYU1hbmFnZXIocmVjb3JkZXJDaHVua1NpemUsIHJlY29yZGVyU2FtcGxlUmF0ZSkge1xuICAgICAgICBpZiAocmVjb3JkZXJDaHVua1NpemUgPT09IHZvaWQgMCkgcmVjb3JkZXJDaHVua1NpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZWNvcmRlclNhbXBsZVJhdGUgPT09IHZvaWQgMCkgcmVjb3JkZXJTYW1wbGVSYXRlID0gMjQwMDA7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVjb3JkZXJDaHVua1NpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLl9yZWNvcmRlckNodW5rU2l6ZSA9IHJlY29yZGVyQ2h1bmtTaXplO1xuICAgICAgICBfdGhpcy5fd2F2UmVjb3JkZXIgPSBuZXcgKDAsICQ2MmJjMzc2MDQ0YTA1NTEzJGV4cG9ydCQ0MzliMjE3Y2E2NTlhODc3KSh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiByZWNvcmRlclNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLl93YXZTdHJlYW1QbGF5ZXIgPSBuZXcgKDAsICRkMGE5Njk4MzM5NThkOWU3JGV4cG9ydCQ5Njk4ZDYyYzc4YjhmMzY2KSh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiAyNDAwMFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5iZWdpbigpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5saXN0ZW5Gb3JEZXZpY2VDaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5saXN0ZW5Gb3JEZXZpY2VDaGFuZ2UodGhpcy5faGFuZGxlQXZhaWxhYmxlRGV2aWNlc1VwZGF0ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZTdHJlYW1QbGF5ZXIuY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaXNBbHJlYWR5UmVjb3JkaW5nO1xuICAgICAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYS5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMuX2luaXRpYWxpemVkKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBbHJlYWR5UmVjb3JkaW5nID0gdGhpcy5fd2F2UmVjb3JkZXIuZ2V0U3RhdHVzKCkgPT0gXCJyZWNvcmRpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX21pY0VuYWJsZWQgJiYgIWlzQWxyZWFkeVJlY29yZGluZykpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDRcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFJlY29yZGluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5lbmQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2U3RyZWFtUGxheWVyLmludGVycnVwdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUudXNlclN0YXJ0ZWRTcGVha2luZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlN0cmVhbVBsYXllci5pbnRlcnJ1cHQoKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmJ1ZmZlckJvdEF1ZGlvID0gZnVuY3Rpb24oZGF0YSwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhdlN0cmVhbVBsYXllci5hZGQxNkJpdFBDTShkYXRhLCBpZCk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmdldEFsbE1pY3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhdlJlY29yZGVyLmxpc3REZXZpY2VzKCk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmdldEFsbENhbXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVE9ETzogVmlkZW8gbm90IHN1cHBvcnRlZCB5ZXRcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmdldEFsbFNwZWFrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBzcGVha2VyIHN1cHBvcnRcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU1pYyA9IGZ1bmN0aW9uKG1pY0lkKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJldk1pYywgY3VyTWljO1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2MubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TWljID0gdGhpcy5fd2F2UmVjb3JkZXIuZGV2aWNlU2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIuZW5kKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlJlY29yZGVyLmJlZ2luKG1pY0lkKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9taWNFbmFibGVkKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJNaWMgPSB0aGlzLl93YXZSZWNvcmRlci5kZXZpY2VTZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTWljICYmIHByZXZNaWMgJiYgcHJldk1pYy5sYWJlbCAhPT0gY3VyTWljLmxhYmVsKSAoX2IgPSAoX2EgPSB0aGlzLl9jYWxsYmFja3MpLm9uTWljVXBkYXRlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5jYWxsKF9hLCBjdXJNaWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUudXBkYXRlQ2FtID0gZnVuY3Rpb24oY2FtSWQpIHtcbiAgICAvLyBUT0RPOiBWaWRlbyBub3Qgc3VwcG9ydGVkIHlldFxuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVTcGVha2VyID0gZnVuY3Rpb24oc3BlYWtlcklkKSB7XG4gICAgLy8gVE9ETzogSW1wbGVtZW50IHNwZWFrZXIgc3VwcG9ydFxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwic2VsZWN0ZWRNaWNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3dhdlJlY29yZGVyLmRldmljZVNlbGVjdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZWxlY3RlZENhbVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBWaWRlbyBub3Qgc3VwcG9ydGVkIHlldFxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwic2VsZWN0ZWRTcGVha2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBzcGVha2VyIHN1cHBvcnRcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUuZW5hYmxlTWljID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYS5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pY0VuYWJsZWQgPSBlbmFibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3dhdlJlY29yZGVyLnN0cmVhbSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suZW5hYmxlZCA9IGVuYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuYWJsZSkgKF9iID0gKF9hID0gX3RoaXMuX2NhbGxiYWNrcykub25UcmFja1N0b3BwZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuY2FsbChfYSwgdHJhY2ssICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRsb2NhbFBhcnRpY2lwYW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuYWJsZSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVjb3JkaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDRcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlJlY29yZGVyLnBhdXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUuZW5hYmxlQ2FtID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgLy8gVE9ETzogVmlkZW8gbm90IHN1cHBvcnRlZCB5ZXRcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcImlzQ2FtRW5hYmxlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBWaWRlbyBub3Qgc3VwcG9ydGVkIHlldFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwiaXNNaWNFbmFibGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taWNFbmFibGVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS50cmFja3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgdHJhY2tzID0gKF9hID0gdGhpcy5fd2F2UmVjb3JkZXIuc3RyZWFtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0VHJhY2tzKClbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2NhbDogdHJhY2tzID8ge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cmFja3NcbiAgICAgICAgICAgIH0gOiB7fVxuICAgICAgICB9O1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5fc3RhcnRSZWNvcmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRyYWNrO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfZCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfZC5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlJlY29yZGVyLnJlY29yZChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91c2VyQXVkaW9DYWxsYmFjayhkYXRhLm1vbm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuX3JlY29yZGVyQ2h1bmtTaXplKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Quc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2sgPSAoX2EgPSB0aGlzLl93YXZSZWNvcmRlci5zdHJlYW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrKSAoX2MgPSAoX2IgPSB0aGlzLl9jYWxsYmFja3MpLm9uVHJhY2tTdGFydGVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwIHx8IF9jLmNhbGwoX2IsIHRyYWNrLCAkZmM0OWE1NmNkODczOTEyNyR2YXIkbG9jYWxQYXJ0aWNpcGFudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLl9oYW5kbGVBdmFpbGFibGVEZXZpY2VzVXBkYXRlZCA9IGZ1bmN0aW9uKGRldmljZXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLl9jYWxsYmFja3MpLm9uQXZhaWxhYmxlQ2Ftc1VwZGF0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuY2FsbChfYSwgZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQua2luZCA9PT0gXCJ2aWRlb2lucHV0XCI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgKF9kID0gKF9jID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwIHx8IF9kLmNhbGwoX2MsIGRldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwiYXVkaW9pbnB1dFwiO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIGlmIHRoZSBjdXJyZW50IGRldmljZSB3ZW50IGF3YXkgb3Igd2UncmUgdXNpbmcgdGhlIGRlZmF1bHQgYW5kXG4gICAgICAgIC8vIHRoZSBkZWZhdWx0IGNoYW5nZWQsIHJlc2V0IHRoZSBtaWMuXG4gICAgICAgIHZhciBkZWZhdWx0RGV2aWNlID0gZGV2aWNlcy5maW5kKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmRldmljZUlkID09PSBcImRlZmF1bHRcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjdXJyZW50RGV2aWNlID0gdGhpcy5fd2F2UmVjb3JkZXIuZGV2aWNlU2VsZWN0aW9uO1xuICAgICAgICBpZiAoY3VycmVudERldmljZSAmJiAoIWRldmljZXMuc29tZShmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5kZXZpY2VJZCA9PT0gY3VycmVudERldmljZS5kZXZpY2VJZDtcbiAgICAgICAgfSkgfHwgY3VycmVudERldmljZS5kZXZpY2VJZCA9PT0gXCJkZWZhdWx0XCIgJiYgY3VycmVudERldmljZS5sYWJlbCAhPT0gKGRlZmF1bHREZXZpY2UgPT09IG51bGwgfHwgZGVmYXVsdERldmljZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmYXVsdERldmljZS5sYWJlbCkpKSB0aGlzLnVwZGF0ZU1pYyhcIlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBXYXZNZWRpYU1hbmFnZXI7XG59KCRmYzQ5YTU2Y2Q4NzM5MTI3JGV4cG9ydCQ0YTBjNDZkYmJlMmRkYjY3KTtcbnZhciAkZmM0OWE1NmNkODczOTEyNyR2YXIkbG9jYWxQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImxvY2FsXCIsXG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGxvY2FsOiB0cnVlXG4gICAgfTtcbn07XG5cblxuXG5cblxudmFyICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2V4dGVuZHMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoe1xuICAgICAgICAgICAgX19wcm90b19fOiBbXVxuICAgICAgICB9KSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgICAgfSB8fCBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gYilpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG52YXIgJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlciA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyIHx8IGZ1bmN0aW9uKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZ2VuZXJhdG9yIHx8IGZ1bmN0aW9uKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHtcbiAgICAgICAgbGFiZWw6IDAsXG4gICAgICAgIHNlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgIH0sXG4gICAgICAgIHRyeXM6IFtdLFxuICAgICAgICBvcHM6IFtdXG4gICAgfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwKFtcbiAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKXRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW1xuICAgICAgICAgICAgICAgIG9wWzBdICYgMixcbiAgICAgICAgICAgICAgICB0LnZhbHVlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgc3dpdGNoKG9wWzBdKXtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICBvcCA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgb3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfLm9wcy5wdXNoKG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvcCA9IFtcbiAgICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfSBmaW5hbGx5e1xuICAgICAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsXG4gICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxufTtcbnZhciAkMjJlY2UwNDUyOTBjOTk2YSRleHBvcnQkYzk1YzY1YWJjNWY0NzEyNSA9IC8qKiBAY2xhc3MgKi8gZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZXh0ZW5kcyhEYWlseU1lZGlhTWFuYWdlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEYWlseU1lZGlhTWFuYWdlcihlbmFibGVQbGF5ZXIsIGVuYWJsZVJlY29yZGluZywgb25UcmFja1N0YXJ0ZWRDYWxsYmFjaywgb25UcmFja1N0b3BwZWRDYWxsYmFjaywgcmVjb3JkZXJDaHVua1NpemUsIHJlY29yZGVyU2FtcGxlUmF0ZSwgcGxheWVyU2FtcGxlUmF0ZSkge1xuICAgICAgICBpZiAoZW5hYmxlUGxheWVyID09PSB2b2lkIDApIGVuYWJsZVBsYXllciA9IHRydWU7XG4gICAgICAgIGlmIChlbmFibGVSZWNvcmRpbmcgPT09IHZvaWQgMCkgZW5hYmxlUmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHJlY29yZGVyQ2h1bmtTaXplID09PSB2b2lkIDApIHJlY29yZGVyQ2h1bmtTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVjb3JkZXJTYW1wbGVSYXRlID09PSB2b2lkIDApIHJlY29yZGVyU2FtcGxlUmF0ZSA9IDI0MDAwO1xuICAgICAgICBpZiAocGxheWVyU2FtcGxlUmF0ZSA9PT0gdm9pZCAwKSBwbGF5ZXJTYW1wbGVSYXRlID0gMjQwMDA7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3NlbGVjdGVkQ2FtID0ge307XG4gICAgICAgIF90aGlzLl9zZWxlY3RlZE1pYyA9IHt9O1xuICAgICAgICBfdGhpcy5fc2VsZWN0ZWRTcGVha2VyID0ge307XG4gICAgICAgIF90aGlzLl9yZW1vdGVBdWRpb0xldmVsSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcmVjb3JkZXJDaHVua1NpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9jdXJyZW50QXVkaW9UcmFjayA9IG51bGw7XG4gICAgICAgIF90aGlzLl9jb25uZWN0UmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLm9uVHJhY2tTdGFydGVkQ2FsbGJhY2sgPSBvblRyYWNrU3RhcnRlZENhbGxiYWNrO1xuICAgICAgICBfdGhpcy5vblRyYWNrU3RvcHBlZENhbGxiYWNrID0gb25UcmFja1N0b3BwZWRDYWxsYmFjaztcbiAgICAgICAgX3RoaXMuX3JlY29yZGVyQ2h1bmtTaXplID0gcmVjb3JkZXJDaHVua1NpemU7XG4gICAgICAgIF90aGlzLl9kYWlseSA9IChfYSA9ICgwLCAka1I2dEckZGFpbHljb2RhaWx5anMpLmdldENhbGxJbnN0YW5jZSgpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoMCwgJGtSNnRHJGRhaWx5Y29kYWlseWpzKS5jcmVhdGVDYWxsT2JqZWN0KCk7XG4gICAgICAgIGlmIChlbmFibGVSZWNvcmRpbmcpIF90aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyID0gbmV3ICgwLCAkNWZjMTFkN2JjMGQyMDcyNCRleHBvcnQkMjkzNGNmMmQyNWM2N2E0OCkoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogcmVjb3JkZXJTYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZW5hYmxlUGxheWVyKSBfdGhpcy5fd2F2U3RyZWFtUGxheWVyID0gbmV3ICgwLCAkZDBhOTY5ODMzOTU4ZDllNyRleHBvcnQkOTY5OGQ2MmM3OGI4ZjM2Nikoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogcGxheWVyU2FtcGxlUmF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuX2RhaWx5Lm9uKFwidHJhY2stc3RhcnRlZFwiLCBfdGhpcy5oYW5kbGVUcmFja1N0YXJ0ZWQuYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5fZGFpbHkub24oXCJ0cmFjay1zdG9wcGVkXCIsIF90aGlzLmhhbmRsZVRyYWNrU3RvcHBlZC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLl9kYWlseS5vbihcImF2YWlsYWJsZS1kZXZpY2VzLXVwZGF0ZWRcIiwgX3RoaXMuX2hhbmRsZUF2YWlsYWJsZURldmljZXNVcGRhdGVkLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuX2RhaWx5Lm9uKFwic2VsZWN0ZWQtZGV2aWNlcy11cGRhdGVkXCIsIF90aGlzLl9oYW5kbGVTZWxlY3RlZERldmljZXNVcGRhdGVkLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuX2RhaWx5Lm9uKFwibG9jYWwtYXVkaW8tbGV2ZWxcIiwgX3RoaXMuX2hhbmRsZUxvY2FsQXVkaW9MZXZlbC5iaW5kKF90aGlzKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmZvcywgZGV2aWNlcywgY2FtcywgbWljcywgc3BlYWtlcnM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9vKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9vLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGFpbHlNZWRpYU1hbmFnZXIgYWxyZWFkeSBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhaWx5LnN0YXJ0Q2FtZXJhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRWaWRlb09mZjogIXRoaXMuX2NhbUVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QXVkaW9PZmY6ICF0aGlzLl9taWNFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9zID0gX28uc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuZW51bWVyYXRlRGV2aWNlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX28uc2VudCgpLmRldmljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1zID0gZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWNzID0gZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwiYXVkaW9pbnB1dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVha2VycyA9IGRldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5raW5kID09PSBcImF1ZGlvb3V0cHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVDYW1zVXBkYXRlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5jYWxsKF9hLCBjYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZCA9IChfYyA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVNaWNzVXBkYXRlZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCB8fCBfZC5jYWxsKF9jLCBtaWNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZiA9IChfZSA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgfHwgX2YuY2FsbChfZSwgc3BlYWtlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYW0gPSBpbmZvcy5jYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2ggPSAoX2cgPSB0aGlzLl9jYWxsYmFja3MpLm9uQ2FtVXBkYXRlZCkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCB8fCBfaC5jYWxsKF9nLCBpbmZvcy5jYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRNaWMgPSBpbmZvcy5taWM7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2sgPSAoX2ogPSB0aGlzLl9jYWxsYmFja3MpLm9uTWljVXBkYXRlZCkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCB8fCBfay5jYWxsKF9qLCBpbmZvcy5taWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRTcGVha2VyID0gaW5mb3Muc3BlYWtlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfbSA9IChfbCA9IHRoaXMuX2NhbGxiYWNrcykub25TcGVha2VyVXBkYXRlZCkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCB8fCBfbS5jYWxsKF9sLCBpbmZvcy5zcGVha2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMuX2RhaWx5LmlzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nKCkpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDRcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5zdGFydExvY2FsQXVkaW9MZXZlbE9ic2VydmVyKDEwMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl93YXZTdHJlYW1QbGF5ZXIpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDZcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZTdHJlYW1QbGF5ZXIuY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfby5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3JlbW90ZUF1ZGlvTGV2ZWxJbnRlcnZhbCkgdGhpcy5fcmVtb3RlQXVkaW9MZXZlbEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVxdWVuY2llcyA9IF90aGlzLl93YXZTdHJlYW1QbGF5ZXIuZ2V0RnJlcXVlbmNpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXZlVmFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9hID0gZnJlcXVlbmNpZXMudmFsdWVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSBhdmVWYWwgPSBmcmVxdWVuY2llcy52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgKyBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApIC8gZnJlcXVlbmNpZXMudmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUmVtb3RlQXVkaW9MZXZlbChhdmVWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vLmxhYmVsID0gNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGFpbHlNZWRpYU1hbmFnZXIgYWxyZWFkeSBjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovICxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChfYS5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWljRW5hYmxlZCkgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYy5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdGVBdWRpb0xldmVsSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVtb3RlQXVkaW9MZXZlbEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW90ZUF1ZGlvTGV2ZWxJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5sZWF2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEF1ZGlvVHJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLl93YXZTdHJlYW1QbGF5ZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVzZXJTdGFydGVkU3BlYWtpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gLFxuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl93YXZTdHJlYW1QbGF5ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnRlcnJ1cHQoKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuYnVmZmVyQm90QXVkaW8gPSBmdW5jdGlvbihkYXRhLCBpZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl93YXZTdHJlYW1QbGF5ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGQxNkJpdFBDTShkYXRhLCBpZCk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuZ2V0QWxsTWljcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRldmljZXM7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuZW51bWVyYXRlRGV2aWNlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX2Euc2VudCgpLmRldmljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2Uua2luZCA9PT0gXCJhdWRpb2lucHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmdldEFsbENhbXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkZXZpY2VzO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYS5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhaWx5LmVudW1lcmF0ZURldmljZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlcyA9IF9hLnNlbnQoKS5kZXZpY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGRldmljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGV2aWNlLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5nZXRBbGxTcGVha2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRldmljZXM7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuZW51bWVyYXRlRGV2aWNlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX2Euc2VudCgpLmRldmljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2Uua2luZCA9PT0gXCJhdWRpb291dHB1dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVNaWMgPSBmdW5jdGlvbihtaWNJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kYWlseS5zZXRJbnB1dERldmljZXNBc3luYyh7XG4gICAgICAgICAgICBhdWRpb0RldmljZUlkOiBtaWNJZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRldmljZUluZm8pIHtcbiAgICAgICAgICAgIF90aGlzLl9zZWxlY3RlZE1pYyA9IGRldmljZUluZm8ubWljO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVDYW0gPSBmdW5jdGlvbihjYW1JZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kYWlseS5zZXRJbnB1dERldmljZXNBc3luYyh7XG4gICAgICAgICAgICB2aWRlb0RldmljZUlkOiBjYW1JZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRldmljZUluZm8pIHtcbiAgICAgICAgICAgIF90aGlzLl9zZWxlY3RlZENhbSA9IGRldmljZUluZm8uY2FtZXJhO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVTcGVha2VyID0gZnVuY3Rpb24oc3BlYWtlcklkKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc0lELCBzcGVha2VycywgZGVmYXVsdFNwZWFrZXJfMSwgZGVmYXVsdFNwZWFrZXJDcDtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYy5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGVha2VySWQgIT09IFwiZGVmYXVsdFwiICYmIHRoaXMuX3NlbGVjdGVkU3BlYWtlci5kZXZpY2VJZCA9PT0gc3BlYWtlcklkKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzSUQgPSBzcGVha2VySWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShzSUQgPT09IFwiZGVmYXVsdFwiKSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWxsU3BlYWtlcnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYWtlcnMgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3BlYWtlcl8xID0gc3BlYWtlcnMuZmluZChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZGV2aWNlSWQgPT09IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlZmF1bHRTcGVha2VyXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBkZWZhdWx0IHNwZWFrZXIgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVha2Vycy5zcGxpY2Uoc3BlYWtlcnMuaW5kZXhPZihkZWZhdWx0U3BlYWtlcl8xKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3BlYWtlckNwID0gc3BlYWtlcnMuZmluZChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTcGVha2VyXzEubGFiZWwuaW5jbHVkZXMocy5sYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNJRCA9IChfYSA9IGRlZmF1bHRTcGVha2VyQ3AgPT09IG51bGwgfHwgZGVmYXVsdFNwZWFrZXJDcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmYXVsdFNwZWFrZXJDcC5kZXZpY2VJZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3BlYWtlcklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLl93YXZTdHJlYW1QbGF5ZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IudXBkYXRlU3BlYWtlcihzSUQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2VsZWN0ZWRTcGVha2VyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDogc3BlYWtlcklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSBfdGhpcy5fY2FsbGJhY2tzKS5vblNwZWFrZXJVcGRhdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIF90aGlzLl9zZWxlY3RlZFNwZWFrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZWxlY3RlZE1pY1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRNaWM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcInNlbGVjdGVkQ2FtXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZENhbTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwic2VsZWN0ZWRTcGVha2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFNwZWFrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuZW5hYmxlTWljID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9iKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWljRW5hYmxlZCA9IGVuYWJsZTtcbiAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0aGlzLl9kYWlseS5wYXJ0aWNpcGFudHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvY2FsKSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuc2V0TG9jYWxBdWRpbyhlbmFibGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyLmdldFN0YXR1cygpID09PSBcInBhdXNlZFwiKSB0aGlzLl9zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UsIHdlJ2xsIHJlY29yZCBvbiB0aGUgdHJhY2stc3RhcnRlZCBldmVudFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuZ2V0U3RhdHVzKCkgPT09IFwicmVjb3JkaW5nXCIpIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuZW5hYmxlQ2FtID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuX2NhbUVuYWJsZWQgPSBlbmFibGU7XG4gICAgICAgIHRoaXMuX2RhaWx5LnNldExvY2FsVmlkZW8oZW5hYmxlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwiaXNDYW1FbmFibGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYWlseS5sb2NhbFZpZGVvKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcImlzTWljRW5hYmxlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGFpbHkubG9jYWxBdWRpbygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLnRyYWNrcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgdmFyIHBhcnRpY2lwYW50cyA9IHRoaXMuX2RhaWx5LnBhcnRpY2lwYW50cygpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9jYWw6IHtcbiAgICAgICAgICAgICAgICBhdWRpbzogKF9jID0gKF9iID0gKF9hID0gcGFydGljaXBhbnRzID09PSBudWxsIHx8IHBhcnRpY2lwYW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFydGljaXBhbnRzLmxvY2FsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJhY2tzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYXVkaW8pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wZXJzaXN0ZW50VHJhY2ssXG4gICAgICAgICAgICAgICAgdmlkZW86IChfZiA9IChfZSA9IChfZCA9IHBhcnRpY2lwYW50cyA9PT0gbnVsbCB8fCBwYXJ0aWNpcGFudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcnRpY2lwYW50cy5sb2NhbCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRyYWNrcykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnZpZGVvKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YucGVyc2lzdGVudFRyYWNrXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuX3N0YXJ0UmVjb3JkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fY29ubmVjdGVkIHx8ICF0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyLnJlY29yZChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3VzZXJBdWRpb0NhbGxiYWNrKGRhdGEubW9ubyk7XG4gICAgICAgICAgICB9LCB0aGlzLl9yZWNvcmRlckNodW5rU2l6ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBlO1xuICAgICAgICAgICAgaWYgKCFlcnIubWVzc2FnZS5pbmNsdWRlcyhcIkFscmVhZHkgcmVjb3JkaW5nXCIpKSBjb25zb2xlLmVycm9yKFwiRXJyb3Igc3RhcnRpbmcgcmVjb3JkaW5nXCIsIGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuX2hhbmRsZUF2YWlsYWJsZURldmljZXNVcGRhdGVkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVDYW1zVXBkYXRlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5jYWxsKF9hLCBldmVudC5hdmFpbGFibGVEZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5raW5kID09PSBcInZpZGVvaW5wdXRcIjtcbiAgICAgICAgfSkpO1xuICAgICAgICAoX2QgPSAoX2MgPSB0aGlzLl9jYWxsYmFja3MpLm9uQXZhaWxhYmxlTWljc1VwZGF0ZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgfHwgX2QuY2FsbChfYywgZXZlbnQuYXZhaWxhYmxlRGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQua2luZCA9PT0gXCJhdWRpb2lucHV0XCI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgKF9mID0gKF9lID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCB8fCBfZi5jYWxsKF9lLCBldmVudC5hdmFpbGFibGVEZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5raW5kID09PSBcImF1ZGlvb3V0cHV0XCI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkU3BlYWtlci5kZXZpY2VJZCA9PT0gXCJkZWZhdWx0XCIpIHRoaXMudXBkYXRlU3BlYWtlcihcImRlZmF1bHRcIik7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuX2hhbmRsZVNlbGVjdGVkRGV2aWNlc1VwZGF0ZWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLl9zZWxlY3RlZENhbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRldmljZUlkKSAhPT0gZXZlbnQuZGV2aWNlcy5jYW1lcmEpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQ2FtID0gZXZlbnQuZGV2aWNlcy5jYW1lcmE7XG4gICAgICAgICAgICAoX2MgPSAoX2IgPSB0aGlzLl9jYWxsYmFja3MpLm9uQ2FtVXBkYXRlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCB8fCBfYy5jYWxsKF9iLCBldmVudC5kZXZpY2VzLmNhbWVyYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgoX2QgPSB0aGlzLl9zZWxlY3RlZE1pYykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRldmljZUlkKSAhPT0gZXZlbnQuZGV2aWNlcy5taWMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkTWljID0gZXZlbnQuZGV2aWNlcy5taWM7XG4gICAgICAgICAgICAoX2YgPSAoX2UgPSB0aGlzLl9jYWxsYmFja3MpLm9uTWljVXBkYXRlZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCB8fCBfZi5jYWxsKF9lLCBldmVudC5kZXZpY2VzLm1pYyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5faGFuZGxlTG9jYWxBdWRpb0xldmVsID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vbkxvY2FsQXVkaW9MZXZlbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5jYWxsKF9hLCBldi5hdWRpb0xldmVsKTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5faGFuZGxlUmVtb3RlQXVkaW9MZXZlbCA9IGZ1bmN0aW9uKGF1ZGlvTGV2ZWwpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vblJlbW90ZUF1ZGlvTGV2ZWwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuY2FsbChfYSwgYXVkaW9MZXZlbCwgJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJGJvdFBhcnRpY2lwYW50KCkpO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmhhbmRsZVRyYWNrU3RhcnRlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzdGF0dXMsIF9hO1xuICAgICAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfZikge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfZi5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKChfYiA9IGV2ZW50LnBhcnRpY2lwYW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubG9jYWwpKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShldmVudC50cmFjay5raW5kID09PSBcImF1ZGlvXCIpKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlcikgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuZ2V0U3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChfYSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdXNlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWNvcmRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDRcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuYmVnaW4oZXZlbnQudHJhY2spXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubmVjdFJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdFJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdFJlc29sdmUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA5XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9jdXJyZW50QXVkaW9UcmFjayAhPT0gZXZlbnQudHJhY2spKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA3XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5lbmQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Yuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5iZWdpbihldmVudC50cmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA4XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJ0cmFjay1zdGFydGVkIGV2ZW50IHJlY2VpdmVkIGZvciBjdXJyZW50IHRyYWNrIGFuZCBhbHJlYWR5IHJlY29yZGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEF1ZGlvVHJhY2sgPSBldmVudC50cmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2QgPSAoX2MgPSB0aGlzLl9jYWxsYmFja3MpLm9uVHJhY2tTdGFydGVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwIHx8IF9kLmNhbGwoX2MsIGV2ZW50LnRyYWNrLCBldmVudC5wYXJ0aWNpcGFudCA/ICQyMmVjZTA0NTI5MGM5OTZhJHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChldmVudC5wYXJ0aWNpcGFudCkgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9lID0gdGhpcy5vblRyYWNrU3RhcnRlZENhbGxiYWNrKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwIHx8IF9lLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVUcmFja1N0b3BwZWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmICghKChfYSA9IGV2ZW50LnBhcnRpY2lwYW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9jYWwpKSByZXR1cm47XG4gICAgICAgIGlmIChldmVudC50cmFjay5raW5kID09PSBcImF1ZGlvXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyICYmIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuZ2V0U3RhdHVzKCkgPT09IFwicmVjb3JkaW5nXCIpIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgICAoX2MgPSAoX2IgPSB0aGlzLl9jYWxsYmFja3MpLm9uVHJhY2tTdG9wcGVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwIHx8IF9jLmNhbGwoX2IsIGV2ZW50LnRyYWNrLCBldmVudC5wYXJ0aWNpcGFudCA/ICQyMmVjZTA0NTI5MGM5OTZhJHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChldmVudC5wYXJ0aWNpcGFudCkgOiB1bmRlZmluZWQpO1xuICAgICAgICAoX2QgPSB0aGlzLm9uVHJhY2tTdG9wcGVkQ2FsbGJhY2spID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgfHwgX2QuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGFpbHlNZWRpYU1hbmFnZXI7XG59KCgwLCAkZmM0OWE1NmNkODczOTEyNyRleHBvcnQkNGEwYzQ2ZGJiZTJkZGI2NykpO1xudmFyICQyMmVjZTA0NTI5MGM5OTZhJHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogcC51c2VyX2lkLFxuICAgICAgICBsb2NhbDogcC5sb2NhbCxcbiAgICAgICAgbmFtZTogcC51c2VyX25hbWVcbiAgICB9O1xufTtcbnZhciAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkYm90UGFydGljaXBhbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJib3RcIixcbiAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICBuYW1lOiBcIkJvdFwiXG4gICAgfTtcbn07XG5cblxuXG5cbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19leHRlbmRzID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMgfHwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKHtcbiAgICAgICAgICAgIF9fcHJvdG9fXzogW11cbiAgICAgICAgfSkgaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgICAgIH0gfHwgZnVuY3Rpb24oZCwgYikge1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIGIpaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xudmFyICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX2F3YWl0ZXIgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlciB8fCBmdW5jdGlvbih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fZ2VuZXJhdG9yID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2dlbmVyYXRvciB8fCBmdW5jdGlvbih0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7XG4gICAgICAgIGxhYmVsOiAwLFxuICAgICAgICBzZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgIHJldHVybiB0WzFdO1xuICAgICAgICB9LFxuICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgb3BzOiBbXVxuICAgIH0sIGYsIHksIHQsIGcgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xuICAgIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcChbXG4gICAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgICB2XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXyl0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtcbiAgICAgICAgICAgICAgICBvcFswXSAmIDIsXG4gICAgICAgICAgICAgICAgdC52YWx1ZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHN3aXRjaChvcFswXSl7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb3AgPSBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICBlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIH0gZmluYWxseXtcbiAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbn07XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fc3ByZWFkQXJyYXkgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkQXJyYXkgfHwgZnVuY3Rpb24odG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJHJlYWR5U3RhdGVzID0gW1xuICAgIFwiQ09OTkVDVElOR1wiLFxuICAgIFwiT1BFTlwiLFxuICAgIFwiQ0xPU0lOR1wiLFxuICAgIFwiQ0xPU0VEXCJcbl07XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJEtFRVBfQUxJVkVfSU5URVJWQUwgPSA1MDAwO1xudmFyICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRLRUVQX0FMSVZFX1RJTUVPVVQgPSAxNTAwMDtcbi8vIGNsaWVudCBzaWRlIGNvZGUgaW4gc291cFNGVSBoYXMgYSB0aW1lb3V0IG9mIDE1IHNlY29uZHMgZm9yIGNvbW1hbmQgcmVzcG9uc2Vcbi8vIDUgc2Vjb25kcyBzZWVtcyByZWFzb25hYmxlIHRoYXQgaXQgcHJvdmlkZXMgcm91Z2hseSAzIHJldHJ5IGF0dGVtcHRzXG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJFdFQlNPQ0tFVF9DT05ORUNUSU9OX1RJTUVPVVQgPSAxNTAwMDA7XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJERFRkFVTFRfUkVDT05ORUNUX0FUVEVNUFRTID0gMjtcbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTUFYX1JFQ09OTkVDVF9BVFRFTVBUUyA9IDEwO1xudmFyICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRERUZBVUxUX1JFQ09OTkVDVF9JTlRFUlZBTCA9IDEwMDA7XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJE1BWF9SRUNPTk5FQ1RfSU5URVJWQUwgPSAzMDAwMDtcbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkREVGQVVMVF9SRUNPTk5FQ1RfREVDQVkgPSAxLjU7XG52YXIgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJFdFQlNPQ0tFVF9USU1FT1VUX0NPREUgPSA0MTAwO1xudmFyICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRTSUdfQ09OTkVDVElPTl9DQU5DRUxFRCA9IFwiU0lHX0NPTk5FQ1RJT05fQ0FOQ0VMRURcIjtcbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkV0VCU09DS0VUX0VSUk9SID0gXCJXRUJTT0NLRVRfRVJST1JcIjtcbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMO1xuKGZ1bmN0aW9uKExPR19MRVZFTCkge1xuICAgIExPR19MRVZFTFtMT0dfTEVWRUxbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xuICAgIExPR19MRVZFTFtMT0dfTEVWRUxbXCJFUlJPUlwiXSA9IDFdID0gXCJFUlJPUlwiO1xuICAgIExPR19MRVZFTFtMT0dfTEVWRUxbXCJJTkZPXCJdID0gMl0gPSBcIklORk9cIjtcbiAgICBMT0dfTEVWRUxbTE9HX0xFVkVMW1wiV0FSTlwiXSA9IDNdID0gXCJXQVJOXCI7XG59KSgkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMIHx8ICgkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMID0ge30pKTtcbnZhciAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkcldlYlNvY2tldCA9IC8qKiBAY2xhc3MgKi8gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcldlYlNvY2tldCh1cmwsIHByb3RvY29scykge1xuICAgICAgICB0aGlzLl9jbG9zZWRNYW51YWxseSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlamVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RpbWVkX291dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbml0aWFsQ29ubmVjdGlvbk9rID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3dzID0gbmV3IFdlYlNvY2tldCh1cmwsIHByb3RvY29scyk7XG4gICAgfVxuICAgIHJXZWJTb2NrZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl93cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIC8vIEFkZCBvdGhlciBXZWJTb2NrZXQgbWV0aG9kcyBhcyBuZWVkZWRcbiAgICByV2ViU29ja2V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKGNvZGUsIHJlYXNvbikge1xuICAgICAgICB0aGlzLl93cy5jbG9zZShjb2RlLCByZWFzb24pO1xuICAgIH07XG4gICAgcldlYlNvY2tldC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fd3Muc2VuZChkYXRhKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyV2ViU29ja2V0LnByb3RvdHlwZSwgXCJ1cmxcIiwge1xuICAgICAgICAvLyBBZGQgZ2V0dGVycyBmb3IgV2ViU29ja2V0IHByb3BlcnRpZXNcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cy51cmw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocldlYlNvY2tldC5wcm90b3R5cGUsIFwicmVhZHlTdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd3MucmVhZHlTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiByV2ViU29ja2V0O1xufSgpO1xuLyoqXG4gKiBCdWlsZHMgb24gdG9wIG9mIEphdmFzY3JpcHQgV2Vic29ja2V0c1xuICpcbiAqIFRoaXMgYmVoYXZlcyBsaWtlIHRoZSBXZWJzb2NrZXQgbGlicmFyeSBpbiBldmVyeSB3YXksIGV4Y2VwdCBpZiBpdCBmYWlscyB0b1xuICogY29ubmVjdCBvciBpZiBpdCBnZXRzIGRpc2Nvbm5lY3RlZCwgaXQgd2lsbCB0cnkgdG8gcmVjb25uZWN0IGRlcGVuZGluZyBvblxuICogdGhlIG1heGltdW0gbnVtYmVyIG9mIHJlY29ubmVjdCBhdHRlbXB0cyBzZXQuIHJldHJ5IGlzIG5vdCBlbmFibGVkIGZvciBpbml0aWFsXG4gKiBjb25uZWN0aW9uLiBXaGVuIGluaXRpYWwgY29ubmVjdGlvbiBmYWlscyBpdCBpcyBiZXN0IHRvIGNoZWNrIHlvdXJzZWxmIGJlZm9yZVxuICogeW91IGtlZXAgd3JlY2tpbicgeW91cnNlbGYuXG4gKlxuICogSXQgaXMgQVBJIGNvbXBhdGlibGUsIHNvIHdoZW4geW91IGhhdmU6XG4gKiAgIHdzID0gbmV3IFdlYlNvY2tldCgnd3M6Ly8uLi4uJyk7XG4gKiB5b3UgY2FuIHJlcGxhY2Ugd2l0aDpcbiAqICAgd3MgPSBuZXcgUmVjb25uZWN0aW5nV2ViU29ja2V0KCd3czovLy4uLi4nKTtcbiAqXG4gKiBXaGlsZSBpdCBpcyBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBOb2RlSlMgd3MgbGlicmFyeSwgd2UgcHJvdmlkZSB0aGVcbiAqIGZvbGxvd2luZyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgYW5kIGV2ZW50cyBvbiB0aGUgUmVjb25uZWN0aW5nV2ViU29ja2V0LlxuICpcbiAqIEV2ZW50czpcbiAqXG4gKiBjb25uZWN0aW9uLXRpbWVvdXRcbiAqIC0gRW1pdHRlZCB3aGVuIHRoZSB3ZWIgc29ja2V0IGNvbm5lY3Rpb24gdGltZXMgb3V0LlxuICpcbiAqIHJlY29ubmVjdGluZ1xuICogLSBFbWl0dGVkIGFmdGVyIGEgbWFudWFsIGNsb3NlIG9mIHRoZSB3ZWIgc29ja2V0IGlzIGRvbmUgYW5kIGJlZm9yZSByZXRyeWluZ1xuICogICB0aGUgY29ubmVjdGlvbi5cbiAqXG4gKiByZWNvbm5lY3QtZmFpbGVkXG4gKiAtIEVtaXR0ZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGNvbm5lY3Rpb24gYXR0ZW1wdHMgZXhjZWVkcyB0aGUgc2V0IG51bWJlciBvZlxuICogICByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXG4gKlxuICoga2VlcC1hbGl2ZVxuICogLSBFbWl0dGVkIHdoZW4gdGhlIHNldCBrZWVwIGFsaXZlIGludGVydmFsIGVsYXBzZXMuIFRoaXMgZXZlbnQgbWF5IGJlIHVzZWRcbiAqICAgdG8gaGF2ZSBwaW5nIHBvbmcga2VlcC1hbGl2ZSBtZWNoYW5pc20gZm9yIHdlYiBzb2NrZXQgaGVhbHRoLlxuICpcbiAqIFByb3BlcnRpZXM6XG4gKlxuICoga2VlcEFsaXZlVGltZW91dFxuICogLSBUaGUgdGltZW91dCBmb3Iga2VlcC1hbGl2ZS4gRGVmYXVsdDogMTUwMDBcbiAqXG4gKiBrZWVwQWxpdmVJbnRlcnZhbFxuICogLSBUaGUgaW50ZXJ2YWwgYXQgd2hpY2ggdG8gZW1pdCBrZWVwLWFsaXZlIGV2ZW50LiBEZWZhdWx0OiA1MDAwXG4gKlxuICogc2hvdWxkUmV0cnlGblxuICogLSBBIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIHNob3VsZCByZXR1cm4gYm9vbGVhbiB0byBkZXRlcm1pbmUgaWYgYSB3ZWJcbiAqICAgc29ja2V0IHJlY29ubmVjdGlvbiBhdHRlbXB0IHNob3VsZCBiZSBtYWRlLiBXaGVuIG5vdCBzZXQsIGNvbm5lY3Rpb24gaXNcbiAqICAgYWx3YXlzIHJldHJpZWQuXG4gKlxuICogY29ubmVjdGlvblRpbWVvdXRcbiAqIC0gVGhlIHRpbWVvdXQgaW50ZXJ2YWwgZm9yIGNvbnNpZGVyaW5nIHdoZXRoZXIgdGhlIGNvbm5lY3Rpb24gdGltZWQgb3V0LlxuICogICBEZWZhdWx0OiAyMDAwMCBtc1xuICpcbiAqIG1heFJlY29ubmVjdEF0dGVtcHRzXG4gKiAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhdHRlbXB0cyB0byBiZSBtYWRlIGZvciByZWNvbm5lY3Rpb24uIERlZmF1bHQ6IDJcbiAqXG4gKiByZWNvbm5lY3RJbnRlcnZhbFxuICogLSBUaGUgaW50ZXJ2YWwgdG8gd2FpdCBiZWZvcmUgYXR0ZW1wdGluZyBhIHJlY29ubmVjdGlvbi4gRGVmYXVsdDogMTAwMCBtc1xuICovIHZhciAkMDMyMzgwZGJjZjNmNGUxMyRleHBvcnQkNGYzZDBmZmQ5NDFlYmVmYiA9IC8qKiBAY2xhc3MgKi8gZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fZXh0ZW5kcyhSZWNvbm5lY3RpbmdXZWJTb2NrZXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVjb25uZWN0aW5nV2ViU29ja2V0KGFkZHJlc3MsIHByb3RvY29scywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSBvcHRpb25zID0ge307XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB0aHJvdyBuZXcgRXJyb3IoXCJOZWVkIGEgdmFsaWQgV2ViU29ja2V0IFVSTFwiKTtcbiAgICAgICAgX3RoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3VybCA9IGFkZHJlc3M7XG4gICAgICAgIF90aGlzLl9wcm90b2NvbHMgPSBwcm90b2NvbHM7XG4gICAgICAgIF90aGlzLl9wYXJzZUJsb2JUb0pzb24gPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyc2VCbG9iVG9Kc29uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xuICAgICAgICBfdGhpcy5pbml0KCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2tlZXBBbGl2ZVRpbWVvdXQgPSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkS0VFUF9BTElWRV9USU1FT1VUO1xuICAgICAgICB0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCA9ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRLRUVQX0FMSVZFX0lOVEVSVkFMO1xuICAgICAgICB0aGlzLl9kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fa2VlcEludGVydmFsSUQgPSBudWxsO1xuICAgICAgICB0aGlzLl9zaG91bGRSZXRyeUZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblRpbWVvdXQgPSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkV0VCU09DS0VUX0NPTk5FQ1RJT05fVElNRU9VVDtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLl9hbGxvd2VkUmVjb25uZWN0QXR0ZW1wdHMgPSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkREVGQVVMVF9SRUNPTk5FQ1RfQVRURU1QVFM7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJERFRkFVTFRfUkVDT05ORUNUX0lOVEVSVkFMO1xuICAgICAgICB0aGlzLl9tYXhSZWNvbm5lY3RJbnRlcnZhbCA9ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRNQVhfUkVDT05ORUNUX0lOVEVSVkFMO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3REZWNheSA9ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRERUZBVUxUX1JFQ09OTkVDVF9ERUNBWTtcbiAgICB9O1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xlYXJSZWNvbm5lY3RUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3MgPSBuZXcgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJHJXZWJTb2NrZXQoX3RoaXMuX3VybCwgX3RoaXMuX3Byb3RvY29scyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRDb25uZWN0aW9uVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZUV2ZW50ID0gZXZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gd3MuX3RpbWVkX291dCA/ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRXRUJTT0NLRVRfVElNRU9VVF9DT0RFIDogY2xvc2VFdmVudC5jb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPSB3cy5fdGltZWRfb3V0ID8gXCJ3ZWJzb2NrZXQgY29ubmVjdGlvbiB0aW1lZCBvdXRcIiA6IGNsb3NlRXZlbnQucmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLl90aW1lZF9vdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdzLl9jbG9zZWRNYW51YWxseSAmJiB3cy5faW5pdGlhbENvbm5lY3Rpb25Paykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJzaWduYWxpbmcgc29ja2V0IGNsb3NlZCB1bmV4cGVjdGVkbHk6IFwiLmNvbmNhdChjb2RlKS5jb25jYXQocmVhc29uID8gXCIgXCIgKyByZWFzb24gOiBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9jbG9zZVNvY2tldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiY2xvc2VcIiwgY29kZSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgX3RoaXMubG9nKFwic2lnbmFsaW5nIHNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cy5fY2xvc2VkTWFudWFsbHkgJiYgKHdzLl9lcnJvcmVkIHx8IHdzLl90aW1lZF9vdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInNpZ25hbGluZyBzb2NrZXQgY2xvc2VkIG9uIGVycm9yOiBcIi5jb25jYXQoY29kZSkuY29uY2F0KHJlYXNvbiA/IFwiIFwiICsgcmVhc29uIDogXCJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdzLl9yZWplY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuX3JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBlcnJvciAoXCIuY29uY2F0KGNvZGUsIFwiKTogXCIpLmNvbmNhdChyZWFzb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5uYW1lID0gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJFdFQlNPQ0tFVF9FUlJPUjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2coXCJ3c3MgY29ubmVjdGlvbiBvcGVuZWQgdG9cIiwgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJExPR19MRVZFTC5ERUJVRywgX3RoaXMuX3VybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xlYXJDb25uZWN0aW9uVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyB0aGF0IHRoZSB0aW1lb3V0IGNsb3NlcyB0aGUgc29ja2V0LCBpbiB0aGVvcnkgdGhpcyBvbm9wZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayBzaG91bGQgbmV2ZXIgaGFwcGVuIGluIHRoZSBmaXJzdCBwbGFjZSwgYnV0IHNlZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFybWxlc3MgdG8gbGVhdmUgdGhlc2Ugc2FmZWd1YXJkcyBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5fcmVqZWN0ZWQgfHwgd3MuX3RpbWVkX291dCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5fY2xvc2VkTWFudWFsbHkgfHwgX3RoaXMuX3dzICYmIF90aGlzLl93cyAhPT0gd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuX3JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKFwid3NzIGNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgYnkgZGlzY29ubmVjdCBvciBuZXdlciBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIubmFtZSA9ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRTSUdfQ09OTkVDVElPTl9DQU5DRUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuX2luaXRpYWxDb25uZWN0aW9uT2sgPSBfdGhpcy5fdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9sYXN0TXNnUmVjdlRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwpIF90aGlzLl9rZWVwSW50ZXJ2YWxJRCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2hlY2tTb2NrZXRIZWFsdGhBbmRTZW5kS2VlcEFsaXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX3RoaXMuX2tlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fd3MgPSB3cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ5aTogZXZ0IGlzIGFuIEV2ZW50IGhlcmUsIHdpdGggMCBhbW91bnQgb2YgaGVscGZ1bCBpbmZvLiBJZiB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgaGFwcGVucyB0byBiZSBpbmZvIGFib3V0IHRoZSBlcnJvciwgaXQncyBpbmNsdWRlZCBpbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGFjY29tcGFueWluZyBjbG9zZSBldmVudCAoYmVjYXVzZSB0aGF0IG1ha2Ugc2Vuc2UuIHNoYWtlcyBoZWFkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgU08uIFdlIGRvIG5vdCByZWplY3QgaGVyZS4gSW5zdGVhZCwgd2UganVzdCBzZXQgdGhlIF9lcnJvcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBmbGFnIG9uIHRoZSBzb2NrZXQgc28gd2hlbiB0aGUgY2xvc2UgZXZlbnQgb2NjdXJzLCBpdCBrbm93cyB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3cy5fY2xvc2VkTWFudWFsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdzVGFyZ2V0ID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZyhcIndlYnNvY2tldCBlcnJvciBldmVudDogXCIuY29uY2F0KHdzVGFyZ2V0ID09PSBudWxsIHx8IHdzVGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3c1RhcmdldC51cmwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuX2Vycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbihtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUuc2V0Q29ubmVjdGlvblRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblRpbWVvdXRJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIkNvbm5lY3Rpb24gcmVjb25uZWN0IGF0dGVtcHQgdGltZWQgb3V0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJjb25uZWN0aW9uLXRpbWVvdXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckNvbm5lY3Rpb25UaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZVNvY2tldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzLl9jb25uZWN0aW9uVGltZW91dCk7XG4gICAgfTtcbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLmNsZWFyQ29ubmVjdGlvblRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Nvbm5lY3Rpb25UaW1lb3V0SUQpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uVGltZW91dElEID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5jbGVhclJlY29ubmVjdFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlY29ubmVjdFRpbWVvdXRJRCk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdFRpbWVvdXRJRCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUuY2xlYXJLZWVwQWxpdmVJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fa2VlcEludGVydmFsSUQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fa2VlcEludGVydmFsSUQpO1xuICAgICAgICAgICAgdGhpcy5fa2VlcEludGVydmFsSUQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLmNoZWNrU29ja2V0SGVhbHRoQW5kU2VuZEtlZXBBbGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5fd3MgJiYgdGhpcy5fd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2tlZXBBbGl2ZVRpbWVvdXQgfHwgIXRoaXMuX2tlZXBBbGl2ZUludGVydmFsKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShEYXRlLm5vdygpIC0gdGhpcy5fbGFzdE1zZ1JlY3ZUaW1lID4gdGhpcy5fa2VlcEFsaXZlVGltZW91dCkpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIkNvbm5lY3Rpb24gaXMgc3RhbGUsIG5lZWQgdG8gcmVjb25uZWN0XCIsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRMT0dfTEVWRUwuV0FSTik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZVNvY2tldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZW1pdCB0aGUga2VlcC1hbGl2ZSBldmVudCBpZiB3ZSBoYXZlbid0IHNlbnQgYW55dGhpbmcgZWxzZSByZWNlbnRseVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLl9sYXN0TXNnU2VuZFRpbWUgPCB0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFbWl0dGluZyBrZWVwLWFsaXZlXCIsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRMT0dfTEVWRUwuREVCVUcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwia2VlcC1hbGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBXZSB1c2UgdGhlIHdvcmQgbWFudWFsbHkgaGVyZSB0byBpbXBseSB0aGUgYXBwbGljYXRpb24gdXNpbmcgdGhpcyBjb2RlXG4gICAgLy8gb3IgdGhpcyBjb2RlIGl0c2VsZiB3aWxsIGRlY2lkZSB0byBjbG9zZSB0aGUgc29ja2V0LlxuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUuX2Nsb3NlU29ja2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRSZXRyeSwgZXJyb3JfMTtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2IubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIkNsb3NpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJLZWVwQWxpdmVJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE1zZ1JlY3ZUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dzLl9jbG9zZWRNYW51YWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd3MuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gKChfYSA9IHRoaXMuX3dzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX2luaXRpYWxDb25uZWN0aW9uT2spICYmIHRoaXMuX3Nob3VsZFJldHJ5Rm4gJiYgdGhpcy5fc2hvdWxkUmV0cnlGbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZXRyeSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgM1xuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiRW1pdHRpbmcgcmVjb25uZWN0XCIsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRMT0dfTEVWRUwuREVCVUcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVjb25uZWN0aW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRyeUZhaWxlZENvbm5lY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFcnJvciB3aGlsZSBjbG9zaW5nIGFuZCByZXRyeWluZzogXCIuY29uY2F0KGVycm9yXzEpLCAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMLkVSUk9SKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDVcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLnJldHJ5RmFpbGVkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGltZW91dDtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5fYWxsb3dlZFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RUaW1lb3V0SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiUmV0cnkgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJSZXRyeWluZyBmYWlsZWQgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IC8vIFRoZSB0aW1lb3V0IGxvZ2ljIGlzIHRha2VuIGZyb21cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pvZXdhbG5lcy9yZWNvbm5lY3Rpbmctd2Vic29ja2V0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdEludGVydmFsICogTWF0aC5wb3codGhpcy5fcmVjb25uZWN0RGVjYXksIHRoaXMuX3JlY29ubmVjdEF0dGVtcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHRpbWVvdXQgPiB0aGlzLl9tYXhSZWNvbm5lY3RJbnRlcnZhbCA/IHRoaXMuX21heFJlY29ubmVjdEludGVydmFsIDogdGltZW91dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJSZWNvbm5lY3RpbmcgaW4gXCIuY29uY2F0KHRpbWVvdXQgLyAxMDAwLCBcIiBzZWNvbmRzXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0VGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiTWF4aW11bSBjb25uZWN0aW9uIHJldHJ5IGF0dGVtcHRzIGV4Y2VlZGVkXCIsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRMT0dfTEVWRUwuRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWNvbm5lY3QtZmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24obXNnLCBsb2dfbGV2ZWwpIHtcbiAgICAgICAgaWYgKGxvZ19sZXZlbCA9PT0gdm9pZCAwKSBsb2dfbGV2ZWwgPSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMLkRFQlVHO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKWFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIHN3aXRjaChsb2dfbGV2ZWwpe1xuICAgICAgICAgICAgY2FzZSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMLkRFQlVHOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcuYXBwbHkoY29uc29sZSwgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fc3ByZWFkQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICBcIndlYnNvY2tldDogXCIuY29uY2F0KG1zZylcbiAgICAgICAgICAgICAgICBdLCBhcmdzLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMLkVSUk9SOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fc3ByZWFkQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICBcIndlYnNvY2tldDogXCIuY29uY2F0KG1zZylcbiAgICAgICAgICAgICAgICBdLCBhcmdzLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTE9HX0xFVkVMLldBUk46XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX3NwcmVhZEFycmF5KFtcbiAgICAgICAgICAgICAgICAgICAgXCJ3ZWJzb2NrZXQ6IFwiLmNvbmNhdChtc2cpXG4gICAgICAgICAgICAgICAgXSwgYXJncywgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJExPR19MRVZFTC5JTkZPOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19zcHJlYWRBcnJheShbXG4gICAgICAgICAgICAgICAgICAgIFwid2Vic29ja2V0OiBcIi5jb25jYXQobXNnKVxuICAgICAgICAgICAgICAgIF0sIGFyZ3MsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl93cyAmJiB0aGlzLl93cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE1zZ1NlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dzLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLmxvZyhcIkZhaWxlZCB0byBzZW5kIGRhdGEsIHdlYiBzb2NrZXQgbm90IG9wZW4uXCIsICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRMT0dfTEVWRUwuRVJST1IpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiRmFpbGVkIHRvIHNlbmQgZGF0YS4gXCIuY29uY2F0KGVycm9yKSwgJDAzMjM4MGRiY2YzZjRlMTMkdmFyJExPR19MRVZFTC5FUlJPUik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJDbG9zaW5nIHdlYnNvY2tldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclJlY29ubmVjdFRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIkZhaWxlZCB0byBjbG9zZSB3ZWJzb2NrZXQuIFwiLmNvbmNhdChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLCBcInJlYWR5U3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLl93cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlYWR5U3RhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFdlYlNvY2tldC5DTE9TRUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZSwgXCJ1cmxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLCBcImtlZXBBbGl2ZVRpbWVvdXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2tlZXBBbGl2ZVRpbWVvdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oa2VlcEFsaXZlVGltZW91dCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZWVwQWxpdmVUaW1lb3V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIEFDSyBmcmVzaG5lc3MgdGltZW91dCB0byBcIi5jb25jYXQoa2VlcEFsaXZlVGltZW91dCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2tlZXBBbGl2ZVRpbWVvdXQgPSBrZWVwQWxpdmVUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUsIFwia2VlcEFsaXZlSW50ZXJ2YWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2tlZXBBbGl2ZUludGVydmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKGtlZXBBbGl2ZUludGVydmFsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtlZXBBbGl2ZUludGVydmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIGtlZXAtYWxpdmUgaW50ZXJ2YWwgdG8gXCIuY29uY2F0KGtlZXBBbGl2ZUludGVydmFsKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwgPSBrZWVwQWxpdmVJbnRlcnZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLCBcInNob3VsZFJldHJ5Rm5cIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHRoaXMuX3Nob3VsZFJldHJ5Rm4gPSBjYjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLCBcImNvbm5lY3Rpb25UaW1lb3V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uVGltZW91dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih0aW1lb3V0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVvdXQgPT09IFwibnVtYmVyXCIpIHRoaXMuX2Nvbm5lY3Rpb25UaW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLCBcIm1heFJlY29ubmVjdEF0dGVtcHRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGxvd2VkUmVjb25uZWN0QXR0ZW1wdHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oYXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA+IDAgJiYgYXR0ZW1wdHMgPCAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkTUFYX1JFQ09OTkVDVF9BVFRFTVBUUykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiU2V0dGluZyBtYXhpbXVtIGNvbm5lY3Rpb24gcmV0cnkgYXR0ZW1wdHMgdG8gXCIuY29uY2F0KGF0dGVtcHRzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxsb3dlZFJlY29ubmVjdEF0dGVtcHRzID0gYXR0ZW1wdHM7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5fYWxsb3dlZFJlY29ubmVjdEF0dGVtcHRzID0gJDAzMjM4MGRiY2YzZjRlMTMkdmFyJERFRkFVTFRfUkVDT05ORUNUX0FUVEVNUFRTO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUsIFwicmVjb25uZWN0SW50ZXJ2YWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdEludGVydmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKGludGVydmFsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGludGVydmFsID09PSBcIm51bWJlclwiKSB0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IGludGVydmFsIDwgdGhpcy5fbWF4UmVjb25uZWN0SW50ZXJ2YWwgPyBpbnRlcnZhbCA6IHRoaXMuX21heFJlY29ubmVjdEludGVydmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkYXRhLCBfcGFyc2VQcm9taXNlLCBtc2c7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaChfYS5sYWJlbCl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RNc2dSZWN2VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJzZVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIC8vIEhhbmRsZSB0ZXh0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYmluYXJ5IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5QnVmZmVyID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIEFycmF5QnVmZmVyIGFzIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGFtcGxlOiBDb252ZXJ0IEFycmF5QnVmZmVyIHRvIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIFVpbnQ4QXJyYXkgYXMgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9wYXJzZUJsb2JUb0pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIEJsb2IgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgQmxvYiB0byBBcnJheUJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyXzEgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJfMS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gcmVhZGVyXzEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIEpTT04gZnJvbSBCbG9iOlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEucmVhZEFzVGV4dChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJzZVByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwgbXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjb25uZWN0aW5nV2ViU29ja2V0O1xufSgoMCwgJGtSNnRHJEV2ZW50RW1pdHRlcikpO1xuW1xuICAgIFwiYmluYXJ5VHlwZVwiLFxuICAgIFwiYnVmZmVyZWRBbW91bnRcIixcbiAgICBcImV4dGVuc2lvbnNcIixcbiAgICBcInByb3RvY29sXCIsXG4gICAgXCJyZWFkeVN0YXRlXCIsXG4gICAgXCJ1cmxcIixcbiAgICBcImtlZXBBbGl2ZVRpbWVvdXRcIixcbiAgICBcImtlZXBBbGl2ZUludGVydmFsXCIsXG4gICAgXCJzaG91bGRSZXRyeUZuXCIsXG4gICAgXCJjb25uZWN0aW9uVGltZW91dFwiLFxuICAgIFwibWF4UmVjb25uZWN0QXR0ZW1wdHNcIixcbiAgICBcInJlY29ubmVjdEludGVydmFsXCJcbl0uZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkMDMyMzgwZGJjZjNmNGUxMyRleHBvcnQkNGYzZDBmZmQ5NDFlYmVmYi5wcm90b3R5cGUsIHByb3BlcnR5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbn0pO1xuW1xuICAgIFwiQ09OTkVDVElOR1wiLFxuICAgIFwiT1BFTlwiLFxuICAgIFwiQ0xPU0lOR1wiLFxuICAgIFwiQ0xPU0VEXCJcbl0uZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkMDMyMzgwZGJjZjNmNGUxMyRleHBvcnQkNGYzZDBmZmQ5NDFlYmVmYi5wcm90b3R5cGUsIHByb3BlcnR5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAkMDMyMzgwZGJjZjNmNGUxMyR2YXIkcmVhZHlTdGF0ZXMuaW5kZXhPZihwcm9wZXJ0eSlcbiAgICB9KTtcbn0pO1xuW1xuICAgIFwiQ09OTkVDVElOR1wiLFxuICAgIFwiT1BFTlwiLFxuICAgIFwiQ0xPU0lOR1wiLFxuICAgIFwiQ0xPU0VEXCJcbl0uZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkMDMyMzgwZGJjZjNmNGUxMyRleHBvcnQkNGYzZDBmZmQ5NDFlYmVmYiwgcHJvcGVydHksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICQwMzIzODBkYmNmM2Y0ZTEzJHZhciRyZWFkeVN0YXRlcy5pbmRleE9mKHByb3BlcnR5KVxuICAgIH0pO1xufSk7XG5cblxuXG5cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRUZXh0RnJhbWUkVHlwZSBleHRlbmRzICgwLCAka1I2dEckTWVzc2FnZVR5cGUpIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcihcInBpcGVjYXQuVGV4dEZyYW1lXCIsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlkXCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJzY2FsYXJcIixcbiAgICAgICAgICAgICAgICBUOiA0IC8qU2NhbGFyVHlwZS5VSU5UNjQqLyAsXG4gICAgICAgICAgICAgICAgTDogMCAvKkxvbmdUeXBlLkJJR0lOVCovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMyxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIFxuICAgICAgICAgICAgfVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgY3JlYXRlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnbG9iYWxUaGlzLk9iamVjdC5jcmVhdGUodGhpcy5tZXNzYWdlUHJvdG90eXBlKTtcbiAgICAgICAgbWVzc2FnZS5pZCA9IDBuO1xuICAgICAgICBtZXNzYWdlLm5hbWUgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLnRleHQgPSBcIlwiO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgKDAsICRrUjZ0RyRyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKSh0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCBsZW5ndGgsIG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZShyZWFkZXIucG9zIDwgZW5kKXtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoKGZpZWxkTm8pe1xuICAgICAgICAgICAgICAgIGNhc2UgLyogdWludDY0IGlkICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIudWludDY0KCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgbmFtZSAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIHRleHQgKi8gMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwidGhyb3dcIikgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKSAodSA9PT0gdHJ1ZSA/ICgwLCAka1I2dEckVW5rbm93bkZpZWxkSGFuZGxlcikub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UsIHdyaXRlciwgb3B0aW9ucykge1xuICAgICAgICAvKiB1aW50NjQgaWQgPSAxOyAqLyBpZiAobWVzc2FnZS5pZCAhPT0gMG4pIHdyaXRlci50YWcoMSwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuVmFyaW50KS51aW50NjQobWVzc2FnZS5pZCk7XG4gICAgICAgIC8qIHN0cmluZyBuYW1lID0gMjsgKi8gaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikgd3JpdGVyLnRhZygyLCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgICAgICAvKiBzdHJpbmcgdGV4dCA9IDM7ICovIGlmIChtZXNzYWdlLnRleHQgIT09IFwiXCIpIHdyaXRlci50YWcoMywgKDAsICRrUjZ0RyRXaXJlVHlwZSkuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKSAodSA9PSB0cnVlID8gKDAsICRrUjZ0RyRVbmtub3duRmllbGRIYW5kbGVyKS5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG5jb25zdCAkNTE3N2Q1NmJkMGM5OTVlMCRleHBvcnQkNzg0MTBhZGEwM2Y2OTMxYiA9IG5ldyAkNTE3N2Q1NmJkMGM5OTVlMCR2YXIkVGV4dEZyYW1lJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRBdWRpb1Jhd0ZyYW1lJFR5cGUgZXh0ZW5kcyAoMCwgJGtSNnRHJE1lc3NhZ2VUeXBlKSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoXCJwaXBlY2F0LkF1ZGlvUmF3RnJhbWVcIiwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiAxLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaWRcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDQgLypTY2FsYXJUeXBlLlVJTlQ2NCovICxcbiAgICAgICAgICAgICAgICBMOiAwIC8qTG9uZ1R5cGUuQklHSU5UKi8gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiAyLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwic2NhbGFyXCIsXG4gICAgICAgICAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiAzLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXVkaW9cIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDEyIC8qU2NhbGFyVHlwZS5CWVRFUyovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogNCxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhbXBsZV9yYXRlXCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJzY2FsYXJcIixcbiAgICAgICAgICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiA1LFxuICAgICAgICAgICAgICAgIG5hbWU6IFwibnVtX2NoYW5uZWxzXCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJzY2FsYXJcIixcbiAgICAgICAgICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiA2LFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicHRzXCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJzY2FsYXJcIixcbiAgICAgICAgICAgICAgICBvcHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgVDogNCAvKlNjYWxhclR5cGUuVUlOVDY0Ki8gLFxuICAgICAgICAgICAgICAgIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGNyZWF0ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKHRoaXMubWVzc2FnZVByb3RvdHlwZSk7XG4gICAgICAgIG1lc3NhZ2UuaWQgPSAwbjtcbiAgICAgICAgbWVzc2FnZS5uYW1lID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5hdWRpbyA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICBtZXNzYWdlLnNhbXBsZVJhdGUgPSAwO1xuICAgICAgICBtZXNzYWdlLm51bUNoYW5uZWxzID0gMDtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpICgwLCAka1I2dEckcmVmbGVjdGlvbk1lcmdlUGFydGlhbCkodGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgbGVuZ3RoLCBvcHRpb25zLCB0YXJnZXQpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUocmVhZGVyLnBvcyA8IGVuZCl7XG4gICAgICAgICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgICAgIHN3aXRjaChmaWVsZE5vKXtcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHVpbnQ2NCBpZCAqLyAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVhZGVyLnVpbnQ2NCgpLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIG5hbWUgKi8gMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJ5dGVzIGF1ZGlvICovIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXVkaW8gPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiB1aW50MzIgc2FtcGxlX3JhdGUgKi8gNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zYW1wbGVSYXRlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHVpbnQzMiBudW1fY2hhbm5lbHMgKi8gNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5udW1DaGFubmVscyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBvcHRpb25hbCB1aW50NjQgcHRzICovIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHRzID0gcmVhZGVyLnVpbnQ2NCgpLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSA9PT0gXCJ0aHJvd1wiKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpICh1ID09PSB0cnVlID8gKDAsICRrUjZ0RyRVbmtub3duRmllbGRIYW5kbGVyKS5vblJlYWQgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZSwgd3JpdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8qIHVpbnQ2NCBpZCA9IDE7ICovIGlmIChtZXNzYWdlLmlkICE9PSAwbikgd3JpdGVyLnRhZygxLCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5WYXJpbnQpLnVpbnQ2NChtZXNzYWdlLmlkKTtcbiAgICAgICAgLyogc3RyaW5nIG5hbWUgPSAyOyAqLyBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB3cml0ZXIudGFnKDIsICgwLCAka1I2dEckV2lyZVR5cGUpLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgIC8qIGJ5dGVzIGF1ZGlvID0gMzsgKi8gaWYgKG1lc3NhZ2UuYXVkaW8ubGVuZ3RoKSB3cml0ZXIudGFnKDMsICgwLCAka1I2dEckV2lyZVR5cGUpLkxlbmd0aERlbGltaXRlZCkuYnl0ZXMobWVzc2FnZS5hdWRpbyk7XG4gICAgICAgIC8qIHVpbnQzMiBzYW1wbGVfcmF0ZSA9IDQ7ICovIGlmIChtZXNzYWdlLnNhbXBsZVJhdGUgIT09IDApIHdyaXRlci50YWcoNCwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuVmFyaW50KS51aW50MzIobWVzc2FnZS5zYW1wbGVSYXRlKTtcbiAgICAgICAgLyogdWludDMyIG51bV9jaGFubmVscyA9IDU7ICovIGlmIChtZXNzYWdlLm51bUNoYW5uZWxzICE9PSAwKSB3cml0ZXIudGFnKDUsICgwLCAka1I2dEckV2lyZVR5cGUpLlZhcmludCkudWludDMyKG1lc3NhZ2UubnVtQ2hhbm5lbHMpO1xuICAgICAgICAvKiBvcHRpb25hbCB1aW50NjQgcHRzID0gNjsgKi8gaWYgKG1lc3NhZ2UucHRzICE9PSB1bmRlZmluZWQpIHdyaXRlci50YWcoNiwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuVmFyaW50KS51aW50NjQobWVzc2FnZS5wdHMpO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpICh1ID09IHRydWUgPyAoMCwgJGtSNnRHJFVua25vd25GaWVsZEhhbmRsZXIpLm9uV3JpdGUgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbn1cbmNvbnN0ICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQ1MWQ4NzIxZGUzY2JmZjhmID0gbmV3ICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRBdWRpb1Jhd0ZyYW1lJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRUcmFuc2NyaXB0aW9uRnJhbWUkVHlwZSBleHRlbmRzICgwLCAka1I2dEckTWVzc2FnZVR5cGUpIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcihcInBpcGVjYXQuVHJhbnNjcmlwdGlvbkZyYW1lXCIsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlkXCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJzY2FsYXJcIixcbiAgICAgICAgICAgICAgICBUOiA0IC8qU2NhbGFyVHlwZS5VSU5UNjQqLyAsXG4gICAgICAgICAgICAgICAgTDogMCAvKkxvbmdUeXBlLkJJR0lOVCovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogMyxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogNCxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVzZXJfaWRcIixcbiAgICAgICAgICAgICAgICBraW5kOiBcInNjYWxhclwiLFxuICAgICAgICAgICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBubzogNSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRpbWVzdGFtcFwiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwic2NhbGFyXCIsXG4gICAgICAgICAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gXG4gICAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUpO1xuICAgICAgICBtZXNzYWdlLmlkID0gMG47XG4gICAgICAgIG1lc3NhZ2UubmFtZSA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudGV4dCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudXNlcklkID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSBcIlwiO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgKDAsICRrUjZ0RyRyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKSh0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCBsZW5ndGgsIG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZShyZWFkZXIucG9zIDwgZW5kKXtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoKGZpZWxkTm8pe1xuICAgICAgICAgICAgICAgIGNhc2UgLyogdWludDY0IGlkICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIudWludDY0KCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgbmFtZSAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIHRleHQgKi8gMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyB1c2VyX2lkICovIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXNlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyB0aW1lc3RhbXAgKi8gNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSA9PT0gXCJ0aHJvd1wiKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpICh1ID09PSB0cnVlID8gKDAsICRrUjZ0RyRVbmtub3duRmllbGRIYW5kbGVyKS5vblJlYWQgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZSwgd3JpdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8qIHVpbnQ2NCBpZCA9IDE7ICovIGlmIChtZXNzYWdlLmlkICE9PSAwbikgd3JpdGVyLnRhZygxLCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5WYXJpbnQpLnVpbnQ2NChtZXNzYWdlLmlkKTtcbiAgICAgICAgLyogc3RyaW5nIG5hbWUgPSAyOyAqLyBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB3cml0ZXIudGFnKDIsICgwLCAka1I2dEckV2lyZVR5cGUpLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgIC8qIHN0cmluZyB0ZXh0ID0gMzsgKi8gaWYgKG1lc3NhZ2UudGV4dCAhPT0gXCJcIikgd3JpdGVyLnRhZygzLCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnRleHQpO1xuICAgICAgICAvKiBzdHJpbmcgdXNlcl9pZCA9IDQ7ICovIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gXCJcIikgd3JpdGVyLnRhZyg0LCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnVzZXJJZCk7XG4gICAgICAgIC8qIHN0cmluZyB0aW1lc3RhbXAgPSA1OyAqLyBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IFwiXCIpIHdyaXRlci50YWcoNSwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpICh1ID09IHRydWUgPyAoMCwgJGtSNnRHJFVua25vd25GaWVsZEhhbmRsZXIpLm9uV3JpdGUgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbn1cbmNvbnN0ICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQxMGIzODhjMTVhNWNkYzhhID0gbmV3ICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRUcmFuc2NyaXB0aW9uRnJhbWUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgJDUxNzdkNTZiZDBjOTk1ZTAkdmFyJE1lc3NhZ2VGcmFtZSRUeXBlIGV4dGVuZHMgKDAsICRrUjZ0RyRNZXNzYWdlVHlwZSkge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKFwicGlwZWNhdC5NZXNzYWdlRnJhbWVcIiwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiAxLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwic2NhbGFyXCIsXG4gICAgICAgICAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gXG4gICAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSBcIlwiO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgKDAsICRrUjZ0RyRyZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKSh0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCBsZW5ndGgsIG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZShyZWFkZXIucG9zIDwgZW5kKXtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoKGZpZWxkTm8pe1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGRhdGEgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwidGhyb3dcIikgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKSAodSA9PT0gdHJ1ZSA/ICgwLCAka1I2dEckVW5rbm93bkZpZWxkSGFuZGxlcikub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UsIHdyaXRlciwgb3B0aW9ucykge1xuICAgICAgICAvKiBzdHJpbmcgZGF0YSA9IDE7ICovIGlmIChtZXNzYWdlLmRhdGEgIT09IFwiXCIpIHdyaXRlci50YWcoMSwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKSAodSA9PSB0cnVlID8gKDAsICRrUjZ0RyRVbmtub3duRmllbGRIYW5kbGVyKS5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG5jb25zdCAkNTE3N2Q1NmJkMGM5OTVlMCRleHBvcnQkYmMzZjQ1YTZkNDM0ZjE0YSA9IG5ldyAkNTE3N2Q1NmJkMGM5OTVlMCR2YXIkTWVzc2FnZUZyYW1lJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzICQ1MTc3ZDU2YmQwYzk5NWUwJHZhciRGcmFtZSRUeXBlIGV4dGVuZHMgKDAsICRrUjZ0RyRNZXNzYWdlVHlwZSkge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKFwicGlwZWNhdC5GcmFtZVwiLCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm86IDEsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAga2luZDogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgb25lb2Y6IFwiZnJhbWVcIixcbiAgICAgICAgICAgICAgICBUOiAoKT0+JDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JDc4NDEwYWRhMDNmNjkzMWJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm86IDIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJhdWRpb1wiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIG9uZW9mOiBcImZyYW1lXCIsXG4gICAgICAgICAgICAgICAgVDogKCk9PiQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQ1MWQ4NzIxZGUzY2JmZjhmXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiAzLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidHJhbnNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIG9uZW9mOiBcImZyYW1lXCIsXG4gICAgICAgICAgICAgICAgVDogKCk9PiQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQxMGIzODhjMTVhNWNkYzhhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vOiA0LFxuICAgICAgICAgICAgICAgIG5hbWU6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGtpbmQ6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIG9uZW9mOiBcImZyYW1lXCIsXG4gICAgICAgICAgICAgICAgVDogKCk9PiQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCRiYzNmNDVhNmQ0MzRmMTRhXG4gICAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSh0aGlzLm1lc3NhZ2VQcm90b3R5cGUpO1xuICAgICAgICBtZXNzYWdlLmZyYW1lID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpICgwLCAka1I2dEckcmVmbGVjdGlvbk1lcmdlUGFydGlhbCkodGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgbGVuZ3RoLCBvcHRpb25zLCB0YXJnZXQpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUocmVhZGVyLnBvcyA8IGVuZCl7XG4gICAgICAgICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgICAgIHN3aXRjaChmaWVsZE5vKXtcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHBpcGVjYXQuVGV4dEZyYW1lIHRleHQgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mcmFtZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZW9mS2luZDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkNTE3N2Q1NmJkMGM5OTVlMCRleHBvcnQkNzg0MTBhZGEwM2Y2OTMxYi5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMsIG1lc3NhZ2UuZnJhbWUudGV4dClcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBwaXBlY2F0LkF1ZGlvUmF3RnJhbWUgYXVkaW8gKi8gMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mcmFtZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZW9mS2luZDogXCJhdWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86ICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQ1MWQ4NzIxZGUzY2JmZjhmLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucywgbWVzc2FnZS5mcmFtZS5hdWRpbylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBwaXBlY2F0LlRyYW5zY3JpcHRpb25GcmFtZSB0cmFuc2NyaXB0aW9uICovIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJhbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVvZktpbmQ6IFwidHJhbnNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogJDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JDEwYjM4OGMxNWE1Y2RjOGEuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zLCBtZXNzYWdlLmZyYW1lLnRyYW5zY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogcGlwZWNhdC5NZXNzYWdlRnJhbWUgbWVzc2FnZSAqLyA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZyYW1lID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25lb2ZLaW5kOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCRiYzNmNDVhNmQ0MzRmMTRhLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucywgbWVzc2FnZS5mcmFtZS5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwidGhyb3dcIikgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKSAodSA9PT0gdHJ1ZSA/ICgwLCAka1I2dEckVW5rbm93bkZpZWxkSGFuZGxlcikub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UsIHdyaXRlciwgb3B0aW9ucykge1xuICAgICAgICAvKiBwaXBlY2F0LlRleHRGcmFtZSB0ZXh0ID0gMTsgKi8gaWYgKG1lc3NhZ2UuZnJhbWUub25lb2ZLaW5kID09PSBcInRleHRcIikgJDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JDc4NDEwYWRhMDNmNjkzMWIuaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLmZyYW1lLnRleHQsIHdyaXRlci50YWcoMSwgKDAsICRrUjZ0RyRXaXJlVHlwZSkuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdGlvbnMpLmpvaW4oKTtcbiAgICAgICAgLyogcGlwZWNhdC5BdWRpb1Jhd0ZyYW1lIGF1ZGlvID0gMjsgKi8gaWYgKG1lc3NhZ2UuZnJhbWUub25lb2ZLaW5kID09PSBcImF1ZGlvXCIpICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCQ1MWQ4NzIxZGUzY2JmZjhmLmludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZS5mcmFtZS5hdWRpbywgd3JpdGVyLnRhZygyLCAoMCwgJGtSNnRHJFdpcmVUeXBlKS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucykuam9pbigpO1xuICAgICAgICAvKiBwaXBlY2F0LlRyYW5zY3JpcHRpb25GcmFtZSB0cmFuc2NyaXB0aW9uID0gMzsgKi8gaWYgKG1lc3NhZ2UuZnJhbWUub25lb2ZLaW5kID09PSBcInRyYW5zY3JpcHRpb25cIikgJDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JDEwYjM4OGMxNWE1Y2RjOGEuaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLmZyYW1lLnRyYW5zY3JpcHRpb24sIHdyaXRlci50YWcoMywgKDAsICRrUjZ0RyRXaXJlVHlwZSkuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdGlvbnMpLmpvaW4oKTtcbiAgICAgICAgLyogcGlwZWNhdC5NZXNzYWdlRnJhbWUgbWVzc2FnZSA9IDQ7ICovIGlmIChtZXNzYWdlLmZyYW1lLm9uZW9mS2luZCA9PT0gXCJtZXNzYWdlXCIpICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCRiYzNmNDVhNmQ0MzRmMTRhLmludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZS5mcmFtZS5tZXNzYWdlLCB3cml0ZXIudGFnKDQsICgwLCAka1I2dEckV2lyZVR5cGUpLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLCBvcHRpb25zKS5qb2luKCk7XG4gICAgICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgICAgIGlmICh1ICE9PSBmYWxzZSkgKHUgPT0gdHJ1ZSA/ICgwLCAka1I2dEckVW5rbm93bkZpZWxkSGFuZGxlcikub25Xcml0ZSA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxufVxuY29uc3QgJDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JGI4OWE4MjdlOTI1NDIxMWEgPSBuZXcgJDUxNzdkNTZiZDBjOTk1ZTAkdmFyJEZyYW1lJFR5cGUoKTtcblxuXG5jbGFzcyAkYTZjMDgwZGM1MWM5Njg3ZiRleHBvcnQkNGIyMDI2ZjhlMTFiMTQ4YSB7XG4gICAgc2VyaWFsaXplKGRhdGEpIHt9XG4gICAgc2VyaWFsaXplQXVkaW8oZGF0YSwgc2FtcGxlUmF0ZSwgbnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgY29uc3QgcGNtQnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gKDAsICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCRiODlhODI3ZTkyNTQyMTFhKS5jcmVhdGUoe1xuICAgICAgICAgICAgZnJhbWU6IHtcbiAgICAgICAgICAgICAgICBvbmVvZktpbmQ6IFwiYXVkaW9cIixcbiAgICAgICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgICAgICBpZDogMG4sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiYXVkaW9cIixcbiAgICAgICAgICAgICAgICAgICAgYXVkaW86IHBjbUJ5dGVBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbnVtQ2hhbm5lbHM6IG51bUNoYW5uZWxzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCgwLCAkNTE3N2Q1NmJkMGM5OTVlMCRleHBvcnQkYjg5YTgyN2U5MjU0MjExYSkudG9CaW5hcnkoZnJhbWUpKTtcbiAgICB9XG4gICAgc2VyaWFsaXplTWVzc2FnZShtc2cpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSAoMCwgJDUxNzdkNTZiZDBjOTk1ZTAkZXhwb3J0JGI4OWE4MjdlOTI1NDIxMWEpLmNyZWF0ZSh7XG4gICAgICAgICAgICBmcmFtZToge1xuICAgICAgICAgICAgICAgIG9uZW9mS2luZDogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShtc2cpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCgwLCAkNTE3N2Q1NmJkMGM5OTVlMCRleHBvcnQkYjg5YTgyN2U5MjU0MjExYSkudG9CaW5hcnkoZnJhbWUpKTtcbiAgICB9XG4gICAgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgQmxvYikpIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YSB0eXBlXCIpO1xuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGRhdGEuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gKDAsICQ1MTc3ZDU2YmQwYzk5NWUwJGV4cG9ydCRiODlhODI3ZTkyNTQyMTFhKS5mcm9tQmluYXJ5KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSkuZnJhbWU7XG4gICAgICAgIGlmIChwYXJzZWQub25lb2ZLaW5kID09PSBcImF1ZGlvXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVmVjdG9yID0gQXJyYXkuZnJvbShwYXJzZWQuYXVkaW8uYXVkaW8pO1xuICAgICAgICAgICAgY29uc3QgdWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KGF1ZGlvVmVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGludDE2QXJyYXkgPSBuZXcgSW50MTZBcnJheSh1aW50OEFycmF5LmJ1ZmZlcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXVkaW9cIixcbiAgICAgICAgICAgICAgICBhdWRpbzogaW50MTZBcnJheVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZWQub25lb2ZLaW5kID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShwYXJzZWQubWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBmcmFtZSBraW5kXCIpO1xuICAgIH1cbn1cblxuXG5jbGFzcyAkN2Y0MmVkYTc0ZjFiMTYzMiRleHBvcnQkZGUyMTgzNmZjNDJjNmY5YyBleHRlbmRzICgwLCAka1I2dEckVHJhbnNwb3J0KSB7XG4gICAgY29uc3RydWN0b3IoeyBzZXJpYWxpemVyOiBzZXJpYWxpemVyLCByZWNvcmRlclNhbXBsZVJhdGU6IHJlY29yZGVyU2FtcGxlUmF0ZSwgcGxheWVyU2FtcGxlUmF0ZTogcGxheWVyU2FtcGxlUmF0ZSB9ID0ge1xuICAgICAgICBzZXJpYWxpemVyOiBuZXcgKDAsICRhNmMwODBkYzUxYzk2ODdmJGV4cG9ydCQ0YjIwMjZmOGUxMWIxNDhhKSgpLFxuICAgICAgICByZWNvcmRlclNhbXBsZVJhdGU6ICQ3ZjQyZWRhNzRmMWIxNjMyJGV4cG9ydCRkZTIxODM2ZmM0MmM2ZjljLlJFQ09SREVSX1NBTVBMRV9SQVRFLFxuICAgICAgICBwbGF5ZXJTYW1wbGVSYXRlOiAkN2Y0MmVkYTc0ZjFiMTYzMiRleHBvcnQkZGUyMTgzNmZjNDJjNmY5Yy5QTEFZRVJfU0FNUExFX1JBVEVcbiAgICB9KXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hdWRpb1F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX21lZGlhTWFuYWdlciA9IG5ldyAoMCwgJDIyZWNlMDQ1MjkwYzk5NmEkZXhwb3J0JGM5NWM2NWFiYzVmNDcxMjUpKHRydWUsIHRydWUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCA1MTIsIHJlY29yZGVyU2FtcGxlUmF0ZSwgcGxheWVyU2FtcGxlUmF0ZSk7XG4gICAgICAgIHRoaXMuX21lZGlhTWFuYWdlci5zZXRVc2VyQXVkaW9DYWxsYmFjayh0aGlzLmhhbmRsZVVzZXJBdWRpb1N0cmVhbS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fd3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9zZXJpYWxpemVyID0gc2VyaWFsaXplcjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZShvcHRpb25zLCBtZXNzYWdlSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gb3B0aW9ucy5jYWxsYmFja3MgPz8ge307XG4gICAgICAgIHRoaXMuX29uTWVzc2FnZSA9IG1lc3NhZ2VIYW5kbGVyO1xuICAgICAgICB0aGlzLl9tZWRpYU1hbmFnZXIuc2V0UlRWSU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgIH1cbiAgICBhc3luYyBpbml0RGV2aWNlcygpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiaW5pdGlhbGl6aW5nXCI7XG4gICAgICAgIGF3YWl0IHRoaXMuX21lZGlhTWFuYWdlci5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImluaXRpYWxpemVkXCI7XG4gICAgfVxuICAgIGFzeW5jIGNvbm5lY3QoYXV0aEJ1bmRsZSwgYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImNvbm5lY3RpbmdcIjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3dzID0gdGhpcy5pbml0aWFsaXplV2Vic29ja2V0KGF1dGhCdW5kbGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fd3MuY29ubmVjdCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWVkaWFNYW5hZ2VyLmNvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcImNvbm5lY3RlZFwiO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uQ29ubmVjdGVkPy4oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBGYWlsZWQgdG8gY29ubmVjdCB0byB3ZWJzb2NrZXQ6ICR7ZXJyb3J9YDtcbiAgICAgICAgICAgICgwLCAka1I2dEckbG9nZ2VyKS5lcnJvcihtc2cpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgIHRocm93IG5ldyAoMCwgJGtSNnRHJFRyYW5zcG9ydFN0YXJ0RXJyb3IpKG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZGlzY29ubmVjdGluZ1wiO1xuICAgICAgICBhd2FpdCB0aGlzLl9tZWRpYU1hbmFnZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl93cz8uY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkRpc2Nvbm5lY3RlZD8uKCk7XG4gICAgfVxuICAgIGdldEFsbE1pY3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYU1hbmFnZXIuZ2V0QWxsTWljcygpO1xuICAgIH1cbiAgICBnZXRBbGxDYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFNYW5hZ2VyLmdldEFsbENhbXMoKTtcbiAgICB9XG4gICAgZ2V0QWxsU3BlYWtlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYU1hbmFnZXIuZ2V0QWxsU3BlYWtlcnMoKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlTWljKG1pY0lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYU1hbmFnZXIudXBkYXRlTWljKG1pY0lkKTtcbiAgICB9XG4gICAgdXBkYXRlQ2FtKGNhbUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYU1hbmFnZXIudXBkYXRlQ2FtKGNhbUlkKTtcbiAgICB9XG4gICAgdXBkYXRlU3BlYWtlcihzcGVha2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhTWFuYWdlci51cGRhdGVTcGVha2VyKHNwZWFrZXJJZCk7XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZE1pYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhTWFuYWdlci5zZWxlY3RlZE1pYztcbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkU3BlYWtlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhTWFuYWdlci5zZWxlY3RlZFNwZWFrZXI7XG4gICAgfVxuICAgIGVuYWJsZU1pYyhlbmFibGUpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFNYW5hZ2VyLmVuYWJsZU1pYyhlbmFibGUpO1xuICAgIH1cbiAgICBnZXQgaXNNaWNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFNYW5hZ2VyLmlzTWljRW5hYmxlZDtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IHN0YXRlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vblRyYW5zcG9ydFN0YXRlQ2hhbmdlZD8uKHN0YXRlKTtcbiAgICB9XG4gICAgZ2V0IGV4cGlyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGlyeTtcbiAgICB9XG4gICAgdHJhY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFNYW5hZ2VyLnRyYWNrcygpO1xuICAgIH1cbiAgICBpbml0aWFsaXplV2Vic29ja2V0KGF1dGhCdW5kbGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgd2Vic29ja2V0XCIsIGF1dGhCdW5kbGUpO1xuICAgICAgICBjb25zdCB3cyA9IG5ldyAoMCwgJDAzMjM4MGRiY2YzZjRlMTMkZXhwb3J0JDRmM2QwZmZkOTQxZWJlZmIpKGAke2F1dGhCdW5kbGUud3NfdXJsfWAsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcGFyc2VCbG9iVG9Kc29uOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZGlzYWJsaW5nIHRoZSBrZWVwIGFsaXZlLCB0aGVyZSBpcyBubyBBUEkgZm9yIGl0IGluc2lkZSBQaXBlY2F0XG4gICAgICAgIHdzLmtlZXBBbGl2ZUludGVydmFsID0gMDtcbiAgICAgICAgd3Mub24oXCJvcGVuXCIsICgpPT57XG4gICAgICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZGVidWcoXCJXZWJzb2NrZXQgY29ubmVjdGlvbiBvcGVuZWRcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5vbihcIm1lc3NhZ2VcIiwgYXN5bmMgKGRhdGEpPT57XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IGF3YWl0IHRoaXMuX3NlcmlhbGl6ZXIuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSBcImF1ZGlvXCIpIHRoaXMuX21lZGlhTWFuYWdlci5idWZmZXJCb3RBdWRpbyhwYXJzZWQuYXVkaW8pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkLm1lc3NhZ2UubGFiZWwgPT09IFwicnR2aS1haVwiKSB0aGlzLl9vbk1lc3NhZ2UocGFyc2VkLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJGYWlsZWQgdG8gZGVzZXJpYWxpemUgaW5jb21pbmcgbWVzc2FnZVwiLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdzLm9uKFwiZXJyb3JcIiwgKGVycm9yKT0+e1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uRXJyb3IoYHdlYnNvY2tldCBlcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdzLm9uKFwiY29ubmVjdGlvbi10aW1lb3V0XCIsICgpPT57XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25FcnJvcihcIndlYnNvY2tldCBjb25uZWN0aW9uIHRpbWVkIG91dFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdzLm9uKFwiY2xvc2VcIiwgKGNvZGUpPT57XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25FcnJvcihgd2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkLiBDb2RlOiAke2NvZGV9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5vbihcInJlY29ubmVjdC1mYWlsZWRcIiwgKCk9PntcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkVycm9yKGB3ZWJzb2NrZXQgcmVjb25uZWN0IGZhaWxlZGApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdzO1xuICAgIH1cbiAgICBzZW5kUmVhZHlNZXNzYWdlKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJyZWFkeVwiO1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCgwLCAka1I2dEckUlRWSU1lc3NhZ2UpLmNsaWVudFJlYWR5KCkpO1xuICAgIH1cbiAgICBoYW5kbGVVc2VyQXVkaW9TdHJlYW0oZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJyZWFkeVwiKSB0cnkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaEF1ZGlvUXVldWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRBdWRpb0lucHV0KGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgKDAsICRrUjZ0RyRsb2dnZXIpLmVycm9yKFwiRXJyb3Igc2VuZGluZyBhdWRpbyBzdHJlYW0gdG8gd2Vic29ja2V0OlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJlcnJvclwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdGhpcy5hdWRpb1F1ZXVlLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIGZsdXNoQXVkaW9RdWV1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9RdWV1ZS5sZW5ndGggPD0gMCkgcmV0dXJuO1xuICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuaW5mbyhcIldpbGwgZmx1c2ggYXVkaW8gcXVldWVcIiwgdGhpcy5hdWRpb1F1ZXVlLmxlbmd0aCk7XG4gICAgICAgIHdoaWxlKHRoaXMuYXVkaW9RdWV1ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlZERhdGEgPSB0aGlzLmF1ZGlvUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZWREYXRhKSB0aGlzLl9zZW5kQXVkaW9JbnB1dChxdWV1ZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kUmF3TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICgwLCAka1I2dEckbG9nZ2VyKS5kZWJ1ZyhcIlJlY2VpdmVkIHJhdyBtZXNzYWdlIHRvIHNlbmQgdG8gV2ViIFNvY2tldFwiLCBtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IHRoaXMuX3NlcmlhbGl6ZXIuc2VyaWFsaXplKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl9zZW5kTXNnKGVuY29kZWQpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICgwLCAka1I2dEckbG9nZ2VyKS5kZWJ1ZyhcIlJlY2VpdmVkIG1lc3NhZ2UgdG8gc2VuZCB0byBXZWIgU29ja2V0XCIsIG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gdGhpcy5fc2VyaWFsaXplci5zZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl9zZW5kTXNnKGVuY29kZWQpO1xuICAgIH1cbiAgICBhc3luYyBfc2VuZEF1ZGlvSW5wdXQoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IHRoaXMuX3NlcmlhbGl6ZXIuc2VyaWFsaXplQXVkaW8oZGF0YSwgJDdmNDJlZGE3NGYxYjE2MzIkZXhwb3J0JGRlMjE4MzZmYzQyYzZmOWMuUkVDT1JERVJfU0FNUExFX1JBVEUsIDEpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2VuZE1zZyhlbmNvZGVkKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsICRrUjZ0RyRsb2dnZXIpLmVycm9yKFwiRXJyb3Igc2VuZGluZyBhdWRpbyBmcmFtZVwiLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfc2VuZE1zZyhtc2cpIHtcbiAgICAgICAgaWYgKCF0aGlzLl93cykge1xuICAgICAgICAgICAgKDAsICRrUjZ0RyRsb2dnZXIpLmVycm9yKFwic2VuZE1zZyBjYWxsZWQgYnV0IFdTIGlzIG51bGxcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3dzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJhdHRlbXB0IHRvIHNlbmQgdG8gY2xvc2VkIHNvY2tldFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1zZykgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fd3Muc2VuZChtc2cpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJzZW5kTXNnIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3Rpb25FcnJvcihlcnJvck1zZykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZXJyb3JcIjtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8vIE5vdCBpbXBsZW1lbnRlZFxuICAgIGVuYWJsZVNjcmVlblNoYXJlKGVuYWJsZSkge1xuICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJzdGFydFNjcmVlblNoYXJlIG5vdCBpbXBsZW1lbnRlZCBmb3IgV2ViU29ja2V0VHJhbnNwb3J0XCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICAgIGdldCBpc1NoYXJpbmdTY3JlZW4oKSB7XG4gICAgICAgICgwLCAka1I2dEckbG9nZ2VyKS5lcnJvcihcImlzU2hhcmluZ1NjcmVlbiBub3QgaW1wbGVtZW50ZWQgZm9yIFdlYlNvY2tldFRyYW5zcG9ydFwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbmFibGVDYW0oZW5hYmxlKSB7XG4gICAgICAgICgwLCAka1I2dEckbG9nZ2VyKS5lcnJvcihcImVuYWJsZUNhbSBub3QgaW1wbGVtZW50ZWQgZm9yIFdlYlNvY2tldFRyYW5zcG9ydFwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDYW1FbmFibGVkKCkge1xuICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJpc0NhbUVuYWJsZWQgbm90IGltcGxlbWVudGVkIGZvciBXZWJTb2NrZXRUcmFuc3BvcnRcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkQ2FtKCkge1xuICAgICAgICAoMCwgJGtSNnRHJGxvZ2dlcikuZXJyb3IoXCJzZWxlY3RlZENhbSBub3QgaW1wbGVtZW50ZWQgZm9yIFdlYlNvY2tldFRyYW5zcG9ydFwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbn1cbiQ3ZjQyZWRhNzRmMWIxNjMyJGV4cG9ydCRkZTIxODM2ZmM0MmM2ZjljLlJFQ09SREVSX1NBTVBMRV9SQVRFID0gMTYwMDA7XG4kN2Y0MmVkYTc0ZjFiMTYzMiRleHBvcnQkZGUyMTgzNmZjNDJjNmY5Yy5QTEFZRVJfU0FNUExFX1JBVEUgPSAyNDAwMDtcblxuXG5cblxuY2xhc3MgJDViOTI2ZmEzM2UzNWU0NWMkZXhwb3J0JDQ0YThhMDc3NDIwMzM2YWYge1xuICAgIHNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgc2VyaWFsaXplQXVkaW8oZGF0YSwgc2FtcGxlUmF0ZSwgbnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgY29uc3QgcGNtU2FtcGxlcyA9IG5ldyBJbnQxNkFycmF5KGRhdGEpO1xuICAgICAgICBjb25zdCBtdUxhd1NhbXBsZXMgPSAoMCwgJGtSNnRHJG11bGF3KS5lbmNvZGUocGNtU2FtcGxlcyk7XG4gICAgICAgIGNvbnN0IGJhc2U2NFBheWxvYWQgPSB0aGlzLmFycmF5VG9CYXNlNjQobXVMYXdTYW1wbGVzKTtcbiAgICAgICAgY29uc3QgdHdpbGlvTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBcIm1lZGlhXCIsXG4gICAgICAgICAgICBtZWRpYToge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGJhc2U2NFBheWxvYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHR3aWxpb01lc3NhZ2UpO1xuICAgIH1cbiAgICBzZXJpYWxpemVNZXNzYWdlKG1zZykge1xuICAgICAgICAvLyBUd2lsaW8gZG9lcyBub3Qgc3VwcG9ydCBSVFZJIG1lc3NhZ2VzLCBzbyBqdXN0IGlnbm9yZSB0aGVtXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhcnJheVRvQmFzZTY0KGJ5dGVzKSB7XG4gICAgICAgIGxldCBiaW5hcnkgPSBcIlwiO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKWJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICAgICAgcmV0dXJuIGJ0b2EoYmluYXJ5KTtcbiAgICB9XG4gICAgYmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NCkge1xuICAgICAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKWJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICB9XG4gICAgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCBqc29uTWVzc2FnZSA9IEpTT04ucGFyc2UoZGF0YSk7IC8vIEFzc3VtaW5nICdkYXRhJyBpcyBhIEpTT04gc3RyaW5nXG4gICAgICAgIGlmIChqc29uTWVzc2FnZS5ldmVudCA9PT0gXCJjbGVhclwiKSByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJyYXdcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25NZXNzYWdlXG4gICAgICAgIH07XG4gICAgICAgIGVsc2UgaWYgKGpzb25NZXNzYWdlLmV2ZW50ID09PSBcIm1lZGlhXCIpIHtcbiAgICAgICAgICAgIC8vIERlc2VyaWFsaXplICdtZWRpYScgZXZlbnRcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBqc29uTWVzc2FnZS5tZWRpYS5wYXlsb2FkO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZF9kYXRhID0gdGhpcy5iYXNlNjRUb1VpbnQ4QXJyYXkocGF5bG9hZCk7XG4gICAgICAgICAgICAvL2NvbnN0IGRlY29kZWRfYXVkaW8gPSB0aGlzLnVsYXdUb1BjbShzZXJpYWxpemVkX2RhdGEpO1xuICAgICAgICAgICAgY29uc3QgZGVjb2RlZF9hdWRpbyA9ICgwLCAka1I2dEckbXVsYXcpLmRlY29kZShzZXJpYWxpemVkX2RhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImF1ZGlvXCIsXG4gICAgICAgICAgICAgICAgYXVkaW86IGRlY29kZWRfYXVkaW9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSAvLyBEZXNlcmlhbGl6ZSBvdGhlciBtZXNzYWdlIHR5cGVzIChhc3N1bWluZyAnZnJhbWUnIGhhcyAnbWVzc2FnZScgZmllbGQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25NZXNzYWdlLm1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG59XG5cblxuXG5cbmV4cG9ydCB7JGZjNDlhNTZjZDg3MzkxMjckZXhwb3J0JDQ1YzViOWJmYmEyZjYzMDQgYXMgV2F2TWVkaWFNYW5hZ2VyLCAkMjJlY2UwNDUyOTBjOTk2YSRleHBvcnQkYzk1YzY1YWJjNWY0NzEyNSBhcyBEYWlseU1lZGlhTWFuYWdlciwgJDdmNDJlZGE3NGYxYjE2MzIkZXhwb3J0JGRlMjE4MzZmYzQyYzZmOWMgYXMgV2ViU29ja2V0VHJhbnNwb3J0LCAkYTZjMDgwZGM1MWM5Njg3ZiRleHBvcnQkNGIyMDI2ZjhlMTFiMTQ4YSBhcyBQcm90b2J1ZkZyYW1lU2VyaWFsaXplciwgJDViOTI2ZmEzM2UzNWU0NWMkZXhwb3J0JDQ0YThhMDc3NDIwMzM2YWYgYXMgVHdpbGlvU2VyaWFsaXplcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@pipecat-ai/websocket-transport/dist/index.module.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js":
/*!******************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/assert.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assert: function() { return /* binding */ assert; },\n/* harmony export */   assertFloat32: function() { return /* binding */ assertFloat32; },\n/* harmony export */   assertInt32: function() { return /* binding */ assertInt32; },\n/* harmony export */   assertNever: function() { return /* binding */ assertNever; },\n/* harmony export */   assertUInt32: function() { return /* binding */ assertUInt32; }\n/* harmony export */ });\n/**\n * assert that condition is true or throw error (with message)\n */\nfunction assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\n/**\n * assert that value cannot exist = type `never`. throw runtime error if it does.\n */\nfunction assertNever(value, msg) {\n    throw new Error(msg !== null && msg !== void 0 ? msg : 'Unexpected object: ' + value);\n}\nconst FLOAT32_MAX = 3.4028234663852886e+38, FLOAT32_MIN = -3.4028234663852886e+38, UINT32_MAX = 0xFFFFFFFF, INT32_MAX = 0X7FFFFFFF, INT32_MIN = -0X80000000;\nfunction assertInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid int 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)\n        throw new Error('invalid int 32: ' + arg);\n}\nfunction assertUInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid uint 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)\n        throw new Error('invalid uint 32: ' + arg);\n}\nfunction assertFloat32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid float 32: ' + typeof arg);\n    if (!Number.isFinite(arg))\n        return;\n    if (arg > FLOAT32_MAX || arg < FLOAT32_MIN)\n        throw new Error('invalid float 32: ' + arg);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYXNzZXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L2Fzc2VydC5qcz85OTgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogYXNzZXJ0IHRoYXQgY29uZGl0aW9uIGlzIHRydWUgb3IgdGhyb3cgZXJyb3IgKHdpdGggbWVzc2FnZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1zZykge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbi8qKlxuICogYXNzZXJ0IHRoYXQgdmFsdWUgY2Fubm90IGV4aXN0ID0gdHlwZSBgbmV2ZXJgLiB0aHJvdyBydW50aW1lIGVycm9yIGlmIGl0IGRvZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROZXZlcih2YWx1ZSwgbXNnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyAhPT0gbnVsbCAmJiBtc2cgIT09IHZvaWQgMCA/IG1zZyA6ICdVbmV4cGVjdGVkIG9iamVjdDogJyArIHZhbHVlKTtcbn1cbmNvbnN0IEZMT0FUMzJfTUFYID0gMy40MDI4MjM0NjYzODUyODg2ZSszOCwgRkxPQVQzMl9NSU4gPSAtMy40MDI4MjM0NjYzODUyODg2ZSszOCwgVUlOVDMyX01BWCA9IDB4RkZGRkZGRkYsIElOVDMyX01BWCA9IDBYN0ZGRkZGRkYsIElOVDMyX01JTiA9IC0wWDgwMDAwMDAwO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEludDMyKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSBcIm51bWJlclwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaW50IDMyOiAnICsgdHlwZW9mIGFyZyk7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGFyZykgfHwgYXJnID4gSU5UMzJfTUFYIHx8IGFyZyA8IElOVDMyX01JTilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGludCAzMjogJyArIGFyZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VUludDMyKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSBcIm51bWJlclwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdWludCAzMjogJyArIHR5cGVvZiBhcmcpO1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhcmcpIHx8IGFyZyA+IFVJTlQzMl9NQVggfHwgYXJnIDwgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHVpbnQgMzI6ICcgKyBhcmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZsb2F0MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmbG9hdCAzMjogJyArIHR5cGVvZiBhcmcpO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFyZykpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoYXJnID4gRkxPQVQzMl9NQVggfHwgYXJnIDwgRkxPQVQzMl9NSU4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmbG9hdCAzMjogJyArIGFyZyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/base64.js":
/*!******************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/base64.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64decode: function() { return /* binding */ base64decode; },\n/* harmony export */   base64encode: function() { return /* binding */ base64encode; }\n/* harmony export */ });\n// lookup table from base64 character to byte\nlet encTable = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n// lookup table from base64 character *code* to byte because lookup by number is fast\nlet decTable = [];\nfor (let i = 0; i < encTable.length; i++)\n    decTable[encTable[i].charCodeAt(0)] = i;\n// support base64url variants\ndecTable[\"-\".charCodeAt(0)] = encTable.indexOf(\"+\");\ndecTable[\"_\".charCodeAt(0)] = encTable.indexOf(\"/\");\n/**\n * Decodes a base64 string to a byte array.\n *\n * - ignores white-space, including line breaks and tabs\n * - allows inner padding (can decode concatenated base64 strings)\n * - does not require padding\n * - understands base64url encoding:\n *   \"-\" instead of \"+\",\n *   \"_\" instead of \"/\",\n *   no padding\n */\nfunction base64decode(base64Str) {\n    // estimate byte size, not accounting for inner padding and whitespace\n    let es = base64Str.length * 3 / 4;\n    // if (es % 3 !== 0)\n    // throw new Error('invalid base64 string');\n    if (base64Str[base64Str.length - 2] == '=')\n        es -= 2;\n    else if (base64Str[base64Str.length - 1] == '=')\n        es -= 1;\n    let bytes = new Uint8Array(es), bytePos = 0, // position in byte array\n    groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0 // previous byte\n    ;\n    for (let i = 0; i < base64Str.length; i++) {\n        b = decTable[base64Str.charCodeAt(i)];\n        if (b === undefined) {\n            // noinspection FallThroughInSwitchStatementJS\n            switch (base64Str[i]) {\n                case '=':\n                    groupPos = 0; // reset state when padding found\n                case '\\n':\n                case '\\r':\n                case '\\t':\n                case ' ':\n                    continue; // skip white-space, and padding\n                default:\n                    throw Error(`invalid base64 string.`);\n            }\n        }\n        switch (groupPos) {\n            case 0:\n                p = b;\n                groupPos = 1;\n                break;\n            case 1:\n                bytes[bytePos++] = p << 2 | (b & 48) >> 4;\n                p = b;\n                groupPos = 2;\n                break;\n            case 2:\n                bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;\n                p = b;\n                groupPos = 3;\n                break;\n            case 3:\n                bytes[bytePos++] = (p & 3) << 6 | b;\n                groupPos = 0;\n                break;\n        }\n    }\n    if (groupPos == 1)\n        throw Error(`invalid base64 string.`);\n    return bytes.subarray(0, bytePos);\n}\n/**\n * Encodes a byte array to a base64 string.\n * Adds padding at the end.\n * Does not insert newlines.\n */\nfunction base64encode(bytes) {\n    let base64 = '', groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0; // carry over from previous byte\n    for (let i = 0; i < bytes.length; i++) {\n        b = bytes[i];\n        switch (groupPos) {\n            case 0:\n                base64 += encTable[b >> 2];\n                p = (b & 3) << 4;\n                groupPos = 1;\n                break;\n            case 1:\n                base64 += encTable[p | b >> 4];\n                p = (b & 15) << 2;\n                groupPos = 2;\n                break;\n            case 2:\n                base64 += encTable[p | b >> 6];\n                base64 += encTable[b & 63];\n                groupPos = 0;\n                break;\n        }\n    }\n    // padding required?\n    if (groupPos) {\n        base64 += encTable[p];\n        base64 += '=';\n        if (groupPos == 1)\n            base64 += '=';\n    }\n    return base64;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmFzZTY0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L2Jhc2U2NC5qcz85NmU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxvb2t1cCB0YWJsZSBmcm9tIGJhc2U2NCBjaGFyYWN0ZXIgdG8gYnl0ZVxubGV0IGVuY1RhYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLnNwbGl0KCcnKTtcbi8vIGxvb2t1cCB0YWJsZSBmcm9tIGJhc2U2NCBjaGFyYWN0ZXIgKmNvZGUqIHRvIGJ5dGUgYmVjYXVzZSBsb29rdXAgYnkgbnVtYmVyIGlzIGZhc3RcbmxldCBkZWNUYWJsZSA9IFtdO1xuZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNUYWJsZS5sZW5ndGg7IGkrKylcbiAgICBkZWNUYWJsZVtlbmNUYWJsZVtpXS5jaGFyQ29kZUF0KDApXSA9IGk7XG4vLyBzdXBwb3J0IGJhc2U2NHVybCB2YXJpYW50c1xuZGVjVGFibGVbXCItXCIuY2hhckNvZGVBdCgwKV0gPSBlbmNUYWJsZS5pbmRleE9mKFwiK1wiKTtcbmRlY1RhYmxlW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gZW5jVGFibGUuaW5kZXhPZihcIi9cIik7XG4vKipcbiAqIERlY29kZXMgYSBiYXNlNjQgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIGlnbm9yZXMgd2hpdGUtc3BhY2UsIGluY2x1ZGluZyBsaW5lIGJyZWFrcyBhbmQgdGFic1xuICogLSBhbGxvd3MgaW5uZXIgcGFkZGluZyAoY2FuIGRlY29kZSBjb25jYXRlbmF0ZWQgYmFzZTY0IHN0cmluZ3MpXG4gKiAtIGRvZXMgbm90IHJlcXVpcmUgcGFkZGluZ1xuICogLSB1bmRlcnN0YW5kcyBiYXNlNjR1cmwgZW5jb2Rpbmc6XG4gKiAgIFwiLVwiIGluc3RlYWQgb2YgXCIrXCIsXG4gKiAgIFwiX1wiIGluc3RlYWQgb2YgXCIvXCIsXG4gKiAgIG5vIHBhZGRpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NGRlY29kZShiYXNlNjRTdHIpIHtcbiAgICAvLyBlc3RpbWF0ZSBieXRlIHNpemUsIG5vdCBhY2NvdW50aW5nIGZvciBpbm5lciBwYWRkaW5nIGFuZCB3aGl0ZXNwYWNlXG4gICAgbGV0IGVzID0gYmFzZTY0U3RyLmxlbmd0aCAqIDMgLyA0O1xuICAgIC8vIGlmIChlcyAlIDMgIT09IDApXG4gICAgLy8gdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGJhc2U2NCBzdHJpbmcnKTtcbiAgICBpZiAoYmFzZTY0U3RyW2Jhc2U2NFN0ci5sZW5ndGggLSAyXSA9PSAnPScpXG4gICAgICAgIGVzIC09IDI7XG4gICAgZWxzZSBpZiAoYmFzZTY0U3RyW2Jhc2U2NFN0ci5sZW5ndGggLSAxXSA9PSAnPScpXG4gICAgICAgIGVzIC09IDE7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZXMpLCBieXRlUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYnl0ZSBhcnJheVxuICAgIGdyb3VwUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYmFzZTY0IGdyb3VwXG4gICAgYiwgLy8gY3VycmVudCBieXRlXG4gICAgcCA9IDAgLy8gcHJldmlvdXMgYnl0ZVxuICAgIDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2U2NFN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBiID0gZGVjVGFibGVbYmFzZTY0U3RyLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBub2luc3BlY3Rpb24gRmFsbFRocm91Z2hJblN3aXRjaFN0YXRlbWVudEpTXG4gICAgICAgICAgICBzd2l0Y2ggKGJhc2U2NFN0cltpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgICAgICAgICBncm91cFBvcyA9IDA7IC8vIHJlc2V0IHN0YXRlIHdoZW4gcGFkZGluZyBmb3VuZFxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB3aGl0ZS1zcGFjZSwgYW5kIHBhZGRpbmdcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgaW52YWxpZCBiYXNlNjQgc3RyaW5nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZ3JvdXBQb3MpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYnl0ZXNbYnl0ZVBvcysrXSA9IHAgPDwgMiB8IChiICYgNDgpID4+IDQ7XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSAocCAmIDE1KSA8PCA0IHwgKGIgJiA2MCkgPj4gMjtcbiAgICAgICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgYnl0ZXNbYnl0ZVBvcysrXSA9IChwICYgMykgPDwgNiB8IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChncm91cFBvcyA9PSAxKVxuICAgICAgICB0aHJvdyBFcnJvcihgaW52YWxpZCBiYXNlNjQgc3RyaW5nLmApO1xuICAgIHJldHVybiBieXRlcy5zdWJhcnJheSgwLCBieXRlUG9zKTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJ5dGUgYXJyYXkgdG8gYSBiYXNlNjQgc3RyaW5nLlxuICogQWRkcyBwYWRkaW5nIGF0IHRoZSBlbmQuXG4gKiBEb2VzIG5vdCBpbnNlcnQgbmV3bGluZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRlbmNvZGUoYnl0ZXMpIHtcbiAgICBsZXQgYmFzZTY0ID0gJycsIGdyb3VwUG9zID0gMCwgLy8gcG9zaXRpb24gaW4gYmFzZTY0IGdyb3VwXG4gICAgYiwgLy8gY3VycmVudCBieXRlXG4gICAgcCA9IDA7IC8vIGNhcnJ5IG92ZXIgZnJvbSBwcmV2aW91cyBieXRlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiID0gYnl0ZXNbaV07XG4gICAgICAgIHN3aXRjaCAoZ3JvdXBQb3MpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gZW5jVGFibGVbYiA+PiAyXTtcbiAgICAgICAgICAgICAgICBwID0gKGIgJiAzKSA8PCA0O1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gZW5jVGFibGVbcCB8IGIgPj4gNF07XG4gICAgICAgICAgICAgICAgcCA9IChiICYgMTUpIDw8IDI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGJhc2U2NCArPSBlbmNUYWJsZVtwIHwgYiA+PiA2XTtcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gZW5jVGFibGVbYiAmIDYzXTtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcGFkZGluZyByZXF1aXJlZD9cbiAgICBpZiAoZ3JvdXBQb3MpIHtcbiAgICAgICAgYmFzZTY0ICs9IGVuY1RhYmxlW3BdO1xuICAgICAgICBiYXNlNjQgKz0gJz0nO1xuICAgICAgICBpZiAoZ3JvdXBQb3MgPT0gMSlcbiAgICAgICAgICAgIGJhc2U2NCArPSAnPSc7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/base64.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnknownFieldHandler: function() { return /* binding */ UnknownFieldHandler; },\n/* harmony export */   WireType: function() { return /* binding */ WireType; },\n/* harmony export */   mergeBinaryOptions: function() { return /* binding */ mergeBinaryOptions; }\n/* harmony export */ });\n/**\n * This handler implements the default behaviour for unknown fields.\n * When reading data, unknown fields are stored on the message, in a\n * symbol property.\n * When writing data, the symbol property is queried and unknown fields\n * are serialized into the output again.\n */\nvar UnknownFieldHandler;\n(function (UnknownFieldHandler) {\n    /**\n     * The symbol used to store unknown fields for a message.\n     * The property must conform to `UnknownFieldContainer`.\n     */\n    UnknownFieldHandler.symbol = Symbol.for(\"protobuf-ts/unknown\");\n    /**\n     * Store an unknown field during binary read directly on the message.\n     * This method is compatible with `BinaryReadOptions.readUnknownField`.\n     */\n    UnknownFieldHandler.onRead = (typeName, message, fieldNo, wireType, data) => {\n        let container = is(message) ? message[UnknownFieldHandler.symbol] : message[UnknownFieldHandler.symbol] = [];\n        container.push({ no: fieldNo, wireType, data });\n    };\n    /**\n     * Write unknown fields stored for the message to the writer.\n     * This method is compatible with `BinaryWriteOptions.writeUnknownFields`.\n     */\n    UnknownFieldHandler.onWrite = (typeName, message, writer) => {\n        for (let { no, wireType, data } of UnknownFieldHandler.list(message))\n            writer.tag(no, wireType).raw(data);\n    };\n    /**\n     * List unknown fields stored for the message.\n     * Note that there may be multiples fields with the same number.\n     */\n    UnknownFieldHandler.list = (message, fieldNo) => {\n        if (is(message)) {\n            let all = message[UnknownFieldHandler.symbol];\n            return fieldNo ? all.filter(uf => uf.no == fieldNo) : all;\n        }\n        return [];\n    };\n    /**\n     * Returns the last unknown field by field number.\n     */\n    UnknownFieldHandler.last = (message, fieldNo) => UnknownFieldHandler.list(message, fieldNo).slice(-1)[0];\n    const is = (message) => message && Array.isArray(message[UnknownFieldHandler.symbol]);\n})(UnknownFieldHandler || (UnknownFieldHandler = {}));\n/**\n * Merges binary write or read options. Later values override earlier values.\n */\nfunction mergeBinaryOptions(a, b) {\n    return Object.assign(Object.assign({}, a), b);\n}\n/**\n * Protobuf binary format wire types.\n *\n * A wire type provides just enough information to find the length of the\n * following value.\n *\n * See https://developers.google.com/protocol-buffers/docs/encoding#structure\n */\nvar WireType;\n(function (WireType) {\n    /**\n     * Used for int32, int64, uint32, uint64, sint32, sint64, bool, enum\n     */\n    WireType[WireType[\"Varint\"] = 0] = \"Varint\";\n    /**\n     * Used for fixed64, sfixed64, double.\n     * Always 8 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit64\"] = 1] = \"Bit64\";\n    /**\n     * Used for string, bytes, embedded messages, packed repeated fields\n     *\n     * Only repeated numeric types (types which use the varint, 32-bit,\n     * or 64-bit wire types) can be packed. In proto3, such fields are\n     * packed by default.\n     */\n    WireType[WireType[\"LengthDelimited\"] = 2] = \"LengthDelimited\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"StartGroup\"] = 3] = \"StartGroup\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"EndGroup\"] = 4] = \"EndGroup\";\n    /**\n     * Used for fixed32, sfixed32, float.\n     * Always 4 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit32\"] = 5] = \"Bit32\";\n})(WireType || (WireType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LWZvcm1hdC1jb250cmFjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZCQUE2QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0RBQWtEO0FBQ25EO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9iaW5hcnktZm9ybWF0LWNvbnRyYWN0LmpzPzZmMmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGhhbmRsZXIgaW1wbGVtZW50cyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgZm9yIHVua25vd24gZmllbGRzLlxuICogV2hlbiByZWFkaW5nIGRhdGEsIHVua25vd24gZmllbGRzIGFyZSBzdG9yZWQgb24gdGhlIG1lc3NhZ2UsIGluIGFcbiAqIHN5bWJvbCBwcm9wZXJ0eS5cbiAqIFdoZW4gd3JpdGluZyBkYXRhLCB0aGUgc3ltYm9sIHByb3BlcnR5IGlzIHF1ZXJpZWQgYW5kIHVua25vd24gZmllbGRzXG4gKiBhcmUgc2VyaWFsaXplZCBpbnRvIHRoZSBvdXRwdXQgYWdhaW4uXG4gKi9cbmV4cG9ydCB2YXIgVW5rbm93bkZpZWxkSGFuZGxlcjtcbihmdW5jdGlvbiAoVW5rbm93bkZpZWxkSGFuZGxlcikge1xuICAgIC8qKlxuICAgICAqIFRoZSBzeW1ib2wgdXNlZCB0byBzdG9yZSB1bmtub3duIGZpZWxkcyBmb3IgYSBtZXNzYWdlLlxuICAgICAqIFRoZSBwcm9wZXJ0eSBtdXN0IGNvbmZvcm0gdG8gYFVua25vd25GaWVsZENvbnRhaW5lcmAuXG4gICAgICovXG4gICAgVW5rbm93bkZpZWxkSGFuZGxlci5zeW1ib2wgPSBTeW1ib2wuZm9yKFwicHJvdG9idWYtdHMvdW5rbm93blwiKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZSBhbiB1bmtub3duIGZpZWxkIGR1cmluZyBiaW5hcnkgcmVhZCBkaXJlY3RseSBvbiB0aGUgbWVzc2FnZS5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjb21wYXRpYmxlIHdpdGggYEJpbmFyeVJlYWRPcHRpb25zLnJlYWRVbmtub3duRmllbGRgLlxuICAgICAqL1xuICAgIFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkID0gKHR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZGF0YSkgPT4ge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gaXMobWVzc2FnZSkgPyBtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXSA6IG1lc3NhZ2VbVW5rbm93bkZpZWxkSGFuZGxlci5zeW1ib2xdID0gW107XG4gICAgICAgIGNvbnRhaW5lci5wdXNoKHsgbm86IGZpZWxkTm8sIHdpcmVUeXBlLCBkYXRhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdW5rbm93biBmaWVsZHMgc3RvcmVkIGZvciB0aGUgbWVzc2FnZSB0byB0aGUgd3JpdGVyLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNvbXBhdGlibGUgd2l0aCBgQmluYXJ5V3JpdGVPcHRpb25zLndyaXRlVW5rbm93bkZpZWxkc2AuXG4gICAgICovXG4gICAgVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlID0gKHR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpID0+IHtcbiAgICAgICAgZm9yIChsZXQgeyBubywgd2lyZVR5cGUsIGRhdGEgfSBvZiBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QobWVzc2FnZSkpXG4gICAgICAgICAgICB3cml0ZXIudGFnKG5vLCB3aXJlVHlwZSkucmF3KGRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlzdCB1bmtub3duIGZpZWxkcyBzdG9yZWQgZm9yIHRoZSBtZXNzYWdlLlxuICAgICAqIE5vdGUgdGhhdCB0aGVyZSBtYXkgYmUgbXVsdGlwbGVzIGZpZWxkcyB3aXRoIHRoZSBzYW1lIG51bWJlci5cbiAgICAgKi9cbiAgICBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QgPSAobWVzc2FnZSwgZmllbGRObykgPT4ge1xuICAgICAgICBpZiAoaXMobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIGxldCBhbGwgPSBtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXTtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZE5vID8gYWxsLmZpbHRlcih1ZiA9PiB1Zi5ubyA9PSBmaWVsZE5vKSA6IGFsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IHVua25vd24gZmllbGQgYnkgZmllbGQgbnVtYmVyLlxuICAgICAqL1xuICAgIFVua25vd25GaWVsZEhhbmRsZXIubGFzdCA9IChtZXNzYWdlLCBmaWVsZE5vKSA9PiBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QobWVzc2FnZSwgZmllbGRObykuc2xpY2UoLTEpWzBdO1xuICAgIGNvbnN0IGlzID0gKG1lc3NhZ2UpID0+IG1lc3NhZ2UgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXSk7XG59KShVbmtub3duRmllbGRIYW5kbGVyIHx8IChVbmtub3duRmllbGRIYW5kbGVyID0ge30pKTtcbi8qKlxuICogTWVyZ2VzIGJpbmFyeSB3cml0ZSBvciByZWFkIG9wdGlvbnMuIExhdGVyIHZhbHVlcyBvdmVycmlkZSBlYXJsaWVyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQmluYXJ5T3B0aW9ucyhhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYSksIGIpO1xufVxuLyoqXG4gKiBQcm90b2J1ZiBiaW5hcnkgZm9ybWF0IHdpcmUgdHlwZXMuXG4gKlxuICogQSB3aXJlIHR5cGUgcHJvdmlkZXMganVzdCBlbm91Z2ggaW5mb3JtYXRpb24gdG8gZmluZCB0aGUgbGVuZ3RoIG9mIHRoZVxuICogZm9sbG93aW5nIHZhbHVlLlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvZW5jb2Rpbmcjc3RydWN0dXJlXG4gKi9cbmV4cG9ydCB2YXIgV2lyZVR5cGU7XG4oZnVuY3Rpb24gKFdpcmVUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIlZhcmludFwiXSA9IDBdID0gXCJWYXJpbnRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDY0LCBzZml4ZWQ2NCwgZG91YmxlLlxuICAgICAqIEFsd2F5cyA4IGJ5dGVzIHdpdGggbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiQml0NjRcIl0gPSAxXSA9IFwiQml0NjRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuICAgICAqXG4gICAgICogT25seSByZXBlYXRlZCBudW1lcmljIHR5cGVzICh0eXBlcyB3aGljaCB1c2UgdGhlIHZhcmludCwgMzItYml0LFxuICAgICAqIG9yIDY0LWJpdCB3aXJlIHR5cGVzKSBjYW4gYmUgcGFja2VkLiBJbiBwcm90bzMsIHN1Y2ggZmllbGRzIGFyZVxuICAgICAqIHBhY2tlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiTGVuZ3RoRGVsaW1pdGVkXCJdID0gMl0gPSBcIkxlbmd0aERlbGltaXRlZFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGdyb3Vwc1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJTdGFydEdyb3VwXCJdID0gM10gPSBcIlN0YXJ0R3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBncm91cHNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiRW5kR3JvdXBcIl0gPSA0XSA9IFwiRW5kR3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDMyLCBzZml4ZWQzMiwgZmxvYXQuXG4gICAgICogQWx3YXlzIDQgYnl0ZXMgd2l0aCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJCaXQzMlwiXSA9IDVdID0gXCJCaXQzMlwiO1xufSkoV2lyZVR5cGUgfHwgKFdpcmVUeXBlID0ge30pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryReader: function() { return /* binding */ BinaryReader; },\n/* harmony export */   binaryReadOptions: function() { return /* binding */ binaryReadOptions; }\n/* harmony export */ });\n/* harmony import */ var _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./binary-format-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\");\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _goog_varint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./goog-varint */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js\");\n\n\n\nconst defaultsRead = {\n    readUnknownField: true,\n    readerFactory: bytes => new BinaryReader(bytes),\n};\n/**\n * Make options for reading binary data form partial options.\n */\nfunction binaryReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\nclass BinaryReader {\n    constructor(buf, textDecoder) {\n        this.varint64 = _goog_varint__WEBPACK_IMPORTED_MODULE_0__.varint64read; // dirty cast for `this`\n        /**\n         * Read a `uint32` field, an unsigned 32 bit varint.\n         */\n        this.uint32 = _goog_varint__WEBPACK_IMPORTED_MODULE_0__.varint32read; // dirty cast for `this` and access to protected `buf`\n        this.buf = buf;\n        this.len = buf.length;\n        this.pos = 0;\n        this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);\n        this.textDecoder = textDecoder !== null && textDecoder !== void 0 ? textDecoder : new TextDecoder(\"utf-8\", {\n            fatal: true,\n            ignoreBOM: true,\n        });\n    }\n    /**\n     * Reads a tag - field number and wire type.\n     */\n    tag() {\n        let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;\n        if (fieldNo <= 0 || wireType < 0 || wireType > 5)\n            throw new Error(\"illegal tag: field no \" + fieldNo + \" wire type \" + wireType);\n        return [fieldNo, wireType];\n    }\n    /**\n     * Skip one element on the wire and return the skipped data.\n     * Supports WireType.StartGroup since v2.0.0-alpha.23.\n     */\n    skip(wireType) {\n        let start = this.pos;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (wireType) {\n            case _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.Varint:\n                while (this.buf[this.pos++] & 0x80) {\n                    // ignore\n                }\n                break;\n            case _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.Bit64:\n                this.pos += 4;\n            case _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.Bit32:\n                this.pos += 4;\n                break;\n            case _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.LengthDelimited:\n                let len = this.uint32();\n                this.pos += len;\n                break;\n            case _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.StartGroup:\n                // From descriptor.proto: Group type is deprecated, not supported in proto3.\n                // But we must still be able to parse and treat as unknown.\n                let t;\n                while ((t = this.tag()[1]) !== _binary_format_contract__WEBPACK_IMPORTED_MODULE_1__.WireType.EndGroup) {\n                    this.skip(t);\n                }\n                break;\n            default:\n                throw new Error(\"cant skip wire type \" + wireType);\n        }\n        this.assertBounds();\n        return this.buf.subarray(start, this.pos);\n    }\n    /**\n     * Throws error if position in byte array is out of range.\n     */\n    assertBounds() {\n        if (this.pos > this.len)\n            throw new RangeError(\"premature EOF\");\n    }\n    /**\n     * Read a `int32` field, a signed 32 bit varint.\n     */\n    int32() {\n        return this.uint32() | 0;\n    }\n    /**\n     * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32() {\n        let zze = this.uint32();\n        // decode zigzag\n        return (zze >>> 1) ^ -(zze & 1);\n    }\n    /**\n     * Read a `int64` field, a signed 64-bit varint.\n     */\n    int64() {\n        return new _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong(...this.varint64());\n    }\n    /**\n     * Read a `uint64` field, an unsigned 64-bit varint.\n     */\n    uint64() {\n        return new _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong(...this.varint64());\n    }\n    /**\n     * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64() {\n        let [lo, hi] = this.varint64();\n        // decode zig zag\n        let s = -(lo & 1);\n        lo = ((lo >>> 1 | (hi & 1) << 31) ^ s);\n        hi = (hi >>> 1 ^ s);\n        return new _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong(lo, hi);\n    }\n    /**\n     * Read a `bool` field, a variant.\n     */\n    bool() {\n        let [lo, hi] = this.varint64();\n        return lo !== 0 || hi !== 0;\n    }\n    /**\n     * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32() {\n        return this.view.getUint32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32() {\n        return this.view.getInt32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64() {\n        return new _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `fixed64` field, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64() {\n        return new _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `float` field, 32-bit floating point number.\n     */\n    float() {\n        return this.view.getFloat32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `double` field, a 64-bit floating point number.\n     */\n    double() {\n        return this.view.getFloat64((this.pos += 8) - 8, true);\n    }\n    /**\n     * Read a `bytes` field, length-delimited arbitrary data.\n     */\n    bytes() {\n        let len = this.uint32();\n        let start = this.pos;\n        this.pos += len;\n        this.assertBounds();\n        return this.buf.subarray(start, start + len);\n    }\n    /**\n     * Read a `string` field, length-delimited data converted to UTF-8 text.\n     */\n    string() {\n        return this.textDecoder.decode(this.bytes());\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LXJlYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvRDtBQUNSO0FBQ2U7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG1EQUFtRDtBQUNuRDtBQUNPO0FBQ1A7QUFDQSx3QkFBd0Isc0RBQVksRUFBRTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQVksRUFBRTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQVE7QUFDekI7QUFDQSxpQkFBaUIsNkRBQVE7QUFDekI7QUFDQTtBQUNBLGlCQUFpQiw2REFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDZEQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRDQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNENBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZDQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNENBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LXJlYWRlci5qcz8xZTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdpcmVUeXBlIH0gZnJvbSBcIi4vYmluYXJ5LWZvcm1hdC1jb250cmFjdFwiO1xuaW1wb3J0IHsgUGJMb25nLCBQYlVMb25nIH0gZnJvbSBcIi4vcGItbG9uZ1wiO1xuaW1wb3J0IHsgdmFyaW50MzJyZWFkLCB2YXJpbnQ2NHJlYWQgfSBmcm9tIFwiLi9nb29nLXZhcmludFwiO1xuY29uc3QgZGVmYXVsdHNSZWFkID0ge1xuICAgIHJlYWRVbmtub3duRmllbGQ6IHRydWUsXG4gICAgcmVhZGVyRmFjdG9yeTogYnl0ZXMgPT4gbmV3IEJpbmFyeVJlYWRlcihieXRlcyksXG59O1xuLyoqXG4gKiBNYWtlIG9wdGlvbnMgZm9yIHJlYWRpbmcgYmluYXJ5IGRhdGEgZm9ybSBwYXJ0aWFsIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5hcnlSZWFkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzUmVhZCksIG9wdGlvbnMpIDogZGVmYXVsdHNSZWFkO1xufVxuZXhwb3J0IGNsYXNzIEJpbmFyeVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IoYnVmLCB0ZXh0RGVjb2Rlcikge1xuICAgICAgICB0aGlzLnZhcmludDY0ID0gdmFyaW50NjRyZWFkOyAvLyBkaXJ0eSBjYXN0IGZvciBgdGhpc2BcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgYSBgdWludDMyYCBmaWVsZCwgYW4gdW5zaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyID0gdmFyaW50MzJyZWFkOyAvLyBkaXJ0eSBjYXN0IGZvciBgdGhpc2AgYW5kIGFjY2VzcyB0byBwcm90ZWN0ZWQgYGJ1ZmBcbiAgICAgICAgdGhpcy5idWYgPSBidWY7XG4gICAgICAgIHRoaXMubGVuID0gYnVmLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy50ZXh0RGVjb2RlciA9IHRleHREZWNvZGVyICE9PSBudWxsICYmIHRleHREZWNvZGVyICE9PSB2b2lkIDAgPyB0ZXh0RGVjb2RlciA6IG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIsIHtcbiAgICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQk9NOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgYSB0YWcgLSBmaWVsZCBudW1iZXIgYW5kIHdpcmUgdHlwZS5cbiAgICAgKi9cbiAgICB0YWcoKSB7XG4gICAgICAgIGxldCB0YWcgPSB0aGlzLnVpbnQzMigpLCBmaWVsZE5vID0gdGFnID4+PiAzLCB3aXJlVHlwZSA9IHRhZyAmIDc7XG4gICAgICAgIGlmIChmaWVsZE5vIDw9IDAgfHwgd2lyZVR5cGUgPCAwIHx8IHdpcmVUeXBlID4gNSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgdGFnOiBmaWVsZCBubyBcIiArIGZpZWxkTm8gKyBcIiB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSk7XG4gICAgICAgIHJldHVybiBbZmllbGRObywgd2lyZVR5cGVdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTa2lwIG9uZSBlbGVtZW50IG9uIHRoZSB3aXJlIGFuZCByZXR1cm4gdGhlIHNraXBwZWQgZGF0YS5cbiAgICAgKiBTdXBwb3J0cyBXaXJlVHlwZS5TdGFydEdyb3VwIHNpbmNlIHYyLjAuMC1hbHBoYS4yMy5cbiAgICAgKi9cbiAgICBza2lwKHdpcmVUeXBlKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICAvLyBub2luc3BlY3Rpb24gRmFsbFRocm91Z2hJblN3aXRjaFN0YXRlbWVudEpTXG4gICAgICAgIHN3aXRjaCAod2lyZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgV2lyZVR5cGUuVmFyaW50OlxuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5CaXQ2NDpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5CaXQzMjpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQ6XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMudWludDMyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5TdGFydEdyb3VwOlxuICAgICAgICAgICAgICAgIC8vIEZyb20gZGVzY3JpcHRvci5wcm90bzogR3JvdXAgdHlwZSBpcyBkZXByZWNhdGVkLCBub3Qgc3VwcG9ydGVkIGluIHByb3RvMy5cbiAgICAgICAgICAgICAgICAvLyBCdXQgd2UgbXVzdCBzdGlsbCBiZSBhYmxlIHRvIHBhcnNlIGFuZCB0cmVhdCBhcyB1bmtub3duLlxuICAgICAgICAgICAgICAgIGxldCB0O1xuICAgICAgICAgICAgICAgIHdoaWxlICgodCA9IHRoaXMudGFnKClbMV0pICE9PSBXaXJlVHlwZS5FbmRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXAodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW50IHNraXAgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheShzdGFydCwgdGhpcy5wb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaHJvd3MgZXJyb3IgaWYgcG9zaXRpb24gaW4gYnl0ZSBhcnJheSBpcyBvdXQgb2YgcmFuZ2UuXG4gICAgICovXG4gICAgYXNzZXJ0Qm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5wb3MgPiB0aGlzLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwicHJlbWF0dXJlIEVPRlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBpbnQzMmAgZmllbGQsIGEgc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVpbnQzMigpIHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzaW50MzJgIGZpZWxkLCBhIHNpZ25lZCwgemlnemFnLWVuY29kZWQgMzItYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50MzIoKSB7XG4gICAgICAgIGxldCB6emUgPSB0aGlzLnVpbnQzMigpO1xuICAgICAgICAvLyBkZWNvZGUgemlnemFnXG4gICAgICAgIHJldHVybiAoenplID4+PiAxKSBeIC0oenplICYgMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgaW50NjRgIGZpZWxkLCBhIHNpZ25lZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBiTG9uZyguLi50aGlzLnZhcmludDY0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHVpbnQ2NGAgZmllbGQsIGFuIHVuc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBiVUxvbmcoLi4udGhpcy52YXJpbnQ2NCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBzaW50NjRgIGZpZWxkLCBhIHNpZ25lZCwgemlnLXphZy1lbmNvZGVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDY0KCkge1xuICAgICAgICBsZXQgW2xvLCBoaV0gPSB0aGlzLnZhcmludDY0KCk7XG4gICAgICAgIC8vIGRlY29kZSB6aWcgemFnXG4gICAgICAgIGxldCBzID0gLShsbyAmIDEpO1xuICAgICAgICBsbyA9ICgobG8gPj4+IDEgfCAoaGkgJiAxKSA8PCAzMSkgXiBzKTtcbiAgICAgICAgaGkgPSAoaGkgPj4+IDEgXiBzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYkxvbmcobG8sIGhpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBib29sYCBmaWVsZCwgYSB2YXJpYW50LlxuICAgICAqL1xuICAgIGJvb2woKSB7XG4gICAgICAgIGxldCBbbG8sIGhpXSA9IHRoaXMudmFyaW50NjQoKTtcbiAgICAgICAgcmV0dXJuIGxvICE9PSAwIHx8IGhpICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkMzJgIGZpZWxkLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkMzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKCh0aGlzLnBvcyArPSA0KSAtIDQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNmaXhlZDMyYCBmaWVsZCwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmaXhlZDY0YCBmaWVsZCwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCA2NCBiaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBiVUxvbmcodGhpcy5zZml4ZWQzMigpLCB0aGlzLnNmaXhlZDMyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkNjRgIGZpZWxkLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0LWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDY0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBiTG9uZyh0aGlzLnNmaXhlZDMyKCksIHRoaXMuc2ZpeGVkMzIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZmxvYXRgIGZpZWxkLCAzMi1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZsb2F0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZG91YmxlYCBmaWVsZCwgYSA2NC1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGRvdWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDY0KCh0aGlzLnBvcyArPSA4KSAtIDgsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGJ5dGVzYCBmaWVsZCwgbGVuZ3RoLWRlbGltaXRlZCBhcmJpdHJhcnkgZGF0YS5cbiAgICAgKi9cbiAgICBieXRlcygpIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMudWludDMyKCk7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHN0cmluZ2AgZmllbGQsIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBjb252ZXJ0ZWQgdG8gVVRGLTggdGV4dC5cbiAgICAgKi9cbiAgICBzdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZSh0aGlzLmJ5dGVzKCkpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryWriter: function() { return /* binding */ BinaryWriter; },\n/* harmony export */   binaryWriteOptions: function() { return /* binding */ binaryWriteOptions; }\n/* harmony export */ });\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _goog_varint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./goog-varint */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js\");\n\n\n\nconst defaultsWrite = {\n    writeUnknownFields: true,\n    writerFactory: () => new BinaryWriter(),\n};\n/**\n * Make options for writing binary data form partial options.\n */\nfunction binaryWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\nclass BinaryWriter {\n    constructor(textEncoder) {\n        /**\n         * Previous fork states.\n         */\n        this.stack = [];\n        this.textEncoder = textEncoder !== null && textEncoder !== void 0 ? textEncoder : new TextEncoder();\n        this.chunks = [];\n        this.buf = [];\n    }\n    /**\n     * Return all bytes written and reset this writer.\n     */\n    finish() {\n        this.chunks.push(new Uint8Array(this.buf)); // flush the buffer\n        let len = 0;\n        for (let i = 0; i < this.chunks.length; i++)\n            len += this.chunks[i].length;\n        let bytes = new Uint8Array(len);\n        let offset = 0;\n        for (let i = 0; i < this.chunks.length; i++) {\n            bytes.set(this.chunks[i], offset);\n            offset += this.chunks[i].length;\n        }\n        this.chunks = [];\n        return bytes;\n    }\n    /**\n     * Start a new fork for length-delimited data like a message\n     * or a packed repeated field.\n     *\n     * Must be joined later with `join()`.\n     */\n    fork() {\n        this.stack.push({ chunks: this.chunks, buf: this.buf });\n        this.chunks = [];\n        this.buf = [];\n        return this;\n    }\n    /**\n     * Join the last fork. Write its length and bytes, then\n     * return to the previous state.\n     */\n    join() {\n        // get chunk of fork\n        let chunk = this.finish();\n        // restore previous state\n        let prev = this.stack.pop();\n        if (!prev)\n            throw new Error('invalid state, fork stack empty');\n        this.chunks = prev.chunks;\n        this.buf = prev.buf;\n        // write length of chunk as varint\n        this.uint32(chunk.byteLength);\n        return this.raw(chunk);\n    }\n    /**\n     * Writes a tag (field number and wire type).\n     *\n     * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.\n     *\n     * Generated code should compute the tag ahead of time and call `uint32()`.\n     */\n    tag(fieldNo, type) {\n        return this.uint32((fieldNo << 3 | type) >>> 0);\n    }\n    /**\n     * Write a chunk of raw bytes.\n     */\n    raw(chunk) {\n        if (this.buf.length) {\n            this.chunks.push(new Uint8Array(this.buf));\n            this.buf = [];\n        }\n        this.chunks.push(chunk);\n        return this;\n    }\n    /**\n     * Write a `uint32` value, an unsigned 32 bit varint.\n     */\n    uint32(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertUInt32)(value);\n        // write value as varint 32, inlined for speed\n        while (value > 0x7f) {\n            this.buf.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        this.buf.push(value);\n        return this;\n    }\n    /**\n     * Write a `int32` value, a signed 32 bit varint.\n     */\n    int32(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertInt32)(value);\n        (0,_goog_varint__WEBPACK_IMPORTED_MODULE_1__.varint32write)(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `bool` value, a variant.\n     */\n    bool(value) {\n        this.buf.push(value ? 1 : 0);\n        return this;\n    }\n    /**\n     * Write a `bytes` value, length-delimited arbitrary data.\n     */\n    bytes(value) {\n        this.uint32(value.byteLength); // write length of chunk as varint\n        return this.raw(value);\n    }\n    /**\n     * Write a `string` value, length-delimited data converted to UTF-8 text.\n     */\n    string(value) {\n        let chunk = this.textEncoder.encode(value);\n        this.uint32(chunk.byteLength); // write length of chunk as varint\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `float` value, 32-bit floating point number.\n     */\n    float(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertFloat32)(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setFloat32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `double` value, a 64-bit floating point number.\n     */\n    double(value) {\n        let chunk = new Uint8Array(8);\n        new DataView(chunk.buffer).setFloat64(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertUInt32)(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setUint32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertInt32)(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setInt32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32(value) {\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertInt32)(value);\n        // zigzag encode\n        value = ((value << 1) ^ (value >> 31)) >>> 0;\n        (0,_goog_varint__WEBPACK_IMPORTED_MODULE_1__.varint32write)(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `fixed64` value, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `int64` value, a signed 64-bit varint.\n     */\n    int64(value) {\n        let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong.from(value);\n        (0,_goog_varint__WEBPACK_IMPORTED_MODULE_1__.varint64write)(long.lo, long.hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64(value) {\n        let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong.from(value), \n        // zigzag encode\n        sign = long.hi >> 31, lo = (long.lo << 1) ^ sign, hi = ((long.hi << 1) | (long.lo >>> 31)) ^ sign;\n        (0,_goog_varint__WEBPACK_IMPORTED_MODULE_1__.varint64write)(lo, hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `uint64` value, an unsigned 64-bit varint.\n     */\n    uint64(value) {\n        let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong.from(value);\n        (0,_goog_varint__WEBPACK_IMPORTED_MODULE_1__.varint64write)(long.lo, long.hi, this.buf);\n        return this;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LXdyaXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QztBQUNpQjtBQUNPO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxtREFBbUQ7QUFDbkQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9DQUFvQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBVztBQUNuQixRQUFRLDJEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFXO0FBQ25CO0FBQ0E7QUFDQSxRQUFRLDJEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNENBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0Q0FBTTtBQUN6QixRQUFRLDJEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0Q0FBTTtBQUN6QjtBQUNBO0FBQ0EsUUFBUSwyREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQU87QUFDMUIsUUFBUSwyREFBYTtBQUNyQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9iaW5hcnktd3JpdGVyLmpzPzk2ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGJMb25nLCBQYlVMb25nIH0gZnJvbSBcIi4vcGItbG9uZ1wiO1xuaW1wb3J0IHsgdmFyaW50MzJ3cml0ZSwgdmFyaW50NjR3cml0ZSB9IGZyb20gXCIuL2dvb2ctdmFyaW50XCI7XG5pbXBvcnQgeyBhc3NlcnRGbG9hdDMyLCBhc3NlcnRJbnQzMiwgYXNzZXJ0VUludDMyIH0gZnJvbSBcIi4vYXNzZXJ0XCI7XG5jb25zdCBkZWZhdWx0c1dyaXRlID0ge1xuICAgIHdyaXRlVW5rbm93bkZpZWxkczogdHJ1ZSxcbiAgICB3cml0ZXJGYWN0b3J5OiAoKSA9PiBuZXcgQmluYXJ5V3JpdGVyKCksXG59O1xuLyoqXG4gKiBNYWtlIG9wdGlvbnMgZm9yIHdyaXRpbmcgYmluYXJ5IGRhdGEgZm9ybSBwYXJ0aWFsIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5hcnlXcml0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0c1dyaXRlKSwgb3B0aW9ucykgOiBkZWZhdWx0c1dyaXRlO1xufVxuZXhwb3J0IGNsYXNzIEJpbmFyeVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IodGV4dEVuY29kZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXZpb3VzIGZvcmsgc3RhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuICAgICAgICB0aGlzLnRleHRFbmNvZGVyID0gdGV4dEVuY29kZXIgIT09IG51bGwgJiYgdGV4dEVuY29kZXIgIT09IHZvaWQgMCA/IHRleHRFbmNvZGVyIDogbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHRoaXMuYnVmID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgYnl0ZXMgd3JpdHRlbiBhbmQgcmVzZXQgdGhpcyB3cml0ZXIuXG4gICAgICovXG4gICAgZmluaXNoKCkge1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmKSk7IC8vIGZsdXNoIHRoZSBidWZmZXJcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVua3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBsZW4gKz0gdGhpcy5jaHVua3NbaV0ubGVuZ3RoO1xuICAgICAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnl0ZXMuc2V0KHRoaXMuY2h1bmtzW2ldLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHRoaXMuY2h1bmtzW2ldLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgbmV3IGZvcmsgZm9yIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBsaWtlIGEgbWVzc2FnZVxuICAgICAqIG9yIGEgcGFja2VkIHJlcGVhdGVkIGZpZWxkLlxuICAgICAqXG4gICAgICogTXVzdCBiZSBqb2luZWQgbGF0ZXIgd2l0aCBgam9pbigpYC5cbiAgICAgKi9cbiAgICBmb3JrKCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2goeyBjaHVua3M6IHRoaXMuY2h1bmtzLCBidWY6IHRoaXMuYnVmIH0pO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSm9pbiB0aGUgbGFzdCBmb3JrLiBXcml0ZSBpdHMgbGVuZ3RoIGFuZCBieXRlcywgdGhlblxuICAgICAqIHJldHVybiB0byB0aGUgcHJldmlvdXMgc3RhdGUuXG4gICAgICovXG4gICAgam9pbigpIHtcbiAgICAgICAgLy8gZ2V0IGNodW5rIG9mIGZvcmtcbiAgICAgICAgbGV0IGNodW5rID0gdGhpcy5maW5pc2goKTtcbiAgICAgICAgLy8gcmVzdG9yZSBwcmV2aW91cyBzdGF0ZVxuICAgICAgICBsZXQgcHJldiA9IHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghcHJldilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzdGF0ZSwgZm9yayBzdGFjayBlbXB0eScpO1xuICAgICAgICB0aGlzLmNodW5rcyA9IHByZXYuY2h1bmtzO1xuICAgICAgICB0aGlzLmJ1ZiA9IHByZXYuYnVmO1xuICAgICAgICAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHRoaXMudWludDMyKGNodW5rLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSB0YWcgKGZpZWxkIG51bWJlciBhbmQgd2lyZSB0eXBlKS5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYHVpbnQzMiggKGZpZWxkTm8gPDwgMyB8IHR5cGUpID4+PiAwIClgLlxuICAgICAqXG4gICAgICogR2VuZXJhdGVkIGNvZGUgc2hvdWxkIGNvbXB1dGUgdGhlIHRhZyBhaGVhZCBvZiB0aW1lIGFuZCBjYWxsIGB1aW50MzIoKWAuXG4gICAgICovXG4gICAgdGFnKGZpZWxkTm8sIHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWludDMyKChmaWVsZE5vIDw8IDMgfCB0eXBlKSA+Pj4gMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgY2h1bmsgb2YgcmF3IGJ5dGVzLlxuICAgICAqL1xuICAgIHJhdyhjaHVuaykge1xuICAgICAgICBpZiAodGhpcy5idWYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmKSk7XG4gICAgICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgdWludDMyYCB2YWx1ZSwgYW4gdW5zaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50MzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0VUludDMyKHZhbHVlKTtcbiAgICAgICAgLy8gd3JpdGUgdmFsdWUgYXMgdmFyaW50IDMyLCBpbmxpbmVkIGZvciBzcGVlZFxuICAgICAgICB3aGlsZSAodmFsdWUgPiAweDdmKSB7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+PiA3O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgaW50MzJgIHZhbHVlLCBhIHNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAqL1xuICAgIGludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgdmFyaW50MzJ3cml0ZSh2YWx1ZSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgYm9vbGAgdmFsdWUsIGEgdmFyaWFudC5cbiAgICAgKi9cbiAgICBib29sKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnVmLnB1c2godmFsdWUgPyAxIDogMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBieXRlc2AgdmFsdWUsIGxlbmd0aC1kZWxpbWl0ZWQgYXJiaXRyYXJ5IGRhdGEuXG4gICAgICovXG4gICAgYnl0ZXModmFsdWUpIHtcbiAgICAgICAgdGhpcy51aW50MzIodmFsdWUuYnl0ZUxlbmd0aCk7IC8vIHdyaXRlIGxlbmd0aCBvZiBjaHVuayBhcyB2YXJpbnRcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc3RyaW5nYCB2YWx1ZSwgbGVuZ3RoLWRlbGltaXRlZCBkYXRhIGNvbnZlcnRlZCB0byBVVEYtOCB0ZXh0LlxuICAgICAqL1xuICAgIHN0cmluZyh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudWludDMyKGNodW5rLmJ5dGVMZW5ndGgpOyAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZsb2F0YCB2YWx1ZSwgMzItYml0IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAgKi9cbiAgICBmbG9hdCh2YWx1ZSkge1xuICAgICAgICBhc3NlcnRGbG9hdDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldEZsb2F0MzIoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBkb3VibGVgIHZhbHVlLCBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZG91YmxlKHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRGbG9hdDY0KDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQzMmAgdmFsdWUsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRVSW50MzIodmFsdWUpO1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0VWludDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ZpeGVkMzJgIHZhbHVlLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldEludDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ludDMyYCB2YWx1ZSwgYSBzaWduZWQsIHppZ3phZy1lbmNvZGVkIDMyLWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgLy8gemlnemFnIGVuY29kZVxuICAgICAgICB2YWx1ZSA9ICgodmFsdWUgPDwgMSkgXiAodmFsdWUgPj4gMzEpKSA+Pj4gMDtcbiAgICAgICAgdmFyaW50MzJ3cml0ZSh2YWx1ZSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQ2NGAgdmFsdWUsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQtYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkNjQodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgIGxldCB2aWV3ID0gbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcik7XG4gICAgICAgIGxldCBsb25nID0gUGJMb25nLmZyb20odmFsdWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDAsIGxvbmcubG8sIHRydWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDQsIGxvbmcuaGksIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmaXhlZDY0YCB2YWx1ZSwgYW4gdW5zaWduZWQsIGZpeGVkLWxlbmd0aCA2NCBiaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBmaXhlZDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpO1xuICAgICAgICBsZXQgbG9uZyA9IFBiVUxvbmcuZnJvbSh2YWx1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoMCwgbG9uZy5sbywgdHJ1ZSk7XG4gICAgICAgIHZpZXcuc2V0SW50MzIoNCwgbG9uZy5oaSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGludDY0YCB2YWx1ZSwgYSBzaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgbG9uZyA9IFBiTG9uZy5mcm9tKHZhbHVlKTtcbiAgICAgICAgdmFyaW50NjR3cml0ZShsb25nLmxvLCBsb25nLmhpLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBzaW50NjRgIHZhbHVlLCBhIHNpZ25lZCwgemlnLXphZy1lbmNvZGVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgc2ludDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBsb25nID0gUGJMb25nLmZyb20odmFsdWUpLCBcbiAgICAgICAgLy8gemlnemFnIGVuY29kZVxuICAgICAgICBzaWduID0gbG9uZy5oaSA+PiAzMSwgbG8gPSAobG9uZy5sbyA8PCAxKSBeIHNpZ24sIGhpID0gKChsb25nLmhpIDw8IDEpIHwgKGxvbmcubG8gPj4+IDMxKSkgXiBzaWduO1xuICAgICAgICB2YXJpbnQ2NHdyaXRlKGxvLCBoaSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgdWludDY0YCB2YWx1ZSwgYW4gdW5zaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50NjQodmFsdWUpIHtcbiAgICAgICAgbGV0IGxvbmcgPSBQYlVMb25nLmZyb20odmFsdWUpO1xuICAgICAgICB2YXJpbnQ2NHdyaXRlKGxvbmcubG8sIGxvbmcuaGksIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   int64fromString: function() { return /* binding */ int64fromString; },\n/* harmony export */   int64toString: function() { return /* binding */ int64toString; },\n/* harmony export */   varint32read: function() { return /* binding */ varint32read; },\n/* harmony export */   varint32write: function() { return /* binding */ varint32write; },\n/* harmony export */   varint64read: function() { return /* binding */ varint64read; },\n/* harmony export */   varint64write: function() { return /* binding */ varint64write; }\n/* harmony export */ });\n// Copyright 2008 Google Inc.  All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// Code generated by the Protocol Buffer compiler is owned by the owner\n// of the input file used when generating it.  This code is not\n// standalone and requires a support library to be linked with it.  This\n// support library is itself covered by the above license.\n/**\n * Read a 64 bit varint as two JS numbers.\n *\n * Returns tuple:\n * [0]: low bits\n * [0]: high bits\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L175\n */\nfunction varint64read() {\n    let lowBits = 0;\n    let highBits = 0;\n    for (let shift = 0; shift < 28; shift += 7) {\n        let b = this.buf[this.pos++];\n        lowBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    let middleByte = this.buf[this.pos++];\n    // last four bits of the first 32 bit number\n    lowBits |= (middleByte & 0x0F) << 28;\n    // 3 upper bits are part of the next 32 bit number\n    highBits = (middleByte & 0x70) >> 4;\n    if ((middleByte & 0x80) == 0) {\n        this.assertBounds();\n        return [lowBits, highBits];\n    }\n    for (let shift = 3; shift <= 31; shift += 7) {\n        let b = this.buf[this.pos++];\n        highBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    throw new Error('invalid varint');\n}\n/**\n * Write a 64 bit varint, given as two JS numbers, to the given bytes array.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/writer.js#L344\n */\nfunction varint64write(lo, hi, bytes) {\n    for (let i = 0; i < 28; i = i + 7) {\n        const shift = lo >>> i;\n        const hasNext = !((shift >>> 7) == 0 && hi == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    const splitBits = ((lo >>> 28) & 0x0F) | ((hi & 0x07) << 4);\n    const hasMoreBits = !((hi >> 3) == 0);\n    bytes.push((hasMoreBits ? splitBits | 0x80 : splitBits) & 0xFF);\n    if (!hasMoreBits) {\n        return;\n    }\n    for (let i = 3; i < 31; i = i + 7) {\n        const shift = hi >>> i;\n        const hasNext = !((shift >>> 7) == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    bytes.push((hi >>> 31) & 0x01);\n}\n// constants for binary math\nconst TWO_PWR_32_DBL = (1 << 16) * (1 << 16);\n/**\n * Parse decimal string of 64 bit integer value as two JS numbers.\n *\n * Returns tuple:\n * [0]: minus sign?\n * [1]: low bits\n * [2]: high bits\n *\n * Copyright 2008 Google Inc.\n */\nfunction int64fromString(dec) {\n    // Check for minus sign.\n    let minus = dec[0] == '-';\n    if (minus)\n        dec = dec.slice(1);\n    // Work 6 decimal digits at a time, acting like we're converting base 1e6\n    // digits to binary. This is safe to do with floating point math because\n    // Number.isSafeInteger(ALL_32_BITS * 1e6) == true.\n    const base = 1e6;\n    let lowBits = 0;\n    let highBits = 0;\n    function add1e6digit(begin, end) {\n        // Note: Number('') is 0.\n        const digit1e6 = Number(dec.slice(begin, end));\n        highBits *= base;\n        lowBits = lowBits * base + digit1e6;\n        // Carry bits from lowBits to highBits\n        if (lowBits >= TWO_PWR_32_DBL) {\n            highBits = highBits + ((lowBits / TWO_PWR_32_DBL) | 0);\n            lowBits = lowBits % TWO_PWR_32_DBL;\n        }\n    }\n    add1e6digit(-24, -18);\n    add1e6digit(-18, -12);\n    add1e6digit(-12, -6);\n    add1e6digit(-6);\n    return [minus, lowBits, highBits];\n}\n/**\n * Format 64 bit integer value (as two JS numbers) to decimal string.\n *\n * Copyright 2008 Google Inc.\n */\nfunction int64toString(bitsLow, bitsHigh) {\n    // Skip the expensive conversion if the number is small enough to use the\n    // built-in conversions.\n    if ((bitsHigh >>> 0) <= 0x1FFFFF) {\n        return '' + (TWO_PWR_32_DBL * bitsHigh + (bitsLow >>> 0));\n    }\n    // What this code is doing is essentially converting the input number from\n    // base-2 to base-1e7, which allows us to represent the 64-bit range with\n    // only 3 (very large) digits. Those digits are then trivial to convert to\n    // a base-10 string.\n    // The magic numbers used here are -\n    // 2^24 = 16777216 = (1,6777216) in base-1e7.\n    // 2^48 = 281474976710656 = (2,8147497,6710656) in base-1e7.\n    // Split 32:32 representation into 16:24:24 representation so our\n    // intermediate digits don't overflow.\n    let low = bitsLow & 0xFFFFFF;\n    let mid = (((bitsLow >>> 24) | (bitsHigh << 8)) >>> 0) & 0xFFFFFF;\n    let high = (bitsHigh >> 16) & 0xFFFF;\n    // Assemble our three base-1e7 digits, ignoring carries. The maximum\n    // value in a digit at this step is representable as a 48-bit integer, which\n    // can be stored in a 64-bit floating point number.\n    let digitA = low + (mid * 6777216) + (high * 6710656);\n    let digitB = mid + (high * 8147497);\n    let digitC = (high * 2);\n    // Apply carries from A to B and from B to C.\n    let base = 10000000;\n    if (digitA >= base) {\n        digitB += Math.floor(digitA / base);\n        digitA %= base;\n    }\n    if (digitB >= base) {\n        digitC += Math.floor(digitB / base);\n        digitB %= base;\n    }\n    // Convert base-1e7 digits to base-10, with optional leading zeroes.\n    function decimalFrom1e7(digit1e7, needLeadingZeros) {\n        let partial = digit1e7 ? String(digit1e7) : '';\n        if (needLeadingZeros) {\n            return '0000000'.slice(partial.length) + partial;\n        }\n        return partial;\n    }\n    return decimalFrom1e7(digitC, /*needLeadingZeros=*/ 0) +\n        decimalFrom1e7(digitB, /*needLeadingZeros=*/ digitC) +\n        // If the final 1e7 digit didn't need leading zeros, we would have\n        // returned via the trivial code path at the top.\n        decimalFrom1e7(digitA, /*needLeadingZeros=*/ 1);\n}\n/**\n * Write a 32 bit varint, signed or unsigned. Same as `varint64write(0, value, bytes)`\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/1b18833f4f2a2f681f4e4a25cdf3b0a43115ec26/js/binary/encoder.js#L144\n */\nfunction varint32write(value, bytes) {\n    if (value >= 0) {\n        // write value as varint 32\n        while (value > 0x7f) {\n            bytes.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        bytes.push(value);\n    }\n    else {\n        for (let i = 0; i < 9; i++) {\n            bytes.push(value & 127 | 128);\n            value = value >> 7;\n        }\n        bytes.push(1);\n    }\n}\n/**\n * Read an unsigned 32 bit varint.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L220\n */\nfunction varint32read() {\n    let b = this.buf[this.pos++];\n    let result = b & 0x7F;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 7;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 14;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 21;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    // Extract only last 4 bits\n    b = this.buf[this.pos++];\n    result |= (b & 0x0F) << 28;\n    for (let readBytes = 5; ((b & 0x80) !== 0) && readBytes < 10; readBytes++)\n        b = this.buf[this.pos++];\n    if ((b & 0x80) != 0)\n        throw new Error('invalid varint');\n    this.assertBounds();\n    // Result can have 32 bits, convert it to unsigned\n    return result >>> 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvZ29vZy12YXJpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQ0FBc0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9nb29nLXZhcmludC5qcz9kYjNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIFByb3RvY29sIEJ1ZmZlciBjb21waWxlciBpcyBvd25lZCBieSB0aGUgb3duZXJcbi8vIG9mIHRoZSBpbnB1dCBmaWxlIHVzZWQgd2hlbiBnZW5lcmF0aW5nIGl0LiAgVGhpcyBjb2RlIGlzIG5vdFxuLy8gc3RhbmRhbG9uZSBhbmQgcmVxdWlyZXMgYSBzdXBwb3J0IGxpYnJhcnkgdG8gYmUgbGlua2VkIHdpdGggaXQuICBUaGlzXG4vLyBzdXBwb3J0IGxpYnJhcnkgaXMgaXRzZWxmIGNvdmVyZWQgYnkgdGhlIGFib3ZlIGxpY2Vuc2UuXG4vKipcbiAqIFJlYWQgYSA2NCBiaXQgdmFyaW50IGFzIHR3byBKUyBudW1iZXJzLlxuICpcbiAqIFJldHVybnMgdHVwbGU6XG4gKiBbMF06IGxvdyBiaXRzXG4gKiBbMF06IGhpZ2ggYml0c1xuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDE3NVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjRyZWFkKCkge1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZvciAobGV0IHNoaWZ0ID0gMDsgc2hpZnQgPCAyODsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBsb3dCaXRzIHw9IChiICYgMHg3RikgPDwgc2hpZnQ7XG4gICAgICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWlkZGxlQnl0ZSA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIC8vIGxhc3QgZm91ciBiaXRzIG9mIHRoZSBmaXJzdCAzMiBiaXQgbnVtYmVyXG4gICAgbG93Qml0cyB8PSAobWlkZGxlQnl0ZSAmIDB4MEYpIDw8IDI4O1xuICAgIC8vIDMgdXBwZXIgYml0cyBhcmUgcGFydCBvZiB0aGUgbmV4dCAzMiBiaXQgbnVtYmVyXG4gICAgaGlnaEJpdHMgPSAobWlkZGxlQnl0ZSAmIDB4NzApID4+IDQ7XG4gICAgaWYgKChtaWRkbGVCeXRlICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICB9XG4gICAgZm9yIChsZXQgc2hpZnQgPSAzOyBzaGlmdCA8PSAzMTsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBoaWdoQml0cyB8PSAoYiAmIDB4N0YpIDw8IHNoaWZ0O1xuICAgICAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICAgICAgcmV0dXJuIFtsb3dCaXRzLCBoaWdoQml0c107XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZhcmludCcpO1xufVxuLyoqXG4gKiBXcml0ZSBhIDY0IGJpdCB2YXJpbnQsIGdpdmVuIGFzIHR3byBKUyBudW1iZXJzLCB0byB0aGUgZ2l2ZW4gYnl0ZXMgYXJyYXkuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi84YTcxOTI3ZDc0YTRjZTM0ZWZlMmQ4NzY5ZmRhMTk4ZjUyZDIwZDEyL2pzL2V4cGVyaW1lbnRhbC9ydW50aW1lL2tlcm5lbC93cml0ZXIuanMjTDM0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjR3cml0ZShsbywgaGksIGJ5dGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyODsgaSA9IGkgKyA3KSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gbG8gPj4+IGk7XG4gICAgICAgIGNvbnN0IGhhc05leHQgPSAhKChzaGlmdCA+Pj4gNykgPT0gMCAmJiBoaSA9PSAwKTtcbiAgICAgICAgY29uc3QgYnl0ZSA9IChoYXNOZXh0ID8gc2hpZnQgfCAweDgwIDogc2hpZnQpICYgMHhGRjtcbiAgICAgICAgYnl0ZXMucHVzaChieXRlKTtcbiAgICAgICAgaWYgKCFoYXNOZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3BsaXRCaXRzID0gKChsbyA+Pj4gMjgpICYgMHgwRikgfCAoKGhpICYgMHgwNykgPDwgNCk7XG4gICAgY29uc3QgaGFzTW9yZUJpdHMgPSAhKChoaSA+PiAzKSA9PSAwKTtcbiAgICBieXRlcy5wdXNoKChoYXNNb3JlQml0cyA/IHNwbGl0Qml0cyB8IDB4ODAgOiBzcGxpdEJpdHMpICYgMHhGRik7XG4gICAgaWYgKCFoYXNNb3JlQml0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAzOyBpIDwgMzE7IGkgPSBpICsgNykge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGhpID4+PiBpO1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gISgoc2hpZnQgPj4+IDcpID09IDApO1xuICAgICAgICBjb25zdCBieXRlID0gKGhhc05leHQgPyBzaGlmdCB8IDB4ODAgOiBzaGlmdCkgJiAweEZGO1xuICAgICAgICBieXRlcy5wdXNoKGJ5dGUpO1xuICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBieXRlcy5wdXNoKChoaSA+Pj4gMzEpICYgMHgwMSk7XG59XG4vLyBjb25zdGFudHMgZm9yIGJpbmFyeSBtYXRoXG5jb25zdCBUV09fUFdSXzMyX0RCTCA9ICgxIDw8IDE2KSAqICgxIDw8IDE2KTtcbi8qKlxuICogUGFyc2UgZGVjaW1hbCBzdHJpbmcgb2YgNjQgYml0IGludGVnZXIgdmFsdWUgYXMgdHdvIEpTIG51bWJlcnMuXG4gKlxuICogUmV0dXJucyB0dXBsZTpcbiAqIFswXTogbWludXMgc2lnbj9cbiAqIFsxXTogbG93IGJpdHNcbiAqIFsyXTogaGlnaCBiaXRzXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludDY0ZnJvbVN0cmluZyhkZWMpIHtcbiAgICAvLyBDaGVjayBmb3IgbWludXMgc2lnbi5cbiAgICBsZXQgbWludXMgPSBkZWNbMF0gPT0gJy0nO1xuICAgIGlmIChtaW51cylcbiAgICAgICAgZGVjID0gZGVjLnNsaWNlKDEpO1xuICAgIC8vIFdvcmsgNiBkZWNpbWFsIGRpZ2l0cyBhdCBhIHRpbWUsIGFjdGluZyBsaWtlIHdlJ3JlIGNvbnZlcnRpbmcgYmFzZSAxZTZcbiAgICAvLyBkaWdpdHMgdG8gYmluYXJ5LiBUaGlzIGlzIHNhZmUgdG8gZG8gd2l0aCBmbG9hdGluZyBwb2ludCBtYXRoIGJlY2F1c2VcbiAgICAvLyBOdW1iZXIuaXNTYWZlSW50ZWdlcihBTExfMzJfQklUUyAqIDFlNikgPT0gdHJ1ZS5cbiAgICBjb25zdCBiYXNlID0gMWU2O1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZ1bmN0aW9uIGFkZDFlNmRpZ2l0KGJlZ2luLCBlbmQpIHtcbiAgICAgICAgLy8gTm90ZTogTnVtYmVyKCcnKSBpcyAwLlxuICAgICAgICBjb25zdCBkaWdpdDFlNiA9IE51bWJlcihkZWMuc2xpY2UoYmVnaW4sIGVuZCkpO1xuICAgICAgICBoaWdoQml0cyAqPSBiYXNlO1xuICAgICAgICBsb3dCaXRzID0gbG93Qml0cyAqIGJhc2UgKyBkaWdpdDFlNjtcbiAgICAgICAgLy8gQ2FycnkgYml0cyBmcm9tIGxvd0JpdHMgdG8gaGlnaEJpdHNcbiAgICAgICAgaWYgKGxvd0JpdHMgPj0gVFdPX1BXUl8zMl9EQkwpIHtcbiAgICAgICAgICAgIGhpZ2hCaXRzID0gaGlnaEJpdHMgKyAoKGxvd0JpdHMgLyBUV09fUFdSXzMyX0RCTCkgfCAwKTtcbiAgICAgICAgICAgIGxvd0JpdHMgPSBsb3dCaXRzICUgVFdPX1BXUl8zMl9EQkw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkMWU2ZGlnaXQoLTI0LCAtMTgpO1xuICAgIGFkZDFlNmRpZ2l0KC0xOCwgLTEyKTtcbiAgICBhZGQxZTZkaWdpdCgtMTIsIC02KTtcbiAgICBhZGQxZTZkaWdpdCgtNik7XG4gICAgcmV0dXJuIFttaW51cywgbG93Qml0cywgaGlnaEJpdHNdO1xufVxuLyoqXG4gKiBGb3JtYXQgNjQgYml0IGludGVnZXIgdmFsdWUgKGFzIHR3byBKUyBudW1iZXJzKSB0byBkZWNpbWFsIHN0cmluZy5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50NjR0b1N0cmluZyhiaXRzTG93LCBiaXRzSGlnaCkge1xuICAgIC8vIFNraXAgdGhlIGV4cGVuc2l2ZSBjb252ZXJzaW9uIGlmIHRoZSBudW1iZXIgaXMgc21hbGwgZW5vdWdoIHRvIHVzZSB0aGVcbiAgICAvLyBidWlsdC1pbiBjb252ZXJzaW9ucy5cbiAgICBpZiAoKGJpdHNIaWdoID4+PiAwKSA8PSAweDFGRkZGRikge1xuICAgICAgICByZXR1cm4gJycgKyAoVFdPX1BXUl8zMl9EQkwgKiBiaXRzSGlnaCArIChiaXRzTG93ID4+PiAwKSk7XG4gICAgfVxuICAgIC8vIFdoYXQgdGhpcyBjb2RlIGlzIGRvaW5nIGlzIGVzc2VudGlhbGx5IGNvbnZlcnRpbmcgdGhlIGlucHV0IG51bWJlciBmcm9tXG4gICAgLy8gYmFzZS0yIHRvIGJhc2UtMWU3LCB3aGljaCBhbGxvd3MgdXMgdG8gcmVwcmVzZW50IHRoZSA2NC1iaXQgcmFuZ2Ugd2l0aFxuICAgIC8vIG9ubHkgMyAodmVyeSBsYXJnZSkgZGlnaXRzLiBUaG9zZSBkaWdpdHMgYXJlIHRoZW4gdHJpdmlhbCB0byBjb252ZXJ0IHRvXG4gICAgLy8gYSBiYXNlLTEwIHN0cmluZy5cbiAgICAvLyBUaGUgbWFnaWMgbnVtYmVycyB1c2VkIGhlcmUgYXJlIC1cbiAgICAvLyAyXjI0ID0gMTY3NzcyMTYgPSAoMSw2Nzc3MjE2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyAyXjQ4ID0gMjgxNDc0OTc2NzEwNjU2ID0gKDIsODE0NzQ5Nyw2NzEwNjU2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyBTcGxpdCAzMjozMiByZXByZXNlbnRhdGlvbiBpbnRvIDE2OjI0OjI0IHJlcHJlc2VudGF0aW9uIHNvIG91clxuICAgIC8vIGludGVybWVkaWF0ZSBkaWdpdHMgZG9uJ3Qgb3ZlcmZsb3cuXG4gICAgbGV0IGxvdyA9IGJpdHNMb3cgJiAweEZGRkZGRjtcbiAgICBsZXQgbWlkID0gKCgoYml0c0xvdyA+Pj4gMjQpIHwgKGJpdHNIaWdoIDw8IDgpKSA+Pj4gMCkgJiAweEZGRkZGRjtcbiAgICBsZXQgaGlnaCA9IChiaXRzSGlnaCA+PiAxNikgJiAweEZGRkY7XG4gICAgLy8gQXNzZW1ibGUgb3VyIHRocmVlIGJhc2UtMWU3IGRpZ2l0cywgaWdub3JpbmcgY2Fycmllcy4gVGhlIG1heGltdW1cbiAgICAvLyB2YWx1ZSBpbiBhIGRpZ2l0IGF0IHRoaXMgc3RlcCBpcyByZXByZXNlbnRhYmxlIGFzIGEgNDgtYml0IGludGVnZXIsIHdoaWNoXG4gICAgLy8gY2FuIGJlIHN0b3JlZCBpbiBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgbGV0IGRpZ2l0QSA9IGxvdyArIChtaWQgKiA2Nzc3MjE2KSArIChoaWdoICogNjcxMDY1Nik7XG4gICAgbGV0IGRpZ2l0QiA9IG1pZCArIChoaWdoICogODE0NzQ5Nyk7XG4gICAgbGV0IGRpZ2l0QyA9IChoaWdoICogMik7XG4gICAgLy8gQXBwbHkgY2FycmllcyBmcm9tIEEgdG8gQiBhbmQgZnJvbSBCIHRvIEMuXG4gICAgbGV0IGJhc2UgPSAxMDAwMDAwMDtcbiAgICBpZiAoZGlnaXRBID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRCICs9IE1hdGguZmxvb3IoZGlnaXRBIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QSAlPSBiYXNlO1xuICAgIH1cbiAgICBpZiAoZGlnaXRCID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRDICs9IE1hdGguZmxvb3IoZGlnaXRCIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QiAlPSBiYXNlO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGJhc2UtMWU3IGRpZ2l0cyB0byBiYXNlLTEwLCB3aXRoIG9wdGlvbmFsIGxlYWRpbmcgemVyb2VzLlxuICAgIGZ1bmN0aW9uIGRlY2ltYWxGcm9tMWU3KGRpZ2l0MWU3LCBuZWVkTGVhZGluZ1plcm9zKSB7XG4gICAgICAgIGxldCBwYXJ0aWFsID0gZGlnaXQxZTcgPyBTdHJpbmcoZGlnaXQxZTcpIDogJyc7XG4gICAgICAgIGlmIChuZWVkTGVhZGluZ1plcm9zKSB7XG4gICAgICAgICAgICByZXR1cm4gJzAwMDAwMDAnLnNsaWNlKHBhcnRpYWwubGVuZ3RoKSArIHBhcnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRpYWw7XG4gICAgfVxuICAgIHJldHVybiBkZWNpbWFsRnJvbTFlNyhkaWdpdEMsIC8qbmVlZExlYWRpbmdaZXJvcz0qLyAwKSArXG4gICAgICAgIGRlY2ltYWxGcm9tMWU3KGRpZ2l0QiwgLypuZWVkTGVhZGluZ1plcm9zPSovIGRpZ2l0QykgK1xuICAgICAgICAvLyBJZiB0aGUgZmluYWwgMWU3IGRpZ2l0IGRpZG4ndCBuZWVkIGxlYWRpbmcgemVyb3MsIHdlIHdvdWxkIGhhdmVcbiAgICAgICAgLy8gcmV0dXJuZWQgdmlhIHRoZSB0cml2aWFsIGNvZGUgcGF0aCBhdCB0aGUgdG9wLlxuICAgICAgICBkZWNpbWFsRnJvbTFlNyhkaWdpdEEsIC8qbmVlZExlYWRpbmdaZXJvcz0qLyAxKTtcbn1cbi8qKlxuICogV3JpdGUgYSAzMiBiaXQgdmFyaW50LCBzaWduZWQgb3IgdW5zaWduZWQuIFNhbWUgYXMgYHZhcmludDY0d3JpdGUoMCwgdmFsdWUsIGJ5dGVzKWBcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzFiMTg4MzNmNGYyYTJmNjgxZjRlNGEyNWNkZjNiMGE0MzExNWVjMjYvanMvYmluYXJ5L2VuY29kZXIuanMjTDE0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJ3cml0ZSh2YWx1ZSwgYnl0ZXMpIHtcbiAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZSBhcyB2YXJpbnQgMzJcbiAgICAgICAgd2hpbGUgKHZhbHVlID4gMHg3Zikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgJiAweDdmKSB8IDB4ODApO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+Pj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHZhbHVlICYgMTI3IHwgMTI4KTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKDEpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDIyMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJyZWFkKCkge1xuICAgIGxldCBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgbGV0IHJlc3VsdCA9IGIgJiAweDdGO1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4N0YpIDw8IDc7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3RikgPDwgMTQ7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3RikgPDwgMjE7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBFeHRyYWN0IG9ubHkgbGFzdCA0IGJpdHNcbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHgwRikgPDwgMjg7XG4gICAgZm9yIChsZXQgcmVhZEJ5dGVzID0gNTsgKChiICYgMHg4MCkgIT09IDApICYmIHJlYWRCeXRlcyA8IDEwOyByZWFkQnl0ZXMrKylcbiAgICAgICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIGlmICgoYiAmIDB4ODApICE9IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB2YXJpbnQnKTtcbiAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgIC8vIFJlc3VsdCBjYW4gaGF2ZSAzMiBiaXRzLCBjb252ZXJ0IGl0IHRvIHVuc2lnbmVkXG4gICAgcmV0dXJuIHJlc3VsdCA+Pj4gMDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jsonReadOptions: function() { return /* binding */ jsonReadOptions; },\n/* harmony export */   jsonWriteOptions: function() { return /* binding */ jsonWriteOptions; },\n/* harmony export */   mergeJsonOptions: function() { return /* binding */ mergeJsonOptions; }\n/* harmony export */ });\nconst defaultsWrite = {\n    emitDefaultValues: false,\n    enumAsInteger: false,\n    useProtoFieldName: false,\n    prettySpaces: 0,\n}, defaultsRead = {\n    ignoreUnknownFields: false,\n};\n/**\n * Make options for reading JSON data from partial options.\n */\nfunction jsonReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\n/**\n * Make options for writing JSON data from partial options.\n */\nfunction jsonWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\n/**\n * Merges JSON write or read options. Later values override earlier values. Type registries are merged.\n */\nfunction mergeJsonOptions(a, b) {\n    var _a, _b;\n    let c = Object.assign(Object.assign({}, a), b);\n    c.typeRegistry = [...((_a = a === null || a === void 0 ? void 0 : a.typeRegistry) !== null && _a !== void 0 ? _a : []), ...((_b = b === null || b === void 0 ? void 0 : b.typeRegistry) !== null && _b !== void 0 ? _b : [])];\n    return c;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvanNvbi1mb3JtYXQtY29udHJhY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvanNvbi1mb3JtYXQtY29udHJhY3QuanM/ODcyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkZWZhdWx0c1dyaXRlID0ge1xuICAgIGVtaXREZWZhdWx0VmFsdWVzOiBmYWxzZSxcbiAgICBlbnVtQXNJbnRlZ2VyOiBmYWxzZSxcbiAgICB1c2VQcm90b0ZpZWxkTmFtZTogZmFsc2UsXG4gICAgcHJldHR5U3BhY2VzOiAwLFxufSwgZGVmYXVsdHNSZWFkID0ge1xuICAgIGlnbm9yZVVua25vd25GaWVsZHM6IGZhbHNlLFxufTtcbi8qKlxuICogTWFrZSBvcHRpb25zIGZvciByZWFkaW5nIEpTT04gZGF0YSBmcm9tIHBhcnRpYWwgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25SZWFkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzUmVhZCksIG9wdGlvbnMpIDogZGVmYXVsdHNSZWFkO1xufVxuLyoqXG4gKiBNYWtlIG9wdGlvbnMgZm9yIHdyaXRpbmcgSlNPTiBkYXRhIGZyb20gcGFydGlhbCBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvbldyaXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzV3JpdGUpLCBvcHRpb25zKSA6IGRlZmF1bHRzV3JpdGU7XG59XG4vKipcbiAqIE1lcmdlcyBKU09OIHdyaXRlIG9yIHJlYWQgb3B0aW9ucy4gTGF0ZXIgdmFsdWVzIG92ZXJyaWRlIGVhcmxpZXIgdmFsdWVzLiBUeXBlIHJlZ2lzdHJpZXMgYXJlIG1lcmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSnNvbk9wdGlvbnMoYSwgYikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IGMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGEpLCBiKTtcbiAgICBjLnR5cGVSZWdpc3RyeSA9IFsuLi4oKF9hID0gYSA9PT0gbnVsbCB8fCBhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhLnR5cGVSZWdpc3RyeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLCAuLi4oKF9iID0gYiA9PT0gbnVsbCB8fCBiID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiLnR5cGVSZWdpc3RyeSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pXTtcbiAgICByZXR1cm4gYztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js":
/*!************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJsonObject: function() { return /* binding */ isJsonObject; },\n/* harmony export */   typeofJsonValue: function() { return /* binding */ typeofJsonValue; }\n/* harmony export */ });\n/**\n * Get the type of a JSON value.\n * Distinguishes between array, null and object.\n */\nfunction typeofJsonValue(value) {\n    let t = typeof value;\n    if (t == \"object\") {\n        if (Array.isArray(value))\n            return \"array\";\n        if (value === null)\n            return \"null\";\n    }\n    return t;\n}\n/**\n * Is this a JSON object (instead of an array or null)?\n */\nfunction isJsonObject(value) {\n    return value !== null && typeof value == \"object\" && !Array.isArray(value);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvanNvbi10eXBpbmdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L2pzb24tdHlwaW5ncy5qcz8zZGY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2V0IHRoZSB0eXBlIG9mIGEgSlNPTiB2YWx1ZS5cbiAqIERpc3Rpbmd1aXNoZXMgYmV0d2VlbiBhcnJheSwgbnVsbCBhbmQgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHlwZW9mSnNvblZhbHVlKHZhbHVlKSB7XG4gICAgbGV0IHQgPSB0eXBlb2YgdmFsdWU7XG4gICAgaWYgKHQgPT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB0O1xufVxuLyoqXG4gKiBJcyB0aGlzIGEgSlNPTiBvYmplY3QgKGluc3RlYWQgb2YgYW4gYXJyYXkgb3IgbnVsbCk/XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25PYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   lowerCamelCase: function() { return /* binding */ lowerCamelCase; }\n/* harmony export */ });\n/**\n * Converts snake_case to lowerCamelCase.\n *\n * Should behave like protoc:\n * https://github.com/protocolbuffers/protobuf/blob/e8ae137c96444ea313485ed1118c5e43b2099cf1/src/google/protobuf/compiler/java/java_helpers.cc#L118\n */\nfunction lowerCamelCase(snakeCase) {\n    let capNext = false;\n    const sb = [];\n    for (let i = 0; i < snakeCase.length; i++) {\n        let next = snakeCase.charAt(i);\n        if (next == '_') {\n            capNext = true;\n        }\n        else if (/\\d/.test(next)) {\n            sb.push(next);\n            capNext = true;\n        }\n        else if (capNext) {\n            sb.push(next.toUpperCase());\n            capNext = false;\n        }\n        else if (i == 0) {\n            sb.push(next.toLowerCase());\n        }\n        else {\n            sb.push(next);\n        }\n    }\n    return sb.join('');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvbG93ZXItY2FtZWwtY2FzZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9sb3dlci1jYW1lbC1jYXNlLmpzPzE2OGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIGxvd2VyQ2FtZWxDYXNlLlxuICpcbiAqIFNob3VsZCBiZWhhdmUgbGlrZSBwcm90b2M6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvZThhZTEzN2M5NjQ0NGVhMzEzNDg1ZWQxMTE4YzVlNDNiMjA5OWNmMS9zcmMvZ29vZ2xlL3Byb3RvYnVmL2NvbXBpbGVyL2phdmEvamF2YV9oZWxwZXJzLmNjI0wxMThcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvd2VyQ2FtZWxDYXNlKHNuYWtlQ2FzZSkge1xuICAgIGxldCBjYXBOZXh0ID0gZmFsc2U7XG4gICAgY29uc3Qgc2IgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYWtlQ2FzZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV4dCA9IHNuYWtlQ2FzZS5jaGFyQXQoaSk7XG4gICAgICAgIGlmIChuZXh0ID09ICdfJykge1xuICAgICAgICAgICAgY2FwTmV4dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL1xcZC8udGVzdChuZXh0KSkge1xuICAgICAgICAgICAgc2IucHVzaChuZXh0KTtcbiAgICAgICAgICAgIGNhcE5leHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhcE5leHQpIHtcbiAgICAgICAgICAgIHNiLnB1c2gobmV4dC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNhcE5leHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpID09IDApIHtcbiAgICAgICAgICAgIHNiLnB1c2gobmV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNiLnB1c2gobmV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNiLmpvaW4oJycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MESSAGE_TYPE: function() { return /* binding */ MESSAGE_TYPE; }\n/* harmony export */ });\n/**\n * The symbol used as a key on message objects to store the message type.\n *\n * Note that this is an experimental feature - it is here to stay, but\n * implementation details may change without notice.\n */\nconst MESSAGE_TYPE = Symbol.for(\"protobuf-ts/message-type\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvbWVzc2FnZS10eXBlLWNvbnRyYWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L21lc3NhZ2UtdHlwZS1jb250cmFjdC5qcz8yODU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIHN5bWJvbCB1c2VkIGFzIGEga2V5IG9uIG1lc3NhZ2Ugb2JqZWN0cyB0byBzdG9yZSB0aGUgbWVzc2FnZSB0eXBlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIC0gaXQgaXMgaGVyZSB0byBzdGF5LCBidXRcbiAqIGltcGxlbWVudGF0aW9uIGRldGFpbHMgbWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1FU1NBR0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJwcm90b2J1Zi10cy9tZXNzYWdlLXR5cGVcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js":
/*!************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageType: function() { return /* binding */ MessageType; }\n/* harmony export */ });\n/* harmony import */ var _message_type_contract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message-type-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js\");\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _reflection_type_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reflection-type-check */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js\");\n/* harmony import */ var _reflection_json_reader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reflection-json-reader */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js\");\n/* harmony import */ var _reflection_json_writer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reflection-json-writer */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js\");\n/* harmony import */ var _reflection_binary_reader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reflection-binary-reader */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js\");\n/* harmony import */ var _reflection_binary_writer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./reflection-binary-writer */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js\");\n/* harmony import */ var _reflection_create__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./reflection-create */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js\");\n/* harmony import */ var _reflection_merge_partial__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./reflection-merge-partial */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js\");\n/* harmony import */ var _json_typings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./json-typings */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _json_format_contract__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./json-format-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js\");\n/* harmony import */ var _reflection_equals__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./reflection-equals */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js\");\n/* harmony import */ var _binary_writer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./binary-writer */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js\");\n/* harmony import */ var _binary_reader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./binary-reader */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst baseDescriptors = Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));\nconst messageTypeDescriptor = baseDescriptors[_message_type_contract__WEBPACK_IMPORTED_MODULE_0__.MESSAGE_TYPE] = {};\n/**\n * This standard message type provides reflection-based\n * operations to work with a message.\n */\nclass MessageType {\n    constructor(name, fields, options) {\n        this.defaultCheckDepth = 16;\n        this.typeName = name;\n        this.fields = fields.map(_reflection_info__WEBPACK_IMPORTED_MODULE_1__.normalizeFieldInfo);\n        this.options = options !== null && options !== void 0 ? options : {};\n        messageTypeDescriptor.value = this;\n        this.messagePrototype = Object.create(null, baseDescriptors);\n        this.refTypeCheck = new _reflection_type_check__WEBPACK_IMPORTED_MODULE_2__.ReflectionTypeCheck(this);\n        this.refJsonReader = new _reflection_json_reader__WEBPACK_IMPORTED_MODULE_3__.ReflectionJsonReader(this);\n        this.refJsonWriter = new _reflection_json_writer__WEBPACK_IMPORTED_MODULE_4__.ReflectionJsonWriter(this);\n        this.refBinReader = new _reflection_binary_reader__WEBPACK_IMPORTED_MODULE_5__.ReflectionBinaryReader(this);\n        this.refBinWriter = new _reflection_binary_writer__WEBPACK_IMPORTED_MODULE_6__.ReflectionBinaryWriter(this);\n    }\n    create(value) {\n        let message = (0,_reflection_create__WEBPACK_IMPORTED_MODULE_7__.reflectionCreate)(this);\n        if (value !== undefined) {\n            (0,_reflection_merge_partial__WEBPACK_IMPORTED_MODULE_8__.reflectionMergePartial)(this, message, value);\n        }\n        return message;\n    }\n    /**\n     * Clone the message.\n     *\n     * Unknown fields are discarded.\n     */\n    clone(message) {\n        let copy = this.create();\n        (0,_reflection_merge_partial__WEBPACK_IMPORTED_MODULE_8__.reflectionMergePartial)(this, copy, message);\n        return copy;\n    }\n    /**\n     * Determines whether two message of the same type have the same field values.\n     * Checks for deep equality, traversing repeated fields, oneof groups, maps\n     * and messages recursively.\n     * Will also return true if both messages are `undefined`.\n     */\n    equals(a, b) {\n        return (0,_reflection_equals__WEBPACK_IMPORTED_MODULE_9__.reflectionEquals)(this, a, b);\n    }\n    /**\n     * Is the given value assignable to our message type\n     * and contains no [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    is(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, false);\n    }\n    /**\n     * Is the given value assignable to our message type,\n     * regardless of [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    isAssignable(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, true);\n    }\n    /**\n     * Copy partial data into the target message.\n     */\n    mergePartial(target, source) {\n        (0,_reflection_merge_partial__WEBPACK_IMPORTED_MODULE_8__.reflectionMergePartial)(this, target, source);\n    }\n    /**\n     * Create a new message from binary format.\n     */\n    fromBinary(data, options) {\n        let opt = (0,_binary_reader__WEBPACK_IMPORTED_MODULE_10__.binaryReadOptions)(options);\n        return this.internalBinaryRead(opt.readerFactory(data), data.byteLength, opt);\n    }\n    /**\n     * Read a new message from a JSON value.\n     */\n    fromJson(json, options) {\n        return this.internalJsonRead(json, (0,_json_format_contract__WEBPACK_IMPORTED_MODULE_11__.jsonReadOptions)(options));\n    }\n    /**\n     * Read a new message from a JSON string.\n     * This is equivalent to `T.fromJson(JSON.parse(json))`.\n     */\n    fromJsonString(json, options) {\n        let value = JSON.parse(json);\n        return this.fromJson(value, options);\n    }\n    /**\n     * Write the message to canonical JSON value.\n     */\n    toJson(message, options) {\n        return this.internalJsonWrite(message, (0,_json_format_contract__WEBPACK_IMPORTED_MODULE_11__.jsonWriteOptions)(options));\n    }\n    /**\n     * Convert the message to canonical JSON string.\n     * This is equivalent to `JSON.stringify(T.toJson(t))`\n     */\n    toJsonString(message, options) {\n        var _a;\n        let value = this.toJson(message, options);\n        return JSON.stringify(value, null, (_a = options === null || options === void 0 ? void 0 : options.prettySpaces) !== null && _a !== void 0 ? _a : 0);\n    }\n    /**\n     * Write the message to binary format.\n     */\n    toBinary(message, options) {\n        let opt = (0,_binary_writer__WEBPACK_IMPORTED_MODULE_12__.binaryWriteOptions)(options);\n        return this.internalBinaryWrite(message, opt.writerFactory(), opt).finish();\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * JSON, use `fromJson()` or `fromJsonString()`.\n     *\n     * Reads JSON value and merges the fields into the target\n     * according to protobuf rules. If the target is omitted,\n     * a new instance is created first.\n     */\n    internalJsonRead(json, options, target) {\n        if (json !== null && typeof json == \"object\" && !Array.isArray(json)) {\n            let message = target !== null && target !== void 0 ? target : this.create();\n            this.refJsonReader.read(json, message, options);\n            return message;\n        }\n        throw new Error(`Unable to parse message ${this.typeName} from JSON ${(0,_json_typings__WEBPACK_IMPORTED_MODULE_13__.typeofJsonValue)(json)}.`);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * to JSON, use `toJson()` or `toJsonString().\n     *\n     * Writes JSON value and returns it.\n     */\n    internalJsonWrite(message, options) {\n        return this.refJsonWriter.write(message, options);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * in binary format, use `toBinary()`.\n     *\n     * Serializes the message in binary format and appends it to the given\n     * writer. Returns passed writer.\n     */\n    internalBinaryWrite(message, writer, options) {\n        this.refBinWriter.write(message, writer, options);\n        return writer;\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * binary data, use `fromBinary()`.\n     *\n     * Reads data from binary format and merges the fields into\n     * the target according to protobuf rules. If the target is\n     * omitted, a new instance is created first.\n     */\n    internalBinaryRead(reader, length, options, target) {\n        let message = target !== null && target !== void 0 ? target : this.create();\n        this.refBinReader.read(reader, message, options, length);\n        return message;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvbWVzc2FnZS10eXBlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNBO0FBQ087QUFDRTtBQUNBO0FBQ0k7QUFDQTtBQUNiO0FBQ2E7QUFDbkI7QUFDMkI7QUFDckI7QUFDRjtBQUNEO0FBQ3BELGlGQUFpRjtBQUNqRiw4Q0FBOEMsZ0VBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxnRUFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVFQUFtQjtBQUNuRCxpQ0FBaUMseUVBQW9CO0FBQ3JELGlDQUFpQyx5RUFBb0I7QUFDckQsZ0NBQWdDLDZFQUFzQjtBQUN0RCxnQ0FBZ0MsNkVBQXNCO0FBQ3REO0FBQ0E7QUFDQSxzQkFBc0Isb0VBQWdCO0FBQ3RDO0FBQ0EsWUFBWSxpRkFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlGQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9FQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUZBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0VBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1RUFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx3RUFBZ0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZUFBZSxZQUFZLCtEQUFlLE9BQU87QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L21lc3NhZ2UtdHlwZS5qcz9iYzQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1FU1NBR0VfVFlQRSB9IGZyb20gXCIuL21lc3NhZ2UtdHlwZS1jb250cmFjdFwiO1xuaW1wb3J0IHsgbm9ybWFsaXplRmllbGRJbmZvIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyBSZWZsZWN0aW9uVHlwZUNoZWNrIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi10eXBlLWNoZWNrXCI7XG5pbXBvcnQgeyBSZWZsZWN0aW9uSnNvblJlYWRlciB9IGZyb20gXCIuL3JlZmxlY3Rpb24tanNvbi1yZWFkZXJcIjtcbmltcG9ydCB7IFJlZmxlY3Rpb25Kc29uV3JpdGVyIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1qc29uLXdyaXRlclwiO1xuaW1wb3J0IHsgUmVmbGVjdGlvbkJpbmFyeVJlYWRlciB9IGZyb20gXCIuL3JlZmxlY3Rpb24tYmluYXJ5LXJlYWRlclwiO1xuaW1wb3J0IHsgUmVmbGVjdGlvbkJpbmFyeVdyaXRlciB9IGZyb20gXCIuL3JlZmxlY3Rpb24tYmluYXJ5LXdyaXRlclwiO1xuaW1wb3J0IHsgcmVmbGVjdGlvbkNyZWF0ZSB9IGZyb20gXCIuL3JlZmxlY3Rpb24tY3JlYXRlXCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1tZXJnZS1wYXJ0aWFsXCI7XG5pbXBvcnQgeyB0eXBlb2ZKc29uVmFsdWUgfSBmcm9tIFwiLi9qc29uLXR5cGluZ3NcIjtcbmltcG9ydCB7IGpzb25SZWFkT3B0aW9ucywganNvbldyaXRlT3B0aW9ucywgfSBmcm9tIFwiLi9qc29uLWZvcm1hdC1jb250cmFjdFwiO1xuaW1wb3J0IHsgcmVmbGVjdGlvbkVxdWFscyB9IGZyb20gXCIuL3JlZmxlY3Rpb24tZXF1YWxzXCI7XG5pbXBvcnQgeyBiaW5hcnlXcml0ZU9wdGlvbnMgfSBmcm9tIFwiLi9iaW5hcnktd3JpdGVyXCI7XG5pbXBvcnQgeyBiaW5hcnlSZWFkT3B0aW9ucyB9IGZyb20gXCIuL2JpbmFyeS1yZWFkZXJcIjtcbmNvbnN0IGJhc2VEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSkpO1xuY29uc3QgbWVzc2FnZVR5cGVEZXNjcmlwdG9yID0gYmFzZURlc2NyaXB0b3JzW01FU1NBR0VfVFlQRV0gPSB7fTtcbi8qKlxuICogVGhpcyBzdGFuZGFyZCBtZXNzYWdlIHR5cGUgcHJvdmlkZXMgcmVmbGVjdGlvbi1iYXNlZFxuICogb3BlcmF0aW9ucyB0byB3b3JrIHdpdGggYSBtZXNzYWdlLlxuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZVR5cGUge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGZpZWxkcywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmRlZmF1bHRDaGVja0RlcHRoID0gMTY7XG4gICAgICAgIHRoaXMudHlwZU5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcy5tYXAobm9ybWFsaXplRmllbGRJbmZvKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge307XG4gICAgICAgIG1lc3NhZ2VUeXBlRGVzY3JpcHRvci52YWx1ZSA9IHRoaXM7XG4gICAgICAgIHRoaXMubWVzc2FnZVByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCwgYmFzZURlc2NyaXB0b3JzKTtcbiAgICAgICAgdGhpcy5yZWZUeXBlQ2hlY2sgPSBuZXcgUmVmbGVjdGlvblR5cGVDaGVjayh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZKc29uUmVhZGVyID0gbmV3IFJlZmxlY3Rpb25Kc29uUmVhZGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZkpzb25Xcml0ZXIgPSBuZXcgUmVmbGVjdGlvbkpzb25Xcml0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMucmVmQmluUmVhZGVyID0gbmV3IFJlZmxlY3Rpb25CaW5hcnlSZWFkZXIodGhpcyk7XG4gICAgICAgIHRoaXMucmVmQmluV3JpdGVyID0gbmV3IFJlZmxlY3Rpb25CaW5hcnlXcml0ZXIodGhpcyk7XG4gICAgfVxuICAgIGNyZWF0ZSh2YWx1ZSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHJlZmxlY3Rpb25DcmVhdGUodGhpcyk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBVbmtub3duIGZpZWxkcyBhcmUgZGlzY2FyZGVkLlxuICAgICAqL1xuICAgIGNsb25lKG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IGNvcHkgPSB0aGlzLmNyZWF0ZSgpO1xuICAgICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKHRoaXMsIGNvcHksIG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHR3byBtZXNzYWdlIG9mIHRoZSBzYW1lIHR5cGUgaGF2ZSB0aGUgc2FtZSBmaWVsZCB2YWx1ZXMuXG4gICAgICogQ2hlY2tzIGZvciBkZWVwIGVxdWFsaXR5LCB0cmF2ZXJzaW5nIHJlcGVhdGVkIGZpZWxkcywgb25lb2YgZ3JvdXBzLCBtYXBzXG4gICAgICogYW5kIG1lc3NhZ2VzIHJlY3Vyc2l2ZWx5LlxuICAgICAqIFdpbGwgYWxzbyByZXR1cm4gdHJ1ZSBpZiBib3RoIG1lc3NhZ2VzIGFyZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBlcXVhbHMoYSwgYikge1xuICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkVxdWFscyh0aGlzLCBhLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhlIGdpdmVuIHZhbHVlIGFzc2lnbmFibGUgdG8gb3VyIG1lc3NhZ2UgdHlwZVxuICAgICAqIGFuZCBjb250YWlucyBubyBbZXhjZXNzIHByb3BlcnRpZXNdKGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL2ludGVyZmFjZXMuaHRtbCNleGNlc3MtcHJvcGVydHktY2hlY2tzKT9cbiAgICAgKi9cbiAgICBpcyhhcmcsIGRlcHRoID0gdGhpcy5kZWZhdWx0Q2hlY2tEZXB0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZUeXBlQ2hlY2suaXMoYXJnLCBkZXB0aCwgZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgZ2l2ZW4gdmFsdWUgYXNzaWduYWJsZSB0byBvdXIgbWVzc2FnZSB0eXBlLFxuICAgICAqIHJlZ2FyZGxlc3Mgb2YgW2V4Y2VzcyBwcm9wZXJ0aWVzXShodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9pbnRlcmZhY2VzLmh0bWwjZXhjZXNzLXByb3BlcnR5LWNoZWNrcyk/XG4gICAgICovXG4gICAgaXNBc3NpZ25hYmxlKGFyZywgZGVwdGggPSB0aGlzLmRlZmF1bHRDaGVja0RlcHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZlR5cGVDaGVjay5pcyhhcmcsIGRlcHRoLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBwYXJ0aWFsIGRhdGEgaW50byB0aGUgdGFyZ2V0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgbWVyZ2VQYXJ0aWFsKHRhcmdldCwgc291cmNlKSB7XG4gICAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWwodGhpcywgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWVzc2FnZSBmcm9tIGJpbmFyeSBmb3JtYXQuXG4gICAgICovXG4gICAgZnJvbUJpbmFyeShkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBvcHQgPSBiaW5hcnlSZWFkT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxCaW5hcnlSZWFkKG9wdC5yZWFkZXJGYWN0b3J5KGRhdGEpLCBkYXRhLmJ5dGVMZW5ndGgsIG9wdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBuZXcgbWVzc2FnZSBmcm9tIGEgSlNPTiB2YWx1ZS5cbiAgICAgKi9cbiAgICBmcm9tSnNvbihqc29uLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsSnNvblJlYWQoanNvbiwganNvblJlYWRPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIG5ldyBtZXNzYWdlIGZyb20gYSBKU09OIHN0cmluZy5cbiAgICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYFQuZnJvbUpzb24oSlNPTi5wYXJzZShqc29uKSlgLlxuICAgICAqL1xuICAgIGZyb21Kc29uU3RyaW5nKGpzb24sIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUpzb24odmFsdWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSB0aGUgbWVzc2FnZSB0byBjYW5vbmljYWwgSlNPTiB2YWx1ZS5cbiAgICAgKi9cbiAgICB0b0pzb24obWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlLCBqc29uV3JpdGVPcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgbWVzc2FnZSB0byBjYW5vbmljYWwgSlNPTiBzdHJpbmcuXG4gICAgICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIGBKU09OLnN0cmluZ2lmeShULnRvSnNvbih0KSlgXG4gICAgICovXG4gICAgdG9Kc29uU3RyaW5nKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnRvSnNvbihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJldHR5U3BhY2VzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGZvcm1hdC5cbiAgICAgKi9cbiAgICB0b0JpbmFyeShtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBvcHQgPSBiaW5hcnlXcml0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZSwgb3B0LndyaXRlckZhY3RvcnkoKSwgb3B0KS5maW5pc2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhbiBpbnRlcm5hbCBtZXRob2QuIElmIHlvdSBqdXN0IHdhbnQgdG8gcmVhZCBhIG1lc3NhZ2UgZnJvbVxuICAgICAqIEpTT04sIHVzZSBgZnJvbUpzb24oKWAgb3IgYGZyb21Kc29uU3RyaW5nKClgLlxuICAgICAqXG4gICAgICogUmVhZHMgSlNPTiB2YWx1ZSBhbmQgbWVyZ2VzIHRoZSBmaWVsZHMgaW50byB0aGUgdGFyZ2V0XG4gICAgICogYWNjb3JkaW5nIHRvIHByb3RvYnVmIHJ1bGVzLiBJZiB0aGUgdGFyZ2V0IGlzIG9taXR0ZWQsXG4gICAgICogYSBuZXcgaW5zdGFuY2UgaXMgY3JlYXRlZCBmaXJzdC5cbiAgICAgKi9cbiAgICBpbnRlcm5hbEpzb25SZWFkKGpzb24sIG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgICBpZiAoanNvbiAhPT0gbnVsbCAmJiB0eXBlb2YganNvbiA9PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCAhPT0gbnVsbCAmJiB0YXJnZXQgIT09IHZvaWQgMCA/IHRhcmdldCA6IHRoaXMuY3JlYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlZkpzb25SZWFkZXIucmVhZChqc29uLCBtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIG1lc3NhZ2UgJHt0aGlzLnR5cGVOYW1lfSBmcm9tIEpTT04gJHt0eXBlb2ZKc29uVmFsdWUoanNvbil9LmApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGFuIGludGVybmFsIG1ldGhvZC4gSWYgeW91IGp1c3Qgd2FudCB0byB3cml0ZSBhIG1lc3NhZ2VcbiAgICAgKiB0byBKU09OLCB1c2UgYHRvSnNvbigpYCBvciBgdG9Kc29uU3RyaW5nKCkuXG4gICAgICpcbiAgICAgKiBXcml0ZXMgSlNPTiB2YWx1ZSBhbmQgcmV0dXJucyBpdC5cbiAgICAgKi9cbiAgICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZkpzb25Xcml0ZXIud3JpdGUobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgbWV0aG9kLiBJZiB5b3UganVzdCB3YW50IHRvIHdyaXRlIGEgbWVzc2FnZVxuICAgICAqIGluIGJpbmFyeSBmb3JtYXQsIHVzZSBgdG9CaW5hcnkoKWAuXG4gICAgICpcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIGluIGJpbmFyeSBmb3JtYXQgYW5kIGFwcGVuZHMgaXQgdG8gdGhlIGdpdmVuXG4gICAgICogd3JpdGVyLiBSZXR1cm5zIHBhc3NlZCB3cml0ZXIuXG4gICAgICovXG4gICAgaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLCB3cml0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZWZCaW5Xcml0ZXIud3JpdGUobWVzc2FnZSwgd3JpdGVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhbiBpbnRlcm5hbCBtZXRob2QuIElmIHlvdSBqdXN0IHdhbnQgdG8gcmVhZCBhIG1lc3NhZ2UgZnJvbVxuICAgICAqIGJpbmFyeSBkYXRhLCB1c2UgYGZyb21CaW5hcnkoKWAuXG4gICAgICpcbiAgICAgKiBSZWFkcyBkYXRhIGZyb20gYmluYXJ5IGZvcm1hdCBhbmQgbWVyZ2VzIHRoZSBmaWVsZHMgaW50b1xuICAgICAqIHRoZSB0YXJnZXQgYWNjb3JkaW5nIHRvIHByb3RvYnVmIHJ1bGVzLiBJZiB0aGUgdGFyZ2V0IGlzXG4gICAgICogb21pdHRlZCwgYSBuZXcgaW5zdGFuY2UgaXMgY3JlYXRlZCBmaXJzdC5cbiAgICAgKi9cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCBsZW5ndGgsIG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCAhPT0gbnVsbCAmJiB0YXJnZXQgIT09IHZvaWQgMCA/IHRhcmdldCA6IHRoaXMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMucmVmQmluUmVhZGVyLnJlYWQocmVhZGVyLCBtZXNzYWdlLCBvcHRpb25zLCBsZW5ndGgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/oneof.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/oneof.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearOneofValue: function() { return /* binding */ clearOneofValue; },\n/* harmony export */   getOneofValue: function() { return /* binding */ getOneofValue; },\n/* harmony export */   getSelectedOneofValue: function() { return /* binding */ getSelectedOneofValue; },\n/* harmony export */   isOneofGroup: function() { return /* binding */ isOneofGroup; },\n/* harmony export */   setOneofValue: function() { return /* binding */ setOneofValue; },\n/* harmony export */   setUnknownOneofValue: function() { return /* binding */ setUnknownOneofValue; }\n/* harmony export */ });\n/**\n * Is the given value a valid oneof group?\n *\n * We represent protobuf `oneof` as algebraic data types (ADT) in generated\n * code. But when working with messages of unknown type, the ADT does not\n * help us.\n *\n * This type guard checks if the given object adheres to the ADT rules, which\n * are as follows:\n *\n * 1) Must be an object.\n *\n * 2) Must have a \"oneofKind\" discriminator property.\n *\n * 3) If \"oneofKind\" is `undefined`, no member field is selected. The object\n * must not have any other properties.\n *\n * 4) If \"oneofKind\" is a `string`, the member field with this name is\n * selected.\n *\n * 5) If a member field is selected, the object must have a second property\n * with this name. The property must not be `undefined`.\n *\n * 6) No extra properties are allowed. The object has either one property\n * (no selection) or two properties (selection).\n *\n */\nfunction isOneofGroup(any) {\n    if (typeof any != 'object' || any === null || !any.hasOwnProperty('oneofKind')) {\n        return false;\n    }\n    switch (typeof any.oneofKind) {\n        case \"string\":\n            if (any[any.oneofKind] === undefined)\n                return false;\n            return Object.keys(any).length == 2;\n        case \"undefined\":\n            return Object.keys(any).length == 1;\n        default:\n            return false;\n    }\n}\n/**\n * Returns the value of the given field in a oneof group.\n */\nfunction getOneofValue(oneof, kind) {\n    return oneof[kind];\n}\nfunction setOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined) {\n        oneof[kind] = value;\n    }\n}\nfunction setUnknownOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined && kind !== undefined) {\n        oneof[kind] = value;\n    }\n}\n/**\n * Removes the selected field in a oneof group.\n *\n * Note that the recommended way to modify a oneof group is to set\n * a new object:\n *\n * ```ts\n * message.result = { oneofKind: undefined };\n * ```\n */\nfunction clearOneofValue(oneof) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = undefined;\n}\n/**\n * Returns the selected value of the given oneof group.\n *\n * Not that the recommended way to access a oneof group is to check\n * the \"oneofKind\" property and let TypeScript narrow down the union\n * type for you:\n *\n * ```ts\n * if (message.result.oneofKind === \"error\") {\n *   message.result.error; // string\n * }\n * ```\n *\n * In the rare case you just need the value, and do not care about\n * which protobuf field is selected, you can use this function\n * for convenience.\n */\nfunction getSelectedOneofValue(oneof) {\n    if (oneof.oneofKind === undefined) {\n        return undefined;\n    }\n    return oneof[oneof.oneofKind];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvb25lb2YuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L29uZW9mLmpzP2E0MjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJcyB0aGUgZ2l2ZW4gdmFsdWUgYSB2YWxpZCBvbmVvZiBncm91cD9cbiAqXG4gKiBXZSByZXByZXNlbnQgcHJvdG9idWYgYG9uZW9mYCBhcyBhbGdlYnJhaWMgZGF0YSB0eXBlcyAoQURUKSBpbiBnZW5lcmF0ZWRcbiAqIGNvZGUuIEJ1dCB3aGVuIHdvcmtpbmcgd2l0aCBtZXNzYWdlcyBvZiB1bmtub3duIHR5cGUsIHRoZSBBRFQgZG9lcyBub3RcbiAqIGhlbHAgdXMuXG4gKlxuICogVGhpcyB0eXBlIGd1YXJkIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGFkaGVyZXMgdG8gdGhlIEFEVCBydWxlcywgd2hpY2hcbiAqIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIDEpIE11c3QgYmUgYW4gb2JqZWN0LlxuICpcbiAqIDIpIE11c3QgaGF2ZSBhIFwib25lb2ZLaW5kXCIgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS5cbiAqXG4gKiAzKSBJZiBcIm9uZW9mS2luZFwiIGlzIGB1bmRlZmluZWRgLCBubyBtZW1iZXIgZmllbGQgaXMgc2VsZWN0ZWQuIFRoZSBvYmplY3RcbiAqIG11c3Qgbm90IGhhdmUgYW55IG90aGVyIHByb3BlcnRpZXMuXG4gKlxuICogNCkgSWYgXCJvbmVvZktpbmRcIiBpcyBhIGBzdHJpbmdgLCB0aGUgbWVtYmVyIGZpZWxkIHdpdGggdGhpcyBuYW1lIGlzXG4gKiBzZWxlY3RlZC5cbiAqXG4gKiA1KSBJZiBhIG1lbWJlciBmaWVsZCBpcyBzZWxlY3RlZCwgdGhlIG9iamVjdCBtdXN0IGhhdmUgYSBzZWNvbmQgcHJvcGVydHlcbiAqIHdpdGggdGhpcyBuYW1lLiBUaGUgcHJvcGVydHkgbXVzdCBub3QgYmUgYHVuZGVmaW5lZGAuXG4gKlxuICogNikgTm8gZXh0cmEgcHJvcGVydGllcyBhcmUgYWxsb3dlZC4gVGhlIG9iamVjdCBoYXMgZWl0aGVyIG9uZSBwcm9wZXJ0eVxuICogKG5vIHNlbGVjdGlvbikgb3IgdHdvIHByb3BlcnRpZXMgKHNlbGVjdGlvbikuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPbmVvZkdyb3VwKGFueSkge1xuICAgIGlmICh0eXBlb2YgYW55ICE9ICdvYmplY3QnIHx8IGFueSA9PT0gbnVsbCB8fCAhYW55Lmhhc093blByb3BlcnR5KCdvbmVvZktpbmQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZW9mIGFueS5vbmVvZktpbmQpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgaWYgKGFueVthbnkub25lb2ZLaW5kXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhbnkpLmxlbmd0aCA9PSAyO1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYW55KS5sZW5ndGggPT0gMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBpbiBhIG9uZW9mIGdyb3VwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T25lb2ZWYWx1ZShvbmVvZiwga2luZCkge1xuICAgIHJldHVybiBvbmVvZltraW5kXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRPbmVvZlZhbHVlKG9uZW9mLCBraW5kLCB2YWx1ZSkge1xuICAgIGlmIChvbmVvZi5vbmVvZktpbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWxldGUgb25lb2Zbb25lb2Yub25lb2ZLaW5kXTtcbiAgICB9XG4gICAgb25lb2Yub25lb2ZLaW5kID0ga2luZDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvbmVvZltraW5kXSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRVbmtub3duT25lb2ZWYWx1ZShvbmVvZiwga2luZCwgdmFsdWUpIHtcbiAgICBpZiAob25lb2Yub25lb2ZLaW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIG9uZW9mW29uZW9mLm9uZW9mS2luZF07XG4gICAgfVxuICAgIG9uZW9mLm9uZW9mS2luZCA9IGtpbmQ7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYga2luZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uZW9mW2tpbmRdID0gdmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBmaWVsZCBpbiBhIG9uZW9mIGdyb3VwLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIG1vZGlmeSBhIG9uZW9mIGdyb3VwIGlzIHRvIHNldFxuICogYSBuZXcgb2JqZWN0OlxuICpcbiAqIGBgYHRzXG4gKiBtZXNzYWdlLnJlc3VsdCA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJPbmVvZlZhbHVlKG9uZW9mKSB7XG4gICAgaWYgKG9uZW9mLm9uZW9mS2luZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSBvbmVvZltvbmVvZi5vbmVvZktpbmRdO1xuICAgIH1cbiAgICBvbmVvZi5vbmVvZktpbmQgPSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNlbGVjdGVkIHZhbHVlIG9mIHRoZSBnaXZlbiBvbmVvZiBncm91cC5cbiAqXG4gKiBOb3QgdGhhdCB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGFjY2VzcyBhIG9uZW9mIGdyb3VwIGlzIHRvIGNoZWNrXG4gKiB0aGUgXCJvbmVvZktpbmRcIiBwcm9wZXJ0eSBhbmQgbGV0IFR5cGVTY3JpcHQgbmFycm93IGRvd24gdGhlIHVuaW9uXG4gKiB0eXBlIGZvciB5b3U6XG4gKlxuICogYGBgdHNcbiAqIGlmIChtZXNzYWdlLnJlc3VsdC5vbmVvZktpbmQgPT09IFwiZXJyb3JcIikge1xuICogICBtZXNzYWdlLnJlc3VsdC5lcnJvcjsgLy8gc3RyaW5nXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgcmFyZSBjYXNlIHlvdSBqdXN0IG5lZWQgdGhlIHZhbHVlLCBhbmQgZG8gbm90IGNhcmUgYWJvdXRcbiAqIHdoaWNoIHByb3RvYnVmIGZpZWxkIGlzIHNlbGVjdGVkLCB5b3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uXG4gKiBmb3IgY29udmVuaWVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3RlZE9uZW9mVmFsdWUob25lb2YpIHtcbiAgICBpZiAob25lb2Yub25lb2ZLaW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG9uZW9mW29uZW9mLm9uZW9mS2luZF07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/oneof.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PbLong: function() { return /* binding */ PbLong; },\n/* harmony export */   PbULong: function() { return /* binding */ PbULong; },\n/* harmony export */   detectBi: function() { return /* binding */ detectBi; }\n/* harmony export */ });\n/* harmony import */ var _goog_varint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./goog-varint */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js\");\n\nlet BI;\nfunction detectBi() {\n    const dv = new DataView(new ArrayBuffer(8));\n    const ok = globalThis.BigInt !== undefined\n        && typeof dv.getBigInt64 === \"function\"\n        && typeof dv.getBigUint64 === \"function\"\n        && typeof dv.setBigInt64 === \"function\"\n        && typeof dv.setBigUint64 === \"function\";\n    BI = ok ? {\n        MIN: BigInt(\"-9223372036854775808\"),\n        MAX: BigInt(\"9223372036854775807\"),\n        UMIN: BigInt(\"0\"),\n        UMAX: BigInt(\"18446744073709551615\"),\n        C: BigInt,\n        V: dv,\n    } : undefined;\n}\ndetectBi();\nfunction assertBi(bi) {\n    if (!bi)\n        throw new Error(\"BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support\");\n}\n// used to validate from(string) input (when bigint is unavailable)\nconst RE_DECIMAL_STR = /^-?[0-9]+$/;\n// constants for binary math\nconst TWO_PWR_32_DBL = 0x100000000;\nconst HALF_2_PWR_32 = 0x080000000;\n// base class for PbLong and PbULong provides shared code\nclass SharedPbLong {\n    /**\n     * Create a new instance with the given bits.\n     */\n    constructor(lo, hi) {\n        this.lo = lo | 0;\n        this.hi = hi | 0;\n    }\n    /**\n     * Is this instance equal to 0?\n     */\n    isZero() {\n        return this.lo == 0 && this.hi == 0;\n    }\n    /**\n     * Convert to a native number.\n     */\n    toNumber() {\n        let result = this.hi * TWO_PWR_32_DBL + (this.lo >>> 0);\n        if (!Number.isSafeInteger(result))\n            throw new Error(\"cannot convert to safe number\");\n        return result;\n    }\n}\n/**\n * 64-bit unsigned integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nclass PbULong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.UMIN)\n                        throw new Error('signed value for ulong');\n                    if (value > BI.UMAX)\n                        throw new Error('ulong too large');\n                    BI.V.setBigUint64(0, value, true);\n                    return new PbULong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = (0,_goog_varint__WEBPACK_IMPORTED_MODULE_0__.int64fromString)(value);\n                    if (minus)\n                        throw new Error('signed value for ulong');\n                    return new PbULong(lo, hi);\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    if (value < 0)\n                        throw new Error('signed value for ulong');\n                    return new PbULong(value, value / TWO_PWR_32_DBL);\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        return BI ? this.toBigInt().toString() : (0,_goog_varint__WEBPACK_IMPORTED_MODULE_0__.int64toString)(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigUint64(0, true);\n    }\n}\n/**\n * ulong 0 singleton.\n */\nPbULong.ZERO = new PbULong(0, 0);\n/**\n * 64-bit signed integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nclass PbLong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.MIN)\n                        throw new Error('signed long too small');\n                    if (value > BI.MAX)\n                        throw new Error('signed long too large');\n                    BI.V.setBigInt64(0, value, true);\n                    return new PbLong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = (0,_goog_varint__WEBPACK_IMPORTED_MODULE_0__.int64fromString)(value);\n                    if (minus) {\n                        if (hi > HALF_2_PWR_32 || (hi == HALF_2_PWR_32 && lo != 0))\n                            throw new Error('signed long too small');\n                    }\n                    else if (hi >= HALF_2_PWR_32)\n                        throw new Error('signed long too large');\n                    let pbl = new PbLong(lo, hi);\n                    return minus ? pbl.negate() : pbl;\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    return value > 0\n                        ? new PbLong(value, value / TWO_PWR_32_DBL)\n                        : new PbLong(-value, -value / TWO_PWR_32_DBL).negate();\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Do we have a minus sign?\n     */\n    isNegative() {\n        return (this.hi & HALF_2_PWR_32) !== 0;\n    }\n    /**\n     * Negate two's complement.\n     * Invert all the bits and add one to the result.\n     */\n    negate() {\n        let hi = ~this.hi, lo = this.lo;\n        if (lo)\n            lo = ~lo + 1;\n        else\n            hi += 1;\n        return new PbLong(lo, hi);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        if (BI)\n            return this.toBigInt().toString();\n        if (this.isNegative()) {\n            let n = this.negate();\n            return '-' + (0,_goog_varint__WEBPACK_IMPORTED_MODULE_0__.int64toString)(n.lo, n.hi);\n        }\n        return (0,_goog_varint__WEBPACK_IMPORTED_MODULE_0__.int64toString)(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigInt64(0, true);\n    }\n}\n/**\n * long 0 singleton.\n */\nPbLong.ZERO = new PbLong(0, 0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcGItbG9uZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStEO0FBQy9EO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw2REFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMkRBQWE7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNkRBQWU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJEQUFhO0FBQ3RDO0FBQ0EsZUFBZSwyREFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9wYi1sb25nLmpzPzI1ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW50NjRmcm9tU3RyaW5nLCBpbnQ2NHRvU3RyaW5nIH0gZnJvbSBcIi4vZ29vZy12YXJpbnRcIjtcbmxldCBCSTtcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RCaSgpIHtcbiAgICBjb25zdCBkdiA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoOCkpO1xuICAgIGNvbnN0IG9rID0gZ2xvYmFsVGhpcy5CaWdJbnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiB0eXBlb2YgZHYuZ2V0QmlnSW50NjQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAmJiB0eXBlb2YgZHYuZ2V0QmlnVWludDY0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIGR2LnNldEJpZ0ludDY0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIGR2LnNldEJpZ1VpbnQ2NCA9PT0gXCJmdW5jdGlvblwiO1xuICAgIEJJID0gb2sgPyB7XG4gICAgICAgIE1JTjogQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIiksXG4gICAgICAgIE1BWDogQmlnSW50KFwiOTIyMzM3MjAzNjg1NDc3NTgwN1wiKSxcbiAgICAgICAgVU1JTjogQmlnSW50KFwiMFwiKSxcbiAgICAgICAgVU1BWDogQmlnSW50KFwiMTg0NDY3NDQwNzM3MDk1NTE2MTVcIiksXG4gICAgICAgIEM6IEJpZ0ludCxcbiAgICAgICAgVjogZHYsXG4gICAgfSA6IHVuZGVmaW5lZDtcbn1cbmRldGVjdEJpKCk7XG5mdW5jdGlvbiBhc3NlcnRCaShiaSkge1xuICAgIGlmICghYmkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCB1bmF2YWlsYWJsZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90aW1vc3RhbW0vcHJvdG9idWYtdHMvYmxvYi92MS4wLjgvTUFOVUFMLm1kI2JpZ2ludC1zdXBwb3J0XCIpO1xufVxuLy8gdXNlZCB0byB2YWxpZGF0ZSBmcm9tKHN0cmluZykgaW5wdXQgKHdoZW4gYmlnaW50IGlzIHVuYXZhaWxhYmxlKVxuY29uc3QgUkVfREVDSU1BTF9TVFIgPSAvXi0/WzAtOV0rJC87XG4vLyBjb25zdGFudHMgZm9yIGJpbmFyeSBtYXRoXG5jb25zdCBUV09fUFdSXzMyX0RCTCA9IDB4MTAwMDAwMDAwO1xuY29uc3QgSEFMRl8yX1BXUl8zMiA9IDB4MDgwMDAwMDAwO1xuLy8gYmFzZSBjbGFzcyBmb3IgUGJMb25nIGFuZCBQYlVMb25nIHByb3ZpZGVzIHNoYXJlZCBjb2RlXG5jbGFzcyBTaGFyZWRQYkxvbmcge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBiaXRzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxvLCBoaSkge1xuICAgICAgICB0aGlzLmxvID0gbG8gfCAwO1xuICAgICAgICB0aGlzLmhpID0gaGkgfCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIGluc3RhbmNlIGVxdWFsIHRvIDA/XG4gICAgICovXG4gICAgaXNaZXJvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sbyA9PSAwICYmIHRoaXMuaGkgPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBhIG5hdGl2ZSBudW1iZXIuXG4gICAgICovXG4gICAgdG9OdW1iZXIoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmhpICogVFdPX1BXUl8zMl9EQkwgKyAodGhpcy5sbyA+Pj4gMCk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIocmVzdWx0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBjb252ZXJ0IHRvIHNhZmUgbnVtYmVyXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuICogNjQtYml0IHVuc2lnbmVkIGludGVnZXIgYXMgdHdvIDMyLWJpdCB2YWx1ZXMuXG4gKiBDb252ZXJ0cyBiZXR3ZWVuIGBzdHJpbmdgLCBgbnVtYmVyYCBhbmQgYGJpZ2ludGAgcmVwcmVzZW50YXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgUGJVTG9uZyBleHRlbmRzIFNoYXJlZFBiTG9uZyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGluc3RhbmNlIGZyb20gYSBgc3RyaW5nYCwgYG51bWJlcmAgb3IgYGJpZ2ludGAuXG4gICAgICovXG4gICAgc3RhdGljIGZyb20odmFsdWUpIHtcbiAgICAgICAgaWYgKEJJKVxuICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgaXMgbm8gaW50ZWdlcicpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEJJLkModmFsdWUpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBCSS5DKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCBCSS5VTUlOKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgdmFsdWUgZm9yIHVsb25nJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IEJJLlVNQVgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vsb25nIHRvbyBsYXJnZScpO1xuICAgICAgICAgICAgICAgICAgICBCSS5WLnNldEJpZ1VpbnQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGJVTG9uZyhCSS5WLmdldEludDMyKDAsIHRydWUpLCBCSS5WLmdldEludDMyKDQsIHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVJFX0RFQ0lNQUxfU1RSLnRlc3QodmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgaXMgbm8gaW50ZWdlcicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgW21pbnVzLCBsbywgaGldID0gaW50NjRmcm9tU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgdmFsdWUgZm9yIHVsb25nJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGJVTG9uZyhsbywgaGkpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbnVtYmVyIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2lnbmVkIHZhbHVlIGZvciB1bG9uZycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBiVUxvbmcodmFsdWUsIHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdmFsdWUgJyArIHR5cGVvZiB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gZGVjaW1hbCBzdHJpbmcuXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBCSSA/IHRoaXMudG9CaWdJbnQoKS50b1N0cmluZygpIDogaW50NjR0b1N0cmluZyh0aGlzLmxvLCB0aGlzLmhpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBuYXRpdmUgYmlnaW50LlxuICAgICAqL1xuICAgIHRvQmlnSW50KCkge1xuICAgICAgICBhc3NlcnRCaShCSSk7XG4gICAgICAgIEJJLlYuc2V0SW50MzIoMCwgdGhpcy5sbywgdHJ1ZSk7XG4gICAgICAgIEJJLlYuc2V0SW50MzIoNCwgdGhpcy5oaSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBCSS5WLmdldEJpZ1VpbnQ2NCgwLCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIHVsb25nIDAgc2luZ2xldG9uLlxuICovXG5QYlVMb25nLlpFUk8gPSBuZXcgUGJVTG9uZygwLCAwKTtcbi8qKlxuICogNjQtYml0IHNpZ25lZCBpbnRlZ2VyIGFzIHR3byAzMi1iaXQgdmFsdWVzLlxuICogQ29udmVydHMgYmV0d2VlbiBgc3RyaW5nYCwgYG51bWJlcmAgYW5kIGBiaWdpbnRgIHJlcHJlc2VudGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBiTG9uZyBleHRlbmRzIFNoYXJlZFBiTG9uZyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGluc3RhbmNlIGZyb20gYSBgc3RyaW5nYCwgYG51bWJlcmAgb3IgYGJpZ2ludGAuXG4gICAgICovXG4gICAgc3RhdGljIGZyb20odmFsdWUpIHtcbiAgICAgICAgaWYgKEJJKVxuICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgaXMgbm8gaW50ZWdlcicpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEJJLkModmFsdWUpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBCSS5DKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCBCSS5NSU4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25lZCBsb25nIHRvbyBzbWFsbCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBCSS5NQVgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25lZCBsb25nIHRvbyBsYXJnZScpO1xuICAgICAgICAgICAgICAgICAgICBCSS5WLnNldEJpZ0ludDY0KDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYkxvbmcoQkkuVi5nZXRJbnQzMigwLCB0cnVlKSwgQkkuVi5nZXRJbnQzMig0LCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFSRV9ERUNJTUFMX1NUUi50ZXN0KHZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFttaW51cywgbG8sIGhpXSA9IGludDY0ZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW51cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpID4gSEFMRl8yX1BXUl8zMiB8fCAoaGkgPT0gSEFMRl8yX1BXUl8zMiAmJiBsbyAhPSAwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25lZCBsb25nIHRvbyBzbWFsbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhpID49IEhBTEZfMl9QV1JfMzIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25lZCBsb25nIHRvbyBsYXJnZScpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGJsID0gbmV3IFBiTG9uZyhsbywgaGkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWludXMgPyBwYmwubmVnYXRlKCkgOiBwYmw7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIodmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdudW1iZXIgaXMgbm8gaW50ZWdlcicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBQYkxvbmcodmFsdWUsIHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBQYkxvbmcoLXZhbHVlLCAtdmFsdWUgLyBUV09fUFdSXzMyX0RCTCkubmVnYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biB2YWx1ZSAnICsgdHlwZW9mIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG8gd2UgaGF2ZSBhIG1pbnVzIHNpZ24/XG4gICAgICovXG4gICAgaXNOZWdhdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmhpICYgSEFMRl8yX1BXUl8zMikgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5lZ2F0ZSB0d28ncyBjb21wbGVtZW50LlxuICAgICAqIEludmVydCBhbGwgdGhlIGJpdHMgYW5kIGFkZCBvbmUgdG8gdGhlIHJlc3VsdC5cbiAgICAgKi9cbiAgICBuZWdhdGUoKSB7XG4gICAgICAgIGxldCBoaSA9IH50aGlzLmhpLCBsbyA9IHRoaXMubG87XG4gICAgICAgIGlmIChsbylcbiAgICAgICAgICAgIGxvID0gfmxvICsgMTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaGkgKz0gMTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYkxvbmcobG8sIGhpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBkZWNpbWFsIHN0cmluZy5cbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgaWYgKEJJKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9CaWdJbnQoKS50b1N0cmluZygpO1xuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5uZWdhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiAnLScgKyBpbnQ2NHRvU3RyaW5nKG4ubG8sIG4uaGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnQ2NHRvU3RyaW5nKHRoaXMubG8sIHRoaXMuaGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIG5hdGl2ZSBiaWdpbnQuXG4gICAgICovXG4gICAgdG9CaWdJbnQoKSB7XG4gICAgICAgIGFzc2VydEJpKEJJKTtcbiAgICAgICAgQkkuVi5zZXRJbnQzMigwLCB0aGlzLmxvLCB0cnVlKTtcbiAgICAgICAgQkkuVi5zZXRJbnQzMig0LCB0aGlzLmhpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIEJJLlYuZ2V0QmlnSW50NjQoMCwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBsb25nIDAgc2luZ2xldG9uLlxuICovXG5QYkxvbmcuWkVSTyA9IG5ldyBQYkxvbmcoMCwgMCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectionBinaryReader: function() { return /* binding */ ReflectionBinaryReader; }\n/* harmony export */ });\n/* harmony import */ var _binary_format_contract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary-format-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\");\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reflection-long-convert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js\");\n/* harmony import */ var _reflection_scalar_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reflection-scalar-default */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js\");\n\n\n\n\n/**\n * Reads proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nclass ReflectionBinaryReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (!this.fieldNoToField) {\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            this.fieldNoToField = new Map(fieldsInput.map(field => [field.no, field]));\n        }\n    }\n    /**\n     * Reads a message from binary format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(reader, message, options, length) {\n        this.prepare();\n        const end = length === undefined ? reader.len : reader.pos + length;\n        while (reader.pos < end) {\n            // read the tag and find the field\n            const [fieldNo, wireType] = reader.tag(), field = this.fieldNoToField.get(fieldNo);\n            if (!field) {\n                let u = options.readUnknownField;\n                if (u == \"throw\")\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.info.typeName}`);\n                let d = reader.skip(wireType);\n                if (u !== false)\n                    (u === true ? _binary_format_contract__WEBPACK_IMPORTED_MODULE_0__.UnknownFieldHandler.onRead : u)(this.info.typeName, message, fieldNo, wireType, d);\n                continue;\n            }\n            // target object for the field we are reading\n            let target = message, repeated = field.repeat, localName = field.localName;\n            // if field is member of oneof ADT, use ADT as target\n            if (field.oneof) {\n                target = target[field.oneof];\n                // if other oneof member selected, set new ADT\n                if (target.oneofKind !== localName)\n                    target = message[field.oneof] = {\n                        oneofKind: localName\n                    };\n            }\n            // we have handled oneof above, we just have read the value into `target[localName]`\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32 : field.T;\n                    let L = field.kind == \"scalar\" ? field.L : undefined;\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        if (wireType == _binary_format_contract__WEBPACK_IMPORTED_MODULE_0__.WireType.LengthDelimited && T != _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.STRING && T != _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BYTES) {\n                            let e = reader.uint32() + reader.pos;\n                            while (reader.pos < e)\n                                arr.push(this.scalar(reader, T, L));\n                        }\n                        else\n                            arr.push(this.scalar(reader, T, L));\n                    }\n                    else\n                        target[localName] = this.scalar(reader, T, L);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        let msg = field.T().internalBinaryRead(reader, reader.uint32(), options);\n                        arr.push(msg);\n                    }\n                    else\n                        target[localName] = field.T().internalBinaryRead(reader, reader.uint32(), options, target[localName]);\n                    break;\n                case \"map\":\n                    let [mapKey, mapVal] = this.mapEntry(field, reader, options);\n                    // safe to assume presence of map object, oneof cannot contain repeated values\n                    target[localName][mapKey] = mapVal;\n                    break;\n            }\n        }\n    }\n    /**\n     * Read a map field, expecting key field = 1, value field = 2\n     */\n    mapEntry(field, reader, options) {\n        let length = reader.uint32();\n        let end = reader.pos + length;\n        let key = undefined; // javascript only allows number or string for object properties\n        let val = undefined;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case 1:\n                    if (field.K == _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL)\n                        key = reader.bool().toString();\n                    else\n                        // long types are read as string, number types are okay as number\n                        key = this.scalar(reader, field.K, _reflection_info__WEBPACK_IMPORTED_MODULE_1__.LongType.STRING);\n                    break;\n                case 2:\n                    switch (field.V.kind) {\n                        case \"scalar\":\n                            val = this.scalar(reader, field.V.T, field.V.L);\n                            break;\n                        case \"enum\":\n                            val = reader.int32();\n                            break;\n                        case \"message\":\n                            val = field.V.T().internalBinaryRead(reader, reader.uint32(), options);\n                            break;\n                    }\n                    break;\n                default:\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) in map entry for ${this.info.typeName}#${field.name}`);\n            }\n        }\n        if (key === undefined) {\n            let keyRaw = (0,_reflection_scalar_default__WEBPACK_IMPORTED_MODULE_2__.reflectionScalarDefault)(field.K);\n            key = field.K == _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL ? keyRaw.toString() : keyRaw;\n        }\n        if (val === undefined)\n            switch (field.V.kind) {\n                case \"scalar\":\n                    val = (0,_reflection_scalar_default__WEBPACK_IMPORTED_MODULE_2__.reflectionScalarDefault)(field.V.T, field.V.L);\n                    break;\n                case \"enum\":\n                    val = 0;\n                    break;\n                case \"message\":\n                    val = field.V.T().create();\n                    break;\n            }\n        return [key, val];\n    }\n    scalar(reader, type, longType) {\n        switch (type) {\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32:\n                return reader.int32();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.STRING:\n                return reader.string();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL:\n                return reader.bool();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.DOUBLE:\n                return reader.double();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FLOAT:\n                return reader.float();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT64:\n                return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(reader.int64(), longType);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT64:\n                return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(reader.uint64(), longType);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED64:\n                return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(reader.fixed64(), longType);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED32:\n                return reader.fixed32();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BYTES:\n                return reader.bytes();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT32:\n                return reader.uint32();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED32:\n                return reader.sfixed32();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED64:\n                return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(reader.sfixed64(), longType);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT32:\n                return reader.sint32();\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT64:\n                return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(reader.sint64(), longType);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1iaW5hcnktcmVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlFO0FBQ2hCO0FBQ1M7QUFDSTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxTQUFTLGFBQWEsU0FBUyxRQUFRLG1CQUFtQjtBQUMvRztBQUNBO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHdEQUFVO0FBQzdEO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsd0NBQXdDLDZEQUFRLHlCQUF5Qix3REFBVSxnQkFBZ0Isd0RBQVU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3REFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQSwyREFBMkQsc0RBQVE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVMsYUFBYSxTQUFTLHFCQUFxQixtQkFBbUIsR0FBRyxXQUFXO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtRkFBdUI7QUFDaEQsNkJBQTZCLHdEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1GQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsdUJBQXVCLCtFQUFxQjtBQUM1QyxpQkFBaUIsd0RBQVU7QUFDM0IsdUJBQXVCLCtFQUFxQjtBQUM1QyxpQkFBaUIsd0RBQVU7QUFDM0IsdUJBQXVCLCtFQUFxQjtBQUM1QyxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsdUJBQXVCLCtFQUFxQjtBQUM1QyxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsdUJBQXVCLCtFQUFxQjtBQUM1QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWJpbmFyeS1yZWFkZXIuanM/YTY2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVbmtub3duRmllbGRIYW5kbGVyLCBXaXJlVHlwZSB9IGZyb20gXCIuL2JpbmFyeS1mb3JtYXQtY29udHJhY3RcIjtcbmltcG9ydCB7IExvbmdUeXBlLCBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTG9uZ0NvbnZlcnQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWxvbmctY29udmVydFwiO1xuaW1wb3J0IHsgcmVmbGVjdGlvblNjYWxhckRlZmF1bHQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLXNjYWxhci1kZWZhdWx0XCI7XG4vKipcbiAqIFJlYWRzIHByb3RvMyBtZXNzYWdlcyBpbiBiaW5hcnkgZm9ybWF0IHVzaW5nIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24uXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL2VuY29kaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uQmluYXJ5UmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpbmZvKSB7XG4gICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgfVxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmZpZWxkTm9Ub0ZpZWxkKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZHNJbnB1dCA9IChfYSA9IHRoaXMuaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgdGhpcy5maWVsZE5vVG9GaWVsZCA9IG5ldyBNYXAoZmllbGRzSW5wdXQubWFwKGZpZWxkID0+IFtmaWVsZC5ubywgZmllbGRdKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBtZXNzYWdlIGZyb20gYmluYXJ5IGZvcm1hdCBpbnRvIHRoZSB0YXJnZXQgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFJlcGVhdGVkIGZpZWxkcyBhcmUgYXBwZW5kZWQuIE1hcCBlbnRyaWVzIGFyZSBhZGRlZCwgb3ZlcndyaXRpbmdcbiAgICAgKiBleGlzdGluZyBrZXlzLlxuICAgICAqXG4gICAgICogSWYgYSBtZXNzYWdlIGZpZWxkIGlzIGFscmVhZHkgcHJlc2VudCwgaXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAgICAgKiBuZXcgZGF0YS5cbiAgICAgKi9cbiAgICByZWFkKHJlYWRlciwgbWVzc2FnZSwgb3B0aW9ucywgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucHJlcGFyZSgpO1xuICAgICAgICBjb25zdCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgLy8gcmVhZCB0aGUgdGFnIGFuZCBmaW5kIHRoZSBmaWVsZFxuICAgICAgICAgICAgY29uc3QgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKSwgZmllbGQgPSB0aGlzLmZpZWxkTm9Ub0ZpZWxkLmdldChmaWVsZE5vKTtcbiAgICAgICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICBpZiAodSA9PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMuaW5mby50eXBlTmFtZX1gKTtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KSh0aGlzLmluZm8udHlwZU5hbWUsIG1lc3NhZ2UsIGZpZWxkTm8sIHdpcmVUeXBlLCBkKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRhcmdldCBvYmplY3QgZm9yIHRoZSBmaWVsZCB3ZSBhcmUgcmVhZGluZ1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IG1lc3NhZ2UsIHJlcGVhdGVkID0gZmllbGQucmVwZWF0LCBsb2NhbE5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICAvLyBpZiBmaWVsZCBpcyBtZW1iZXIgb2Ygb25lb2YgQURULCB1c2UgQURUIGFzIHRhcmdldFxuICAgICAgICAgICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W2ZpZWxkLm9uZW9mXTtcbiAgICAgICAgICAgICAgICAvLyBpZiBvdGhlciBvbmVvZiBtZW1iZXIgc2VsZWN0ZWQsIHNldCBuZXcgQURUXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5vbmVvZktpbmQgIT09IGxvY2FsTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gbWVzc2FnZVtmaWVsZC5vbmVvZl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVvZktpbmQ6IGxvY2FsTmFtZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBoYW5kbGVkIG9uZW9mIGFib3ZlLCB3ZSBqdXN0IGhhdmUgcmVhZCB0aGUgdmFsdWUgaW50byBgdGFyZ2V0W2xvY2FsTmFtZV1gXG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgbGV0IFQgPSBmaWVsZC5raW5kID09IFwiZW51bVwiID8gU2NhbGFyVHlwZS5JTlQzMiA6IGZpZWxkLlQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBMID0gZmllbGQua2luZCA9PSBcInNjYWxhclwiID8gZmllbGQuTCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gdGFyZ2V0W2xvY2FsTmFtZV07IC8vIHNhZmUgdG8gYXNzdW1lIHByZXNlbmNlIG9mIGFycmF5LCBvbmVvZiBjYW5ub3QgY29udGFpbiByZXBlYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aXJlVHlwZSA9PSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQgJiYgVCAhPSBTY2FsYXJUeXBlLlNUUklORyAmJiBUICE9IFNjYWxhclR5cGUuQllURVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCh0aGlzLnNjYWxhcihyZWFkZXIsIFQsIEwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCh0aGlzLnNjYWxhcihyZWFkZXIsIFQsIEwpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbG9jYWxOYW1lXSA9IHRoaXMuc2NhbGFyKHJlYWRlciwgVCwgTCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyciA9IHRhcmdldFtsb2NhbE5hbWVdOyAvLyBzYWZlIHRvIGFzc3VtZSBwcmVzZW5jZSBvZiBhcnJheSwgb25lb2YgY2Fubm90IGNvbnRhaW4gcmVwZWF0ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbXNnID0gZmllbGQuVCgpLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtsb2NhbE5hbWVdID0gZmllbGQuVCgpLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucywgdGFyZ2V0W2xvY2FsTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgICAgIGxldCBbbWFwS2V5LCBtYXBWYWxdID0gdGhpcy5tYXBFbnRyeShmaWVsZCwgcmVhZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2FmZSB0byBhc3N1bWUgcHJlc2VuY2Ugb2YgbWFwIG9iamVjdCwgb25lb2YgY2Fubm90IGNvbnRhaW4gcmVwZWF0ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtsb2NhbE5hbWVdW21hcEtleV0gPSBtYXBWYWw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBtYXAgZmllbGQsIGV4cGVjdGluZyBrZXkgZmllbGQgPSAxLCB2YWx1ZSBmaWVsZCA9IDJcbiAgICAgKi9cbiAgICBtYXBFbnRyeShmaWVsZCwgcmVhZGVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgIGxldCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBsZXQga2V5ID0gdW5kZWZpbmVkOyAvLyBqYXZhc2NyaXB0IG9ubHkgYWxsb3dzIG51bWJlciBvciBzdHJpbmcgZm9yIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICAgIGxldCB2YWwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLksgPT0gU2NhbGFyVHlwZS5CT09MKVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gcmVhZGVyLmJvb2woKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb25nIHR5cGVzIGFyZSByZWFkIGFzIHN0cmluZywgbnVtYmVyIHR5cGVzIGFyZSBva2F5IGFzIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gdGhpcy5zY2FsYXIocmVhZGVyLCBmaWVsZC5LLCBMb25nVHlwZS5TVFJJTkcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQuVi5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdGhpcy5zY2FsYXIocmVhZGVyLCBmaWVsZC5WLlQsIGZpZWxkLlYuTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBmaWVsZC5WLlQoKS5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGluIG1hcCBlbnRyeSBmb3IgJHt0aGlzLmluZm8udHlwZU5hbWV9IyR7ZmllbGQubmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBrZXlSYXcgPSByZWZsZWN0aW9uU2NhbGFyRGVmYXVsdChmaWVsZC5LKTtcbiAgICAgICAgICAgIGtleSA9IGZpZWxkLksgPT0gU2NhbGFyVHlwZS5CT09MID8ga2V5UmF3LnRvU3RyaW5nKCkgOiBrZXlSYXc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5WLmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHJlZmxlY3Rpb25TY2FsYXJEZWZhdWx0KGZpZWxkLlYuVCwgZmllbGQuVi5MKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZmllbGQuVi5UKCkuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2tleSwgdmFsXTtcbiAgICB9XG4gICAgc2NhbGFyKHJlYWRlciwgdHlwZSwgbG9uZ1R5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIuZG91YmxlKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQocmVhZGVyLmludDY0KCksIGxvbmdUeXBlKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChyZWFkZXIudWludDY0KCksIGxvbmdUeXBlKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQocmVhZGVyLmZpeGVkNjQoKSwgbG9uZ1R5cGUpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5maXhlZDMyKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ZpeGVkMzIoKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KHJlYWRlci5zZml4ZWQ2NCgpLCBsb25nVHlwZSk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIuc2ludDMyKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQocmVhZGVyLnNpbnQ2NCgpLCBsb25nVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectionBinaryWriter: function() { return /* binding */ ReflectionBinaryWriter; }\n/* harmony export */ });\n/* harmony import */ var _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./binary-format-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js\");\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js\");\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n\n\n\n\n/**\n * Writes proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nclass ReflectionBinaryWriter {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        if (!this.fields) {\n            const fieldsInput = this.info.fields ? this.info.fields.concat() : [];\n            this.fields = fieldsInput.sort((a, b) => a.no - b.no);\n        }\n    }\n    /**\n     * Writes the message to binary format.\n     */\n    write(message, writer, options) {\n        this.prepare();\n        for (const field of this.fields) {\n            let value, // this will be our field value, whether it is member of a oneof or not\n            emitDefault, // whether we emit the default value (only true for oneof members)\n            repeated = field.repeat, localName = field.localName;\n            // handle oneof ADT\n            if (field.oneof) {\n                const group = message[field.oneof];\n                if (group.oneofKind !== localName)\n                    continue; // if field is not selected, skip\n                value = group[localName];\n                emitDefault = true;\n            }\n            else {\n                value = message[localName];\n                emitDefault = false;\n            }\n            // we have handled oneof above. we just have to honor `emitDefault`.\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32 : field.T;\n                    if (repeated) {\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(Array.isArray(value));\n                        if (repeated == _reflection_info__WEBPACK_IMPORTED_MODULE_0__.RepeatType.PACKED)\n                            this.packed(writer, T, field.no, value);\n                        else\n                            for (const item of value)\n                                this.scalar(writer, T, field.no, item, true);\n                    }\n                    else if (value === undefined)\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(field.opt);\n                    else\n                        this.scalar(writer, T, field.no, value, emitDefault || field.opt);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(Array.isArray(value));\n                        for (const item of value)\n                            this.message(writer, options, field.T(), field.no, item);\n                    }\n                    else {\n                        this.message(writer, options, field.T(), field.no, value);\n                    }\n                    break;\n                case \"map\":\n                    (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(typeof value == 'object' && value !== null);\n                    for (const [key, val] of Object.entries(value))\n                        this.mapEntry(writer, options, field, key, val);\n                    break;\n            }\n        }\n        let u = options.writeUnknownFields;\n        if (u !== false)\n            (u === true ? _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.UnknownFieldHandler.onWrite : u)(this.info.typeName, message, writer);\n    }\n    mapEntry(writer, options, field, key, value) {\n        writer.tag(field.no, _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.LengthDelimited);\n        writer.fork();\n        // javascript only allows number or string for object properties\n        // we convert from our representation to the protobuf type\n        let keyValue = key;\n        switch (field.K) {\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.UINT32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SFIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SINT32:\n                keyValue = Number.parseInt(key);\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BOOL:\n                (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(key == 'true' || key == 'false');\n                keyValue = key == 'true';\n                break;\n        }\n        // write key, expecting key field number = 1\n        this.scalar(writer, field.K, 1, keyValue, true);\n        // write value, expecting value field number = 2\n        switch (field.V.kind) {\n            case 'scalar':\n                this.scalar(writer, field.V.T, 2, value, true);\n                break;\n            case 'enum':\n                this.scalar(writer, _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32, 2, value, true);\n                break;\n            case 'message':\n                this.message(writer, options, field.V.T(), 2, value);\n                break;\n        }\n        writer.join();\n    }\n    message(writer, options, handler, fieldNo, value) {\n        if (value === undefined)\n            return;\n        handler.internalBinaryWrite(value, writer.tag(fieldNo, _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.LengthDelimited).fork(), options);\n        writer.join();\n    }\n    /**\n     * Write a single scalar value.\n     */\n    scalar(writer, type, fieldNo, value, emitDefault) {\n        let [wireType, method, isDefault] = this.scalarInfo(type, value);\n        if (!isDefault || emitDefault) {\n            writer.tag(fieldNo, wireType);\n            writer[method](value);\n        }\n    }\n    /**\n     * Write an array of scalar values in packed format.\n     */\n    packed(writer, type, fieldNo, value) {\n        if (!value.length)\n            return;\n        (0,_assert__WEBPACK_IMPORTED_MODULE_1__.assert)(type !== _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BYTES && type !== _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.STRING);\n        // write tag\n        writer.tag(fieldNo, _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.LengthDelimited);\n        // begin length-delimited\n        writer.fork();\n        // write values without tags\n        let [, method,] = this.scalarInfo(type);\n        for (let i = 0; i < value.length; i++)\n            writer[method](value[i]);\n        // end length delimited\n        writer.join();\n    }\n    /**\n     * Get information for writing a scalar value.\n     *\n     * Returns tuple:\n     * [0]: appropriate WireType\n     * [1]: name of the appropriate method of IBinaryWriter\n     * [2]: whether the given value is a default value\n     *\n     * If argument `value` is omitted, [2] is always false.\n     */\n    scalarInfo(type, value) {\n        let t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Varint;\n        let m;\n        let i = value === undefined;\n        let d = value === 0;\n        switch (type) {\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32:\n                m = \"int32\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.STRING:\n                d = i || !value.length;\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.LengthDelimited;\n                m = \"string\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BOOL:\n                d = value === false;\n                m = \"bool\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.UINT32:\n                m = \"uint32\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.DOUBLE:\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit64;\n                m = \"double\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FLOAT:\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit32;\n                m = \"float\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT64:\n                d = i || _pb_long__WEBPACK_IMPORTED_MODULE_3__.PbLong.from(value).isZero();\n                m = \"int64\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.UINT64:\n                d = i || _pb_long__WEBPACK_IMPORTED_MODULE_3__.PbULong.from(value).isZero();\n                m = \"uint64\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FIXED64:\n                d = i || _pb_long__WEBPACK_IMPORTED_MODULE_3__.PbULong.from(value).isZero();\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit64;\n                m = \"fixed64\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BYTES:\n                d = i || !value.byteLength;\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.LengthDelimited;\n                m = \"bytes\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FIXED32:\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit32;\n                m = \"fixed32\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SFIXED32:\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit32;\n                m = \"sfixed32\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SFIXED64:\n                d = i || _pb_long__WEBPACK_IMPORTED_MODULE_3__.PbLong.from(value).isZero();\n                t = _binary_format_contract__WEBPACK_IMPORTED_MODULE_2__.WireType.Bit64;\n                m = \"sfixed64\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SINT32:\n                m = \"sint32\";\n                break;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SINT64:\n                d = i || _pb_long__WEBPACK_IMPORTED_MODULE_3__.PbLong.from(value).isZero();\n                m = \"sint64\";\n                break;\n        }\n        return [t, m, i || d];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1iaW5hcnktd3JpdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlFO0FBQ2Q7QUFDekI7QUFDVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHdEQUFVO0FBQzdEO0FBQ0Esd0JBQXdCLCtDQUFNO0FBQzlCLHdDQUF3Qyx3REFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0NBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQ0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdFQUFtQjtBQUM3QztBQUNBO0FBQ0EsNkJBQTZCLDZEQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsZ0JBQWdCLCtDQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsNkRBQVE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBTSxVQUFVLHdEQUFVLG1CQUFtQix3REFBVTtBQUMvRDtBQUNBLDRCQUE0Qiw2REFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFVO0FBQzNCO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQix5QkFBeUIsNENBQU07QUFDL0I7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQix5QkFBeUIsNkNBQU87QUFDaEM7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQix5QkFBeUIsNkNBQU87QUFDaEMsb0JBQW9CLDZEQUFRO0FBQzVCO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixvQkFBb0IsNkRBQVE7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQix5QkFBeUIsNENBQU07QUFDL0Isb0JBQW9CLDZEQUFRO0FBQzVCO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQix5QkFBeUIsNENBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1iaW5hcnktd3JpdGVyLmpzP2NjNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5rbm93bkZpZWxkSGFuZGxlciwgV2lyZVR5cGUgfSBmcm9tIFwiLi9iaW5hcnktZm9ybWF0LWNvbnRyYWN0XCI7XG5pbXBvcnQgeyBSZXBlYXRUeXBlLCBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9hc3NlcnRcIjtcbmltcG9ydCB7IFBiTG9uZywgUGJVTG9uZyB9IGZyb20gXCIuL3BiLWxvbmdcIjtcbi8qKlxuICogV3JpdGVzIHByb3RvMyBtZXNzYWdlcyBpbiBiaW5hcnkgZm9ybWF0IHVzaW5nIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24uXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL2VuY29kaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uQmluYXJ5V3JpdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpbmZvKSB7XG4gICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgfVxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0lucHV0ID0gdGhpcy5pbmZvLmZpZWxkcyA/IHRoaXMuaW5mby5maWVsZHMuY29uY2F0KCkgOiBbXTtcbiAgICAgICAgICAgIHRoaXMuZmllbGRzID0gZmllbGRzSW5wdXQuc29ydCgoYSwgYikgPT4gYS5ubyAtIGIubm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZm9ybWF0LlxuICAgICAqL1xuICAgIHdyaXRlKG1lc3NhZ2UsIHdyaXRlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLmZpZWxkcykge1xuICAgICAgICAgICAgbGV0IHZhbHVlLCAvLyB0aGlzIHdpbGwgYmUgb3VyIGZpZWxkIHZhbHVlLCB3aGV0aGVyIGl0IGlzIG1lbWJlciBvZiBhIG9uZW9mIG9yIG5vdFxuICAgICAgICAgICAgZW1pdERlZmF1bHQsIC8vIHdoZXRoZXIgd2UgZW1pdCB0aGUgZGVmYXVsdCB2YWx1ZSAob25seSB0cnVlIGZvciBvbmVvZiBtZW1iZXJzKVxuICAgICAgICAgICAgcmVwZWF0ZWQgPSBmaWVsZC5yZXBlYXQsIGxvY2FsTmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBvbmVvZiBBRFRcbiAgICAgICAgICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbWVzc2FnZVtmaWVsZC5vbmVvZl07XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLm9uZW9mS2luZCAhPT0gbG9jYWxOYW1lKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gaWYgZmllbGQgaXMgbm90IHNlbGVjdGVkLCBza2lwXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBncm91cFtsb2NhbE5hbWVdO1xuICAgICAgICAgICAgICAgIGVtaXREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbWVzc2FnZVtsb2NhbE5hbWVdO1xuICAgICAgICAgICAgICAgIGVtaXREZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGhhbmRsZWQgb25lb2YgYWJvdmUuIHdlIGp1c3QgaGF2ZSB0byBob25vciBgZW1pdERlZmF1bHRgLlxuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgIGxldCBUID0gZmllbGQua2luZCA9PSBcImVudW1cIiA/IFNjYWxhclR5cGUuSU5UMzIgOiBmaWVsZC5UO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChBcnJheS5pc0FycmF5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQgPT0gUmVwZWF0VHlwZS5QQUNLRUQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWNrZWQod3JpdGVyLCBULCBmaWVsZC5ubywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsYXIod3JpdGVyLCBULCBmaWVsZC5ubywgaXRlbSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChmaWVsZC5vcHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxhcih3cml0ZXIsIFQsIGZpZWxkLm5vLCB2YWx1ZSwgZW1pdERlZmF1bHQgfHwgZmllbGQub3B0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSh3cml0ZXIsIG9wdGlvbnMsIGZpZWxkLlQoKSwgZmllbGQubm8sIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlKHdyaXRlciwgb3B0aW9ucywgZmllbGQuVCgpLCBmaWVsZC5ubywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEVudHJ5KHdyaXRlciwgb3B0aW9ucywgZmllbGQsIGtleSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KSh0aGlzLmluZm8udHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgfVxuICAgIG1hcEVudHJ5KHdyaXRlciwgb3B0aW9ucywgZmllbGQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgd3JpdGVyLnRhZyhmaWVsZC5ubywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKTtcbiAgICAgICAgd3JpdGVyLmZvcmsoKTtcbiAgICAgICAgLy8gamF2YXNjcmlwdCBvbmx5IGFsbG93cyBudW1iZXIgb3Igc3RyaW5nIGZvciBvYmplY3QgcHJvcGVydGllc1xuICAgICAgICAvLyB3ZSBjb252ZXJ0IGZyb20gb3VyIHJlcHJlc2VudGF0aW9uIHRvIHRoZSBwcm90b2J1ZiB0eXBlXG4gICAgICAgIGxldCBrZXlWYWx1ZSA9IGtleTtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5LKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgICAgIGtleVZhbHVlID0gTnVtYmVyLnBhcnNlSW50KGtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoa2V5ID09ICd0cnVlJyB8fCBrZXkgPT0gJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAga2V5VmFsdWUgPSBrZXkgPT0gJ3RydWUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdyaXRlIGtleSwgZXhwZWN0aW5nIGtleSBmaWVsZCBudW1iZXIgPSAxXG4gICAgICAgIHRoaXMuc2NhbGFyKHdyaXRlciwgZmllbGQuSywgMSwga2V5VmFsdWUsIHRydWUpO1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZSwgZXhwZWN0aW5nIHZhbHVlIGZpZWxkIG51bWJlciA9IDJcbiAgICAgICAgc3dpdGNoIChmaWVsZC5WLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsYXIod3JpdGVyLCBmaWVsZC5WLlQsIDIsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGFyKHdyaXRlciwgU2NhbGFyVHlwZS5JTlQzMiwgMiwgdmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlKHdyaXRlciwgb3B0aW9ucywgZmllbGQuVi5UKCksIDIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIuam9pbigpO1xuICAgIH1cbiAgICBtZXNzYWdlKHdyaXRlciwgb3B0aW9ucywgaGFuZGxlciwgZmllbGRObywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGhhbmRsZXIuaW50ZXJuYWxCaW5hcnlXcml0ZSh2YWx1ZSwgd3JpdGVyLnRhZyhmaWVsZE5vLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucyk7XG4gICAgICAgIHdyaXRlci5qb2luKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgc2luZ2xlIHNjYWxhciB2YWx1ZS5cbiAgICAgKi9cbiAgICBzY2FsYXIod3JpdGVyLCB0eXBlLCBmaWVsZE5vLCB2YWx1ZSwgZW1pdERlZmF1bHQpIHtcbiAgICAgICAgbGV0IFt3aXJlVHlwZSwgbWV0aG9kLCBpc0RlZmF1bHRdID0gdGhpcy5zY2FsYXJJbmZvKHR5cGUsIHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZmF1bHQgfHwgZW1pdERlZmF1bHQpIHtcbiAgICAgICAgICAgIHdyaXRlci50YWcoZmllbGRObywgd2lyZVR5cGUpO1xuICAgICAgICAgICAgd3JpdGVyW21ldGhvZF0odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGFuIGFycmF5IG9mIHNjYWxhciB2YWx1ZXMgaW4gcGFja2VkIGZvcm1hdC5cbiAgICAgKi9cbiAgICBwYWNrZWQod3JpdGVyLCB0eXBlLCBmaWVsZE5vLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgYXNzZXJ0KHR5cGUgIT09IFNjYWxhclR5cGUuQllURVMgJiYgdHlwZSAhPT0gU2NhbGFyVHlwZS5TVFJJTkcpO1xuICAgICAgICAvLyB3cml0ZSB0YWdcbiAgICAgICAgd3JpdGVyLnRhZyhmaWVsZE5vLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpO1xuICAgICAgICAvLyBiZWdpbiBsZW5ndGgtZGVsaW1pdGVkXG4gICAgICAgIHdyaXRlci5mb3JrKCk7XG4gICAgICAgIC8vIHdyaXRlIHZhbHVlcyB3aXRob3V0IHRhZ3NcbiAgICAgICAgbGV0IFssIG1ldGhvZCxdID0gdGhpcy5zY2FsYXJJbmZvKHR5cGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgd3JpdGVyW21ldGhvZF0odmFsdWVbaV0pO1xuICAgICAgICAvLyBlbmQgbGVuZ3RoIGRlbGltaXRlZFxuICAgICAgICB3cml0ZXIuam9pbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgaW5mb3JtYXRpb24gZm9yIHdyaXRpbmcgYSBzY2FsYXIgdmFsdWUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHR1cGxlOlxuICAgICAqIFswXTogYXBwcm9wcmlhdGUgV2lyZVR5cGVcbiAgICAgKiBbMV06IG5hbWUgb2YgdGhlIGFwcHJvcHJpYXRlIG1ldGhvZCBvZiBJQmluYXJ5V3JpdGVyXG4gICAgICogWzJdOiB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGRlZmF1bHQgdmFsdWVcbiAgICAgKlxuICAgICAqIElmIGFyZ3VtZW50IGB2YWx1ZWAgaXMgb21pdHRlZCwgWzJdIGlzIGFsd2F5cyBmYWxzZS5cbiAgICAgKi9cbiAgICBzY2FsYXJJbmZvKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIGxldCB0ID0gV2lyZVR5cGUuVmFyaW50O1xuICAgICAgICBsZXQgbTtcbiAgICAgICAgbGV0IGkgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgZCA9IHZhbHVlID09PSAwO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgICAgICBtID0gXCJpbnQzMlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCAhdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHQgPSBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQ7XG4gICAgICAgICAgICAgICAgbSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICBkID0gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIG0gPSBcImJvb2xcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgbSA9IFwidWludDMyXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgICAgIHQgPSBXaXJlVHlwZS5CaXQ2NDtcbiAgICAgICAgICAgICAgICBtID0gXCJkb3VibGVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuQml0MzI7XG4gICAgICAgICAgICAgICAgbSA9IFwiZmxvYXRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCBQYkxvbmcuZnJvbSh2YWx1ZSkuaXNaZXJvKCk7XG4gICAgICAgICAgICAgICAgbSA9IFwiaW50NjRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICAgICAgZCA9IGkgfHwgUGJVTG9uZy5mcm9tKHZhbHVlKS5pc1plcm8oKTtcbiAgICAgICAgICAgICAgICBtID0gXCJ1aW50NjRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgICAgIGQgPSBpIHx8IFBiVUxvbmcuZnJvbSh2YWx1ZSkuaXNaZXJvKCk7XG4gICAgICAgICAgICAgICAgdCA9IFdpcmVUeXBlLkJpdDY0O1xuICAgICAgICAgICAgICAgIG0gPSBcImZpeGVkNjRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCAhdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkO1xuICAgICAgICAgICAgICAgIG0gPSBcImJ5dGVzXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuQml0MzI7XG4gICAgICAgICAgICAgICAgbSA9IFwiZml4ZWQzMlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIHQgPSBXaXJlVHlwZS5CaXQzMjtcbiAgICAgICAgICAgICAgICBtID0gXCJzZml4ZWQzMlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgICAgIGQgPSBpIHx8IFBiTG9uZy5mcm9tKHZhbHVlKS5pc1plcm8oKTtcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuQml0NjQ7XG4gICAgICAgICAgICAgICAgbSA9IFwic2ZpeGVkNjRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgbSA9IFwic2ludDMyXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgICAgIGQgPSBpIHx8IFBiTG9uZy5mcm9tKHZhbHVlKS5pc1plcm8oKTtcbiAgICAgICAgICAgICAgICBtID0gXCJzaW50NjRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3QsIG0sIGkgfHwgZF07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reflectionCreate: function() { return /* binding */ reflectionCreate; }\n/* harmony export */ });\n/* harmony import */ var _reflection_scalar_default__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-scalar-default */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js\");\n/* harmony import */ var _message_type_contract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message-type-contract */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js\");\n\n\n/**\n * Creates an instance of the generic message, using the field\n * information.\n */\nfunction reflectionCreate(type) {\n    /**\n     * This ternary can be removed in the next major version.\n     * The `Object.create()` code path utilizes a new `messagePrototype`\n     * property on the `IMessageType` which has this same `MESSAGE_TYPE`\n     * non-enumerable property on it. Doing it this way means that we only\n     * pay the cost of `Object.defineProperty()` once per `IMessageType`\n     * class of once per \"instance\". The falsy code path is only provided\n     * for backwards compatibility in cases where the runtime library is\n     * updated without also updating the generated code.\n     */\n    const msg = type.messagePrototype\n        ? Object.create(type.messagePrototype)\n        : Object.defineProperty({}, _message_type_contract__WEBPACK_IMPORTED_MODULE_0__.MESSAGE_TYPE, { value: type });\n    for (let field of type.fields) {\n        let name = field.localName;\n        if (field.opt)\n            continue;\n        if (field.oneof)\n            msg[field.oneof] = { oneofKind: undefined };\n        else if (field.repeat)\n            msg[name] = [];\n        else\n            switch (field.kind) {\n                case \"scalar\":\n                    msg[name] = (0,_reflection_scalar_default__WEBPACK_IMPORTED_MODULE_1__.reflectionScalarDefault)(field.T, field.L);\n                    break;\n                case \"enum\":\n                    // we require 0 to be default value for all enums\n                    msg[name] = 0;\n                    break;\n                case \"map\":\n                    msg[name] = {};\n                    break;\n            }\n    }\n    return msg;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1jcmVhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNFO0FBQ2Y7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxFQUFFLGdFQUFZLElBQUksYUFBYTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUZBQXVCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tY3JlYXRlLmpzP2JkNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVmbGVjdGlvblNjYWxhckRlZmF1bHQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLXNjYWxhci1kZWZhdWx0XCI7XG5pbXBvcnQgeyBNRVNTQUdFX1RZUEUgfSBmcm9tICcuL21lc3NhZ2UtdHlwZS1jb250cmFjdCc7XG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGdlbmVyaWMgbWVzc2FnZSwgdXNpbmcgdGhlIGZpZWxkXG4gKiBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3Rpb25DcmVhdGUodHlwZSkge1xuICAgIC8qKlxuICAgICAqIFRoaXMgdGVybmFyeSBjYW4gYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLlxuICAgICAqIFRoZSBgT2JqZWN0LmNyZWF0ZSgpYCBjb2RlIHBhdGggdXRpbGl6ZXMgYSBuZXcgYG1lc3NhZ2VQcm90b3R5cGVgXG4gICAgICogcHJvcGVydHkgb24gdGhlIGBJTWVzc2FnZVR5cGVgIHdoaWNoIGhhcyB0aGlzIHNhbWUgYE1FU1NBR0VfVFlQRWBcbiAgICAgKiBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBpdC4gRG9pbmcgaXQgdGhpcyB3YXkgbWVhbnMgdGhhdCB3ZSBvbmx5XG4gICAgICogcGF5IHRoZSBjb3N0IG9mIGBPYmplY3QuZGVmaW5lUHJvcGVydHkoKWAgb25jZSBwZXIgYElNZXNzYWdlVHlwZWBcbiAgICAgKiBjbGFzcyBvZiBvbmNlIHBlciBcImluc3RhbmNlXCIuIFRoZSBmYWxzeSBjb2RlIHBhdGggaXMgb25seSBwcm92aWRlZFxuICAgICAqIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBpbiBjYXNlcyB3aGVyZSB0aGUgcnVudGltZSBsaWJyYXJ5IGlzXG4gICAgICogdXBkYXRlZCB3aXRob3V0IGFsc28gdXBkYXRpbmcgdGhlIGdlbmVyYXRlZCBjb2RlLlxuICAgICAqL1xuICAgIGNvbnN0IG1zZyA9IHR5cGUubWVzc2FnZVByb3RvdHlwZVxuICAgICAgICA/IE9iamVjdC5jcmVhdGUodHlwZS5tZXNzYWdlUHJvdG90eXBlKVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgTUVTU0FHRV9UWVBFLCB7IHZhbHVlOiB0eXBlIH0pO1xuICAgIGZvciAobGV0IGZpZWxkIG9mIHR5cGUuZmllbGRzKSB7XG4gICAgICAgIGxldCBuYW1lID0gZmllbGQubG9jYWxOYW1lO1xuICAgICAgICBpZiAoZmllbGQub3B0KVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChmaWVsZC5vbmVvZilcbiAgICAgICAgICAgIG1zZ1tmaWVsZC5vbmVvZl0gPSB7IG9uZW9mS2luZDogdW5kZWZpbmVkIH07XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkLnJlcGVhdClcbiAgICAgICAgICAgIG1zZ1tuYW1lXSA9IFtdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgIG1zZ1tuYW1lXSA9IHJlZmxlY3Rpb25TY2FsYXJEZWZhdWx0KGZpZWxkLlQsIGZpZWxkLkwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSByZXF1aXJlIDAgdG8gYmUgZGVmYXVsdCB2YWx1ZSBmb3IgYWxsIGVudW1zXG4gICAgICAgICAgICAgICAgICAgIG1zZ1tuYW1lXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICAgICAgbXNnW25hbWVdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXNnO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reflectionEquals: function() { return /* binding */ reflectionEquals; }\n/* harmony export */ });\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n\n/**\n * Determines whether two message of the same type have the same field values.\n * Checks for deep equality, traversing repeated fields, oneof groups, maps\n * and messages recursively.\n * Will also return true if both messages are `undefined`.\n */\nfunction reflectionEquals(info, a, b) {\n    if (a === b)\n        return true;\n    if (!a || !b)\n        return false;\n    for (let field of info.fields) {\n        let localName = field.localName;\n        let val_a = field.oneof ? a[field.oneof][localName] : a[localName];\n        let val_b = field.oneof ? b[field.oneof][localName] : b[localName];\n        switch (field.kind) {\n            case \"enum\":\n            case \"scalar\":\n                let t = field.kind == \"enum\" ? _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32 : field.T;\n                if (!(field.repeat\n                    ? repeatedPrimitiveEq(t, val_a, val_b)\n                    : primitiveEq(t, val_a, val_b)))\n                    return false;\n                break;\n            case \"map\":\n                if (!(field.V.kind == \"message\"\n                    ? repeatedMsgEq(field.V.T(), objectValues(val_a), objectValues(val_b))\n                    : repeatedPrimitiveEq(field.V.kind == \"enum\" ? _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT32 : field.V.T, objectValues(val_a), objectValues(val_b))))\n                    return false;\n                break;\n            case \"message\":\n                let T = field.T();\n                if (!(field.repeat\n                    ? repeatedMsgEq(T, val_a, val_b)\n                    : T.equals(val_a, val_b)))\n                    return false;\n                break;\n        }\n    }\n    return true;\n}\nconst objectValues = Object.values;\nfunction primitiveEq(type, a, b) {\n    if (a === b)\n        return true;\n    if (type !== _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BYTES)\n        return false;\n    let ba = a;\n    let bb = b;\n    if (ba.length !== bb.length)\n        return false;\n    for (let i = 0; i < ba.length; i++)\n        if (ba[i] != bb[i])\n            return false;\n    return true;\n}\nfunction repeatedPrimitiveEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!primitiveEq(type, a[i], b[i]))\n            return false;\n    return true;\n}\nfunction repeatedMsgEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!type.equals(a[i], b[i]))\n            return false;\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1lcXVhbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHdEQUFVO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsd0RBQVU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1lcXVhbHMuanM/YWY2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0d28gbWVzc2FnZSBvZiB0aGUgc2FtZSB0eXBlIGhhdmUgdGhlIHNhbWUgZmllbGQgdmFsdWVzLlxuICogQ2hlY2tzIGZvciBkZWVwIGVxdWFsaXR5LCB0cmF2ZXJzaW5nIHJlcGVhdGVkIGZpZWxkcywgb25lb2YgZ3JvdXBzLCBtYXBzXG4gKiBhbmQgbWVzc2FnZXMgcmVjdXJzaXZlbHkuXG4gKiBXaWxsIGFsc28gcmV0dXJuIHRydWUgaWYgYm90aCBtZXNzYWdlcyBhcmUgYHVuZGVmaW5lZGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0aW9uRXF1YWxzKGluZm8sIGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFhIHx8ICFiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgZmllbGQgb2YgaW5mby5maWVsZHMpIHtcbiAgICAgICAgbGV0IGxvY2FsTmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICAgICAgbGV0IHZhbF9hID0gZmllbGQub25lb2YgPyBhW2ZpZWxkLm9uZW9mXVtsb2NhbE5hbWVdIDogYVtsb2NhbE5hbWVdO1xuICAgICAgICBsZXQgdmFsX2IgPSBmaWVsZC5vbmVvZiA/IGJbZmllbGQub25lb2ZdW2xvY2FsTmFtZV0gOiBiW2xvY2FsTmFtZV07XG4gICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICBsZXQgdCA9IGZpZWxkLmtpbmQgPT0gXCJlbnVtXCIgPyBTY2FsYXJUeXBlLklOVDMyIDogZmllbGQuVDtcbiAgICAgICAgICAgICAgICBpZiAoIShmaWVsZC5yZXBlYXRcbiAgICAgICAgICAgICAgICAgICAgPyByZXBlYXRlZFByaW1pdGl2ZUVxKHQsIHZhbF9hLCB2YWxfYilcbiAgICAgICAgICAgICAgICAgICAgOiBwcmltaXRpdmVFcSh0LCB2YWxfYSwgdmFsX2IpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgIGlmICghKGZpZWxkLlYua2luZCA9PSBcIm1lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlcGVhdGVkTXNnRXEoZmllbGQuVi5UKCksIG9iamVjdFZhbHVlcyh2YWxfYSksIG9iamVjdFZhbHVlcyh2YWxfYikpXG4gICAgICAgICAgICAgICAgICAgIDogcmVwZWF0ZWRQcmltaXRpdmVFcShmaWVsZC5WLmtpbmQgPT0gXCJlbnVtXCIgPyBTY2FsYXJUeXBlLklOVDMyIDogZmllbGQuVi5ULCBvYmplY3RWYWx1ZXModmFsX2EpLCBvYmplY3RWYWx1ZXModmFsX2IpKSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgbGV0IFQgPSBmaWVsZC5UKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEoZmllbGQucmVwZWF0XG4gICAgICAgICAgICAgICAgICAgID8gcmVwZWF0ZWRNc2dFcShULCB2YWxfYSwgdmFsX2IpXG4gICAgICAgICAgICAgICAgICAgIDogVC5lcXVhbHModmFsX2EsIHZhbF9iKSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IG9iamVjdFZhbHVlcyA9IE9iamVjdC52YWx1ZXM7XG5mdW5jdGlvbiBwcmltaXRpdmVFcSh0eXBlLCBhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICh0eXBlICE9PSBTY2FsYXJUeXBlLkJZVEVTKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGJhID0gYTtcbiAgICBsZXQgYmIgPSBiO1xuICAgIGlmIChiYS5sZW5ndGggIT09IGJiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChiYVtpXSAhPSBiYltpXSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlcGVhdGVkUHJpbWl0aXZlRXEodHlwZSwgYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghcHJpbWl0aXZlRXEodHlwZSwgYVtpXSwgYltpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByZXBlYXRlZE1zZ0VxKHR5cGUsIGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoIXR5cGUuZXF1YWxzKGFbaV0sIGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LongType: function() { return /* binding */ LongType; },\n/* harmony export */   RepeatType: function() { return /* binding */ RepeatType; },\n/* harmony export */   ScalarType: function() { return /* binding */ ScalarType; },\n/* harmony export */   normalizeFieldInfo: function() { return /* binding */ normalizeFieldInfo; },\n/* harmony export */   readFieldOption: function() { return /* binding */ readFieldOption; },\n/* harmony export */   readFieldOptions: function() { return /* binding */ readFieldOptions; },\n/* harmony export */   readMessageOption: function() { return /* binding */ readMessageOption; }\n/* harmony export */ });\n/* harmony import */ var _lower_camel_case__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lower-camel-case */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js\");\n\n/**\n * Scalar value types. This is a subset of field types declared by protobuf\n * enum google.protobuf.FieldDescriptorProto.Type The types GROUP and MESSAGE\n * are omitted, but the numerical values are identical.\n */\nvar ScalarType;\n(function (ScalarType) {\n    // 0 is reserved for errors.\n    // Order is weird for historical reasons.\n    ScalarType[ScalarType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n    ScalarType[ScalarType[\"FLOAT\"] = 2] = \"FLOAT\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT64 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT64\"] = 3] = \"INT64\";\n    ScalarType[ScalarType[\"UINT64\"] = 4] = \"UINT64\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT32 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT32\"] = 5] = \"INT32\";\n    ScalarType[ScalarType[\"FIXED64\"] = 6] = \"FIXED64\";\n    ScalarType[ScalarType[\"FIXED32\"] = 7] = \"FIXED32\";\n    ScalarType[ScalarType[\"BOOL\"] = 8] = \"BOOL\";\n    ScalarType[ScalarType[\"STRING\"] = 9] = \"STRING\";\n    // Tag-delimited aggregate.\n    // Group type is deprecated and not supported in proto3. However, Proto3\n    // implementations should still be able to parse the group wire format and\n    // treat group fields as unknown fields.\n    // TYPE_GROUP = 10,\n    // TYPE_MESSAGE = 11,  // Length-delimited aggregate.\n    // New in version 2.\n    ScalarType[ScalarType[\"BYTES\"] = 12] = \"BYTES\";\n    ScalarType[ScalarType[\"UINT32\"] = 13] = \"UINT32\";\n    // TYPE_ENUM = 14,\n    ScalarType[ScalarType[\"SFIXED32\"] = 15] = \"SFIXED32\";\n    ScalarType[ScalarType[\"SFIXED64\"] = 16] = \"SFIXED64\";\n    ScalarType[ScalarType[\"SINT32\"] = 17] = \"SINT32\";\n    ScalarType[ScalarType[\"SINT64\"] = 18] = \"SINT64\";\n})(ScalarType || (ScalarType = {}));\n/**\n * JavaScript representation of 64 bit integral types. Equivalent to the\n * field option \"jstype\".\n *\n * By default, protobuf-ts represents 64 bit types as `bigint`.\n *\n * You can change the default behaviour by enabling the plugin parameter\n * `long_type_string`, which will represent 64 bit types as `string`.\n *\n * Alternatively, you can change the behaviour for individual fields\n * with the field option \"jstype\":\n *\n * ```protobuf\n * uint64 my_field = 1 [jstype = JS_STRING];\n * uint64 other_field = 2 [jstype = JS_NUMBER];\n * ```\n */\nvar LongType;\n(function (LongType) {\n    /**\n     * Use JavaScript `bigint`.\n     *\n     * Field option `[jstype = JS_NORMAL]`.\n     */\n    LongType[LongType[\"BIGINT\"] = 0] = \"BIGINT\";\n    /**\n     * Use JavaScript `string`.\n     *\n     * Field option `[jstype = JS_STRING]`.\n     */\n    LongType[LongType[\"STRING\"] = 1] = \"STRING\";\n    /**\n     * Use JavaScript `number`.\n     *\n     * Large values will loose precision.\n     *\n     * Field option `[jstype = JS_NUMBER]`.\n     */\n    LongType[LongType[\"NUMBER\"] = 2] = \"NUMBER\";\n})(LongType || (LongType = {}));\n/**\n * Protobuf 2.1.0 introduced packed repeated fields.\n * Setting the field option `[packed = true]` enables packing.\n *\n * In proto3, all repeated fields are packed by default.\n * Setting the field option `[packed = false]` disables packing.\n *\n * Packed repeated fields are encoded with a single tag,\n * then a length-delimiter, then the element values.\n *\n * Unpacked repeated fields are encoded with a tag and\n * value for each element.\n *\n * `bytes` and `string` cannot be packed.\n */\nvar RepeatType;\n(function (RepeatType) {\n    /**\n     * The field is not repeated.\n     */\n    RepeatType[RepeatType[\"NO\"] = 0] = \"NO\";\n    /**\n     * The field is repeated and should be packed.\n     * Invalid for `bytes` and `string`, they cannot be packed.\n     */\n    RepeatType[RepeatType[\"PACKED\"] = 1] = \"PACKED\";\n    /**\n     * The field is repeated but should not be packed.\n     * The only valid repeat type for repeated `bytes` and `string`.\n     */\n    RepeatType[RepeatType[\"UNPACKED\"] = 2] = \"UNPACKED\";\n})(RepeatType || (RepeatType = {}));\n/**\n * Turns PartialFieldInfo into FieldInfo.\n */\nfunction normalizeFieldInfo(field) {\n    var _a, _b, _c, _d;\n    field.localName = (_a = field.localName) !== null && _a !== void 0 ? _a : (0,_lower_camel_case__WEBPACK_IMPORTED_MODULE_0__.lowerCamelCase)(field.name);\n    field.jsonName = (_b = field.jsonName) !== null && _b !== void 0 ? _b : (0,_lower_camel_case__WEBPACK_IMPORTED_MODULE_0__.lowerCamelCase)(field.name);\n    field.repeat = (_c = field.repeat) !== null && _c !== void 0 ? _c : RepeatType.NO;\n    field.opt = (_d = field.opt) !== null && _d !== void 0 ? _d : (field.repeat ? false : field.oneof ? false : field.kind == \"message\");\n    return field;\n}\n/**\n * Read custom field options from a generated message type.\n *\n * @deprecated use readFieldOption()\n */\nfunction readFieldOptions(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    return options && options[extensionName] ? extensionType.fromJson(options[extensionName]) : undefined;\n}\nfunction readFieldOption(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    if (!options) {\n        return undefined;\n    }\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\nfunction readMessageOption(messageType, extensionName, extensionType) {\n    const options = messageType.options;\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1pbmZvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDhFQUE4RSxpRUFBYztBQUM1Riw0RUFBNEUsaUVBQWM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWluZm8uanM/M2RkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb3dlckNhbWVsQ2FzZSB9IGZyb20gXCIuL2xvd2VyLWNhbWVsLWNhc2VcIjtcbi8qKlxuICogU2NhbGFyIHZhbHVlIHR5cGVzLiBUaGlzIGlzIGEgc3Vic2V0IG9mIGZpZWxkIHR5cGVzIGRlY2xhcmVkIGJ5IHByb3RvYnVmXG4gKiBlbnVtIGdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlIFRoZSB0eXBlcyBHUk9VUCBhbmQgTUVTU0FHRVxuICogYXJlIG9taXR0ZWQsIGJ1dCB0aGUgbnVtZXJpY2FsIHZhbHVlcyBhcmUgaWRlbnRpY2FsLlxuICovXG5leHBvcnQgdmFyIFNjYWxhclR5cGU7XG4oZnVuY3Rpb24gKFNjYWxhclR5cGUpIHtcbiAgICAvLyAwIGlzIHJlc2VydmVkIGZvciBlcnJvcnMuXG4gICAgLy8gT3JkZXIgaXMgd2VpcmQgZm9yIGhpc3RvcmljYWwgcmVhc29ucy5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJET1VCTEVcIl0gPSAxXSA9IFwiRE9VQkxFXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRkxPQVRcIl0gPSAyXSA9IFwiRkxPQVRcIjtcbiAgICAvLyBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UNjQgaWZcbiAgICAvLyBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJJTlQ2NFwiXSA9IDNdID0gXCJJTlQ2NFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlVJTlQ2NFwiXSA9IDRdID0gXCJVSU5UNjRcIjtcbiAgICAvLyBOb3QgWmlnWmFnIGVuY29kZWQuICBOZWdhdGl2ZSBudW1iZXJzIHRha2UgMTAgYnl0ZXMuICBVc2UgVFlQRV9TSU5UMzIgaWZcbiAgICAvLyBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGxpa2VseS5cbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJJTlQzMlwiXSA9IDVdID0gXCJJTlQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkZJWEVENjRcIl0gPSA2XSA9IFwiRklYRUQ2NFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkZJWEVEMzJcIl0gPSA3XSA9IFwiRklYRUQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkJPT0xcIl0gPSA4XSA9IFwiQk9PTFwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNUUklOR1wiXSA9IDldID0gXCJTVFJJTkdcIjtcbiAgICAvLyBUYWctZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAvLyBHcm91cCB0eXBlIGlzIGRlcHJlY2F0ZWQgYW5kIG5vdCBzdXBwb3J0ZWQgaW4gcHJvdG8zLiBIb3dldmVyLCBQcm90bzNcbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHN0aWxsIGJlIGFibGUgdG8gcGFyc2UgdGhlIGdyb3VwIHdpcmUgZm9ybWF0IGFuZFxuICAgIC8vIHRyZWF0IGdyb3VwIGZpZWxkcyBhcyB1bmtub3duIGZpZWxkcy5cbiAgICAvLyBUWVBFX0dST1VQID0gMTAsXG4gICAgLy8gVFlQRV9NRVNTQUdFID0gMTEsICAvLyBMZW5ndGgtZGVsaW1pdGVkIGFnZ3JlZ2F0ZS5cbiAgICAvLyBOZXcgaW4gdmVyc2lvbiAyLlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkJZVEVTXCJdID0gMTJdID0gXCJCWVRFU1wiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlVJTlQzMlwiXSA9IDEzXSA9IFwiVUlOVDMyXCI7XG4gICAgLy8gVFlQRV9FTlVNID0gMTQsXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0ZJWEVEMzJcIl0gPSAxNV0gPSBcIlNGSVhFRDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0ZJWEVENjRcIl0gPSAxNl0gPSBcIlNGSVhFRDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU0lOVDMyXCJdID0gMTddID0gXCJTSU5UMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTSU5UNjRcIl0gPSAxOF0gPSBcIlNJTlQ2NFwiO1xufSkoU2NhbGFyVHlwZSB8fCAoU2NhbGFyVHlwZSA9IHt9KSk7XG4vKipcbiAqIEphdmFTY3JpcHQgcmVwcmVzZW50YXRpb24gb2YgNjQgYml0IGludGVncmFsIHR5cGVzLiBFcXVpdmFsZW50IHRvIHRoZVxuICogZmllbGQgb3B0aW9uIFwianN0eXBlXCIuXG4gKlxuICogQnkgZGVmYXVsdCwgcHJvdG9idWYtdHMgcmVwcmVzZW50cyA2NCBiaXQgdHlwZXMgYXMgYGJpZ2ludGAuXG4gKlxuICogWW91IGNhbiBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIGJ5IGVuYWJsaW5nIHRoZSBwbHVnaW4gcGFyYW1ldGVyXG4gKiBgbG9uZ190eXBlX3N0cmluZ2AsIHdoaWNoIHdpbGwgcmVwcmVzZW50IDY0IGJpdCB0eXBlcyBhcyBgc3RyaW5nYC5cbiAqXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGNoYW5nZSB0aGUgYmVoYXZpb3VyIGZvciBpbmRpdmlkdWFsIGZpZWxkc1xuICogd2l0aCB0aGUgZmllbGQgb3B0aW9uIFwianN0eXBlXCI6XG4gKlxuICogYGBgcHJvdG9idWZcbiAqIHVpbnQ2NCBteV9maWVsZCA9IDEgW2pzdHlwZSA9IEpTX1NUUklOR107XG4gKiB1aW50NjQgb3RoZXJfZmllbGQgPSAyIFtqc3R5cGUgPSBKU19OVU1CRVJdO1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgTG9uZ1R5cGU7XG4oZnVuY3Rpb24gKExvbmdUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVXNlIEphdmFTY3JpcHQgYGJpZ2ludGAuXG4gICAgICpcbiAgICAgKiBGaWVsZCBvcHRpb24gYFtqc3R5cGUgPSBKU19OT1JNQUxdYC5cbiAgICAgKi9cbiAgICBMb25nVHlwZVtMb25nVHlwZVtcIkJJR0lOVFwiXSA9IDBdID0gXCJCSUdJTlRcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgSmF2YVNjcmlwdCBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEZpZWxkIG9wdGlvbiBgW2pzdHlwZSA9IEpTX1NUUklOR11gLlxuICAgICAqL1xuICAgIExvbmdUeXBlW0xvbmdUeXBlW1wiU1RSSU5HXCJdID0gMV0gPSBcIlNUUklOR1wiO1xuICAgIC8qKlxuICAgICAqIFVzZSBKYXZhU2NyaXB0IGBudW1iZXJgLlxuICAgICAqXG4gICAgICogTGFyZ2UgdmFsdWVzIHdpbGwgbG9vc2UgcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogRmllbGQgb3B0aW9uIGBbanN0eXBlID0gSlNfTlVNQkVSXWAuXG4gICAgICovXG4gICAgTG9uZ1R5cGVbTG9uZ1R5cGVbXCJOVU1CRVJcIl0gPSAyXSA9IFwiTlVNQkVSXCI7XG59KShMb25nVHlwZSB8fCAoTG9uZ1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBQcm90b2J1ZiAyLjEuMCBpbnRyb2R1Y2VkIHBhY2tlZCByZXBlYXRlZCBmaWVsZHMuXG4gKiBTZXR0aW5nIHRoZSBmaWVsZCBvcHRpb24gYFtwYWNrZWQgPSB0cnVlXWAgZW5hYmxlcyBwYWNraW5nLlxuICpcbiAqIEluIHByb3RvMywgYWxsIHJlcGVhdGVkIGZpZWxkcyBhcmUgcGFja2VkIGJ5IGRlZmF1bHQuXG4gKiBTZXR0aW5nIHRoZSBmaWVsZCBvcHRpb24gYFtwYWNrZWQgPSBmYWxzZV1gIGRpc2FibGVzIHBhY2tpbmcuXG4gKlxuICogUGFja2VkIHJlcGVhdGVkIGZpZWxkcyBhcmUgZW5jb2RlZCB3aXRoIGEgc2luZ2xlIHRhZyxcbiAqIHRoZW4gYSBsZW5ndGgtZGVsaW1pdGVyLCB0aGVuIHRoZSBlbGVtZW50IHZhbHVlcy5cbiAqXG4gKiBVbnBhY2tlZCByZXBlYXRlZCBmaWVsZHMgYXJlIGVuY29kZWQgd2l0aCBhIHRhZyBhbmRcbiAqIHZhbHVlIGZvciBlYWNoIGVsZW1lbnQuXG4gKlxuICogYGJ5dGVzYCBhbmQgYHN0cmluZ2AgY2Fubm90IGJlIHBhY2tlZC5cbiAqL1xuZXhwb3J0IHZhciBSZXBlYXRUeXBlO1xuKGZ1bmN0aW9uIChSZXBlYXRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkIGlzIG5vdCByZXBlYXRlZC5cbiAgICAgKi9cbiAgICBSZXBlYXRUeXBlW1JlcGVhdFR5cGVbXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZCBpcyByZXBlYXRlZCBhbmQgc2hvdWxkIGJlIHBhY2tlZC5cbiAgICAgKiBJbnZhbGlkIGZvciBgYnl0ZXNgIGFuZCBgc3RyaW5nYCwgdGhleSBjYW5ub3QgYmUgcGFja2VkLlxuICAgICAqL1xuICAgIFJlcGVhdFR5cGVbUmVwZWF0VHlwZVtcIlBBQ0tFRFwiXSA9IDFdID0gXCJQQUNLRURcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZmllbGQgaXMgcmVwZWF0ZWQgYnV0IHNob3VsZCBub3QgYmUgcGFja2VkLlxuICAgICAqIFRoZSBvbmx5IHZhbGlkIHJlcGVhdCB0eXBlIGZvciByZXBlYXRlZCBgYnl0ZXNgIGFuZCBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBSZXBlYXRUeXBlW1JlcGVhdFR5cGVbXCJVTlBBQ0tFRFwiXSA9IDJdID0gXCJVTlBBQ0tFRFwiO1xufSkoUmVwZWF0VHlwZSB8fCAoUmVwZWF0VHlwZSA9IHt9KSk7XG4vKipcbiAqIFR1cm5zIFBhcnRpYWxGaWVsZEluZm8gaW50byBGaWVsZEluZm8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVGaWVsZEluZm8oZmllbGQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgZmllbGQubG9jYWxOYW1lID0gKF9hID0gZmllbGQubG9jYWxOYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBsb3dlckNhbWVsQ2FzZShmaWVsZC5uYW1lKTtcbiAgICBmaWVsZC5qc29uTmFtZSA9IChfYiA9IGZpZWxkLmpzb25OYW1lKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBsb3dlckNhbWVsQ2FzZShmaWVsZC5uYW1lKTtcbiAgICBmaWVsZC5yZXBlYXQgPSAoX2MgPSBmaWVsZC5yZXBlYXQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFJlcGVhdFR5cGUuTk87XG4gICAgZmllbGQub3B0ID0gKF9kID0gZmllbGQub3B0KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoZmllbGQucmVwZWF0ID8gZmFsc2UgOiBmaWVsZC5vbmVvZiA/IGZhbHNlIDogZmllbGQua2luZCA9PSBcIm1lc3NhZ2VcIik7XG4gICAgcmV0dXJuIGZpZWxkO1xufVxuLyoqXG4gKiBSZWFkIGN1c3RvbSBmaWVsZCBvcHRpb25zIGZyb20gYSBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlLlxuICpcbiAqIEBkZXByZWNhdGVkIHVzZSByZWFkRmllbGRPcHRpb24oKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpZWxkT3B0aW9ucyhtZXNzYWdlVHlwZSwgZmllbGROYW1lLCBleHRlbnNpb25OYW1lLCBleHRlbnNpb25UeXBlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoX2EgPSBtZXNzYWdlVHlwZS5maWVsZHMuZmluZCgobSwgaSkgPT4gbS5sb2NhbE5hbWUgPT0gZmllbGROYW1lIHx8IGkgPT0gZmllbGROYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wdGlvbnM7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9uc1tleHRlbnNpb25OYW1lXSA/IGV4dGVuc2lvblR5cGUuZnJvbUpzb24ob3B0aW9uc1tleHRlbnNpb25OYW1lXSkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpZWxkT3B0aW9uKG1lc3NhZ2VUeXBlLCBmaWVsZE5hbWUsIGV4dGVuc2lvbk5hbWUsIGV4dGVuc2lvblR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3B0aW9ucyA9IChfYSA9IG1lc3NhZ2VUeXBlLmZpZWxkcy5maW5kKChtLCBpKSA9PiBtLmxvY2FsTmFtZSA9PSBmaWVsZE5hbWUgfHwgaSA9PSBmaWVsZE5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3B0aW9ucztcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgb3B0aW9uVmFsID0gb3B0aW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICBpZiAob3B0aW9uVmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvblZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuc2lvblR5cGUgPyBleHRlbnNpb25UeXBlLmZyb21Kc29uKG9wdGlvblZhbCkgOiBvcHRpb25WYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZE1lc3NhZ2VPcHRpb24obWVzc2FnZVR5cGUsIGV4dGVuc2lvbk5hbWUsIGV4dGVuc2lvblR5cGUpIHtcbiAgICBjb25zdCBvcHRpb25zID0gbWVzc2FnZVR5cGUub3B0aW9ucztcbiAgICBjb25zdCBvcHRpb25WYWwgPSBvcHRpb25zW2V4dGVuc2lvbk5hbWVdO1xuICAgIGlmIChvcHRpb25WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uVmFsO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uVHlwZSA/IGV4dGVuc2lvblR5cGUuZnJvbUpzb24ob3B0aW9uVmFsKSA6IG9wdGlvblZhbDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectionJsonReader: function() { return /* binding */ ReflectionJsonReader; }\n/* harmony export */ });\n/* harmony import */ var _json_typings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./json-typings */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _base64__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base64 */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/base64.js\");\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js\");\n/* harmony import */ var _reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reflection-long-convert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js\");\n\n\n\n\n\n\n/**\n * Reads proto3 messages in canonical JSON format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nclass ReflectionJsonReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (this.fMap === undefined) {\n            this.fMap = {};\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            for (const field of fieldsInput) {\n                this.fMap[field.name] = field;\n                this.fMap[field.jsonName] = field;\n                this.fMap[field.localName] = field;\n            }\n        }\n    }\n    // Cannot parse JSON <type of jsonValue> for <type name>#<fieldName>.\n    assert(condition, fieldName, jsonValue) {\n        if (!condition) {\n            let what = (0,_json_typings__WEBPACK_IMPORTED_MODULE_0__.typeofJsonValue)(jsonValue);\n            if (what == \"number\" || what == \"boolean\")\n                what = jsonValue.toString();\n            throw new Error(`Cannot parse JSON ${what} for ${this.info.typeName}#${fieldName}`);\n        }\n    }\n    /**\n     * Reads a message from canonical JSON format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(input, message, options) {\n        this.prepare();\n        const oneofsHandled = [];\n        for (const [jsonKey, jsonValue] of Object.entries(input)) {\n            const field = this.fMap[jsonKey];\n            if (!field) {\n                if (!options.ignoreUnknownFields)\n                    throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${jsonKey}`);\n                continue;\n            }\n            const localName = field.localName;\n            // handle oneof ADT\n            let target; // this will be the target for the field value, whether it is member of a oneof or not\n            if (field.oneof) {\n                if (jsonValue === null && (field.kind !== 'enum' || field.T()[0] !== 'google.protobuf.NullValue')) {\n                    continue;\n                }\n                // since json objects are unordered by specification, it is not possible to take the last of multiple oneofs\n                if (oneofsHandled.includes(field.oneof))\n                    throw new Error(`Multiple members of the oneof group \"${field.oneof}\" of ${this.info.typeName} are present in JSON.`);\n                oneofsHandled.push(field.oneof);\n                target = message[field.oneof] = {\n                    oneofKind: localName\n                };\n            }\n            else {\n                target = message;\n            }\n            // we have handled oneof above. we just have read the value into `target`.\n            if (field.kind == 'map') {\n                if (jsonValue === null) {\n                    continue;\n                }\n                // check input\n                this.assert((0,_json_typings__WEBPACK_IMPORTED_MODULE_0__.isJsonObject)(jsonValue), field.name, jsonValue);\n                // our target to put map entries into\n                const fieldObj = target[localName];\n                // read entries\n                for (const [jsonObjKey, jsonObjValue] of Object.entries(jsonValue)) {\n                    this.assert(jsonObjValue !== null, field.name + \" map value\", null);\n                    // read value\n                    let val;\n                    switch (field.V.kind) {\n                        case \"message\":\n                            val = field.V.T().internalJsonRead(jsonObjValue, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.V.T(), jsonObjValue, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonObjValue, field.V.T, field.V.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name + \" map value\", jsonObjValue);\n                    // read key\n                    let key = jsonObjKey;\n                    if (field.K == _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL)\n                        key = key == \"true\" ? true : key == \"false\" ? false : key;\n                    key = this.scalar(key, field.K, _reflection_info__WEBPACK_IMPORTED_MODULE_1__.LongType.STRING, field.name).toString();\n                    fieldObj[key] = val;\n                }\n            }\n            else if (field.repeat) {\n                if (jsonValue === null)\n                    continue;\n                // check input\n                this.assert(Array.isArray(jsonValue), field.name, jsonValue);\n                // our target to put array entries into\n                const fieldArr = target[localName];\n                // read array entries\n                for (const jsonItem of jsonValue) {\n                    this.assert(jsonItem !== null, field.name, null);\n                    let val;\n                    switch (field.kind) {\n                        case \"message\":\n                            val = field.T().internalJsonRead(jsonItem, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.T(), jsonItem, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonItem, field.T, field.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name, jsonValue);\n                    fieldArr.push(val);\n                }\n            }\n            else {\n                switch (field.kind) {\n                    case \"message\":\n                        if (jsonValue === null && field.T().typeName != 'google.protobuf.Value') {\n                            this.assert(field.oneof === undefined, field.name + \" (oneof member)\", null);\n                            continue;\n                        }\n                        target[localName] = field.T().internalJsonRead(jsonValue, options, target[localName]);\n                        break;\n                    case \"enum\":\n                        if (jsonValue === null)\n                            continue;\n                        let val = this.enum(field.T(), jsonValue, field.name, options.ignoreUnknownFields);\n                        if (val === false)\n                            continue;\n                        target[localName] = val;\n                        break;\n                    case \"scalar\":\n                        if (jsonValue === null)\n                            continue;\n                        target[localName] = this.scalar(jsonValue, field.T, field.L, field.name);\n                        break;\n                }\n            }\n        }\n    }\n    /**\n     * Returns `false` for unrecognized string representations.\n     *\n     * google.protobuf.NullValue accepts only JSON `null` (or the old `\"NULL_VALUE\"`).\n     */\n    enum(type, json, fieldName, ignoreUnknownFields) {\n        if (type[0] == 'google.protobuf.NullValue')\n            (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assert)(json === null || json === \"NULL_VALUE\", `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} only accepts null.`);\n        if (json === null)\n            // we require 0 to be default value for all enums\n            return 0;\n        switch (typeof json) {\n            case \"number\":\n                (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assert)(Number.isInteger(json), `Unable to parse field ${this.info.typeName}#${fieldName}, enum can only be integral number, got ${json}.`);\n                return json;\n            case \"string\":\n                let localEnumName = json;\n                if (type[2] && json.substring(0, type[2].length) === type[2])\n                    // lookup without the shared prefix\n                    localEnumName = json.substring(type[2].length);\n                let enumNumber = type[1][localEnumName];\n                if (typeof enumNumber === 'undefined' && ignoreUnknownFields) {\n                    return false;\n                }\n                (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assert)(typeof enumNumber == \"number\", `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} has no value for \"${json}\".`);\n                return enumNumber;\n        }\n        (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assert)(false, `Unable to parse field ${this.info.typeName}#${fieldName}, cannot parse enum value from ${typeof json}\".`);\n    }\n    scalar(json, type, longType, fieldName) {\n        let e;\n        try {\n            switch (type) {\n                // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n                // Either numbers or strings are accepted. Exponent notation is also accepted.\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.DOUBLE:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FLOAT:\n                    if (json === null)\n                        return .0;\n                    if (json === \"NaN\")\n                        return Number.NaN;\n                    if (json === \"Infinity\")\n                        return Number.POSITIVE_INFINITY;\n                    if (json === \"-Infinity\")\n                        return Number.NEGATIVE_INFINITY;\n                    if (json === \"\") {\n                        e = \"empty string\";\n                        break;\n                    }\n                    if (typeof json == \"string\" && json.trim().length !== json.length) {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    if (typeof json != \"string\" && typeof json != \"number\") {\n                        break;\n                    }\n                    let float = Number(json);\n                    if (Number.isNaN(float)) {\n                        e = \"not a number\";\n                        break;\n                    }\n                    if (!Number.isFinite(float)) {\n                        // infinity and -infinity are handled by string representation above, so this is an error\n                        e = \"too large or small\";\n                        break;\n                    }\n                    if (type == _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FLOAT)\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assertFloat32)(float);\n                    return float;\n                // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED32:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED32:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT32:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT32:\n                    if (json === null)\n                        return 0;\n                    let int32;\n                    if (typeof json == \"number\")\n                        int32 = json;\n                    else if (json === \"\")\n                        e = \"empty string\";\n                    else if (typeof json == \"string\") {\n                        if (json.trim().length !== json.length)\n                            e = \"extra whitespace\";\n                        else\n                            int32 = Number(json);\n                    }\n                    if (int32 === undefined)\n                        break;\n                    if (type == _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT32)\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assertUInt32)(int32);\n                    else\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_2__.assertInt32)(int32);\n                    return int32;\n                // int64, fixed64, uint64: JSON value will be a decimal string. Either numbers or strings are accepted.\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT64:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED64:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT64:\n                    if (json === null)\n                        return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_4__.PbLong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_4__.PbLong.from(json), longType);\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED64:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT64:\n                    if (json === null)\n                        return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_4__.PbULong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_3__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_4__.PbULong.from(json), longType);\n                // bool:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL:\n                    if (json === null)\n                        return false;\n                    if (typeof json !== \"boolean\")\n                        break;\n                    return json;\n                // string:\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.STRING:\n                    if (json === null)\n                        return \"\";\n                    if (typeof json !== \"string\") {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    try {\n                        encodeURIComponent(json);\n                    }\n                    catch (e) {\n                        e = \"invalid UTF8\";\n                        break;\n                    }\n                    return json;\n                // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n                // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n                case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BYTES:\n                    if (json === null || json === \"\")\n                        return new Uint8Array(0);\n                    if (typeof json !== 'string')\n                        break;\n                    return (0,_base64__WEBPACK_IMPORTED_MODULE_5__.base64decode)(json);\n            }\n        }\n        catch (error) {\n            e = error.message;\n        }\n        this.assert(false, fieldName + (e ? \" - \" + e : \"\"), json);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1qc29uLXJlYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStEO0FBQ3ZCO0FBQ2lCO0FBQ2I7QUFDZ0M7QUFDVjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQWU7QUFDdEM7QUFDQTtBQUNBLGlEQUFpRCxNQUFNLE1BQU0sbUJBQW1CLEdBQUcsVUFBVTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsb0JBQW9CLDhCQUE4QixRQUFRO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZLE9BQU8sb0JBQW9CO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkRBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3REFBVTtBQUM3QztBQUNBLG9EQUFvRCxzREFBUTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQU0sa0VBQWtFLG1CQUFtQixHQUFHLFVBQVUsU0FBUyxTQUFTO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0NBQU0sa0RBQWtELG1CQUFtQixHQUFHLFVBQVUsMENBQTBDLEtBQUs7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0NBQU0seURBQXlELG1CQUFtQixHQUFHLFVBQVUsU0FBUyxTQUFTLG9CQUFvQixLQUFLO0FBQzFKO0FBQ0E7QUFDQSxRQUFRLCtDQUFNLGlDQUFpQyxtQkFBbUIsR0FBRyxVQUFVLGlDQUFpQyxZQUFZO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdEQUFVO0FBQy9CLHFCQUFxQix3REFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUFVO0FBQzFDLHdCQUF3QixzREFBYTtBQUNyQztBQUNBO0FBQ0EscUJBQXFCLHdEQUFVO0FBQy9CLHFCQUFxQix3REFBVTtBQUMvQixxQkFBcUIsd0RBQVU7QUFDL0IscUJBQXFCLHdEQUFVO0FBQy9CLHFCQUFxQix3REFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0RBQVU7QUFDMUMsd0JBQXdCLHFEQUFZO0FBQ3BDO0FBQ0Esd0JBQXdCLG9EQUFXO0FBQ25DO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQVU7QUFDL0IscUJBQXFCLHdEQUFVO0FBQy9CLHFCQUFxQix3REFBVTtBQUMvQjtBQUNBLCtCQUErQiwrRUFBcUIsQ0FBQyw0Q0FBTTtBQUMzRDtBQUNBO0FBQ0EsMkJBQTJCLCtFQUFxQixDQUFDLDRDQUFNO0FBQ3ZELHFCQUFxQix3REFBVTtBQUMvQixxQkFBcUIsd0RBQVU7QUFDL0I7QUFDQSwrQkFBK0IsK0VBQXFCLENBQUMsNkNBQU87QUFDNUQ7QUFDQTtBQUNBLDJCQUEyQiwrRUFBcUIsQ0FBQyw2Q0FBTztBQUN4RDtBQUNBLHFCQUFxQix3REFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscURBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tanNvbi1yZWFkZXIuanM/N2FkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0pzb25PYmplY3QsIHR5cGVvZkpzb25WYWx1ZSB9IGZyb20gXCIuL2pzb24tdHlwaW5nc1wiO1xuaW1wb3J0IHsgYmFzZTY0ZGVjb2RlIH0gZnJvbSBcIi4vYmFzZTY0XCI7XG5pbXBvcnQgeyBMb25nVHlwZSwgU2NhbGFyVHlwZSB9IGZyb20gXCIuL3JlZmxlY3Rpb24taW5mb1wiO1xuaW1wb3J0IHsgUGJMb25nLCBQYlVMb25nIH0gZnJvbSBcIi4vcGItbG9uZ1wiO1xuaW1wb3J0IHsgYXNzZXJ0LCBhc3NlcnRGbG9hdDMyLCBhc3NlcnRJbnQzMiwgYXNzZXJ0VUludDMyIH0gZnJvbSBcIi4vYXNzZXJ0XCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTG9uZ0NvbnZlcnQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWxvbmctY29udmVydFwiO1xuLyoqXG4gKiBSZWFkcyBwcm90bzMgbWVzc2FnZXMgaW4gY2Fub25pY2FsIEpTT04gZm9ybWF0IHVzaW5nIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24uXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL3Byb3RvMyNqc29uXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uSnNvblJlYWRlciB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB0aGlzLmluZm8gPSBpbmZvO1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZNYXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mTWFwID0ge307XG4gICAgICAgICAgICBjb25zdCBmaWVsZHNJbnB1dCA9IChfYSA9IHRoaXMuaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHNJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZk1hcFtmaWVsZC5uYW1lXSA9IGZpZWxkO1xuICAgICAgICAgICAgICAgIHRoaXMuZk1hcFtmaWVsZC5qc29uTmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmZNYXBbZmllbGQubG9jYWxOYW1lXSA9IGZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENhbm5vdCBwYXJzZSBKU09OIDx0eXBlIG9mIGpzb25WYWx1ZT4gZm9yIDx0eXBlIG5hbWU+IzxmaWVsZE5hbWU+LlxuICAgIGFzc2VydChjb25kaXRpb24sIGZpZWxkTmFtZSwganNvblZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICAgICBsZXQgd2hhdCA9IHR5cGVvZkpzb25WYWx1ZShqc29uVmFsdWUpO1xuICAgICAgICAgICAgaWYgKHdoYXQgPT0gXCJudW1iZXJcIiB8fCB3aGF0ID09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgICAgIHdoYXQgPSBqc29uVmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHBhcnNlIEpTT04gJHt3aGF0fSBmb3IgJHt0aGlzLmluZm8udHlwZU5hbWV9IyR7ZmllbGROYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgbWVzc2FnZSBmcm9tIGNhbm9uaWNhbCBKU09OIGZvcm1hdCBpbnRvIHRoZSB0YXJnZXQgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIFJlcGVhdGVkIGZpZWxkcyBhcmUgYXBwZW5kZWQuIE1hcCBlbnRyaWVzIGFyZSBhZGRlZCwgb3ZlcndyaXRpbmdcbiAgICAgKiBleGlzdGluZyBrZXlzLlxuICAgICAqXG4gICAgICogSWYgYSBtZXNzYWdlIGZpZWxkIGlzIGFscmVhZHkgcHJlc2VudCwgaXQgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAgICAgKiBuZXcgZGF0YS5cbiAgICAgKi9cbiAgICByZWFkKGlucHV0LCBtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcGFyZSgpO1xuICAgICAgICBjb25zdCBvbmVvZnNIYW5kbGVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2pzb25LZXksIGpzb25WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZk1hcFtqc29uS2V5XTtcbiAgICAgICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuaWdub3JlVW5rbm93bkZpZWxkcylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCB1bmtub3duIGZpZWxkIHdoaWxlIHJlYWRpbmcgJHt0aGlzLmluZm8udHlwZU5hbWV9IGZyb20gSlNPTiBmb3JtYXQuIEpTT04ga2V5OiAke2pzb25LZXl9YCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICAvLyBoYW5kbGUgb25lb2YgQURUXG4gICAgICAgICAgICBsZXQgdGFyZ2V0OyAvLyB0aGlzIHdpbGwgYmUgdGhlIHRhcmdldCBmb3IgdGhlIGZpZWxkIHZhbHVlLCB3aGV0aGVyIGl0IGlzIG1lbWJlciBvZiBhIG9uZW9mIG9yIG5vdFxuICAgICAgICAgICAgaWYgKGZpZWxkLm9uZW9mKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbCAmJiAoZmllbGQua2luZCAhPT0gJ2VudW0nIHx8IGZpZWxkLlQoKVswXSAhPT0gJ2dvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUnKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2luY2UganNvbiBvYmplY3RzIGFyZSB1bm9yZGVyZWQgYnkgc3BlY2lmaWNhdGlvbiwgaXQgaXMgbm90IHBvc3NpYmxlIHRvIHRha2UgdGhlIGxhc3Qgb2YgbXVsdGlwbGUgb25lb2ZzXG4gICAgICAgICAgICAgICAgaWYgKG9uZW9mc0hhbmRsZWQuaW5jbHVkZXMoZmllbGQub25lb2YpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE11bHRpcGxlIG1lbWJlcnMgb2YgdGhlIG9uZW9mIGdyb3VwIFwiJHtmaWVsZC5vbmVvZn1cIiBvZiAke3RoaXMuaW5mby50eXBlTmFtZX0gYXJlIHByZXNlbnQgaW4gSlNPTi5gKTtcbiAgICAgICAgICAgICAgICBvbmVvZnNIYW5kbGVkLnB1c2goZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG1lc3NhZ2VbZmllbGQub25lb2ZdID0ge1xuICAgICAgICAgICAgICAgICAgICBvbmVvZktpbmQ6IGxvY2FsTmFtZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBoYW5kbGVkIG9uZW9mIGFib3ZlLiB3ZSBqdXN0IGhhdmUgcmVhZCB0aGUgdmFsdWUgaW50byBgdGFyZ2V0YC5cbiAgICAgICAgICAgIGlmIChmaWVsZC5raW5kID09ICdtYXAnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaW5wdXRcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydChpc0pzb25PYmplY3QoanNvblZhbHVlKSwgZmllbGQubmFtZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBvdXIgdGFyZ2V0IHRvIHB1dCBtYXAgZW50cmllcyBpbnRvXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRPYmogPSB0YXJnZXRbbG9jYWxOYW1lXTtcbiAgICAgICAgICAgICAgICAvLyByZWFkIGVudHJpZXNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtqc29uT2JqS2V5LCBqc29uT2JqVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGpzb25WYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlcnQoanNvbk9ialZhbHVlICE9PSBudWxsLCBmaWVsZC5uYW1lICsgXCIgbWFwIHZhbHVlXCIsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWw7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQuVi5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkLlYuVCgpLmludGVybmFsSnNvblJlYWQoanNvbk9ialZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdGhpcy5lbnVtKGZpZWxkLlYuVCgpLCBqc29uT2JqVmFsdWUsIGZpZWxkLm5hbWUsIG9wdGlvbnMuaWdub3JlVW5rbm93bkZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuc2NhbGFyKGpzb25PYmpWYWx1ZSwgZmllbGQuVi5ULCBmaWVsZC5WLkwsIGZpZWxkLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0KHZhbCAhPT0gdW5kZWZpbmVkLCBmaWVsZC5uYW1lICsgXCIgbWFwIHZhbHVlXCIsIGpzb25PYmpWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWQga2V5XG4gICAgICAgICAgICAgICAgICAgIGxldCBrZXkgPSBqc29uT2JqS2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuSyA9PSBTY2FsYXJUeXBlLkJPT0wpXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkgPT0gXCJ0cnVlXCIgPyB0cnVlIDoga2V5ID09IFwiZmFsc2VcIiA/IGZhbHNlIDoga2V5O1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSB0aGlzLnNjYWxhcihrZXksIGZpZWxkLkssIExvbmdUeXBlLlNUUklORywgZmllbGQubmFtZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRPYmpba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZC5yZXBlYXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvblZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpbnB1dFxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0KEFycmF5LmlzQXJyYXkoanNvblZhbHVlKSwgZmllbGQubmFtZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBvdXIgdGFyZ2V0IHRvIHB1dCBhcnJheSBlbnRyaWVzIGludG9cbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZEFyciA9IHRhcmdldFtsb2NhbE5hbWVdO1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgYXJyYXkgZW50cmllc1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QganNvbkl0ZW0gb2YganNvblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0KGpzb25JdGVtICE9PSBudWxsLCBmaWVsZC5uYW1lLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkLlQoKS5pbnRlcm5hbEpzb25SZWFkKGpzb25JdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdGhpcy5lbnVtKGZpZWxkLlQoKSwganNvbkl0ZW0sIGZpZWxkLm5hbWUsIG9wdGlvbnMuaWdub3JlVW5rbm93bkZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuc2NhbGFyKGpzb25JdGVtLCBmaWVsZC5ULCBmaWVsZC5MLCBmaWVsZC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCwgZmllbGQubmFtZSwganNvblZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRBcnIucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbCAmJiBmaWVsZC5UKCkudHlwZU5hbWUgIT0gJ2dvb2dsZS5wcm90b2J1Zi5WYWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydChmaWVsZC5vbmVvZiA9PT0gdW5kZWZpbmVkLCBmaWVsZC5uYW1lICsgXCIgKG9uZW9mIG1lbWJlcilcIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbG9jYWxOYW1lXSA9IGZpZWxkLlQoKS5pbnRlcm5hbEpzb25SZWFkKGpzb25WYWx1ZSwgb3B0aW9ucywgdGFyZ2V0W2xvY2FsTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMuZW51bShmaWVsZC5UKCksIGpzb25WYWx1ZSwgZmllbGQubmFtZSwgb3B0aW9ucy5pZ25vcmVVbmtub3duRmllbGRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2xvY2FsTmFtZV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtsb2NhbE5hbWVdID0gdGhpcy5zY2FsYXIoanNvblZhbHVlLCBmaWVsZC5ULCBmaWVsZC5MLCBmaWVsZC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGBmYWxzZWAgZm9yIHVucmVjb2duaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb25zLlxuICAgICAqXG4gICAgICogZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZSBhY2NlcHRzIG9ubHkgSlNPTiBgbnVsbGAgKG9yIHRoZSBvbGQgYFwiTlVMTF9WQUxVRVwiYCkuXG4gICAgICovXG4gICAgZW51bSh0eXBlLCBqc29uLCBmaWVsZE5hbWUsIGlnbm9yZVVua25vd25GaWVsZHMpIHtcbiAgICAgICAgaWYgKHR5cGVbMF0gPT0gJ2dvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUnKVxuICAgICAgICAgICAgYXNzZXJ0KGpzb24gPT09IG51bGwgfHwganNvbiA9PT0gXCJOVUxMX1ZBTFVFXCIsIGBVbmFibGUgdG8gcGFyc2UgZmllbGQgJHt0aGlzLmluZm8udHlwZU5hbWV9IyR7ZmllbGROYW1lfSwgZW51bSAke3R5cGVbMF19IG9ubHkgYWNjZXB0cyBudWxsLmApO1xuICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgIC8vIHdlIHJlcXVpcmUgMCB0byBiZSBkZWZhdWx0IHZhbHVlIGZvciBhbGwgZW51bXNcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KE51bWJlci5pc0ludGVnZXIoanNvbiksIGBVbmFibGUgdG8gcGFyc2UgZmllbGQgJHt0aGlzLmluZm8udHlwZU5hbWV9IyR7ZmllbGROYW1lfSwgZW51bSBjYW4gb25seSBiZSBpbnRlZ3JhbCBudW1iZXIsIGdvdCAke2pzb259LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGxldCBsb2NhbEVudW1OYW1lID0ganNvbjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZVsyXSAmJiBqc29uLnN1YnN0cmluZygwLCB0eXBlWzJdLmxlbmd0aCkgPT09IHR5cGVbMl0pXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb2t1cCB3aXRob3V0IHRoZSBzaGFyZWQgcHJlZml4XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsRW51bU5hbWUgPSBqc29uLnN1YnN0cmluZyh0eXBlWzJdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGV0IGVudW1OdW1iZXIgPSB0eXBlWzFdW2xvY2FsRW51bU5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZW51bU51bWJlciA9PT0gJ3VuZGVmaW5lZCcgJiYgaWdub3JlVW5rbm93bkZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgZW51bU51bWJlciA9PSBcIm51bWJlclwiLCBgVW5hYmxlIHRvIHBhcnNlIGZpZWxkICR7dGhpcy5pbmZvLnR5cGVOYW1lfSMke2ZpZWxkTmFtZX0sIGVudW0gJHt0eXBlWzBdfSBoYXMgbm8gdmFsdWUgZm9yIFwiJHtqc29ufVwiLmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnVtTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydChmYWxzZSwgYFVuYWJsZSB0byBwYXJzZSBmaWVsZCAke3RoaXMuaW5mby50eXBlTmFtZX0jJHtmaWVsZE5hbWV9LCBjYW5ub3QgcGFyc2UgZW51bSB2YWx1ZSBmcm9tICR7dHlwZW9mIGpzb259XCIuYCk7XG4gICAgfVxuICAgIHNjYWxhcihqc29uLCB0eXBlLCBsb25nVHlwZSwgZmllbGROYW1lKSB7XG4gICAgICAgIGxldCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmxvYXQsIGRvdWJsZTogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCBzdHJpbmcgdmFsdWVzIFwiTmFOXCIsIFwiSW5maW5pdHlcIiwgYW5kIFwiLUluZmluaXR5XCIuXG4gICAgICAgICAgICAgICAgLy8gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuIEV4cG9uZW50IG5vdGF0aW9uIGlzIGFsc28gYWNjZXB0ZWQuXG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC4wO1xuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJOYU5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJJbmZpbml0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiLUluZmluaXR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwiZW1wdHkgc3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJzdHJpbmdcIiAmJiBqc29uLnRyaW0oKS5sZW5ndGggIT09IGpzb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJleHRyYSB3aGl0ZXNwYWNlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YganNvbiAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZmxvYXQgPSBOdW1iZXIoanNvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oZmxvYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJub3QgYSBudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGZsb2F0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5maW5pdHkgYW5kIC1pbmZpbml0eSBhcmUgaGFuZGxlZCBieSBzdHJpbmcgcmVwcmVzZW50YXRpb24gYWJvdmUsIHNvIHRoaXMgaXMgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcInRvbyBsYXJnZSBvciBzbWFsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gU2NhbGFyVHlwZS5GTE9BVClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEZsb2F0MzIoZmxvYXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmxvYXQ7XG4gICAgICAgICAgICAgICAgLy8gaW50MzIsIGZpeGVkMzIsIHVpbnQzMjogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBudW1iZXIuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50MzI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50MzIgPSBqc29uO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChqc29uID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwiZW1wdHkgc3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBqc29uID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnRyaW0oKS5sZW5ndGggIT09IGpzb24ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcImV4dHJhIHdoaXRlc3BhY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQzMiA9IE51bWJlcihqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW50MzIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBTY2FsYXJUeXBlLlVJTlQzMilcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydFVJbnQzMihpbnQzMik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEludDMyKGludDMyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludDMyO1xuICAgICAgICAgICAgICAgIC8vIGludDY0LCBmaXhlZDY0LCB1aW50NjQ6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgc3RyaW5nLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChQYkxvbmcuWkVSTywgbG9uZ1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gIT0gXCJudW1iZXJcIiAmJiB0eXBlb2YganNvbiAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQoUGJMb25nLmZyb20oanNvbiksIGxvbmdUeXBlKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQoUGJVTG9uZy5aRVJPLCBsb25nVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiAhPSBcIm51bWJlclwiICYmIHR5cGVvZiBqc29uICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChQYlVMb25nLmZyb20oanNvbiksIGxvbmdUeXBlKTtcbiAgICAgICAgICAgICAgICAvLyBib29sOlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CT09MOlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmc6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJleHRyYSB3aGl0ZXNwYWNlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJpbnZhbGlkIFVURjhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgICAgIC8vIGJ5dGVzOiBKU09OIHZhbHVlIHdpbGwgYmUgdGhlIGRhdGEgZW5jb2RlZCBhcyBhIHN0cmluZyB1c2luZyBzdGFuZGFyZCBiYXNlNjQgZW5jb2Rpbmcgd2l0aCBwYWRkaW5ncy5cbiAgICAgICAgICAgICAgICAvLyBFaXRoZXIgc3RhbmRhcmQgb3IgVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nIHdpdGgvd2l0aG91dCBwYWRkaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCB8fCBqc29uID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlNjRkZWNvZGUoanNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFzc2VydChmYWxzZSwgZmllbGROYW1lICsgKGUgPyBcIiAtIFwiICsgZSA6IFwiXCIpLCBqc29uKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectionJsonWriter: function() { return /* binding */ ReflectionJsonWriter; }\n/* harmony export */ });\n/* harmony import */ var _base64__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base64 */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/base64.js\");\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/assert.js\");\n\n\n\n\n/**\n * Writes proto3 messages in canonical JSON format using reflection\n * information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nclass ReflectionJsonWriter {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Converts the message to a JSON object, based on the field descriptors.\n     */\n    write(message, options) {\n        const json = {}, source = message;\n        for (const field of this.fields) {\n            // field is not part of a oneof, simply write as is\n            if (!field.oneof) {\n                let jsonValue = this.field(field, source[field.localName], options);\n                if (jsonValue !== undefined)\n                    json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n                continue;\n            }\n            // field is part of a oneof\n            const group = source[field.oneof];\n            if (group.oneofKind !== field.localName)\n                continue; // not selected, skip\n            const opt = field.kind == 'scalar' || field.kind == 'enum'\n                ? Object.assign(Object.assign({}, options), { emitDefaultValues: true }) : options;\n            let jsonValue = this.field(field, group[field.localName], opt);\n            (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(jsonValue !== undefined);\n            json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n        }\n        return json;\n    }\n    field(field, value, options) {\n        let jsonValue = undefined;\n        if (field.kind == 'map') {\n            (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == \"object\" && value !== null);\n            const jsonObj = {};\n            switch (field.V.kind) {\n                case \"scalar\":\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.scalar(field.V.T, entryValue, field.name, false, true);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.message(messageType, entryValue, field.name, options);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(entryValue === undefined || typeof entryValue == 'number');\n                        const val = this.enum(enumInfo, entryValue, field.name, false, true, options.enumAsInteger);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n            }\n            if (options.emitDefaultValues || Object.keys(jsonObj).length > 0)\n                jsonValue = jsonObj;\n        }\n        else if (field.repeat) {\n            (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(Array.isArray(value));\n            const jsonArr = [];\n            switch (field.kind) {\n                case \"scalar\":\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.scalar(field.T, value[i], field.name, field.opt, true);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(value[i] === undefined || typeof value[i] == 'number');\n                        const val = this.enum(enumInfo, value[i], field.name, field.opt, true, options.enumAsInteger);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.message(messageType, value[i], field.name, options);\n                        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n            }\n            // add converted array to json output\n            if (options.emitDefaultValues || jsonArr.length > 0 || options.emitDefaultValues)\n                jsonValue = jsonArr;\n        }\n        else {\n            switch (field.kind) {\n                case \"scalar\":\n                    jsonValue = this.scalar(field.T, value, field.name, field.opt, options.emitDefaultValues);\n                    break;\n                case \"enum\":\n                    jsonValue = this.enum(field.T(), value, field.name, field.opt, options.emitDefaultValues, options.enumAsInteger);\n                    break;\n                case \"message\":\n                    jsonValue = this.message(field.T(), value, field.name, options);\n                    break;\n            }\n        }\n        return jsonValue;\n    }\n    /**\n     * Returns `null` as the default for google.protobuf.NullValue.\n     */\n    enum(type, value, fieldName, optional, emitDefaultValues, enumAsInteger) {\n        if (type[0] == 'google.protobuf.NullValue')\n            return !emitDefaultValues && !optional ? undefined : null;\n        if (value === undefined) {\n            (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(optional);\n            return undefined;\n        }\n        if (value === 0 && !emitDefaultValues && !optional)\n            // we require 0 to be default value for all enums\n            return undefined;\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'number');\n        (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(Number.isInteger(value));\n        if (enumAsInteger || !type[1].hasOwnProperty(value))\n            // if we don't now the enum value, just return the number\n            return value;\n        if (type[2])\n            // restore the dropped prefix\n            return type[2] + type[1][value];\n        return type[1][value];\n    }\n    message(type, value, fieldName, options) {\n        if (value === undefined)\n            return options.emitDefaultValues ? null : undefined;\n        return type.internalJsonWrite(value, options);\n    }\n    scalar(type, value, fieldName, optional, emitDefaultValues) {\n        if (value === undefined) {\n            (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(optional);\n            return undefined;\n        }\n        const ed = emitDefaultValues || optional;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (type) {\n            // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertInt32)(value);\n                return value;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertUInt32)(value);\n                return value;\n            // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n            // Either numbers or strings are accepted. Exponent notation is also accepted.\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FLOAT:\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assertFloat32)(value);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.DOUBLE:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'number');\n                if (Number.isNaN(value))\n                    return 'NaN';\n                if (value === Number.POSITIVE_INFINITY)\n                    return 'Infinity';\n                if (value === Number.NEGATIVE_INFINITY)\n                    return '-Infinity';\n                return value;\n            // string:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.STRING:\n                if (value === \"\")\n                    return ed ? '' : undefined;\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'string');\n                return value;\n            // bool:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL:\n                if (value === false)\n                    return ed ? false : undefined;\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'boolean');\n                return value;\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED64:\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let ulong = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong.from(value);\n                if (ulong.isZero() && !ed)\n                    return undefined;\n                return ulong.toString();\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT64:\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let long = _pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong.from(value);\n                if (long.isZero() && !ed)\n                    return undefined;\n                return long.toString();\n            // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n            // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BYTES:\n                (0,_assert__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof Uint8Array);\n                if (!value.byteLength)\n                    return ed ? \"\" : undefined;\n                return (0,_base64__WEBPACK_IMPORTED_MODULE_3__.base64encode)(value);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1qc29uLXdyaXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3QztBQUNJO0FBQ0c7QUFDNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxnREFBZ0QsY0FBYyx5QkFBeUI7QUFDdkY7QUFDQSxZQUFZLCtDQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtDQUFNO0FBQzlCLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0NBQU07QUFDOUIsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0NBQU07QUFDOUI7QUFDQSx3QkFBd0IsK0NBQU07QUFDOUIsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0Esd0JBQXdCLCtDQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3RELHdCQUF3QiwrQ0FBTTtBQUM5QjtBQUNBLHdCQUF3QiwrQ0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBLHdCQUF3QiwrQ0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFNO0FBQ2QsUUFBUSwrQ0FBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFVO0FBQzNCLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQixvREFBVztBQUMzQjtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQixxREFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsZ0JBQWdCLHNEQUFhO0FBQzdCLGlCQUFpQix3REFBVTtBQUMzQjtBQUNBO0FBQ0EsZ0JBQWdCLCtDQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQiwrQ0FBTTtBQUN0QjtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFVO0FBQzNCO0FBQ0E7QUFDQSxnQkFBZ0IsK0NBQU07QUFDdEI7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0IsZ0JBQWdCLCtDQUFNO0FBQ3RCLDRCQUE0Qiw2Q0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCLGdCQUFnQiwrQ0FBTTtBQUN0QiwyQkFBMkIsNENBQU07QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixnQkFBZ0IsK0NBQU07QUFDdEI7QUFDQTtBQUNBLHVCQUF1QixxREFBWTtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWpzb24td3JpdGVyLmpzP2JhN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmFzZTY0ZW5jb2RlIH0gZnJvbSBcIi4vYmFzZTY0XCI7XG5pbXBvcnQgeyBQYkxvbmcsIFBiVUxvbmcgfSBmcm9tIFwiLi9wYi1sb25nXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyBhc3NlcnQsIGFzc2VydEZsb2F0MzIsIGFzc2VydEludDMyLCBhc3NlcnRVSW50MzIgfSBmcm9tIFwiLi9hc3NlcnRcIjtcbi8qKlxuICogV3JpdGVzIHByb3RvMyBtZXNzYWdlcyBpbiBjYW5vbmljYWwgSlNPTiBmb3JtYXQgdXNpbmcgcmVmbGVjdGlvblxuICogaW5mb3JtYXRpb24uXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL3Byb3RvMyNqc29uXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uSnNvbldyaXRlciB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZmllbGRzID0gKF9hID0gaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgbWVzc2FnZSB0byBhIEpTT04gb2JqZWN0LCBiYXNlZCBvbiB0aGUgZmllbGQgZGVzY3JpcHRvcnMuXG4gICAgICovXG4gICAgd3JpdGUobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBqc29uID0ge30sIHNvdXJjZSA9IG1lc3NhZ2U7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIC8vIGZpZWxkIGlzIG5vdCBwYXJ0IG9mIGEgb25lb2YsIHNpbXBseSB3cml0ZSBhcyBpc1xuICAgICAgICAgICAgaWYgKCFmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgICAgIGxldCBqc29uVmFsdWUgPSB0aGlzLmZpZWxkKGZpZWxkLCBzb3VyY2VbZmllbGQubG9jYWxOYW1lXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBqc29uW29wdGlvbnMudXNlUHJvdG9GaWVsZE5hbWUgPyBmaWVsZC5uYW1lIDogZmllbGQuanNvbk5hbWVdID0ganNvblZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmllbGQgaXMgcGFydCBvZiBhIG9uZW9mXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHNvdXJjZVtmaWVsZC5vbmVvZl07XG4gICAgICAgICAgICBpZiAoZ3JvdXAub25lb2ZLaW5kICE9PSBmaWVsZC5sb2NhbE5hbWUpXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG5vdCBzZWxlY3RlZCwgc2tpcFxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gZmllbGQua2luZCA9PSAnc2NhbGFyJyB8fCBmaWVsZC5raW5kID09ICdlbnVtJ1xuICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBlbWl0RGVmYXVsdFZhbHVlczogdHJ1ZSB9KSA6IG9wdGlvbnM7XG4gICAgICAgICAgICBsZXQganNvblZhbHVlID0gdGhpcy5maWVsZChmaWVsZCwgZ3JvdXBbZmllbGQubG9jYWxOYW1lXSwgb3B0KTtcbiAgICAgICAgICAgIGFzc2VydChqc29uVmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBqc29uW29wdGlvbnMudXNlUHJvdG9GaWVsZE5hbWUgPyBmaWVsZC5uYW1lIDogZmllbGQuanNvbk5hbWVdID0ganNvblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICBmaWVsZChmaWVsZCwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGpzb25WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGZpZWxkLmtpbmQgPT0gJ21hcCcpIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCk7XG4gICAgICAgICAgICBjb25zdCBqc29uT2JqID0ge307XG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZW50cnlLZXksIGVudHJ5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5zY2FsYXIoZmllbGQuVi5ULCBlbnRyeVZhbHVlLCBmaWVsZC5uYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleS50b1N0cmluZygpXSA9IHZhbDsgLy8gSlNPTiBzdGFuZGFyZCBhbGxvd3Mgb25seSAoZG91YmxlIHF1b3RlZCkgc3RyaW5nIGFzIHByb3BlcnR5IGtleVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VUeXBlID0gZmllbGQuVi5UKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWVzc2FnZShtZXNzYWdlVHlwZSwgZW50cnlWYWx1ZSwgZmllbGQubmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleS50b1N0cmluZygpXSA9IHZhbDsgLy8gSlNPTiBzdGFuZGFyZCBhbGxvd3Mgb25seSAoZG91YmxlIHF1b3RlZCkgc3RyaW5nIGFzIHByb3BlcnR5IGtleVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudW1JbmZvID0gZmllbGQuVi5UKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChlbnRyeVZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGVudHJ5VmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5lbnVtKGVudW1JbmZvLCBlbnRyeVZhbHVlLCBmaWVsZC5uYW1lLCBmYWxzZSwgdHJ1ZSwgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uT2JqW2VudHJ5S2V5LnRvU3RyaW5nKCldID0gdmFsOyAvLyBKU09OIHN0YW5kYXJkIGFsbG93cyBvbmx5IChkb3VibGUgcXVvdGVkKSBzdHJpbmcgYXMgcHJvcGVydHkga2V5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyB8fCBPYmplY3Qua2V5cyhqc29uT2JqKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIGpzb25WYWx1ZSA9IGpzb25PYmo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGQucmVwZWF0KSB7XG4gICAgICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpO1xuICAgICAgICAgICAgY29uc3QganNvbkFyciA9IFtdO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnNjYWxhcihmaWVsZC5ULCB2YWx1ZVtpXSwgZmllbGQubmFtZSwgZmllbGQub3B0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnVtSW5mbyA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHZhbHVlW2ldID09ICdudW1iZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZW51bShlbnVtSW5mbywgdmFsdWVbaV0sIGZpZWxkLm5hbWUsIGZpZWxkLm9wdCwgdHJ1ZSwgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlVHlwZSA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VUeXBlLCB2YWx1ZVtpXSwgZmllbGQubmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbkFyci5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgY29udmVydGVkIGFycmF5IHRvIGpzb24gb3V0cHV0XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyB8fCBqc29uQXJyLmxlbmd0aCA+IDAgfHwgb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcylcbiAgICAgICAgICAgICAgICBqc29uVmFsdWUgPSBqc29uQXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBqc29uVmFsdWUgPSB0aGlzLnNjYWxhcihmaWVsZC5ULCB2YWx1ZSwgZmllbGQubmFtZSwgZmllbGQub3B0LCBvcHRpb25zLmVtaXREZWZhdWx0VmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAganNvblZhbHVlID0gdGhpcy5lbnVtKGZpZWxkLlQoKSwgdmFsdWUsIGZpZWxkLm5hbWUsIGZpZWxkLm9wdCwgb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcywgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAganNvblZhbHVlID0gdGhpcy5tZXNzYWdlKGZpZWxkLlQoKSwgdmFsdWUsIGZpZWxkLm5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvblZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGBudWxsYCBhcyB0aGUgZGVmYXVsdCBmb3IgZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZS5cbiAgICAgKi9cbiAgICBlbnVtKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbmFsLCBlbWl0RGVmYXVsdFZhbHVlcywgZW51bUFzSW50ZWdlcikge1xuICAgICAgICBpZiAodHlwZVswXSA9PSAnZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZScpXG4gICAgICAgICAgICByZXR1cm4gIWVtaXREZWZhdWx0VmFsdWVzICYmICFvcHRpb25hbCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnQob3B0aW9uYWwpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IDAgJiYgIWVtaXREZWZhdWx0VmFsdWVzICYmICFvcHRpb25hbClcbiAgICAgICAgICAgIC8vIHdlIHJlcXVpcmUgMCB0byBiZSBkZWZhdWx0IHZhbHVlIGZvciBhbGwgZW51bXNcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICBhc3NlcnQoTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpO1xuICAgICAgICBpZiAoZW51bUFzSW50ZWdlciB8fCAhdHlwZVsxXS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpXG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBub3cgdGhlIGVudW0gdmFsdWUsIGp1c3QgcmV0dXJuIHRoZSBudW1iZXJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVbMl0pXG4gICAgICAgICAgICAvLyByZXN0b3JlIHRoZSBkcm9wcGVkIHByZWZpeFxuICAgICAgICAgICAgcmV0dXJuIHR5cGVbMl0gKyB0eXBlWzFdW3ZhbHVlXTtcbiAgICAgICAgcmV0dXJuIHR5cGVbMV1bdmFsdWVdO1xuICAgIH1cbiAgICBtZXNzYWdlKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyA/IG51bGwgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0eXBlLmludGVybmFsSnNvbldyaXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc2NhbGFyKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbmFsLCBlbWl0RGVmYXVsdFZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0KG9wdGlvbmFsKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWQgPSBlbWl0RGVmYXVsdFZhbHVlcyB8fCBvcHRpb25hbDtcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIC8vIGludDMyLCBmaXhlZDMyLCB1aW50MzI6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgbnVtYmVyLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydFVJbnQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gZmxvYXQsIGRvdWJsZTogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCBzdHJpbmcgdmFsdWVzIFwiTmFOXCIsIFwiSW5maW5pdHlcIiwgYW5kIFwiLUluZmluaXR5XCIuXG4gICAgICAgICAgICAvLyBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC4gRXhwb25lbnQgbm90YXRpb24gaXMgYWxzbyBhY2NlcHRlZC5cbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICBhc3NlcnRGbG9hdDMyKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ05hTic7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnSW5maW5pdHknO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJy1JbmZpbml0eSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gc3RyaW5nOlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlZCA/ICcnIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIC8vIGJvb2w6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyBmYWxzZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlID09ICdib29sZWFuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBzdHJpbmcuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PSAnYmlnaW50Jyk7XG4gICAgICAgICAgICAgICAgbGV0IHVsb25nID0gUGJVTG9uZy5mcm9tKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAodWxvbmcuaXNaZXJvKCkgJiYgIWVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bG9uZy50b1N0cmluZygpO1xuICAgICAgICAgICAgLy8gSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBzdHJpbmcuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT0gJ2JpZ2ludCcpO1xuICAgICAgICAgICAgICAgIGxldCBsb25nID0gUGJMb25nLmZyb20odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChsb25nLmlzWmVybygpICYmICFlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xuICAgICAgICAgICAgLy8gYnl0ZXM6IEpTT04gdmFsdWUgd2lsbCBiZSB0aGUgZGF0YSBlbmNvZGVkIGFzIGEgc3RyaW5nIHVzaW5nIHN0YW5kYXJkIGJhc2U2NCBlbmNvZGluZyB3aXRoIHBhZGRpbmdzLlxuICAgICAgICAgICAgLy8gRWl0aGVyIHN0YW5kYXJkIG9yIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyB3aXRoL3dpdGhvdXQgcGFkZGluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgICAgIGFzc2VydCh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkID8gXCJcIiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0ZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reflectionLongConvert: function() { return /* binding */ reflectionLongConvert; }\n/* harmony export */ });\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n\n/**\n * Utility method to convert a PbLong or PbUlong to a JavaScript\n * representation during runtime.\n *\n * Works with generated field information, `undefined` is equivalent\n * to `STRING`.\n */\nfunction reflectionLongConvert(long, type) {\n    switch (type) {\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.LongType.BIGINT:\n            return long.toBigInt();\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.LongType.NUMBER:\n            return long.toNumber();\n        default:\n            // case undefined:\n            // case LongType.STRING:\n            return long.toString();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1sb25nLWNvbnZlcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsYUFBYSxzREFBUTtBQUNyQjtBQUNBLGFBQWEsc0RBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWxvbmctY29udmVydC5qcz84OWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvbmdUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHRvIGNvbnZlcnQgYSBQYkxvbmcgb3IgUGJVbG9uZyB0byBhIEphdmFTY3JpcHRcbiAqIHJlcHJlc2VudGF0aW9uIGR1cmluZyBydW50aW1lLlxuICpcbiAqIFdvcmtzIHdpdGggZ2VuZXJhdGVkIGZpZWxkIGluZm9ybWF0aW9uLCBgdW5kZWZpbmVkYCBpcyBlcXVpdmFsZW50XG4gKiB0byBgU1RSSU5HYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3Rpb25Mb25nQ29udmVydChsb25nLCB0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTG9uZ1R5cGUuQklHSU5UOlxuICAgICAgICAgICAgcmV0dXJuIGxvbmcudG9CaWdJbnQoKTtcbiAgICAgICAgY2FzZSBMb25nVHlwZS5OVU1CRVI6XG4gICAgICAgICAgICByZXR1cm4gbG9uZy50b051bWJlcigpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICAvLyBjYXNlIExvbmdUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBsb25nLnRvU3RyaW5nKCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reflectionMergePartial: function() { return /* binding */ reflectionMergePartial; }\n/* harmony export */ });\n/**\n * Copy partial data into the target message.\n *\n * If a singular scalar or enum field is present in the source, it\n * replaces the field in the target.\n *\n * If a singular message field is present in the source, it is merged\n * with the target field by calling mergePartial() of the responsible\n * message type.\n *\n * If a repeated field is present in the source, its values replace\n * all values in the target array, removing extraneous values.\n * Repeated message fields are copied, not merged.\n *\n * If a map field is present in the source, entries are added to the\n * target map, replacing entries with the same key. Entries that only\n * exist in the target remain. Entries with message values are copied,\n * not merged.\n *\n * Note that this function differs from protobuf merge semantics,\n * which appends repeated fields.\n */\nfunction reflectionMergePartial(info, target, source) {\n    let fieldValue, // the field value we are working with\n    input = source, output; // where we want our field value to go\n    for (let field of info.fields) {\n        let name = field.localName;\n        if (field.oneof) {\n            const group = input[field.oneof]; // this is the oneof`s group in the source\n            if ((group === null || group === void 0 ? void 0 : group.oneofKind) == undefined) { // the user is free to omit\n                continue; // we skip this field, and all other members too\n            }\n            fieldValue = group[name]; // our value comes from the the oneof group of the source\n            output = target[field.oneof]; // and our output is the oneof group of the target\n            output.oneofKind = group.oneofKind; // always update discriminator\n            if (fieldValue == undefined) {\n                delete output[name]; // remove any existing value\n                continue; // skip further work on field\n            }\n        }\n        else {\n            fieldValue = input[name]; // we are using the source directly\n            output = target; // we want our field value to go directly into the target\n            if (fieldValue == undefined) {\n                continue; // skip further work on field, existing value is used as is\n            }\n        }\n        if (field.repeat)\n            output[name].length = fieldValue.length; // resize target array to match source array\n        // now we just work with `fieldValue` and `output` to merge the value\n        switch (field.kind) {\n            case \"scalar\":\n            case \"enum\":\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = fieldValue[i]; // not a reference type\n                else\n                    output[name] = fieldValue; // not a reference type\n                break;\n            case \"message\":\n                let T = field.T();\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = T.create(fieldValue[i]);\n                else if (output[name] === undefined)\n                    output[name] = T.create(fieldValue); // nothing to merge with\n                else\n                    T.mergePartial(output[name], fieldValue);\n                break;\n            case \"map\":\n                // Map and repeated fields are simply overwritten, not appended or merged\n                switch (field.V.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        Object.assign(output[name], fieldValue); // elements are not reference types\n                        break;\n                    case \"message\":\n                        let T = field.V.T();\n                        for (let k of Object.keys(fieldValue))\n                            output[name][k] = T.create(fieldValue[k]);\n                        break;\n                }\n                break;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1tZXJnZS1wYXJ0aWFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLGdHQUFnRztBQUNoRywwQkFBMEI7QUFDMUI7QUFDQSxzQ0FBc0M7QUFDdEMsMENBQTBDO0FBQzFDLGdEQUFnRDtBQUNoRDtBQUNBLHFDQUFxQztBQUNyQywwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLDZCQUE2QjtBQUM3QjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0QseURBQXlEO0FBQ3pEO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVCQUF1QjtBQUMzRDtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tbWVyZ2UtcGFydGlhbC5qcz80M2IzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weSBwYXJ0aWFsIGRhdGEgaW50byB0aGUgdGFyZ2V0IG1lc3NhZ2UuXG4gKlxuICogSWYgYSBzaW5ndWxhciBzY2FsYXIgb3IgZW51bSBmaWVsZCBpcyBwcmVzZW50IGluIHRoZSBzb3VyY2UsIGl0XG4gKiByZXBsYWNlcyB0aGUgZmllbGQgaW4gdGhlIHRhcmdldC5cbiAqXG4gKiBJZiBhIHNpbmd1bGFyIG1lc3NhZ2UgZmllbGQgaXMgcHJlc2VudCBpbiB0aGUgc291cmNlLCBpdCBpcyBtZXJnZWRcbiAqIHdpdGggdGhlIHRhcmdldCBmaWVsZCBieSBjYWxsaW5nIG1lcmdlUGFydGlhbCgpIG9mIHRoZSByZXNwb25zaWJsZVxuICogbWVzc2FnZSB0eXBlLlxuICpcbiAqIElmIGEgcmVwZWF0ZWQgZmllbGQgaXMgcHJlc2VudCBpbiB0aGUgc291cmNlLCBpdHMgdmFsdWVzIHJlcGxhY2VcbiAqIGFsbCB2YWx1ZXMgaW4gdGhlIHRhcmdldCBhcnJheSwgcmVtb3ZpbmcgZXh0cmFuZW91cyB2YWx1ZXMuXG4gKiBSZXBlYXRlZCBtZXNzYWdlIGZpZWxkcyBhcmUgY29waWVkLCBub3QgbWVyZ2VkLlxuICpcbiAqIElmIGEgbWFwIGZpZWxkIGlzIHByZXNlbnQgaW4gdGhlIHNvdXJjZSwgZW50cmllcyBhcmUgYWRkZWQgdG8gdGhlXG4gKiB0YXJnZXQgbWFwLCByZXBsYWNpbmcgZW50cmllcyB3aXRoIHRoZSBzYW1lIGtleS4gRW50cmllcyB0aGF0IG9ubHlcbiAqIGV4aXN0IGluIHRoZSB0YXJnZXQgcmVtYWluLiBFbnRyaWVzIHdpdGggbWVzc2FnZSB2YWx1ZXMgYXJlIGNvcGllZCxcbiAqIG5vdCBtZXJnZWQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gZGlmZmVycyBmcm9tIHByb3RvYnVmIG1lcmdlIHNlbWFudGljcyxcbiAqIHdoaWNoIGFwcGVuZHMgcmVwZWF0ZWQgZmllbGRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdGlvbk1lcmdlUGFydGlhbChpbmZvLCB0YXJnZXQsIHNvdXJjZSkge1xuICAgIGxldCBmaWVsZFZhbHVlLCAvLyB0aGUgZmllbGQgdmFsdWUgd2UgYXJlIHdvcmtpbmcgd2l0aFxuICAgIGlucHV0ID0gc291cmNlLCBvdXRwdXQ7IC8vIHdoZXJlIHdlIHdhbnQgb3VyIGZpZWxkIHZhbHVlIHRvIGdvXG4gICAgZm9yIChsZXQgZmllbGQgb2YgaW5mby5maWVsZHMpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBpbnB1dFtmaWVsZC5vbmVvZl07IC8vIHRoaXMgaXMgdGhlIG9uZW9mYHMgZ3JvdXAgaW4gdGhlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKChncm91cCA9PT0gbnVsbCB8fCBncm91cCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3JvdXAub25lb2ZLaW5kKSA9PSB1bmRlZmluZWQpIHsgLy8gdGhlIHVzZXIgaXMgZnJlZSB0byBvbWl0XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIHdlIHNraXAgdGhpcyBmaWVsZCwgYW5kIGFsbCBvdGhlciBtZW1iZXJzIHRvb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGRWYWx1ZSA9IGdyb3VwW25hbWVdOyAvLyBvdXIgdmFsdWUgY29tZXMgZnJvbSB0aGUgdGhlIG9uZW9mIGdyb3VwIG9mIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIG91dHB1dCA9IHRhcmdldFtmaWVsZC5vbmVvZl07IC8vIGFuZCBvdXIgb3V0cHV0IGlzIHRoZSBvbmVvZiBncm91cCBvZiB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBvdXRwdXQub25lb2ZLaW5kID0gZ3JvdXAub25lb2ZLaW5kOyAvLyBhbHdheXMgdXBkYXRlIGRpc2NyaW1pbmF0b3JcbiAgICAgICAgICAgIGlmIChmaWVsZFZhbHVlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvdXRwdXRbbmFtZV07IC8vIHJlbW92ZSBhbnkgZXhpc3RpbmcgdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBmdXJ0aGVyIHdvcmsgb24gZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBpbnB1dFtuYW1lXTsgLy8gd2UgYXJlIHVzaW5nIHRoZSBzb3VyY2UgZGlyZWN0bHlcbiAgICAgICAgICAgIG91dHB1dCA9IHRhcmdldDsgLy8gd2Ugd2FudCBvdXIgZmllbGQgdmFsdWUgdG8gZ28gZGlyZWN0bHkgaW50byB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBpZiAoZmllbGRWYWx1ZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBmdXJ0aGVyIHdvcmsgb24gZmllbGQsIGV4aXN0aW5nIHZhbHVlIGlzIHVzZWQgYXMgaXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgb3V0cHV0W25hbWVdLmxlbmd0aCA9IGZpZWxkVmFsdWUubGVuZ3RoOyAvLyByZXNpemUgdGFyZ2V0IGFycmF5IHRvIG1hdGNoIHNvdXJjZSBhcnJheVxuICAgICAgICAvLyBub3cgd2UganVzdCB3b3JrIHdpdGggYGZpZWxkVmFsdWVgIGFuZCBgb3V0cHV0YCB0byBtZXJnZSB0aGUgdmFsdWVcbiAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXBlYXQpXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRWYWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuYW1lXVtpXSA9IGZpZWxkVmFsdWVbaV07IC8vIG5vdCBhIHJlZmVyZW5jZSB0eXBlXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV0gPSBmaWVsZFZhbHVlOyAvLyBub3QgYSByZWZlcmVuY2UgdHlwZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkVmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV1baV0gPSBULmNyZWF0ZShmaWVsZFZhbHVlW2ldKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXRwdXRbbmFtZV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25hbWVdID0gVC5jcmVhdGUoZmllbGRWYWx1ZSk7IC8vIG5vdGhpbmcgdG8gbWVyZ2Ugd2l0aFxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgVC5tZXJnZVBhcnRpYWwob3V0cHV0W25hbWVdLCBmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICAvLyBNYXAgYW5kIHJlcGVhdGVkIGZpZWxkcyBhcmUgc2ltcGx5IG92ZXJ3cml0dGVuLCBub3QgYXBwZW5kZWQgb3IgbWVyZ2VkXG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5WLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdXRwdXRbbmFtZV0sIGZpZWxkVmFsdWUpOyAvLyBlbGVtZW50cyBhcmUgbm90IHJlZmVyZW5jZSB0eXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLlYuVCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhmaWVsZFZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV1ba10gPSBULmNyZWF0ZShmaWVsZFZhbHVlW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reflectionScalarDefault: function() { return /* binding */ reflectionScalarDefault; }\n/* harmony export */ });\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _reflection_long_convert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-long-convert */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js\");\n/* harmony import */ var _pb_long__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pb-long */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n\n\n\n/**\n * Creates the default value for a scalar type.\n */\nfunction reflectionScalarDefault(type, longType = _reflection_info__WEBPACK_IMPORTED_MODULE_0__.LongType.STRING) {\n    switch (type) {\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BOOL:\n            return false;\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.UINT64:\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FIXED64:\n            return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_1__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_2__.PbULong.ZERO, longType);\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.INT64:\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SFIXED64:\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.SINT64:\n            return (0,_reflection_long_convert__WEBPACK_IMPORTED_MODULE_1__.reflectionLongConvert)(_pb_long__WEBPACK_IMPORTED_MODULE_2__.PbLong.ZERO, longType);\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.DOUBLE:\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.FLOAT:\n            return 0.0;\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.BYTES:\n            return new Uint8Array(0);\n        case _reflection_info__WEBPACK_IMPORTED_MODULE_0__.ScalarType.STRING:\n            return \"\";\n        default:\n            // case ScalarType.INT32:\n            // case ScalarType.UINT32:\n            // case ScalarType.SINT32:\n            // case ScalarType.FIXED32:\n            // case ScalarType.SFIXED32:\n            return 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1zY2FsYXItZGVmYXVsdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ1M7QUFDdEI7QUFDNUM7QUFDQTtBQUNBO0FBQ08sa0RBQWtELHNEQUFRO0FBQ2pFO0FBQ0EsYUFBYSx3REFBVTtBQUN2QjtBQUNBLGFBQWEsd0RBQVU7QUFDdkIsYUFBYSx3REFBVTtBQUN2QixtQkFBbUIsK0VBQXFCLENBQUMsNkNBQU87QUFDaEQsYUFBYSx3REFBVTtBQUN2QixhQUFhLHdEQUFVO0FBQ3ZCLGFBQWEsd0RBQVU7QUFDdkIsbUJBQW1CLCtFQUFxQixDQUFDLDRDQUFNO0FBQy9DLGFBQWEsd0RBQVU7QUFDdkIsYUFBYSx3REFBVTtBQUN2QjtBQUNBLGFBQWEsd0RBQVU7QUFDdkI7QUFDQSxhQUFhLHdEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1zY2FsYXItZGVmYXVsdC5qcz84ZTIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvbmdUeXBlLCBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTG9uZ0NvbnZlcnQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWxvbmctY29udmVydFwiO1xuaW1wb3J0IHsgUGJMb25nLCBQYlVMb25nIH0gZnJvbSBcIi4vcGItbG9uZ1wiO1xuLyoqXG4gKiBDcmVhdGVzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBhIHNjYWxhciB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdGlvblNjYWxhckRlZmF1bHQodHlwZSwgbG9uZ1R5cGUgPSBMb25nVHlwZS5TVFJJTkcpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChQYlVMb25nLlpFUk8sIGxvbmdUeXBlKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KFBiTG9uZy5aRVJPLCBsb25nVHlwZSk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAvLyBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReflectionTypeCheck: function() { return /* binding */ ReflectionTypeCheck; }\n/* harmony export */ });\n/* harmony import */ var _reflection_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reflection-info */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js\");\n/* harmony import */ var _oneof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./oneof */ \"(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/oneof.js\");\n\n\n// noinspection JSMethodCanBeStatic\nclass ReflectionTypeCheck {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    prepare() {\n        if (this.data)\n            return;\n        const req = [], known = [], oneofs = [];\n        for (let field of this.fields) {\n            if (field.oneof) {\n                if (!oneofs.includes(field.oneof)) {\n                    oneofs.push(field.oneof);\n                    req.push(field.oneof);\n                    known.push(field.oneof);\n                }\n            }\n            else {\n                known.push(field.localName);\n                switch (field.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        if (!field.opt || field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"message\":\n                        if (field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"map\":\n                        req.push(field.localName);\n                        break;\n                }\n            }\n        }\n        this.data = { req, known, oneofs: Object.values(oneofs) };\n    }\n    /**\n     * Is the argument a valid message as specified by the\n     * reflection information?\n     *\n     * Checks all field types recursively. The `depth`\n     * specifies how deep into the structure the check will be.\n     *\n     * With a depth of 0, only the presence of fields\n     * is checked.\n     *\n     * With a depth of 1 or more, the field types are checked.\n     *\n     * With a depth of 2 or more, the members of map, repeated\n     * and message fields are checked.\n     *\n     * Message fields will be checked recursively with depth - 1.\n     *\n     * The number of map entries / repeated values being checked\n     * is < depth.\n     */\n    is(message, depth, allowExcessProperties = false) {\n        if (depth < 0)\n            return true;\n        if (message === null || message === undefined || typeof message != 'object')\n            return false;\n        this.prepare();\n        let keys = Object.keys(message), data = this.data;\n        // if a required field is missing in arg, this cannot be a T\n        if (keys.length < data.req.length || data.req.some(n => !keys.includes(n)))\n            return false;\n        if (!allowExcessProperties) {\n            // if the arg contains a key we dont know, this is not a literal T\n            if (keys.some(k => !data.known.includes(k)))\n                return false;\n        }\n        // \"With a depth of 0, only the presence and absence of fields is checked.\"\n        // \"With a depth of 1 or more, the field types are checked.\"\n        if (depth < 1) {\n            return true;\n        }\n        // check oneof group\n        for (const name of data.oneofs) {\n            const group = message[name];\n            if (!(0,_oneof__WEBPACK_IMPORTED_MODULE_0__.isOneofGroup)(group))\n                return false;\n            if (group.oneofKind === undefined)\n                continue;\n            const field = this.fields.find(f => f.localName === group.oneofKind);\n            if (!field)\n                return false; // we found no field, but have a kind, something is wrong\n            if (!this.field(group[group.oneofKind], field, allowExcessProperties, depth))\n                return false;\n        }\n        // check types\n        for (const field of this.fields) {\n            if (field.oneof !== undefined)\n                continue;\n            if (!this.field(message[field.localName], field, allowExcessProperties, depth))\n                return false;\n        }\n        return true;\n    }\n    field(arg, field, allowExcessProperties, depth) {\n        let repeated = field.repeat;\n        switch (field.kind) {\n            case \"scalar\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, field.T, depth, field.L);\n                return this.scalar(arg, field.T, field.L);\n            case \"enum\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32, depth);\n                return this.scalar(arg, _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32);\n            case \"message\":\n                if (arg === undefined)\n                    return true;\n                if (repeated)\n                    return this.messages(arg, field.T(), allowExcessProperties, depth);\n                return this.message(arg, field.T(), allowExcessProperties, depth);\n            case \"map\":\n                if (typeof arg != 'object' || arg === null)\n                    return false;\n                if (depth < 2)\n                    return true;\n                if (!this.mapKeys(arg, field.K, depth))\n                    return false;\n                switch (field.V.kind) {\n                    case \"scalar\":\n                        return this.scalars(Object.values(arg), field.V.T, depth, field.V.L);\n                    case \"enum\":\n                        return this.scalars(Object.values(arg), _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32, depth);\n                    case \"message\":\n                        return this.messages(Object.values(arg), field.V.T(), allowExcessProperties, depth);\n                }\n                break;\n        }\n        return true;\n    }\n    message(arg, type, allowExcessProperties, depth) {\n        if (allowExcessProperties) {\n            return type.isAssignable(arg, depth);\n        }\n        return type.is(arg, depth);\n    }\n    messages(arg, type, allowExcessProperties, depth) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (allowExcessProperties) {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.isAssignable(arg[i], depth - 1))\n                    return false;\n        }\n        else {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.is(arg[i], depth - 1))\n                    return false;\n        }\n        return true;\n    }\n    scalar(arg, type, longType) {\n        let argType = typeof arg;\n        switch (type) {\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED64:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT64:\n                switch (longType) {\n                    case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.LongType.BIGINT:\n                        return argType == \"bigint\";\n                    case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.LongType.NUMBER:\n                        return argType == \"number\" && !isNaN(arg);\n                    default:\n                        return argType == \"string\";\n                }\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL:\n                return argType == 'boolean';\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.STRING:\n                return argType == 'string';\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BYTES:\n                return arg instanceof Uint8Array;\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.DOUBLE:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FLOAT:\n                return argType == 'number' && !isNaN(arg);\n            default:\n                // case ScalarType.UINT32:\n                // case ScalarType.FIXED32:\n                // case ScalarType.INT32:\n                // case ScalarType.SINT32:\n                // case ScalarType.SFIXED32:\n                return argType == 'number' && Number.isInteger(arg);\n        }\n    }\n    scalars(arg, type, depth, longType) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (Array.isArray(arg))\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!this.scalar(arg[i], type, longType))\n                    return false;\n        return true;\n    }\n    mapKeys(map, type, depth) {\n        let keys = Object.keys(map);\n        switch (type) {\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.INT32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.FIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SFIXED32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.SINT32:\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.UINT32:\n                return this.scalars(keys.slice(0, depth).map(k => parseInt(k)), type, depth);\n            case _reflection_info__WEBPACK_IMPORTED_MODULE_1__.ScalarType.BOOL:\n                return this.scalars(keys.slice(0, depth).map(k => k == 'true' ? true : k == 'false' ? false : k), type, depth);\n            default:\n                return this.scalars(keys, type, depth, _reflection_info__WEBPACK_IMPORTED_MODULE_1__.LongType.STRING);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi10eXBlLWNoZWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDtBQUNsQjtBQUN2QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvREFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHdEQUFVO0FBQ3ZELHdDQUF3Qyx3REFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHdEQUFVO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSx5QkFBeUIsc0RBQVE7QUFDakM7QUFDQSx5QkFBeUIsc0RBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0IsaUJBQWlCLHdEQUFVO0FBQzNCLGlCQUFpQix3REFBVTtBQUMzQixpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQSxpQkFBaUIsd0RBQVU7QUFDM0I7QUFDQTtBQUNBLHVEQUF1RCxzREFBUTtBQUMvRDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLXR5cGUtY2hlY2suanM/MDA2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb25nVHlwZSwgU2NhbGFyVHlwZSB9IGZyb20gXCIuL3JlZmxlY3Rpb24taW5mb1wiO1xuaW1wb3J0IHsgaXNPbmVvZkdyb3VwIH0gZnJvbSBcIi4vb25lb2ZcIjtcbi8vIG5vaW5zcGVjdGlvbiBKU01ldGhvZENhbkJlU3RhdGljXG5leHBvcnQgY2xhc3MgUmVmbGVjdGlvblR5cGVDaGVjayB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZmllbGRzID0gKF9hID0gaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXEgPSBbXSwga25vd24gPSBbXSwgb25lb2ZzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIHRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9uZW9mcy5pbmNsdWRlcyhmaWVsZC5vbmVvZikpIHtcbiAgICAgICAgICAgICAgICAgICAgb25lb2ZzLnB1c2goZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgICAgICByZXEucHVzaChmaWVsZC5vbmVvZik7XG4gICAgICAgICAgICAgICAgICAgIGtub3duLnB1c2goZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGtub3duLnB1c2goZmllbGQubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWVsZC5vcHQgfHwgZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5wdXNoKGZpZWxkLmxvY2FsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXBlYXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnB1c2goZmllbGQubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEucHVzaChmaWVsZC5sb2NhbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YSA9IHsgcmVxLCBrbm93biwgb25lb2ZzOiBPYmplY3QudmFsdWVzKG9uZW9mcykgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhlIGFyZ3VtZW50IGEgdmFsaWQgbWVzc2FnZSBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gICAgICogcmVmbGVjdGlvbiBpbmZvcm1hdGlvbj9cbiAgICAgKlxuICAgICAqIENoZWNrcyBhbGwgZmllbGQgdHlwZXMgcmVjdXJzaXZlbHkuIFRoZSBgZGVwdGhgXG4gICAgICogc3BlY2lmaWVzIGhvdyBkZWVwIGludG8gdGhlIHN0cnVjdHVyZSB0aGUgY2hlY2sgd2lsbCBiZS5cbiAgICAgKlxuICAgICAqIFdpdGggYSBkZXB0aCBvZiAwLCBvbmx5IHRoZSBwcmVzZW5jZSBvZiBmaWVsZHNcbiAgICAgKiBpcyBjaGVja2VkLlxuICAgICAqXG4gICAgICogV2l0aCBhIGRlcHRoIG9mIDEgb3IgbW9yZSwgdGhlIGZpZWxkIHR5cGVzIGFyZSBjaGVja2VkLlxuICAgICAqXG4gICAgICogV2l0aCBhIGRlcHRoIG9mIDIgb3IgbW9yZSwgdGhlIG1lbWJlcnMgb2YgbWFwLCByZXBlYXRlZFxuICAgICAqIGFuZCBtZXNzYWdlIGZpZWxkcyBhcmUgY2hlY2tlZC5cbiAgICAgKlxuICAgICAqIE1lc3NhZ2UgZmllbGRzIHdpbGwgYmUgY2hlY2tlZCByZWN1cnNpdmVseSB3aXRoIGRlcHRoIC0gMS5cbiAgICAgKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbWFwIGVudHJpZXMgLyByZXBlYXRlZCB2YWx1ZXMgYmVpbmcgY2hlY2tlZFxuICAgICAqIGlzIDwgZGVwdGguXG4gICAgICovXG4gICAgaXMobWVzc2FnZSwgZGVwdGgsIGFsbG93RXhjZXNzUHJvcGVydGllcyA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChkZXB0aCA8IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBtZXNzYWdlICE9ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlKSwgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgLy8gaWYgYSByZXF1aXJlZCBmaWVsZCBpcyBtaXNzaW5nIGluIGFyZywgdGhpcyBjYW5ub3QgYmUgYSBUXG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA8IGRhdGEucmVxLmxlbmd0aCB8fCBkYXRhLnJlcS5zb21lKG4gPT4gIWtleXMuaW5jbHVkZXMobikpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWFsbG93RXhjZXNzUHJvcGVydGllcykge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGFyZyBjb250YWlucyBhIGtleSB3ZSBkb250IGtub3csIHRoaXMgaXMgbm90IGEgbGl0ZXJhbCBUXG4gICAgICAgICAgICBpZiAoa2V5cy5zb21lKGsgPT4gIWRhdGEua25vd24uaW5jbHVkZXMoaykpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBcIldpdGggYSBkZXB0aCBvZiAwLCBvbmx5IHRoZSBwcmVzZW5jZSBhbmQgYWJzZW5jZSBvZiBmaWVsZHMgaXMgY2hlY2tlZC5cIlxuICAgICAgICAvLyBcIldpdGggYSBkZXB0aCBvZiAxIG9yIG1vcmUsIHRoZSBmaWVsZCB0eXBlcyBhcmUgY2hlY2tlZC5cIlxuICAgICAgICBpZiAoZGVwdGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBvbmVvZiBncm91cFxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgZGF0YS5vbmVvZnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbWVzc2FnZVtuYW1lXTtcbiAgICAgICAgICAgIGlmICghaXNPbmVvZkdyb3VwKGdyb3VwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZ3JvdXAub25lb2ZLaW5kID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoZiA9PiBmLmxvY2FsTmFtZSA9PT0gZ3JvdXAub25lb2ZLaW5kKTtcbiAgICAgICAgICAgIGlmICghZmllbGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyB3ZSBmb3VuZCBubyBmaWVsZCwgYnV0IGhhdmUgYSBraW5kLCBzb21ldGhpbmcgaXMgd3JvbmdcbiAgICAgICAgICAgIGlmICghdGhpcy5maWVsZChncm91cFtncm91cC5vbmVvZktpbmRdLCBmaWVsZCwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHR5cGVzXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5vbmVvZiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpZWxkKG1lc3NhZ2VbZmllbGQubG9jYWxOYW1lXSwgZmllbGQsIGFsbG93RXhjZXNzUHJvcGVydGllcywgZGVwdGgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZmllbGQoYXJnLCBmaWVsZCwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCkge1xuICAgICAgICBsZXQgcmVwZWF0ZWQgPSBmaWVsZC5yZXBlYXQ7XG4gICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLm9wdDtcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoYXJnLCBmaWVsZC5ULCBkZXB0aCwgZmllbGQuTCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFyKGFyZywgZmllbGQuVCwgZmllbGQuTCk7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLm9wdDtcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoYXJnLCBTY2FsYXJUeXBlLklOVDMyLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFyKGFyZywgU2NhbGFyVHlwZS5JTlQzMik7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhhcmcsIGZpZWxkLlQoKSwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZShhcmcsIGZpZWxkLlQoKSwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCk7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgIT0gJ29iamVjdCcgfHwgYXJnID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoIDwgMilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hcEtleXMoYXJnLCBmaWVsZC5LLCBkZXB0aCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsYXJzKE9iamVjdC52YWx1ZXMoYXJnKSwgZmllbGQuVi5ULCBkZXB0aCwgZmllbGQuVi5MKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoT2JqZWN0LnZhbHVlcyhhcmcpLCBTY2FsYXJUeXBlLklOVDMyLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhPYmplY3QudmFsdWVzKGFyZyksIGZpZWxkLlYuVCgpLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1lc3NhZ2UoYXJnLCB0eXBlLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKSB7XG4gICAgICAgIGlmIChhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmlzQXNzaWduYWJsZShhcmcsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZS5pcyhhcmcsIGRlcHRoKTtcbiAgICB9XG4gICAgbWVzc2FnZXMoYXJnLCB0eXBlLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoZGVwdGggPCAyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmxlbmd0aCAmJiBpIDwgZGVwdGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUuaXNBc3NpZ25hYmxlKGFyZ1tpXSwgZGVwdGggLSAxKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmcubGVuZ3RoICYmIGkgPCBkZXB0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmICghdHlwZS5pcyhhcmdbaV0sIGRlcHRoIC0gMSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2NhbGFyKGFyZywgdHlwZSwgbG9uZ1R5cGUpIHtcbiAgICAgICAgbGV0IGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChsb25nVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIExvbmdUeXBlLkJJR0lOVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09IFwiYmlnaW50XCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTG9uZ1R5cGUuTlVNQkVSOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gXCJudW1iZXJcIiAmJiAhaXNOYU4oYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gJ2Jvb2xlYW4nO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnVHlwZSA9PSAnc3RyaW5nJztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gJ251bWJlcicgJiYgIWlzTmFOKGFyZyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09ICdudW1iZXInICYmIE51bWJlci5pc0ludGVnZXIoYXJnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY2FsYXJzKGFyZywgdHlwZSwgZGVwdGgsIGxvbmdUeXBlKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoZGVwdGggPCAyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5sZW5ndGggJiYgaSA8IGRlcHRoOyBpKyspXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNjYWxhcihhcmdbaV0sIHR5cGUsIGxvbmdUeXBlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbWFwS2V5cyhtYXAsIHR5cGUsIGRlcHRoKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoa2V5cy5zbGljZSgwLCBkZXB0aCkubWFwKGsgPT4gcGFyc2VJbnQoaykpLCB0eXBlLCBkZXB0aCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsYXJzKGtleXMuc2xpY2UoMCwgZGVwdGgpLm1hcChrID0+IGsgPT0gJ3RydWUnID8gdHJ1ZSA6IGsgPT0gJ2ZhbHNlJyA/IGZhbHNlIDogayksIHR5cGUsIGRlcHRoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFycyhrZXlzLCB0eXBlLCBkZXB0aCwgTG9uZ1R5cGUuU1RSSU5HKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/clone-deep/index.js":
/*!******************************************!*\
  !*** ./node_modules/clone-deep/index.js ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\n/**\n * Module dependenices\n */\n\nconst clone = __webpack_require__(/*! shallow-clone */ \"(app-pages-browser)/./node_modules/shallow-clone/index.js\");\nconst typeOf = __webpack_require__(/*! kind-of */ \"(app-pages-browser)/./node_modules/kind-of/index.js\");\nconst isPlainObject = __webpack_require__(/*! is-plain-object */ \"(app-pages-browser)/./node_modules/is-plain-object/index.js\");\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jbG9uZS1kZWVwL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLG1CQUFPLENBQUMsZ0ZBQWU7QUFDckMsZUFBZSxtQkFBTyxDQUFDLG9FQUFTO0FBQ2hDLHNCQUFzQixtQkFBTyxDQUFDLG9GQUFpQjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2Nsb25lLWRlZXAvaW5kZXguanM/Yjg3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuaWNlc1xuICovXG5cbmNvbnN0IGNsb25lID0gcmVxdWlyZSgnc2hhbGxvdy1jbG9uZScpO1xuY29uc3QgdHlwZU9mID0gcmVxdWlyZSgna2luZC1vZicpO1xuY29uc3QgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2lzLXBsYWluLW9iamVjdCcpO1xuXG5mdW5jdGlvbiBjbG9uZURlZXAodmFsLCBpbnN0YW5jZUNsb25lKSB7XG4gIHN3aXRjaCAodHlwZU9mKHZhbCkpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuIGNsb25lT2JqZWN0RGVlcCh2YWwsIGluc3RhbmNlQ2xvbmUpO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBjbG9uZUFycmF5RGVlcCh2YWwsIGluc3RhbmNlQ2xvbmUpO1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiBjbG9uZSh2YWwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9uZU9iamVjdERlZXAodmFsLCBpbnN0YW5jZUNsb25lKSB7XG4gIGlmICh0eXBlb2YgaW5zdGFuY2VDbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBpbnN0YW5jZUNsb25lKHZhbCk7XG4gIH1cbiAgaWYgKGluc3RhbmNlQ2xvbmUgfHwgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgY29uc3QgcmVzID0gbmV3IHZhbC5jb25zdHJ1Y3RvcigpO1xuICAgIGZvciAobGV0IGtleSBpbiB2YWwpIHtcbiAgICAgIHJlc1trZXldID0gY2xvbmVEZWVwKHZhbFtrZXldLCBpbnN0YW5jZUNsb25lKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFycmF5RGVlcCh2YWwsIGluc3RhbmNlQ2xvbmUpIHtcbiAgY29uc3QgcmVzID0gbmV3IHZhbC5jb25zdHJ1Y3Rvcih2YWwubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICByZXNbaV0gPSBjbG9uZURlZXAodmFsW2ldLCBpbnN0YW5jZUNsb25lKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vKipcbiAqIEV4cG9zZSBgY2xvbmVEZWVwYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVEZWVwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/clone-deep/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHlCQUF5QjtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4REFBOEQsWUFBWTtBQUMxRTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanM/ZWY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/events/events.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/is-plain-object/index.js":
/*!***********************************************!*\
  !*** ./node_modules/is-plain-object/index.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isObject = __webpack_require__(/*! isobject */ \"(app-pages-browser)/./node_modules/isobject/index.js\");\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pcy1wbGFpbi1vYmplY3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLGVBQWUsbUJBQU8sQ0FBQyxzRUFBVTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvaXMtcGxhaW4tb2JqZWN0L2luZGV4LmpzPzkyY2MiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBpcy1wbGFpbi1vYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdD5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCdpc29iamVjdCcpO1xuXG5mdW5jdGlvbiBpc09iamVjdE9iamVjdChvKSB7XG4gIHJldHVybiBpc09iamVjdChvKSA9PT0gdHJ1ZVxuICAgICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gIHZhciBjdG9yLHByb3Q7XG5cbiAgaWYgKGlzT2JqZWN0T2JqZWN0KG8pID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIGhhcyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBjdG9yICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgaGFzIG1vZGlmaWVkIHByb3RvdHlwZVxuICBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gIGlmIChpc09iamVjdE9iamVjdChwcm90KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcbiAgaWYgKHByb3QuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBNb3N0IGxpa2VseSBhIHBsYWluIE9iamVjdFxuICByZXR1cm4gdHJ1ZTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/is-plain-object/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/isobject/index.js":
/*!****************************************!*\
  !*** ./node_modules/isobject/index.js ***!
  \****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pc29iamVjdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9pc29iamVjdC9pbmRleC5qcz9hN2JmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogaXNvYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzb2JqZWN0PlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE3LCBKb24gU2NobGlua2VydC5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiBBcnJheS5pc0FycmF5KHZhbCkgPT09IGZhbHNlO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/isobject/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/kind-of/index.js":
/*!***************************************!*\
  !*** ./node_modules/kind-of/index.js ***!
  \***************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9raW5kLW9mL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9raW5kLW9mL2luZGV4LmpzPzIyYWYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBraW5kT2YodmFsKSB7XG4gIGlmICh2YWwgPT09IHZvaWQgMCkgcmV0dXJuICd1bmRlZmluZWQnO1xuICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdib29sZWFuJykgcmV0dXJuICdib29sZWFuJztcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSByZXR1cm4gJ3N0cmluZyc7XG4gIGlmICh0eXBlID09PSAnbnVtYmVyJykgcmV0dXJuICdudW1iZXInO1xuICBpZiAodHlwZSA9PT0gJ3N5bWJvbCcpIHJldHVybiAnc3ltYm9sJztcbiAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaXNHZW5lcmF0b3JGbih2YWwpID8gJ2dlbmVyYXRvcmZ1bmN0aW9uJyA6ICdmdW5jdGlvbic7XG4gIH1cblxuICBpZiAoaXNBcnJheSh2YWwpKSByZXR1cm4gJ2FycmF5JztcbiAgaWYgKGlzQnVmZmVyKHZhbCkpIHJldHVybiAnYnVmZmVyJztcbiAgaWYgKGlzQXJndW1lbnRzKHZhbCkpIHJldHVybiAnYXJndW1lbnRzJztcbiAgaWYgKGlzRGF0ZSh2YWwpKSByZXR1cm4gJ2RhdGUnO1xuICBpZiAoaXNFcnJvcih2YWwpKSByZXR1cm4gJ2Vycm9yJztcbiAgaWYgKGlzUmVnZXhwKHZhbCkpIHJldHVybiAncmVnZXhwJztcblxuICBzd2l0Y2ggKGN0b3JOYW1lKHZhbCkpIHtcbiAgICBjYXNlICdTeW1ib2wnOiByZXR1cm4gJ3N5bWJvbCc7XG4gICAgY2FzZSAnUHJvbWlzZSc6IHJldHVybiAncHJvbWlzZSc7XG5cbiAgICAvLyBTZXQsIE1hcCwgV2Vha1NldCwgV2Vha01hcFxuICAgIGNhc2UgJ1dlYWtNYXAnOiByZXR1cm4gJ3dlYWttYXAnO1xuICAgIGNhc2UgJ1dlYWtTZXQnOiByZXR1cm4gJ3dlYWtzZXQnO1xuICAgIGNhc2UgJ01hcCc6IHJldHVybiAnbWFwJztcbiAgICBjYXNlICdTZXQnOiByZXR1cm4gJ3NldCc7XG5cbiAgICAvLyA4LWJpdCB0eXBlZCBhcnJheXNcbiAgICBjYXNlICdJbnQ4QXJyYXknOiByZXR1cm4gJ2ludDhhcnJheSc7XG4gICAgY2FzZSAnVWludDhBcnJheSc6IHJldHVybiAndWludDhhcnJheSc7XG4gICAgY2FzZSAnVWludDhDbGFtcGVkQXJyYXknOiByZXR1cm4gJ3VpbnQ4Y2xhbXBlZGFycmF5JztcblxuICAgIC8vIDE2LWJpdCB0eXBlZCBhcnJheXNcbiAgICBjYXNlICdJbnQxNkFycmF5JzogcmV0dXJuICdpbnQxNmFycmF5JztcbiAgICBjYXNlICdVaW50MTZBcnJheSc6IHJldHVybiAndWludDE2YXJyYXknO1xuXG4gICAgLy8gMzItYml0IHR5cGVkIGFycmF5c1xuICAgIGNhc2UgJ0ludDMyQXJyYXknOiByZXR1cm4gJ2ludDMyYXJyYXknO1xuICAgIGNhc2UgJ1VpbnQzMkFycmF5JzogcmV0dXJuICd1aW50MzJhcnJheSc7XG4gICAgY2FzZSAnRmxvYXQzMkFycmF5JzogcmV0dXJuICdmbG9hdDMyYXJyYXknO1xuICAgIGNhc2UgJ0Zsb2F0NjRBcnJheSc6IHJldHVybiAnZmxvYXQ2NGFycmF5JztcbiAgfVxuXG4gIGlmIChpc0dlbmVyYXRvck9iaih2YWwpKSB7XG4gICAgcmV0dXJuICdnZW5lcmF0b3InO1xuICB9XG5cbiAgLy8gTm9uLXBsYWluIG9iamVjdHNcbiAgdHlwZSA9IHRvU3RyaW5nLmNhbGwodmFsKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnW29iamVjdCBPYmplY3RdJzogcmV0dXJuICdvYmplY3QnO1xuICAgIC8vIGl0ZXJhdG9yc1xuICAgIGNhc2UgJ1tvYmplY3QgTWFwIEl0ZXJhdG9yXSc6IHJldHVybiAnbWFwaXRlcmF0b3InO1xuICAgIGNhc2UgJ1tvYmplY3QgU2V0IEl0ZXJhdG9yXSc6IHJldHVybiAnc2V0aXRlcmF0b3InO1xuICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nIEl0ZXJhdG9yXSc6IHJldHVybiAnc3RyaW5naXRlcmF0b3InO1xuICAgIGNhc2UgJ1tvYmplY3QgQXJyYXkgSXRlcmF0b3JdJzogcmV0dXJuICdhcnJheWl0ZXJhdG9yJztcbiAgfVxuXG4gIC8vIG90aGVyXG4gIHJldHVybiB0eXBlLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBjdG9yTmFtZSh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwuY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgPyB2YWwuY29uc3RydWN0b3IubmFtZSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KSByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpO1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgQXJyYXk7XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3IodmFsKSB7XG4gIHJldHVybiB2YWwgaW5zdGFuY2VvZiBFcnJvciB8fCAodHlwZW9mIHZhbC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJiB2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5zdGFja1RyYWNlTGltaXQgPT09ICdudW1iZXInKTtcbn1cblxuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiB0eXBlb2YgdmFsLnRvRGF0ZVN0cmluZyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiB2YWwuZ2V0RGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiB2YWwuc2V0RGF0ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNSZWdleHAodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiB0cnVlO1xuICByZXR1cm4gdHlwZW9mIHZhbC5mbGFncyA9PT0gJ3N0cmluZydcbiAgICAmJiB0eXBlb2YgdmFsLmlnbm9yZUNhc2UgPT09ICdib29sZWFuJ1xuICAgICYmIHR5cGVvZiB2YWwubXVsdGlsaW5lID09PSAnYm9vbGVhbidcbiAgICAmJiB0eXBlb2YgdmFsLmdsb2JhbCA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5mdW5jdGlvbiBpc0dlbmVyYXRvckZuKG5hbWUsIHZhbCkge1xuICByZXR1cm4gY3Rvck5hbWUobmFtZSkgPT09ICdHZW5lcmF0b3JGdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzR2VuZXJhdG9yT2JqKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbC50aHJvdyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiB2YWwucmV0dXJuID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIHZhbC5uZXh0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWwpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHZhbC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWwuY2FsbGVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIubWVzc2FnZS5pbmRleE9mKCdjYWxsZWUnKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogSWYgeW91IG5lZWQgdG8gc3VwcG9ydCBTYWZhcmkgNS03ICg4LTEwIHlyLW9sZCBicm93c2VyKSxcbiAqIHRha2UgYSBsb29rIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaXMtYnVmZmVyXG4gKi9cblxuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIGlmICh2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/kind-of/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/next/dist/compiled/buffer/index.js ***!
  \*********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={675:function(e,r){\"use strict\";r.byteLength=byteLength;r.toByteArray=toByteArray;r.fromByteArray=fromByteArray;var t=[];var f=[];var n=typeof Uint8Array!==\"undefined\"?Uint8Array:Array;var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(var o=0,u=i.length;o<u;++o){t[o]=i[o];f[i.charCodeAt(o)]=o}f[\"-\".charCodeAt(0)]=62;f[\"_\".charCodeAt(0)]=63;function getLens(e){var r=e.length;if(r%4>0){throw new Error(\"Invalid string. Length must be a multiple of 4\")}var t=e.indexOf(\"=\");if(t===-1)t=r;var f=t===r?0:4-t%4;return[t,f]}function byteLength(e){var r=getLens(e);var t=r[0];var f=r[1];return(t+f)*3/4-f}function _byteLength(e,r,t){return(r+t)*3/4-t}function toByteArray(e){var r;var t=getLens(e);var i=t[0];var o=t[1];var u=new n(_byteLength(e,i,o));var a=0;var s=o>0?i-4:i;var h;for(h=0;h<s;h+=4){r=f[e.charCodeAt(h)]<<18|f[e.charCodeAt(h+1)]<<12|f[e.charCodeAt(h+2)]<<6|f[e.charCodeAt(h+3)];u[a++]=r>>16&255;u[a++]=r>>8&255;u[a++]=r&255}if(o===2){r=f[e.charCodeAt(h)]<<2|f[e.charCodeAt(h+1)]>>4;u[a++]=r&255}if(o===1){r=f[e.charCodeAt(h)]<<10|f[e.charCodeAt(h+1)]<<4|f[e.charCodeAt(h+2)]>>2;u[a++]=r>>8&255;u[a++]=r&255}return u}function tripletToBase64(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[e&63]}function encodeChunk(e,r,t){var f;var n=[];for(var i=r;i<t;i+=3){f=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255);n.push(tripletToBase64(f))}return n.join(\"\")}function fromByteArray(e){var r;var f=e.length;var n=f%3;var i=[];var o=16383;for(var u=0,a=f-n;u<a;u+=o){i.push(encodeChunk(e,u,u+o>a?a:u+o))}if(n===1){r=e[f-1];i.push(t[r>>2]+t[r<<4&63]+\"==\")}else if(n===2){r=(e[f-2]<<8)+e[f-1];i.push(t[r>>10]+t[r>>4&63]+t[r<<2&63]+\"=\")}return i.join(\"\")}},72:function(e,r,t){\"use strict\";\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */var f=t(675);var n=t(783);var i=typeof Symbol===\"function\"&&typeof Symbol.for===\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;r.Buffer=Buffer;r.SlowBuffer=SlowBuffer;r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!==\"undefined\"&&typeof console.error===\"function\"){console.error(\"This browser lacks typed array (Uint8Array) support which is required by \"+\"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.\")}function typedArraySupport(){try{var e=new Uint8Array(1);var r={foo:function(){return 42}};Object.setPrototypeOf(r,Uint8Array.prototype);Object.setPrototypeOf(e,r);return e.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,\"parent\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,\"offset\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(e){if(e>o){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}var r=new Uint8Array(e);Object.setPrototypeOf(r,Buffer.prototype);return r}function Buffer(e,r,t){if(typeof e===\"number\"){if(typeof r===\"string\"){throw new TypeError('The \"string\" argument must be of type string. Received type number')}return allocUnsafe(e)}return from(e,r,t)}Buffer.poolSize=8192;function from(e,r,t){if(typeof e===\"string\"){return fromString(e,r)}if(ArrayBuffer.isView(e)){return fromArrayLike(e)}if(e==null){throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)){return fromArrayBuffer(e,r,t)}if(typeof SharedArrayBuffer!==\"undefined\"&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer))){return fromArrayBuffer(e,r,t)}if(typeof e===\"number\"){throw new TypeError('The \"value\" argument must not be of type number. Received type number')}var f=e.valueOf&&e.valueOf();if(f!=null&&f!==e){return Buffer.from(f,r,t)}var n=fromObject(e);if(n)return n;if(typeof Symbol!==\"undefined\"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]===\"function\"){return Buffer.from(e[Symbol.toPrimitive](\"string\"),r,t)}throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}Buffer.from=function(e,r,t){return from(e,r,t)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(e){if(typeof e!==\"number\"){throw new TypeError('\"size\" argument must be of type number')}else if(e<0){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}}function alloc(e,r,t){assertSize(e);if(e<=0){return createBuffer(e)}if(r!==undefined){return typeof t===\"string\"?createBuffer(e).fill(r,t):createBuffer(e).fill(r)}return createBuffer(e)}Buffer.alloc=function(e,r,t){return alloc(e,r,t)};function allocUnsafe(e){assertSize(e);return createBuffer(e<0?0:checked(e)|0)}Buffer.allocUnsafe=function(e){return allocUnsafe(e)};Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)};function fromString(e,r){if(typeof r!==\"string\"||r===\"\"){r=\"utf8\"}if(!Buffer.isEncoding(r)){throw new TypeError(\"Unknown encoding: \"+r)}var t=byteLength(e,r)|0;var f=createBuffer(t);var n=f.write(e,r);if(n!==t){f=f.slice(0,n)}return f}function fromArrayLike(e){var r=e.length<0?0:checked(e.length)|0;var t=createBuffer(r);for(var f=0;f<r;f+=1){t[f]=e[f]&255}return t}function fromArrayBuffer(e,r,t){if(r<0||e.byteLength<r){throw new RangeError('\"offset\" is outside of buffer bounds')}if(e.byteLength<r+(t||0)){throw new RangeError('\"length\" is outside of buffer bounds')}var f;if(r===undefined&&t===undefined){f=new Uint8Array(e)}else if(t===undefined){f=new Uint8Array(e,r)}else{f=new Uint8Array(e,r,t)}Object.setPrototypeOf(f,Buffer.prototype);return f}function fromObject(e){if(Buffer.isBuffer(e)){var r=checked(e.length)|0;var t=createBuffer(r);if(t.length===0){return t}e.copy(t,0,0,r);return t}if(e.length!==undefined){if(typeof e.length!==\"number\"||numberIsNaN(e.length)){return createBuffer(0)}return fromArrayLike(e)}if(e.type===\"Buffer\"&&Array.isArray(e.data)){return fromArrayLike(e.data)}}function checked(e){if(e>=o){throw new RangeError(\"Attempt to allocate Buffer larger than maximum \"+\"size: 0x\"+o.toString(16)+\" bytes\")}return e|0}function SlowBuffer(e){if(+e!=e){e=0}return Buffer.alloc(+e)}Buffer.isBuffer=function isBuffer(e){return e!=null&&e._isBuffer===true&&e!==Buffer.prototype};Buffer.compare=function compare(e,r){if(isInstance(e,Uint8Array))e=Buffer.from(e,e.offset,e.byteLength);if(isInstance(r,Uint8Array))r=Buffer.from(r,r.offset,r.byteLength);if(!Buffer.isBuffer(e)||!Buffer.isBuffer(r)){throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array')}if(e===r)return 0;var t=e.length;var f=r.length;for(var n=0,i=Math.min(t,f);n<i;++n){if(e[n]!==r[n]){t=e[n];f=r[n];break}}if(t<f)return-1;if(f<t)return 1;return 0};Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return true;default:return false}};Buffer.concat=function concat(e,r){if(!Array.isArray(e)){throw new TypeError('\"list\" argument must be an Array of Buffers')}if(e.length===0){return Buffer.alloc(0)}var t;if(r===undefined){r=0;for(t=0;t<e.length;++t){r+=e[t].length}}var f=Buffer.allocUnsafe(r);var n=0;for(t=0;t<e.length;++t){var i=e[t];if(isInstance(i,Uint8Array)){i=Buffer.from(i)}if(!Buffer.isBuffer(i)){throw new TypeError('\"list\" argument must be an Array of Buffers')}i.copy(f,n);n+=i.length}return f};function byteLength(e,r){if(Buffer.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer)){return e.byteLength}if(typeof e!==\"string\"){throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. '+\"Received type \"+typeof e)}var t=e.length;var f=arguments.length>2&&arguments[2]===true;if(!f&&t===0)return 0;var n=false;for(;;){switch(r){case\"ascii\":case\"latin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return utf8ToBytes(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"base64\":return base64ToBytes(e).length;default:if(n){return f?-1:utf8ToBytes(e).length}r=(\"\"+r).toLowerCase();n=true}}}Buffer.byteLength=byteLength;function slowToString(e,r,t){var f=false;if(r===undefined||r<0){r=0}if(r>this.length){return\"\"}if(t===undefined||t>this.length){t=this.length}if(t<=0){return\"\"}t>>>=0;r>>>=0;if(t<=r){return\"\"}if(!e)e=\"utf8\";while(true){switch(e){case\"hex\":return hexSlice(this,r,t);case\"utf8\":case\"utf-8\":return utf8Slice(this,r,t);case\"ascii\":return asciiSlice(this,r,t);case\"latin1\":case\"binary\":return latin1Slice(this,r,t);case\"base64\":return base64Slice(this,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,r,t);default:if(f)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase();f=true}}}Buffer.prototype._isBuffer=true;function swap(e,r,t){var f=e[r];e[r]=e[t];e[t]=f}Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!==0){throw new RangeError(\"Buffer size must be a multiple of 16-bits\")}for(var r=0;r<e;r+=2){swap(this,r,r+1)}return this};Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!==0){throw new RangeError(\"Buffer size must be a multiple of 32-bits\")}for(var r=0;r<e;r+=4){swap(this,r,r+3);swap(this,r+1,r+2)}return this};Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!==0){throw new RangeError(\"Buffer size must be a multiple of 64-bits\")}for(var r=0;r<e;r+=8){swap(this,r,r+7);swap(this,r+1,r+6);swap(this,r+2,r+5);swap(this,r+3,r+4)}return this};Buffer.prototype.toString=function toString(){var e=this.length;if(e===0)return\"\";if(arguments.length===0)return utf8Slice(this,0,e);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(this===e)return true;return Buffer.compare(this,e)===0};Buffer.prototype.inspect=function inspect(){var e=\"\";var t=r.INSPECT_MAX_BYTES;e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim();if(this.length>t)e+=\" ... \";return\"<Buffer \"+e+\">\"};if(i){Buffer.prototype[i]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(e,r,t,f,n){if(isInstance(e,Uint8Array)){e=Buffer.from(e,e.offset,e.byteLength)}if(!Buffer.isBuffer(e)){throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. '+\"Received type \"+typeof e)}if(r===undefined){r=0}if(t===undefined){t=e?e.length:0}if(f===undefined){f=0}if(n===undefined){n=this.length}if(r<0||t>e.length||f<0||n>this.length){throw new RangeError(\"out of range index\")}if(f>=n&&r>=t){return 0}if(f>=n){return-1}if(r>=t){return 1}r>>>=0;t>>>=0;f>>>=0;n>>>=0;if(this===e)return 0;var i=n-f;var o=t-r;var u=Math.min(i,o);var a=this.slice(f,n);var s=e.slice(r,t);for(var h=0;h<u;++h){if(a[h]!==s[h]){i=a[h];o=s[h];break}}if(i<o)return-1;if(o<i)return 1;return 0};function bidirectionalIndexOf(e,r,t,f,n){if(e.length===0)return-1;if(typeof t===\"string\"){f=t;t=0}else if(t>2147483647){t=2147483647}else if(t<-2147483648){t=-2147483648}t=+t;if(numberIsNaN(t)){t=n?0:e.length-1}if(t<0)t=e.length+t;if(t>=e.length){if(n)return-1;else t=e.length-1}else if(t<0){if(n)t=0;else return-1}if(typeof r===\"string\"){r=Buffer.from(r,f)}if(Buffer.isBuffer(r)){if(r.length===0){return-1}return arrayIndexOf(e,r,t,f,n)}else if(typeof r===\"number\"){r=r&255;if(typeof Uint8Array.prototype.indexOf===\"function\"){if(n){return Uint8Array.prototype.indexOf.call(e,r,t)}else{return Uint8Array.prototype.lastIndexOf.call(e,r,t)}}return arrayIndexOf(e,[r],t,f,n)}throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(e,r,t,f,n){var i=1;var o=e.length;var u=r.length;if(f!==undefined){f=String(f).toLowerCase();if(f===\"ucs2\"||f===\"ucs-2\"||f===\"utf16le\"||f===\"utf-16le\"){if(e.length<2||r.length<2){return-1}i=2;o/=2;u/=2;t/=2}}function read(e,r){if(i===1){return e[r]}else{return e.readUInt16BE(r*i)}}var a;if(n){var s=-1;for(a=t;a<o;a++){if(read(e,a)===read(r,s===-1?0:a-s)){if(s===-1)s=a;if(a-s+1===u)return s*i}else{if(s!==-1)a-=a-s;s=-1}}}else{if(t+u>o)t=o-u;for(a=t;a>=0;a--){var h=true;for(var c=0;c<u;c++){if(read(e,a+c)!==read(r,c)){h=false;break}}if(h)return a}}return-1}Buffer.prototype.includes=function includes(e,r,t){return this.indexOf(e,r,t)!==-1};Buffer.prototype.indexOf=function indexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,false)};function hexWrite(e,r,t,f){t=Number(t)||0;var n=e.length-t;if(!f){f=n}else{f=Number(f);if(f>n){f=n}}var i=r.length;if(f>i/2){f=i/2}for(var o=0;o<f;++o){var u=parseInt(r.substr(o*2,2),16);if(numberIsNaN(u))return o;e[t+o]=u}return o}function utf8Write(e,r,t,f){return blitBuffer(utf8ToBytes(r,e.length-t),e,t,f)}function asciiWrite(e,r,t,f){return blitBuffer(asciiToBytes(r),e,t,f)}function latin1Write(e,r,t,f){return asciiWrite(e,r,t,f)}function base64Write(e,r,t,f){return blitBuffer(base64ToBytes(r),e,t,f)}function ucs2Write(e,r,t,f){return blitBuffer(utf16leToBytes(r,e.length-t),e,t,f)}Buffer.prototype.write=function write(e,r,t,f){if(r===undefined){f=\"utf8\";t=this.length;r=0}else if(t===undefined&&typeof r===\"string\"){f=r;t=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(t)){t=t>>>0;if(f===undefined)f=\"utf8\"}else{f=t;t=undefined}}else{throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\")}var n=this.length-r;if(t===undefined||t>n)t=n;if(e.length>0&&(t<0||r<0)||r>this.length){throw new RangeError(\"Attempt to write outside buffer bounds\")}if(!f)f=\"utf8\";var i=false;for(;;){switch(f){case\"hex\":return hexWrite(this,e,r,t);case\"utf8\":case\"utf-8\":return utf8Write(this,e,r,t);case\"ascii\":return asciiWrite(this,e,r,t);case\"latin1\":case\"binary\":return latin1Write(this,e,r,t);case\"base64\":return base64Write(this,e,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,e,r,t);default:if(i)throw new TypeError(\"Unknown encoding: \"+f);f=(\"\"+f).toLowerCase();i=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(e,r,t){if(r===0&&t===e.length){return f.fromByteArray(e)}else{return f.fromByteArray(e.slice(r,t))}}function utf8Slice(e,r,t){t=Math.min(e.length,t);var f=[];var n=r;while(n<t){var i=e[n];var o=null;var u=i>239?4:i>223?3:i>191?2:1;if(n+u<=t){var a,s,h,c;switch(u){case 1:if(i<128){o=i}break;case 2:a=e[n+1];if((a&192)===128){c=(i&31)<<6|a&63;if(c>127){o=c}}break;case 3:a=e[n+1];s=e[n+2];if((a&192)===128&&(s&192)===128){c=(i&15)<<12|(a&63)<<6|s&63;if(c>2047&&(c<55296||c>57343)){o=c}}break;case 4:a=e[n+1];s=e[n+2];h=e[n+3];if((a&192)===128&&(s&192)===128&&(h&192)===128){c=(i&15)<<18|(a&63)<<12|(s&63)<<6|h&63;if(c>65535&&c<1114112){o=c}}}}if(o===null){o=65533;u=1}else if(o>65535){o-=65536;f.push(o>>>10&1023|55296);o=56320|o&1023}f.push(o);n+=u}return decodeCodePointsArray(f)}var u=4096;function decodeCodePointsArray(e){var r=e.length;if(r<=u){return String.fromCharCode.apply(String,e)}var t=\"\";var f=0;while(f<r){t+=String.fromCharCode.apply(String,e.slice(f,f+=u))}return t}function asciiSlice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n]&127)}return f}function latin1Slice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n])}return f}function hexSlice(e,r,t){var f=e.length;if(!r||r<0)r=0;if(!t||t<0||t>f)t=f;var n=\"\";for(var i=r;i<t;++i){n+=s[e[i]]}return n}function utf16leSlice(e,r,t){var f=e.slice(r,t);var n=\"\";for(var i=0;i<f.length;i+=2){n+=String.fromCharCode(f[i]+f[i+1]*256)}return n}Buffer.prototype.slice=function slice(e,r){var t=this.length;e=~~e;r=r===undefined?t:~~r;if(e<0){e+=t;if(e<0)e=0}else if(e>t){e=t}if(r<0){r+=t;if(r<0)r=0}else if(r>t){r=t}if(r<e)r=e;var f=this.subarray(e,r);Object.setPrototypeOf(f,Buffer.prototype);return f};function checkOffset(e,r,t){if(e%1!==0||e<0)throw new RangeError(\"offset is not uint\");if(e+r>t)throw new RangeError(\"Trying to access beyond buffer length\")}Buffer.prototype.readUIntLE=function readUIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}return f};Buffer.prototype.readUIntBE=function readUIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t){checkOffset(e,r,this.length)}var f=this[e+--r];var n=1;while(r>0&&(n*=256)){f+=this[e+--r]*n}return f};Buffer.prototype.readUInt8=function readUInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);return this[e]};Buffer.prototype.readUInt16LE=function readUInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]|this[e+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]<<8|this[e+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Buffer.prototype.readIntLE=function readIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}n*=128;if(f>=n)f-=Math.pow(2,8*r);return f};Buffer.prototype.readIntBE=function readIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=r;var n=1;var i=this[e+--f];while(f>0&&(n*=256)){i+=this[e+--f]*n}n*=128;if(i>=n)i-=Math.pow(2,8*r);return i};Buffer.prototype.readInt8=function readInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e]|this[e+1]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt16BE=function readInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e+1]|this[e]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt32LE=function readInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Buffer.prototype.readFloatLE=function readFloatLE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,false,52,8)};function checkInt(e,r,t,f,n,i){if(!Buffer.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(r>n||r<i)throw new RangeError('\"value\" argument is out of bounds');if(t+f>e.length)throw new RangeError(\"Index out of range\")}Buffer.prototype.writeUIntLE=function writeUIntLE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=1;var o=0;this[r]=e&255;while(++o<t&&(i*=256)){this[r+o]=e/i&255}return r+t};Buffer.prototype.writeUIntBE=function writeUIntBE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=t-1;var o=1;this[r+i]=e&255;while(--i>=0&&(o*=256)){this[r+i]=e/o&255}return r+t};Buffer.prototype.writeUInt8=function writeUInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,255,0);this[r]=e&255;return r+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r+3]=e>>>24;this[r+2]=e>>>16;this[r+1]=e>>>8;this[r]=e&255;return r+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};Buffer.prototype.writeIntLE=function writeIntLE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=0;var o=1;var u=0;this[r]=e&255;while(++i<t&&(o*=256)){if(e<0&&u===0&&this[r+i-1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeIntBE=function writeIntBE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=t-1;var o=1;var u=0;this[r+i]=e&255;while(--i>=0&&(o*=256)){if(e<0&&u===0&&this[r+i+1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeInt8=function writeInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,127,-128);if(e<0)e=255+e+1;this[r]=e&255;return r+1};Buffer.prototype.writeInt16LE=function writeInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeInt16BE=function writeInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeInt32LE=function writeInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);this[r]=e&255;this[r+1]=e>>>8;this[r+2]=e>>>16;this[r+3]=e>>>24;return r+4};Buffer.prototype.writeInt32BE=function writeInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};function checkIEEE754(e,r,t,f,n,i){if(t+f>e.length)throw new RangeError(\"Index out of range\");if(t<0)throw new RangeError(\"Index out of range\")}function writeFloat(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,4,34028234663852886e22,-34028234663852886e22)}n.write(e,r,t,f,23,4);return t+4}Buffer.prototype.writeFloatLE=function writeFloatLE(e,r,t){return writeFloat(this,e,r,true,t)};Buffer.prototype.writeFloatBE=function writeFloatBE(e,r,t){return writeFloat(this,e,r,false,t)};function writeDouble(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,8,17976931348623157e292,-17976931348623157e292)}n.write(e,r,t,f,52,8);return t+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,r,t){return writeDouble(this,e,r,true,t)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,r,t){return writeDouble(this,e,r,false,t)};Buffer.prototype.copy=function copy(e,r,t,f){if(!Buffer.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(!t)t=0;if(!f&&f!==0)f=this.length;if(r>=e.length)r=e.length;if(!r)r=0;if(f>0&&f<t)f=t;if(f===t)return 0;if(e.length===0||this.length===0)return 0;if(r<0){throw new RangeError(\"targetStart out of bounds\")}if(t<0||t>=this.length)throw new RangeError(\"Index out of range\");if(f<0)throw new RangeError(\"sourceEnd out of bounds\");if(f>this.length)f=this.length;if(e.length-r<f-t){f=e.length-r+t}var n=f-t;if(this===e&&typeof Uint8Array.prototype.copyWithin===\"function\"){this.copyWithin(r,t,f)}else if(this===e&&t<r&&r<f){for(var i=n-1;i>=0;--i){e[i+r]=this[i+t]}}else{Uint8Array.prototype.set.call(e,this.subarray(t,f),r)}return n};Buffer.prototype.fill=function fill(e,r,t,f){if(typeof e===\"string\"){if(typeof r===\"string\"){f=r;r=0;t=this.length}else if(typeof t===\"string\"){f=t;t=this.length}if(f!==undefined&&typeof f!==\"string\"){throw new TypeError(\"encoding must be a string\")}if(typeof f===\"string\"&&!Buffer.isEncoding(f)){throw new TypeError(\"Unknown encoding: \"+f)}if(e.length===1){var n=e.charCodeAt(0);if(f===\"utf8\"&&n<128||f===\"latin1\"){e=n}}}else if(typeof e===\"number\"){e=e&255}else if(typeof e===\"boolean\"){e=Number(e)}if(r<0||this.length<r||this.length<t){throw new RangeError(\"Out of range index\")}if(t<=r){return this}r=r>>>0;t=t===undefined?this.length:t>>>0;if(!e)e=0;var i;if(typeof e===\"number\"){for(i=r;i<t;++i){this[i]=e}}else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,f);var u=o.length;if(u===0){throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"')}for(i=0;i<t-r;++i){this[i+r]=o[i%u]}}return this};var a=/[^+/0-9A-Za-z-_]/g;function base64clean(e){e=e.split(\"=\")[0];e=e.trim().replace(a,\"\");if(e.length<2)return\"\";while(e.length%4!==0){e=e+\"=\"}return e}function utf8ToBytes(e,r){r=r||Infinity;var t;var f=e.length;var n=null;var i=[];for(var o=0;o<f;++o){t=e.charCodeAt(o);if(t>55295&&t<57344){if(!n){if(t>56319){if((r-=3)>-1)i.push(239,191,189);continue}else if(o+1===f){if((r-=3)>-1)i.push(239,191,189);continue}n=t;continue}if(t<56320){if((r-=3)>-1)i.push(239,191,189);n=t;continue}t=(n-55296<<10|t-56320)+65536}else if(n){if((r-=3)>-1)i.push(239,191,189)}n=null;if(t<128){if((r-=1)<0)break;i.push(t)}else if(t<2048){if((r-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else{throw new Error(\"Invalid code point\")}}return i}function asciiToBytes(e){var r=[];for(var t=0;t<e.length;++t){r.push(e.charCodeAt(t)&255)}return r}function utf16leToBytes(e,r){var t,f,n;var i=[];for(var o=0;o<e.length;++o){if((r-=2)<0)break;t=e.charCodeAt(o);f=t>>8;n=t%256;i.push(n);i.push(f)}return i}function base64ToBytes(e){return f.toByteArray(base64clean(e))}function blitBuffer(e,r,t,f){for(var n=0;n<f;++n){if(n+t>=r.length||n>=e.length)break;r[n+t]=e[n]}return n}function isInstance(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function numberIsNaN(e){return e!==e}var s=function(){var e=\"0123456789abcdef\";var r=new Array(256);for(var t=0;t<16;++t){var f=t*16;for(var n=0;n<16;++n){r[f+n]=e[t]+e[n]}}return r}()},783:function(e,r){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nr.read=function(e,r,t,f,n){var i,o;var u=n*8-f-1;var a=(1<<u)-1;var s=a>>1;var h=-7;var c=t?n-1:0;var l=t?-1:1;var p=e[r+c];c+=l;i=p&(1<<-h)-1;p>>=-h;h+=u;for(;h>0;i=i*256+e[r+c],c+=l,h-=8){}o=i&(1<<-h)-1;i>>=-h;h+=f;for(;h>0;o=o*256+e[r+c],c+=l,h-=8){}if(i===0){i=1-s}else if(i===a){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,f);i=i-s}return(p?-1:1)*o*Math.pow(2,i-f)};r.write=function(e,r,t,f,n,i){var o,u,a;var s=i*8-n-1;var h=(1<<s)-1;var c=h>>1;var l=n===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=f?0:i-1;var y=f?1:-1;var g=r<0||r===0&&1/r<0?1:0;r=Math.abs(r);if(isNaN(r)||r===Infinity){u=isNaN(r)?1:0;o=h}else{o=Math.floor(Math.log(r)/Math.LN2);if(r*(a=Math.pow(2,-o))<1){o--;a*=2}if(o+c>=1){r+=l/a}else{r+=l*Math.pow(2,1-c)}if(r*a>=2){o++;a/=2}if(o+c>=h){u=0;o=h}else if(o+c>=1){u=(r*a-1)*Math.pow(2,n);o=o+c}else{u=r*Math.pow(2,c-1)*Math.pow(2,n);o=0}}for(;n>=8;e[t+p]=u&255,p+=y,u/=256,n-=8){}o=o<<n|u;s+=n;for(;s>0;e[t+p]=o&255,p+=y,o/=256,s-=8){}e[t+p-y]|=g*128}}};var r={};function __nccwpck_require__(t){var f=r[t];if(f!==undefined){return f.exports}var n=r[t]={exports:{}};var i=true;try{e[t](n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete r[t]}return n.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var t=__nccwpck_require__(72);module.exports=t})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvYnVmZmVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLE9BQU8sa0JBQWtCLGFBQWEsd0JBQXdCLDBCQUEwQiw4QkFBOEIsU0FBUyxTQUFTLHVEQUF1RCx5RUFBeUUsdUJBQXVCLElBQUksS0FBSyxVQUFVLHFCQUFxQix3QkFBd0Isd0JBQXdCLG9CQUFvQixlQUFlLFVBQVUsa0VBQWtFLHFCQUFxQixjQUFjLG9CQUFvQixZQUFZLHVCQUF1QixpQkFBaUIsV0FBVyxXQUFXLGtCQUFrQiw0QkFBNEIsa0JBQWtCLHdCQUF3QixNQUFNLGlCQUFpQixXQUFXLFdBQVcsZ0NBQWdDLFFBQVEsZ0JBQWdCLE1BQU0sUUFBUSxJQUFJLE1BQU0sK0ZBQStGLGlCQUFpQixnQkFBZ0IsYUFBYSxVQUFVLGdEQUFnRCxhQUFhLFVBQVUseUVBQXlFLGdCQUFnQixhQUFhLFNBQVMsNEJBQTRCLGtEQUFrRCw0QkFBNEIsTUFBTSxTQUFTLFlBQVksSUFBSSxNQUFNLHFEQUFxRCwyQkFBMkIsa0JBQWtCLDBCQUEwQixNQUFNLGVBQWUsVUFBVSxTQUFTLFlBQVksa0JBQWtCLElBQUksTUFBTSxxQ0FBcUMsVUFBVSxTQUFTLGdDQUFnQyxlQUFlLHFCQUFxQiwyQ0FBMkMsbUJBQW1CLG9CQUFvQjtBQUM5ckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLCtHQUErRyxnQkFBZ0Isd0JBQXdCLHVCQUF1QixpQkFBaUIsZUFBZSwrQ0FBK0MsaUdBQWlHLGtLQUFrSyw2QkFBNkIsSUFBSSx3QkFBd0IsT0FBTyxlQUFlLFlBQVksOENBQThDLDJCQUEyQixvQkFBb0IsU0FBUyxjQUFjLGlEQUFpRCwrQkFBK0IsMkNBQTJDLG9CQUFvQixFQUFFLGlEQUFpRCwrQkFBK0IsMkNBQTJDLHdCQUF3QixFQUFFLHlCQUF5QixRQUFRLHVFQUF1RSx3QkFBd0IsMENBQTBDLFNBQVMs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Q0FBK0MsY0FBYyxhQUFhLDRCQUE0QixjQUFjLDJCQUEyQixlQUFlLElBQUksS0FBSyxtQ0FBbUMsMkJBQTJCLElBQUksS0FBSyxXQUFXLE9BQU8sS0FBSyxxQkFBcUIsV0FBVyxJQUFJLEtBQUssV0FBVyxJQUFJLElBQUksZ0JBQWdCLHdCQUF3QixNQUFNLEtBQUssa0NBQWtDLEtBQUssS0FBSyxLQUFLLGdDQUFnQyxTQUFTLEtBQUssS0FBSyxJQUFJLGdDQUFnQyxtQkFBbUIsU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssOEJBQThCLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL2J1ZmZlci9pbmRleC5qcz9lZWY4Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe3ZhciBlPXs2NzU6ZnVuY3Rpb24oZSxyKXtcInVzZSBzdHJpY3RcIjtyLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aDtyLnRvQnl0ZUFycmF5PXRvQnl0ZUFycmF5O3IuZnJvbUJ5dGVBcnJheT1mcm9tQnl0ZUFycmF5O3ZhciB0PVtdO3ZhciBmPVtdO3ZhciBuPXR5cGVvZiBVaW50OEFycmF5IT09XCJ1bmRlZmluZWRcIj9VaW50OEFycmF5OkFycmF5O3ZhciBpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO2Zvcih2YXIgbz0wLHU9aS5sZW5ndGg7bzx1Oysrbyl7dFtvXT1pW29dO2ZbaS5jaGFyQ29kZUF0KG8pXT1vfWZbXCItXCIuY2hhckNvZGVBdCgwKV09NjI7ZltcIl9cIi5jaGFyQ29kZUF0KDApXT02MztmdW5jdGlvbiBnZXRMZW5zKGUpe3ZhciByPWUubGVuZ3RoO2lmKHIlND4wKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpfXZhciB0PWUuaW5kZXhPZihcIj1cIik7aWYodD09PS0xKXQ9cjt2YXIgZj10PT09cj8wOjQtdCU0O3JldHVyblt0LGZdfWZ1bmN0aW9uIGJ5dGVMZW5ndGgoZSl7dmFyIHI9Z2V0TGVucyhlKTt2YXIgdD1yWzBdO3ZhciBmPXJbMV07cmV0dXJuKHQrZikqMy80LWZ9ZnVuY3Rpb24gX2J5dGVMZW5ndGgoZSxyLHQpe3JldHVybihyK3QpKjMvNC10fWZ1bmN0aW9uIHRvQnl0ZUFycmF5KGUpe3ZhciByO3ZhciB0PWdldExlbnMoZSk7dmFyIGk9dFswXTt2YXIgbz10WzFdO3ZhciB1PW5ldyBuKF9ieXRlTGVuZ3RoKGUsaSxvKSk7dmFyIGE9MDt2YXIgcz1vPjA/aS00Omk7dmFyIGg7Zm9yKGg9MDtoPHM7aCs9NCl7cj1mW2UuY2hhckNvZGVBdChoKV08PDE4fGZbZS5jaGFyQ29kZUF0KGgrMSldPDwxMnxmW2UuY2hhckNvZGVBdChoKzIpXTw8NnxmW2UuY2hhckNvZGVBdChoKzMpXTt1W2ErK109cj4+MTYmMjU1O3VbYSsrXT1yPj44JjI1NTt1W2ErK109ciYyNTV9aWYobz09PTIpe3I9ZltlLmNoYXJDb2RlQXQoaCldPDwyfGZbZS5jaGFyQ29kZUF0KGgrMSldPj40O3VbYSsrXT1yJjI1NX1pZihvPT09MSl7cj1mW2UuY2hhckNvZGVBdChoKV08PDEwfGZbZS5jaGFyQ29kZUF0KGgrMSldPDw0fGZbZS5jaGFyQ29kZUF0KGgrMildPj4yO3VbYSsrXT1yPj44JjI1NTt1W2ErK109ciYyNTV9cmV0dXJuIHV9ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KGUpe3JldHVybiB0W2U+PjE4JjYzXSt0W2U+PjEyJjYzXSt0W2U+PjYmNjNdK3RbZSY2M119ZnVuY3Rpb24gZW5jb2RlQ2h1bmsoZSxyLHQpe3ZhciBmO3ZhciBuPVtdO2Zvcih2YXIgaT1yO2k8dDtpKz0zKXtmPShlW2ldPDwxNiYxNjcxMTY4MCkrKGVbaSsxXTw8OCY2NTI4MCkrKGVbaSsyXSYyNTUpO24ucHVzaCh0cmlwbGV0VG9CYXNlNjQoZikpfXJldHVybiBuLmpvaW4oXCJcIil9ZnVuY3Rpb24gZnJvbUJ5dGVBcnJheShlKXt2YXIgcjt2YXIgZj1lLmxlbmd0aDt2YXIgbj1mJTM7dmFyIGk9W107dmFyIG89MTYzODM7Zm9yKHZhciB1PTAsYT1mLW47dTxhO3UrPW8pe2kucHVzaChlbmNvZGVDaHVuayhlLHUsdStvPmE/YTp1K28pKX1pZihuPT09MSl7cj1lW2YtMV07aS5wdXNoKHRbcj4+Ml0rdFtyPDw0JjYzXStcIj09XCIpfWVsc2UgaWYobj09PTIpe3I9KGVbZi0yXTw8OCkrZVtmLTFdO2kucHVzaCh0W3I+PjEwXSt0W3I+PjQmNjNdK3Rbcjw8MiY2M10rXCI9XCIpfXJldHVybiBpLmpvaW4oXCJcIil9fSw3MjpmdW5jdGlvbihlLHIsdCl7XCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi92YXIgZj10KDY3NSk7dmFyIG49dCg3ODMpO3ZhciBpPXR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuZm9yPT09XCJmdW5jdGlvblwiP1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKTpudWxsO3IuQnVmZmVyPUJ1ZmZlcjtyLlNsb3dCdWZmZXI9U2xvd0J1ZmZlcjtyLklOU1BFQ1RfTUFYX0JZVEVTPTUwO3ZhciBvPTIxNDc0ODM2NDc7ci5rTWF4TGVuZ3RoPW87QnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dHlwZWRBcnJheVN1cHBvcnQoKTtpZighQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQmJnR5cGVvZiBjb25zb2xlIT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIGNvbnNvbGUuZXJyb3I9PT1cImZ1bmN0aW9uXCIpe2NvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgXCIrXCJgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LlwiKX1mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCgpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTt2YXIgcj17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07T2JqZWN0LnNldFByb3RvdHlwZU9mKHIsVWludDhBcnJheS5wcm90b3R5cGUpO09iamVjdC5zZXRQcm90b3R5cGVPZihlLHIpO3JldHVybiBlLmZvbygpPT09NDJ9Y2F0Y2goZSl7cmV0dXJuIGZhbHNlfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdW5kZWZpbmVkO3JldHVybiB0aGlzLmJ1ZmZlcn19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uKCl7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdW5kZWZpbmVkO3JldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSk7ZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGUpe2lmKGU+byl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZSk7T2JqZWN0LnNldFByb3RvdHlwZU9mKHIsQnVmZmVyLnByb3RvdHlwZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQnVmZmVyKGUscix0KXtpZih0eXBlb2YgZT09PVwibnVtYmVyXCIpe2lmKHR5cGVvZiByPT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKX1yZXR1cm4gYWxsb2NVbnNhZmUoZSl9cmV0dXJuIGZyb20oZSxyLHQpfUJ1ZmZlci5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIGZyb20oZSxyLHQpe2lmKHR5cGVvZiBlPT09XCJzdHJpbmdcIil7cmV0dXJuIGZyb21TdHJpbmcoZSxyKX1pZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpe3JldHVybiBmcm9tQXJyYXlMaWtlKGUpfWlmKGU9PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBcIitcIm9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX1pZihpc0luc3RhbmNlKGUsQXJyYXlCdWZmZXIpfHxlJiZpc0luc3RhbmNlKGUuYnVmZmVyLEFycmF5QnVmZmVyKSl7cmV0dXJuIGZyb21BcnJheUJ1ZmZlcihlLHIsdCl9aWYodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyIT09XCJ1bmRlZmluZWRcIiYmKGlzSW5zdGFuY2UoZSxTaGFyZWRBcnJheUJ1ZmZlcil8fGUmJmlzSW5zdGFuY2UoZS5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSl7cmV0dXJuIGZyb21BcnJheUJ1ZmZlcihlLHIsdCl9aWYodHlwZW9mIGU9PT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpfXZhciBmPWUudmFsdWVPZiYmZS52YWx1ZU9mKCk7aWYoZiE9bnVsbCYmZiE9PWUpe3JldHVybiBCdWZmZXIuZnJvbShmLHIsdCl9dmFyIG49ZnJvbU9iamVjdChlKTtpZihuKXJldHVybiBuO2lmKHR5cGVvZiBTeW1ib2whPT1cInVuZGVmaW5lZFwiJiZTeW1ib2wudG9QcmltaXRpdmUhPW51bGwmJnR5cGVvZiBlW1N5bWJvbC50b1ByaW1pdGl2ZV09PT1cImZ1bmN0aW9uXCIpe3JldHVybiBCdWZmZXIuZnJvbShlW1N5bWJvbC50b1ByaW1pdGl2ZV0oXCJzdHJpbmdcIikscix0KX10aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgXCIrXCJvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgZSl9QnVmZmVyLmZyb209ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBmcm9tKGUscix0KX07T2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpO09iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIsVWludDhBcnJheSk7ZnVuY3Rpb24gYXNzZXJ0U2l6ZShlKXtpZih0eXBlb2YgZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKX1lbHNlIGlmKGU8MCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9fWZ1bmN0aW9uIGFsbG9jKGUscix0KXthc3NlcnRTaXplKGUpO2lmKGU8PTApe3JldHVybiBjcmVhdGVCdWZmZXIoZSl9aWYociE9PXVuZGVmaW5lZCl7cmV0dXJuIHR5cGVvZiB0PT09XCJzdHJpbmdcIj9jcmVhdGVCdWZmZXIoZSkuZmlsbChyLHQpOmNyZWF0ZUJ1ZmZlcihlKS5maWxsKHIpfXJldHVybiBjcmVhdGVCdWZmZXIoZSl9QnVmZmVyLmFsbG9jPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gYWxsb2MoZSxyLHQpfTtmdW5jdGlvbiBhbGxvY1Vuc2FmZShlKXthc3NlcnRTaXplKGUpO3JldHVybiBjcmVhdGVCdWZmZXIoZTwwPzA6Y2hlY2tlZChlKXwwKX1CdWZmZXIuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFsbG9jVW5zYWZlKGUpfTtCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBhbGxvY1Vuc2FmZShlKX07ZnVuY3Rpb24gZnJvbVN0cmluZyhlLHIpe2lmKHR5cGVvZiByIT09XCJzdHJpbmdcInx8cj09PVwiXCIpe3I9XCJ1dGY4XCJ9aWYoIUJ1ZmZlci5pc0VuY29kaW5nKHIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcil9dmFyIHQ9Ynl0ZUxlbmd0aChlLHIpfDA7dmFyIGY9Y3JlYXRlQnVmZmVyKHQpO3ZhciBuPWYud3JpdGUoZSxyKTtpZihuIT09dCl7Zj1mLnNsaWNlKDAsbil9cmV0dXJuIGZ9ZnVuY3Rpb24gZnJvbUFycmF5TGlrZShlKXt2YXIgcj1lLmxlbmd0aDwwPzA6Y2hlY2tlZChlLmxlbmd0aCl8MDt2YXIgdD1jcmVhdGVCdWZmZXIocik7Zm9yKHZhciBmPTA7ZjxyO2YrPTEpe3RbZl09ZVtmXSYyNTV9cmV0dXJuIHR9ZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyKGUscix0KXtpZihyPDB8fGUuYnl0ZUxlbmd0aDxyKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKX1pZihlLmJ5dGVMZW5ndGg8cisodHx8MCkpe3Rocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpfXZhciBmO2lmKHI9PT11bmRlZmluZWQmJnQ9PT11bmRlZmluZWQpe2Y9bmV3IFVpbnQ4QXJyYXkoZSl9ZWxzZSBpZih0PT09dW5kZWZpbmVkKXtmPW5ldyBVaW50OEFycmF5KGUscil9ZWxzZXtmPW5ldyBVaW50OEFycmF5KGUscix0KX1PYmplY3Quc2V0UHJvdG90eXBlT2YoZixCdWZmZXIucHJvdG90eXBlKTtyZXR1cm4gZn1mdW5jdGlvbiBmcm9tT2JqZWN0KGUpe2lmKEJ1ZmZlci5pc0J1ZmZlcihlKSl7dmFyIHI9Y2hlY2tlZChlLmxlbmd0aCl8MDt2YXIgdD1jcmVhdGVCdWZmZXIocik7aWYodC5sZW5ndGg9PT0wKXtyZXR1cm4gdH1lLmNvcHkodCwwLDAscik7cmV0dXJuIHR9aWYoZS5sZW5ndGghPT11bmRlZmluZWQpe2lmKHR5cGVvZiBlLmxlbmd0aCE9PVwibnVtYmVyXCJ8fG51bWJlcklzTmFOKGUubGVuZ3RoKSl7cmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKX1yZXR1cm4gZnJvbUFycmF5TGlrZShlKX1pZihlLnR5cGU9PT1cIkJ1ZmZlclwiJiZBcnJheS5pc0FycmF5KGUuZGF0YSkpe3JldHVybiBmcm9tQXJyYXlMaWtlKGUuZGF0YSl9fWZ1bmN0aW9uIGNoZWNrZWQoZSl7aWYoZT49byl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIFwiK1wic2l6ZTogMHhcIitvLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKX1yZXR1cm4gZXwwfWZ1bmN0aW9uIFNsb3dCdWZmZXIoZSl7aWYoK2UhPWUpe2U9MH1yZXR1cm4gQnVmZmVyLmFsbG9jKCtlKX1CdWZmZXIuaXNCdWZmZXI9ZnVuY3Rpb24gaXNCdWZmZXIoZSl7cmV0dXJuIGUhPW51bGwmJmUuX2lzQnVmZmVyPT09dHJ1ZSYmZSE9PUJ1ZmZlci5wcm90b3R5cGV9O0J1ZmZlci5jb21wYXJlPWZ1bmN0aW9uIGNvbXBhcmUoZSxyKXtpZihpc0luc3RhbmNlKGUsVWludDhBcnJheSkpZT1CdWZmZXIuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCk7aWYoaXNJbnN0YW5jZShyLFVpbnQ4QXJyYXkpKXI9QnVmZmVyLmZyb20ocixyLm9mZnNldCxyLmJ5dGVMZW5ndGgpO2lmKCFCdWZmZXIuaXNCdWZmZXIoZSl8fCFCdWZmZXIuaXNCdWZmZXIocikpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKX1pZihlPT09cilyZXR1cm4gMDt2YXIgdD1lLmxlbmd0aDt2YXIgZj1yLmxlbmd0aDtmb3IodmFyIG49MCxpPU1hdGgubWluKHQsZik7bjxpOysrbil7aWYoZVtuXSE9PXJbbl0pe3Q9ZVtuXTtmPXJbbl07YnJlYWt9fWlmKHQ8ZilyZXR1cm4tMTtpZihmPHQpcmV0dXJuIDE7cmV0dXJuIDB9O0J1ZmZlci5pc0VuY29kaW5nPWZ1bmN0aW9uIGlzRW5jb2RpbmcoZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB0cnVlO2RlZmF1bHQ6cmV0dXJuIGZhbHNlfX07QnVmZmVyLmNvbmNhdD1mdW5jdGlvbiBjb25jYXQoZSxyKXtpZighQXJyYXkuaXNBcnJheShlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyl9aWYoZS5sZW5ndGg9PT0wKXtyZXR1cm4gQnVmZmVyLmFsbG9jKDApfXZhciB0O2lmKHI9PT11bmRlZmluZWQpe3I9MDtmb3IodD0wO3Q8ZS5sZW5ndGg7Kyt0KXtyKz1lW3RdLmxlbmd0aH19dmFyIGY9QnVmZmVyLmFsbG9jVW5zYWZlKHIpO3ZhciBuPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoOysrdCl7dmFyIGk9ZVt0XTtpZihpc0luc3RhbmNlKGksVWludDhBcnJheSkpe2k9QnVmZmVyLmZyb20oaSl9aWYoIUJ1ZmZlci5pc0J1ZmZlcihpKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyl9aS5jb3B5KGYsbik7bis9aS5sZW5ndGh9cmV0dXJuIGZ9O2Z1bmN0aW9uIGJ5dGVMZW5ndGgoZSxyKXtpZihCdWZmZXIuaXNCdWZmZXIoZSkpe3JldHVybiBlLmxlbmd0aH1pZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGlzSW5zdGFuY2UoZSxBcnJheUJ1ZmZlcikpe3JldHVybiBlLmJ5dGVMZW5ndGh9aWYodHlwZW9mIGUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJytcIlJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIGUpfXZhciB0PWUubGVuZ3RoO3ZhciBmPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdPT09dHJ1ZTtpZighZiYmdD09PTApcmV0dXJuIDA7dmFyIG49ZmFsc2U7Zm9yKDs7KXtzd2l0Y2gocil7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdDtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFRvQnl0ZXMoZSkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB0KjI7Y2FzZVwiaGV4XCI6cmV0dXJuIHQ+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRUb0J5dGVzKGUpLmxlbmd0aDtkZWZhdWx0OmlmKG4pe3JldHVybiBmPy0xOnV0ZjhUb0J5dGVzKGUpLmxlbmd0aH1yPShcIlwiK3IpLnRvTG93ZXJDYXNlKCk7bj10cnVlfX19QnVmZmVyLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aDtmdW5jdGlvbiBzbG93VG9TdHJpbmcoZSxyLHQpe3ZhciBmPWZhbHNlO2lmKHI9PT11bmRlZmluZWR8fHI8MCl7cj0wfWlmKHI+dGhpcy5sZW5ndGgpe3JldHVyblwiXCJ9aWYodD09PXVuZGVmaW5lZHx8dD50aGlzLmxlbmd0aCl7dD10aGlzLmxlbmd0aH1pZih0PD0wKXtyZXR1cm5cIlwifXQ+Pj49MDtyPj4+PTA7aWYodDw9cil7cmV0dXJuXCJcIn1pZighZSllPVwidXRmOFwiO3doaWxlKHRydWUpe3N3aXRjaChlKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4U2xpY2UodGhpcyxyLHQpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4U2xpY2UodGhpcyxyLHQpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpU2xpY2UodGhpcyxyLHQpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFTbGljZSh0aGlzLHIsdCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMscix0KTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMscix0KTtkZWZhdWx0OmlmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2UpO2U9KGUrXCJcIikudG9Mb3dlckNhc2UoKTtmPXRydWV9fX1CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlcj10cnVlO2Z1bmN0aW9uIHN3YXAoZSxyLHQpe3ZhciBmPWVbcl07ZVtyXT1lW3RdO2VbdF09Zn1CdWZmZXIucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbiBzd2FwMTYoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPT0wKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpfWZvcih2YXIgcj0wO3I8ZTtyKz0yKXtzd2FwKHRoaXMscixyKzEpfXJldHVybiB0aGlzfTtCdWZmZXIucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbiBzd2FwMzIoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPT0wKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpfWZvcih2YXIgcj0wO3I8ZTtyKz00KXtzd2FwKHRoaXMscixyKzMpO3N3YXAodGhpcyxyKzEscisyKX1yZXR1cm4gdGhpc307QnVmZmVyLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24gc3dhcDY0KCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU4IT09MCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKX1mb3IodmFyIHI9MDtyPGU7cis9OCl7c3dhcCh0aGlzLHIscis3KTtzd2FwKHRoaXMscisxLHIrNik7c3dhcCh0aGlzLHIrMixyKzUpO3N3YXAodGhpcyxyKzMscis0KX1yZXR1cm4gdGhpc307QnVmZmVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbiB0b1N0cmluZygpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGU9PT0wKXJldHVyblwiXCI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIHV0ZjhTbGljZSh0aGlzLDAsZSk7cmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0J1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmc9QnVmZmVyLnByb3RvdHlwZS50b1N0cmluZztCdWZmZXIucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbiBlcXVhbHMoZSl7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtpZih0aGlzPT09ZSlyZXR1cm4gdHJ1ZTtyZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcyxlKT09PTB9O0J1ZmZlci5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbiBpbnNwZWN0KCl7dmFyIGU9XCJcIjt2YXIgdD1yLklOU1BFQ1RfTUFYX0JZVEVTO2U9dGhpcy50b1N0cmluZyhcImhleFwiLDAsdCkucmVwbGFjZSgvKC57Mn0pL2csXCIkMSBcIikudHJpbSgpO2lmKHRoaXMubGVuZ3RoPnQpZSs9XCIgLi4uIFwiO3JldHVyblwiPEJ1ZmZlciBcIitlK1wiPlwifTtpZihpKXtCdWZmZXIucHJvdG90eXBlW2ldPUJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdH1CdWZmZXIucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24gY29tcGFyZShlLHIsdCxmLG4pe2lmKGlzSW5zdGFuY2UoZSxVaW50OEFycmF5KSl7ZT1CdWZmZXIuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCl9aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJytcIlJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIGUpfWlmKHI9PT11bmRlZmluZWQpe3I9MH1pZih0PT09dW5kZWZpbmVkKXt0PWU/ZS5sZW5ndGg6MH1pZihmPT09dW5kZWZpbmVkKXtmPTB9aWYobj09PXVuZGVmaW5lZCl7bj10aGlzLmxlbmd0aH1pZihyPDB8fHQ+ZS5sZW5ndGh8fGY8MHx8bj50aGlzLmxlbmd0aCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIil9aWYoZj49biYmcj49dCl7cmV0dXJuIDB9aWYoZj49bil7cmV0dXJuLTF9aWYocj49dCl7cmV0dXJuIDF9cj4+Pj0wO3Q+Pj49MDtmPj4+PTA7bj4+Pj0wO2lmKHRoaXM9PT1lKXJldHVybiAwO3ZhciBpPW4tZjt2YXIgbz10LXI7dmFyIHU9TWF0aC5taW4oaSxvKTt2YXIgYT10aGlzLnNsaWNlKGYsbik7dmFyIHM9ZS5zbGljZShyLHQpO2Zvcih2YXIgaD0wO2g8dTsrK2gpe2lmKGFbaF0hPT1zW2hdKXtpPWFbaF07bz1zW2hdO2JyZWFrfX1pZihpPG8pcmV0dXJuLTE7aWYobzxpKXJldHVybiAxO3JldHVybiAwfTtmdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZihlLHIsdCxmLG4pe2lmKGUubGVuZ3RoPT09MClyZXR1cm4tMTtpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe2Y9dDt0PTB9ZWxzZSBpZih0PjIxNDc0ODM2NDcpe3Q9MjE0NzQ4MzY0N31lbHNlIGlmKHQ8LTIxNDc0ODM2NDgpe3Q9LTIxNDc0ODM2NDh9dD0rdDtpZihudW1iZXJJc05hTih0KSl7dD1uPzA6ZS5sZW5ndGgtMX1pZih0PDApdD1lLmxlbmd0aCt0O2lmKHQ+PWUubGVuZ3RoKXtpZihuKXJldHVybi0xO2Vsc2UgdD1lLmxlbmd0aC0xfWVsc2UgaWYodDwwKXtpZihuKXQ9MDtlbHNlIHJldHVybi0xfWlmKHR5cGVvZiByPT09XCJzdHJpbmdcIil7cj1CdWZmZXIuZnJvbShyLGYpfWlmKEJ1ZmZlci5pc0J1ZmZlcihyKSl7aWYoci5sZW5ndGg9PT0wKXtyZXR1cm4tMX1yZXR1cm4gYXJyYXlJbmRleE9mKGUscix0LGYsbil9ZWxzZSBpZih0eXBlb2Ygcj09PVwibnVtYmVyXCIpe3I9ciYyNTU7aWYodHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y9PT1cImZ1bmN0aW9uXCIpe2lmKG4pe3JldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLHQpfWVsc2V7cmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSxyLHQpfX1yZXR1cm4gYXJyYXlJbmRleE9mKGUsW3JdLHQsZixuKX10aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIGFycmF5SW5kZXhPZihlLHIsdCxmLG4pe3ZhciBpPTE7dmFyIG89ZS5sZW5ndGg7dmFyIHU9ci5sZW5ndGg7aWYoZiE9PXVuZGVmaW5lZCl7Zj1TdHJpbmcoZikudG9Mb3dlckNhc2UoKTtpZihmPT09XCJ1Y3MyXCJ8fGY9PT1cInVjcy0yXCJ8fGY9PT1cInV0ZjE2bGVcInx8Zj09PVwidXRmLTE2bGVcIil7aWYoZS5sZW5ndGg8Mnx8ci5sZW5ndGg8Mil7cmV0dXJuLTF9aT0yO28vPTI7dS89Mjt0Lz0yfX1mdW5jdGlvbiByZWFkKGUscil7aWYoaT09PTEpe3JldHVybiBlW3JdfWVsc2V7cmV0dXJuIGUucmVhZFVJbnQxNkJFKHIqaSl9fXZhciBhO2lmKG4pe3ZhciBzPS0xO2ZvcihhPXQ7YTxvO2ErKyl7aWYocmVhZChlLGEpPT09cmVhZChyLHM9PT0tMT8wOmEtcykpe2lmKHM9PT0tMSlzPWE7aWYoYS1zKzE9PT11KXJldHVybiBzKml9ZWxzZXtpZihzIT09LTEpYS09YS1zO3M9LTF9fX1lbHNle2lmKHQrdT5vKXQ9by11O2ZvcihhPXQ7YT49MDthLS0pe3ZhciBoPXRydWU7Zm9yKHZhciBjPTA7Yzx1O2MrKyl7aWYocmVhZChlLGErYykhPT1yZWFkKHIsYykpe2g9ZmFsc2U7YnJlYWt9fWlmKGgpcmV0dXJuIGF9fXJldHVybi0xfUJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24gaW5jbHVkZXMoZSxyLHQpe3JldHVybiB0aGlzLmluZGV4T2YoZSxyLHQpIT09LTF9O0J1ZmZlci5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbiBpbmRleE9mKGUscix0KXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyxlLHIsdCx0cnVlKX07QnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbiBsYXN0SW5kZXhPZihlLHIsdCl7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsZSxyLHQsZmFsc2UpfTtmdW5jdGlvbiBoZXhXcml0ZShlLHIsdCxmKXt0PU51bWJlcih0KXx8MDt2YXIgbj1lLmxlbmd0aC10O2lmKCFmKXtmPW59ZWxzZXtmPU51bWJlcihmKTtpZihmPm4pe2Y9bn19dmFyIGk9ci5sZW5ndGg7aWYoZj5pLzIpe2Y9aS8yfWZvcih2YXIgbz0wO288ZjsrK28pe3ZhciB1PXBhcnNlSW50KHIuc3Vic3RyKG8qMiwyKSwxNik7aWYobnVtYmVySXNOYU4odSkpcmV0dXJuIG87ZVt0K29dPXV9cmV0dXJuIG99ZnVuY3Rpb24gdXRmOFdyaXRlKGUscix0LGYpe3JldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHIsZS5sZW5ndGgtdCksZSx0LGYpfWZ1bmN0aW9uIGFzY2lpV3JpdGUoZSxyLHQsZil7cmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHIpLGUsdCxmKX1mdW5jdGlvbiBsYXRpbjFXcml0ZShlLHIsdCxmKXtyZXR1cm4gYXNjaWlXcml0ZShlLHIsdCxmKX1mdW5jdGlvbiBiYXNlNjRXcml0ZShlLHIsdCxmKXtyZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHIpLGUsdCxmKX1mdW5jdGlvbiB1Y3MyV3JpdGUoZSxyLHQsZil7cmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMocixlLmxlbmd0aC10KSxlLHQsZil9QnVmZmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbiB3cml0ZShlLHIsdCxmKXtpZihyPT09dW5kZWZpbmVkKXtmPVwidXRmOFwiO3Q9dGhpcy5sZW5ndGg7cj0wfWVsc2UgaWYodD09PXVuZGVmaW5lZCYmdHlwZW9mIHI9PT1cInN0cmluZ1wiKXtmPXI7dD10aGlzLmxlbmd0aDtyPTB9ZWxzZSBpZihpc0Zpbml0ZShyKSl7cj1yPj4+MDtpZihpc0Zpbml0ZSh0KSl7dD10Pj4+MDtpZihmPT09dW5kZWZpbmVkKWY9XCJ1dGY4XCJ9ZWxzZXtmPXQ7dD11bmRlZmluZWR9fWVsc2V7dGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIil9dmFyIG49dGhpcy5sZW5ndGgtcjtpZih0PT09dW5kZWZpbmVkfHx0Pm4pdD1uO2lmKGUubGVuZ3RoPjAmJih0PDB8fHI8MCl8fHI+dGhpcy5sZW5ndGgpe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIil9aWYoIWYpZj1cInV0ZjhcIjt2YXIgaT1mYWxzZTtmb3IoOzspe3N3aXRjaChmKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4V3JpdGUodGhpcyxlLHIsdCk7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhXcml0ZSh0aGlzLGUscix0KTtjYXNlXCJhc2NpaVwiOnJldHVybiBhc2NpaVdyaXRlKHRoaXMsZSxyLHQpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFXcml0ZSh0aGlzLGUscix0KTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0V3JpdGUodGhpcyxlLHIsdCk7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHVjczJXcml0ZSh0aGlzLGUscix0KTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2YpO2Y9KFwiXCIrZikudG9Mb3dlckNhc2UoKTtpPXRydWV9fX07QnVmZmVyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24gdG9KU09OKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2Z1bmN0aW9uIGJhc2U2NFNsaWNlKGUscix0KXtpZihyPT09MCYmdD09PWUubGVuZ3RoKXtyZXR1cm4gZi5mcm9tQnl0ZUFycmF5KGUpfWVsc2V7cmV0dXJuIGYuZnJvbUJ5dGVBcnJheShlLnNsaWNlKHIsdCkpfX1mdW5jdGlvbiB1dGY4U2xpY2UoZSxyLHQpe3Q9TWF0aC5taW4oZS5sZW5ndGgsdCk7dmFyIGY9W107dmFyIG49cjt3aGlsZShuPHQpe3ZhciBpPWVbbl07dmFyIG89bnVsbDt2YXIgdT1pPjIzOT80Omk+MjIzPzM6aT4xOTE/MjoxO2lmKG4rdTw9dCl7dmFyIGEscyxoLGM7c3dpdGNoKHUpe2Nhc2UgMTppZihpPDEyOCl7bz1pfWJyZWFrO2Nhc2UgMjphPWVbbisxXTtpZigoYSYxOTIpPT09MTI4KXtjPShpJjMxKTw8NnxhJjYzO2lmKGM+MTI3KXtvPWN9fWJyZWFrO2Nhc2UgMzphPWVbbisxXTtzPWVbbisyXTtpZigoYSYxOTIpPT09MTI4JiYocyYxOTIpPT09MTI4KXtjPShpJjE1KTw8MTJ8KGEmNjMpPDw2fHMmNjM7aWYoYz4yMDQ3JiYoYzw1NTI5Nnx8Yz41NzM0Mykpe289Y319YnJlYWs7Y2FzZSA0OmE9ZVtuKzFdO3M9ZVtuKzJdO2g9ZVtuKzNdO2lmKChhJjE5Mik9PT0xMjgmJihzJjE5Mik9PT0xMjgmJihoJjE5Mik9PT0xMjgpe2M9KGkmMTUpPDwxOHwoYSY2Myk8PDEyfChzJjYzKTw8NnxoJjYzO2lmKGM+NjU1MzUmJmM8MTExNDExMil7bz1jfX19fWlmKG89PT1udWxsKXtvPTY1NTMzO3U9MX1lbHNlIGlmKG8+NjU1MzUpe28tPTY1NTM2O2YucHVzaChvPj4+MTAmMTAyM3w1NTI5Nik7bz01NjMyMHxvJjEwMjN9Zi5wdXNoKG8pO24rPXV9cmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShmKX12YXIgdT00MDk2O2Z1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheShlKXt2YXIgcj1lLmxlbmd0aDtpZihyPD11KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSl9dmFyIHQ9XCJcIjt2YXIgZj0wO3doaWxlKGY8cil7dCs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShmLGYrPXUpKX1yZXR1cm4gdH1mdW5jdGlvbiBhc2NpaVNsaWNlKGUscix0KXt2YXIgZj1cIlwiO3Q9TWF0aC5taW4oZS5sZW5ndGgsdCk7Zm9yKHZhciBuPXI7bjx0Oysrbil7Zis9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dJjEyNyl9cmV0dXJuIGZ9ZnVuY3Rpb24gbGF0aW4xU2xpY2UoZSxyLHQpe3ZhciBmPVwiXCI7dD1NYXRoLm1pbihlLmxlbmd0aCx0KTtmb3IodmFyIG49cjtuPHQ7KytuKXtmKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pfXJldHVybiBmfWZ1bmN0aW9uIGhleFNsaWNlKGUscix0KXt2YXIgZj1lLmxlbmd0aDtpZighcnx8cjwwKXI9MDtpZighdHx8dDwwfHx0PmYpdD1mO3ZhciBuPVwiXCI7Zm9yKHZhciBpPXI7aTx0OysraSl7bis9c1tlW2ldXX1yZXR1cm4gbn1mdW5jdGlvbiB1dGYxNmxlU2xpY2UoZSxyLHQpe3ZhciBmPWUuc2xpY2Uocix0KTt2YXIgbj1cIlwiO2Zvcih2YXIgaT0wO2k8Zi5sZW5ndGg7aSs9Mil7bis9U3RyaW5nLmZyb21DaGFyQ29kZShmW2ldK2ZbaSsxXSoyNTYpfXJldHVybiBufUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24gc2xpY2UoZSxyKXt2YXIgdD10aGlzLmxlbmd0aDtlPX5+ZTtyPXI9PT11bmRlZmluZWQ/dDp+fnI7aWYoZTwwKXtlKz10O2lmKGU8MCllPTB9ZWxzZSBpZihlPnQpe2U9dH1pZihyPDApe3IrPXQ7aWYocjwwKXI9MH1lbHNlIGlmKHI+dCl7cj10fWlmKHI8ZSlyPWU7dmFyIGY9dGhpcy5zdWJhcnJheShlLHIpO09iamVjdC5zZXRQcm90b3R5cGVPZihmLEJ1ZmZlci5wcm90b3R5cGUpO3JldHVybiBmfTtmdW5jdGlvbiBjaGVja09mZnNldChlLHIsdCl7aWYoZSUxIT09MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKGUrcj50KXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24gcmVhZFVJbnRMRShlLHIsdCl7ZT1lPj4+MDtyPXI+Pj4wO2lmKCF0KWNoZWNrT2Zmc2V0KGUscix0aGlzLmxlbmd0aCk7dmFyIGY9dGhpc1tlXTt2YXIgbj0xO3ZhciBpPTA7d2hpbGUoKytpPHImJihuKj0yNTYpKXtmKz10aGlzW2UraV0qbn1yZXR1cm4gZn07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uIHJlYWRVSW50QkUoZSxyLHQpe2U9ZT4+PjA7cj1yPj4+MDtpZighdCl7Y2hlY2tPZmZzZXQoZSxyLHRoaXMubGVuZ3RoKX12YXIgZj10aGlzW2UrLS1yXTt2YXIgbj0xO3doaWxlKHI+MCYmKG4qPTI1Nikpe2YrPXRoaXNbZSstLXJdKm59cmV0dXJuIGZ9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uIHJlYWRVSW50OChlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwxLHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXX07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24gcmVhZFVJbnQxNkxFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdfHRoaXNbZSsxXTw8OH07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24gcmVhZFVJbnQxNkJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdPDw4fHRoaXNbZSsxXX07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24gcmVhZFVJbnQzMkxFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybih0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSt0aGlzW2UrM10qMTY3NzcyMTZ9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uIHJlYWRVSW50MzJCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXSoxNjc3NzIxNisodGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdKX07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24gcmVhZEludExFKGUscix0KXtlPWU+Pj4wO3I9cj4+PjA7aWYoIXQpY2hlY2tPZmZzZXQoZSxyLHRoaXMubGVuZ3RoKTt2YXIgZj10aGlzW2VdO3ZhciBuPTE7dmFyIGk9MDt3aGlsZSgrK2k8ciYmKG4qPTI1Nikpe2YrPXRoaXNbZStpXSpufW4qPTEyODtpZihmPj1uKWYtPU1hdGgucG93KDIsOCpyKTtyZXR1cm4gZn07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24gcmVhZEludEJFKGUscix0KXtlPWU+Pj4wO3I9cj4+PjA7aWYoIXQpY2hlY2tPZmZzZXQoZSxyLHRoaXMubGVuZ3RoKTt2YXIgZj1yO3ZhciBuPTE7dmFyIGk9dGhpc1tlKy0tZl07d2hpbGUoZj4wJiYobio9MjU2KSl7aSs9dGhpc1tlKy0tZl0qbn1uKj0xMjg7aWYoaT49bilpLT1NYXRoLnBvdygyLDgqcik7cmV0dXJuIGl9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24gcmVhZEludDgoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMSx0aGlzLmxlbmd0aCk7aWYoISh0aGlzW2VdJjEyOCkpcmV0dXJuIHRoaXNbZV07cmV0dXJuKDI1NS10aGlzW2VdKzEpKi0xfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uIHJlYWRJbnQxNkxFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpO3ZhciB0PXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiB0JjMyNzY4P3R8NDI5NDkwMTc2MDp0fTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uIHJlYWRJbnQxNkJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDIsdGhpcy5sZW5ndGgpO3ZhciB0PXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiB0JjMyNzY4P3R8NDI5NDkwMTc2MDp0fTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uIHJlYWRJbnQzMkxFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2fHRoaXNbZSszXTw8MjR9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24gcmVhZEludDMyQkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbiByZWFkRmxvYXRMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gbi5yZWFkKHRoaXMsZSx0cnVlLDIzLDQpfTtCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uIHJlYWRGbG9hdEJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybiBuLnJlYWQodGhpcyxlLGZhbHNlLDIzLDQpfTtCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbiByZWFkRG91YmxlTEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsOCx0aGlzLmxlbmd0aCk7cmV0dXJuIG4ucmVhZCh0aGlzLGUsdHJ1ZSw1Miw4KX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24gcmVhZERvdWJsZUJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDgsdGhpcy5sZW5ndGgpO3JldHVybiBuLnJlYWQodGhpcyxlLGZhbHNlLDUyLDgpfTtmdW5jdGlvbiBjaGVja0ludChlLHIsdCxmLG4saSl7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZihyPm58fHI8aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZih0K2Y+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbiB3cml0ZVVJbnRMRShlLHIsdCxmKXtlPStlO3I9cj4+PjA7dD10Pj4+MDtpZighZil7dmFyIG49TWF0aC5wb3coMiw4KnQpLTE7Y2hlY2tJbnQodGhpcyxlLHIsdCxuLDApfXZhciBpPTE7dmFyIG89MDt0aGlzW3JdPWUmMjU1O3doaWxlKCsrbzx0JiYoaSo9MjU2KSl7dGhpc1tyK29dPWUvaSYyNTV9cmV0dXJuIHIrdH07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbiB3cml0ZVVJbnRCRShlLHIsdCxmKXtlPStlO3I9cj4+PjA7dD10Pj4+MDtpZighZil7dmFyIG49TWF0aC5wb3coMiw4KnQpLTE7Y2hlY2tJbnQodGhpcyxlLHIsdCxuLDApfXZhciBpPXQtMTt2YXIgbz0xO3RoaXNbcitpXT1lJjI1NTt3aGlsZSgtLWk+PTAmJihvKj0yNTYpKXt0aGlzW3IraV09ZS9vJjI1NX1yZXR1cm4gcit0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24gd3JpdGVVSW50OChlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDEsMjU1LDApO3RoaXNbcl09ZSYyNTU7cmV0dXJuIHIrMX07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uIHdyaXRlVUludDE2TEUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwyLDY1NTM1LDApO3RoaXNbcl09ZSYyNTU7dGhpc1tyKzFdPWU+Pj44O3JldHVybiByKzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbiB3cml0ZVVJbnQxNkJFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMiw2NTUzNSwwKTt0aGlzW3JdPWU+Pj44O3RoaXNbcisxXT1lJjI1NTtyZXR1cm4gcisyfTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24gd3JpdGVVSW50MzJMRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDQsNDI5NDk2NzI5NSwwKTt0aGlzW3IrM109ZT4+PjI0O3RoaXNbcisyXT1lPj4+MTY7dGhpc1tyKzFdPWU+Pj44O3RoaXNbcl09ZSYyNTU7cmV0dXJuIHIrNH07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uIHdyaXRlVUludDMyQkUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciw0LDQyOTQ5NjcyOTUsMCk7dGhpc1tyXT1lPj4+MjQ7dGhpc1tyKzFdPWU+Pj4xNjt0aGlzW3IrMl09ZT4+Pjg7dGhpc1tyKzNdPWUmMjU1O3JldHVybiByKzR9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbiB3cml0ZUludExFKGUscix0LGYpe2U9K2U7cj1yPj4+MDtpZighZil7dmFyIG49TWF0aC5wb3coMiw4KnQtMSk7Y2hlY2tJbnQodGhpcyxlLHIsdCxuLTEsLW4pfXZhciBpPTA7dmFyIG89MTt2YXIgdT0wO3RoaXNbcl09ZSYyNTU7d2hpbGUoKytpPHQmJihvKj0yNTYpKXtpZihlPDAmJnU9PT0wJiZ0aGlzW3IraS0xXSE9PTApe3U9MX10aGlzW3IraV09KGUvbz4+MCktdSYyNTV9cmV0dXJuIHIrdH07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uIHdyaXRlSW50QkUoZSxyLHQsZil7ZT0rZTtyPXI+Pj4wO2lmKCFmKXt2YXIgbj1NYXRoLnBvdygyLDgqdC0xKTtjaGVja0ludCh0aGlzLGUscix0LG4tMSwtbil9dmFyIGk9dC0xO3ZhciBvPTE7dmFyIHU9MDt0aGlzW3IraV09ZSYyNTU7d2hpbGUoLS1pPj0wJiYobyo9MjU2KSl7aWYoZTwwJiZ1PT09MCYmdGhpc1tyK2krMV0hPT0wKXt1PTF9dGhpc1tyK2ldPShlL28+PjApLXUmMjU1fXJldHVybiByK3R9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uIHdyaXRlSW50OChlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDEsMTI3LC0xMjgpO2lmKGU8MCllPTI1NStlKzE7dGhpc1tyXT1lJjI1NTtyZXR1cm4gcisxfTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbiB3cml0ZUludDE2TEUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwyLDMyNzY3LC0zMjc2OCk7dGhpc1tyXT1lJjI1NTt0aGlzW3IrMV09ZT4+Pjg7cmV0dXJuIHIrMn07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24gd3JpdGVJbnQxNkJFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMiwzMjc2NywtMzI3NjgpO3RoaXNbcl09ZT4+Pjg7dGhpc1tyKzFdPWUmMjU1O3JldHVybiByKzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uIHdyaXRlSW50MzJMRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCk7dGhpc1tyXT1lJjI1NTt0aGlzW3IrMV09ZT4+Pjg7dGhpc1tyKzJdPWU+Pj4xNjt0aGlzW3IrM109ZT4+PjI0O3JldHVybiByKzR9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uIHdyaXRlSW50MzJCRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCk7aWYoZTwwKWU9NDI5NDk2NzI5NStlKzE7dGhpc1tyXT1lPj4+MjQ7dGhpc1tyKzFdPWU+Pj4xNjt0aGlzW3IrMl09ZT4+Pjg7dGhpc1tyKzNdPWUmMjU1O3JldHVybiByKzR9O2Z1bmN0aW9uIGNoZWNrSUVFRTc1NChlLHIsdCxmLG4saSl7aWYodCtmPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiB3cml0ZUZsb2F0KGUscix0LGYsaSl7cj0rcjt0PXQ+Pj4wO2lmKCFpKXtjaGVja0lFRUU3NTQoZSxyLHQsNCwzNDAyODIzNDY2Mzg1Mjg4NmUyMiwtMzQwMjgyMzQ2NjM4NTI4ODZlMjIpfW4ud3JpdGUoZSxyLHQsZiwyMyw0KTtyZXR1cm4gdCs0fUJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uIHdyaXRlRmxvYXRMRShlLHIsdCl7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyxlLHIsdHJ1ZSx0KX07QnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24gd3JpdGVGbG9hdEJFKGUscix0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLGUscixmYWxzZSx0KX07ZnVuY3Rpb24gd3JpdGVEb3VibGUoZSxyLHQsZixpKXtyPStyO3Q9dD4+PjA7aWYoIWkpe2NoZWNrSUVFRTc1NChlLHIsdCw4LDE3OTc2OTMxMzQ4NjIzMTU3ZTI5MiwtMTc5NzY5MzEzNDg2MjMxNTdlMjkyKX1uLndyaXRlKGUscix0LGYsNTIsOCk7cmV0dXJuIHQrOH1CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24gd3JpdGVEb3VibGVMRShlLHIsdCl7cmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsZSxyLHRydWUsdCl9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbiB3cml0ZURvdWJsZUJFKGUscix0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyxlLHIsZmFsc2UsdCl9O0J1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbiBjb3B5KGUscix0LGYpe2lmKCFCdWZmZXIuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlclwiKTtpZighdCl0PTA7aWYoIWYmJmYhPT0wKWY9dGhpcy5sZW5ndGg7aWYocj49ZS5sZW5ndGgpcj1lLmxlbmd0aDtpZighcilyPTA7aWYoZj4wJiZmPHQpZj10O2lmKGY9PT10KXJldHVybiAwO2lmKGUubGVuZ3RoPT09MHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKHI8MCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpfWlmKHQ8MHx8dD49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYoZjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7aWYoZj50aGlzLmxlbmd0aClmPXRoaXMubGVuZ3RoO2lmKGUubGVuZ3RoLXI8Zi10KXtmPWUubGVuZ3RoLXIrdH12YXIgbj1mLXQ7aWYodGhpcz09PWUmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT09XCJmdW5jdGlvblwiKXt0aGlzLmNvcHlXaXRoaW4ocix0LGYpfWVsc2UgaWYodGhpcz09PWUmJnQ8ciYmcjxmKXtmb3IodmFyIGk9bi0xO2k+PTA7LS1pKXtlW2krcl09dGhpc1tpK3RdfX1lbHNle1VpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGUsdGhpcy5zdWJhcnJheSh0LGYpLHIpfXJldHVybiBufTtCdWZmZXIucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24gZmlsbChlLHIsdCxmKXtpZih0eXBlb2YgZT09PVwic3RyaW5nXCIpe2lmKHR5cGVvZiByPT09XCJzdHJpbmdcIil7Zj1yO3I9MDt0PXRoaXMubGVuZ3RofWVsc2UgaWYodHlwZW9mIHQ9PT1cInN0cmluZ1wiKXtmPXQ7dD10aGlzLmxlbmd0aH1pZihmIT09dW5kZWZpbmVkJiZ0eXBlb2YgZiE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXCIpfWlmKHR5cGVvZiBmPT09XCJzdHJpbmdcIiYmIUJ1ZmZlci5pc0VuY29kaW5nKGYpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZil9aWYoZS5sZW5ndGg9PT0xKXt2YXIgbj1lLmNoYXJDb2RlQXQoMCk7aWYoZj09PVwidXRmOFwiJiZuPDEyOHx8Zj09PVwibGF0aW4xXCIpe2U9bn19fWVsc2UgaWYodHlwZW9mIGU9PT1cIm51bWJlclwiKXtlPWUmMjU1fWVsc2UgaWYodHlwZW9mIGU9PT1cImJvb2xlYW5cIil7ZT1OdW1iZXIoZSl9aWYocjwwfHx0aGlzLmxlbmd0aDxyfHx0aGlzLmxlbmd0aDx0KXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKX1pZih0PD1yKXtyZXR1cm4gdGhpc31yPXI+Pj4wO3Q9dD09PXVuZGVmaW5lZD90aGlzLmxlbmd0aDp0Pj4+MDtpZighZSllPTA7dmFyIGk7aWYodHlwZW9mIGU9PT1cIm51bWJlclwiKXtmb3IoaT1yO2k8dDsrK2kpe3RoaXNbaV09ZX19ZWxzZXt2YXIgbz1CdWZmZXIuaXNCdWZmZXIoZSk/ZTpCdWZmZXIuZnJvbShlLGYpO3ZhciB1PW8ubGVuZ3RoO2lmKHU9PT0wKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInK2UrJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpfWZvcihpPTA7aTx0LXI7KytpKXt0aGlzW2krcl09b1tpJXVdfX1yZXR1cm4gdGhpc307dmFyIGE9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBiYXNlNjRjbGVhbihlKXtlPWUuc3BsaXQoXCI9XCIpWzBdO2U9ZS50cmltKCkucmVwbGFjZShhLFwiXCIpO2lmKGUubGVuZ3RoPDIpcmV0dXJuXCJcIjt3aGlsZShlLmxlbmd0aCU0IT09MCl7ZT1lK1wiPVwifXJldHVybiBlfWZ1bmN0aW9uIHV0ZjhUb0J5dGVzKGUscil7cj1yfHxJbmZpbml0eTt2YXIgdDt2YXIgZj1lLmxlbmd0aDt2YXIgbj1udWxsO3ZhciBpPVtdO2Zvcih2YXIgbz0wO288ZjsrK28pe3Q9ZS5jaGFyQ29kZUF0KG8pO2lmKHQ+NTUyOTUmJnQ8NTczNDQpe2lmKCFuKXtpZih0PjU2MzE5KXtpZigoci09Myk+LTEpaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1lbHNlIGlmKG8rMT09PWYpe2lmKChyLT0zKT4tMSlpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW49dDtjb250aW51ZX1pZih0PDU2MzIwKXtpZigoci09Myk+LTEpaS5wdXNoKDIzOSwxOTEsMTg5KTtuPXQ7Y29udGludWV9dD0obi01NTI5Njw8MTB8dC01NjMyMCkrNjU1MzZ9ZWxzZSBpZihuKXtpZigoci09Myk+LTEpaS5wdXNoKDIzOSwxOTEsMTg5KX1uPW51bGw7aWYodDwxMjgpe2lmKChyLT0xKTwwKWJyZWFrO2kucHVzaCh0KX1lbHNlIGlmKHQ8MjA0OCl7aWYoKHItPTIpPDApYnJlYWs7aS5wdXNoKHQ+PjZ8MTkyLHQmNjN8MTI4KX1lbHNlIGlmKHQ8NjU1MzYpe2lmKChyLT0zKTwwKWJyZWFrO2kucHVzaCh0Pj4xMnwyMjQsdD4+NiY2M3wxMjgsdCY2M3wxMjgpfWVsc2UgaWYodDwxMTE0MTEyKXtpZigoci09NCk8MClicmVhaztpLnB1c2godD4+MTh8MjQwLHQ+PjEyJjYzfDEyOCx0Pj42JjYzfDEyOCx0JjYzfDEyOCl9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIil9fXJldHVybiBpfWZ1bmN0aW9uIGFzY2lpVG9CeXRlcyhlKXt2YXIgcj1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl7ci5wdXNoKGUuY2hhckNvZGVBdCh0KSYyNTUpfXJldHVybiByfWZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzKGUscil7dmFyIHQsZixuO3ZhciBpPVtdO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKXtpZigoci09Mik8MClicmVhazt0PWUuY2hhckNvZGVBdChvKTtmPXQ+Pjg7bj10JTI1NjtpLnB1c2gobik7aS5wdXNoKGYpfXJldHVybiBpfWZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMoZSl7cmV0dXJuIGYudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oZSkpfWZ1bmN0aW9uIGJsaXRCdWZmZXIoZSxyLHQsZil7Zm9yKHZhciBuPTA7bjxmOysrbil7aWYobit0Pj1yLmxlbmd0aHx8bj49ZS5sZW5ndGgpYnJlYWs7cltuK3RdPWVbbl19cmV0dXJuIG59ZnVuY3Rpb24gaXNJbnN0YW5jZShlLHIpe3JldHVybiBlIGluc3RhbmNlb2Ygcnx8ZSE9bnVsbCYmZS5jb25zdHJ1Y3RvciE9bnVsbCYmZS5jb25zdHJ1Y3Rvci5uYW1lIT1udWxsJiZlLmNvbnN0cnVjdG9yLm5hbWU9PT1yLm5hbWV9ZnVuY3Rpb24gbnVtYmVySXNOYU4oZSl7cmV0dXJuIGUhPT1lfXZhciBzPWZ1bmN0aW9uKCl7dmFyIGU9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7dmFyIHI9bmV3IEFycmF5KDI1Nik7Zm9yKHZhciB0PTA7dDwxNjsrK3Qpe3ZhciBmPXQqMTY7Zm9yKHZhciBuPTA7bjwxNjsrK24pe3JbZituXT1lW3RdK2Vbbl19fXJldHVybiByfSgpfSw3ODM6ZnVuY3Rpb24oZSxyKXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5yLnJlYWQ9ZnVuY3Rpb24oZSxyLHQsZixuKXt2YXIgaSxvO3ZhciB1PW4qOC1mLTE7dmFyIGE9KDE8PHUpLTE7dmFyIHM9YT4+MTt2YXIgaD0tNzt2YXIgYz10P24tMTowO3ZhciBsPXQ/LTE6MTt2YXIgcD1lW3IrY107Yys9bDtpPXAmKDE8PC1oKS0xO3A+Pj0taDtoKz11O2Zvcig7aD4wO2k9aSoyNTYrZVtyK2NdLGMrPWwsaC09OCl7fW89aSYoMTw8LWgpLTE7aT4+PS1oO2grPWY7Zm9yKDtoPjA7bz1vKjI1NitlW3IrY10sYys9bCxoLT04KXt9aWYoaT09PTApe2k9MS1zfWVsc2UgaWYoaT09PWEpe3JldHVybiBvP05hTjoocD8tMToxKSpJbmZpbml0eX1lbHNle289bytNYXRoLnBvdygyLGYpO2k9aS1zfXJldHVybihwPy0xOjEpKm8qTWF0aC5wb3coMixpLWYpfTtyLndyaXRlPWZ1bmN0aW9uKGUscix0LGYsbixpKXt2YXIgbyx1LGE7dmFyIHM9aSo4LW4tMTt2YXIgaD0oMTw8cyktMTt2YXIgYz1oPj4xO3ZhciBsPW49PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjA7dmFyIHA9Zj8wOmktMTt2YXIgeT1mPzE6LTE7dmFyIGc9cjwwfHxyPT09MCYmMS9yPDA/MTowO3I9TWF0aC5hYnMocik7aWYoaXNOYU4ocil8fHI9PT1JbmZpbml0eSl7dT1pc05hTihyKT8xOjA7bz1ofWVsc2V7bz1NYXRoLmZsb29yKE1hdGgubG9nKHIpL01hdGguTE4yKTtpZihyKihhPU1hdGgucG93KDIsLW8pKTwxKXtvLS07YSo9Mn1pZihvK2M+PTEpe3IrPWwvYX1lbHNle3IrPWwqTWF0aC5wb3coMiwxLWMpfWlmKHIqYT49Mil7bysrO2EvPTJ9aWYobytjPj1oKXt1PTA7bz1ofWVsc2UgaWYobytjPj0xKXt1PShyKmEtMSkqTWF0aC5wb3coMixuKTtvPW8rY31lbHNle3U9cipNYXRoLnBvdygyLGMtMSkqTWF0aC5wb3coMixuKTtvPTB9fWZvcig7bj49ODtlW3QrcF09dSYyNTUscCs9eSx1Lz0yNTYsbi09OCl7fW89bzw8bnx1O3MrPW47Zm9yKDtzPjA7ZVt0K3BdPW8mMjU1LHArPXksby89MjU2LHMtPTgpe31lW3QrcC15XXw9ZyoxMjh9fX07dmFyIHI9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyh0KXt2YXIgZj1yW3RdO2lmKGYhPT11bmRlZmluZWQpe3JldHVybiBmLmV4cG9ydHN9dmFyIG49clt0XT17ZXhwb3J0czp7fX07dmFyIGk9dHJ1ZTt0cnl7ZVt0XShuLG4uZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtpPWZhbHNlfWZpbmFsbHl7aWYoaSlkZWxldGUgclt0XX1yZXR1cm4gbi5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgdD1fX25jY3dwY2tfcmVxdWlyZV9fKDcyKTttb2R1bGUuZXhwb3J0cz10fSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/shallow-clone/index.js":
/*!*********************************************!*\
  !*** ./node_modules/shallow-clone/index.js ***!
  \*********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = __webpack_require__(/*! kind-of */ \"(app-pages-browser)/./node_modules/kind-of/index.js\");\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zaGFsbG93LWNsb25lL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQSxlQUFlLG1CQUFPLENBQUMsb0VBQVM7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLE1BQU0sZUFBZSxNQUFNLG9CQUFvQixNQUFNO0FBQ25FO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zaGFsbG93LWNsb25lL2luZGV4LmpzPzkzOGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBzaGFsbG93LWNsb25lIDxodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9zaGFsbG93LWNsb25lPlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBKb24gU2NobGlua2VydC5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHZhbHVlT2YgPSBTeW1ib2wucHJvdG90eXBlLnZhbHVlT2Y7XG5jb25zdCB0eXBlT2YgPSByZXF1aXJlKCdraW5kLW9mJyk7XG5cbmZ1bmN0aW9uIGNsb25lKHZhbCwgZGVlcCkge1xuICBzd2l0Y2ggKHR5cGVPZih2YWwpKSB7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIHZhbC5zbGljZSgpO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdmFsKTtcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiBuZXcgdmFsLmNvbnN0cnVjdG9yKE51bWJlcih2YWwpKTtcbiAgICBjYXNlICdtYXAnOlxuICAgICAgcmV0dXJuIG5ldyBNYXAodmFsKTtcbiAgICBjYXNlICdzZXQnOlxuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsKTtcbiAgICBjYXNlICdidWZmZXInOlxuICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbCk7XG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiBjbG9uZVN5bWJvbCh2YWwpO1xuICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKHZhbCk7XG4gICAgY2FzZSAnZmxvYXQzMmFycmF5JzpcbiAgICBjYXNlICdmbG9hdDY0YXJyYXknOlxuICAgIGNhc2UgJ2ludDE2YXJyYXknOlxuICAgIGNhc2UgJ2ludDMyYXJyYXknOlxuICAgIGNhc2UgJ2ludDhhcnJheSc6XG4gICAgY2FzZSAndWludDE2YXJyYXknOlxuICAgIGNhc2UgJ3VpbnQzMmFycmF5JzpcbiAgICBjYXNlICd1aW50OGNsYW1wZWRhcnJheSc6XG4gICAgY2FzZSAndWludDhhcnJheSc6XG4gICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KHZhbCk7XG4gICAgY2FzZSAncmVnZXhwJzpcbiAgICAgIHJldHVybiBjbG9uZVJlZ0V4cCh2YWwpO1xuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHZhbCk7XG4gICAgZGVmYXVsdDoge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVSZWdFeHAodmFsKSB7XG4gIGNvbnN0IGZsYWdzID0gdmFsLmZsYWdzICE9PSB2b2lkIDAgPyB2YWwuZmxhZ3MgOiAoL1xcdyskLy5leGVjKHZhbCkgfHwgdm9pZCAwKTtcbiAgY29uc3QgcmUgPSBuZXcgdmFsLmNvbnN0cnVjdG9yKHZhbC5zb3VyY2UsIGZsYWdzKTtcbiAgcmUubGFzdEluZGV4ID0gdmFsLmxhc3RJbmRleDtcbiAgcmV0dXJuIHJlO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKHZhbCkge1xuICBjb25zdCByZXMgPSBuZXcgdmFsLmNvbnN0cnVjdG9yKHZhbC5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzKS5zZXQobmV3IFVpbnQ4QXJyYXkodmFsKSk7XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh2YWwsIGRlZXApIHtcbiAgcmV0dXJuIG5ldyB2YWwuY29uc3RydWN0b3IodmFsLmJ1ZmZlciwgdmFsLmJ5dGVPZmZzZXQsIHZhbC5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcih2YWwpIHtcbiAgY29uc3QgbGVuID0gdmFsLmxlbmd0aDtcbiAgY29uc3QgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlID8gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbikgOiBCdWZmZXIuZnJvbShsZW4pO1xuICB2YWwuY29weShidWYpO1xuICByZXR1cm4gYnVmO1xufVxuXG5mdW5jdGlvbiBjbG9uZVN5bWJvbCh2YWwpIHtcbiAgcmV0dXJuIHZhbHVlT2YgPyBPYmplY3QodmFsdWVPZi5jYWxsKHZhbCkpIDoge307XG59XG5cbi8qKlxuICogRXhwb3NlIGBjbG9uZWBcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/shallow-clone/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nvar randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  randomUUID\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBLCtEQUFlO0FBQ2Y7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzPzU4OTQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyw4RUFBOEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcz8wYjUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtOF1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkL2k7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ rng; }\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanM/YWI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cblxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unsafeStringify: function() { return /* binding */ unsafeStringify; }\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUFlLFNBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanM/Yjc1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIC8vXG4gIC8vIE5vdGUgdG8gZnV0dXJlLXNlbGY6IE5vLCB5b3UgY2FuJ3QgcmVtb3ZlIHRoZSBgdG9Mb3dlckNhc2UoKWAgY2FsbC5cbiAgLy8gUkVGOiBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC82NzcjaXNzdWVjb21tZW50LTE3NTczNTEzNTFcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgdmFyIHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpO1xuICAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG4gIHJldHVybiB1dWlkO1xufVxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFpQztBQUNOO0FBQ3NCO0FBQ2pEO0FBQ0EsTUFBTSxrREFBTTtBQUNaLFdBQVcsa0RBQU07QUFDakI7QUFDQTtBQUNBLCtDQUErQywrQ0FBRzs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBZTtBQUN4QjtBQUNBLCtEQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcz84OTVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7QUFBK0I7QUFDL0I7QUFDQSxxQ0FBcUMsaURBQUs7QUFDMUM7QUFDQSwrREFBZSxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanM/NmNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/uuid/dist/esm-browser/validate.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ConversationInterface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ConversationInterface */ \"(app-pages-browser)/./components/ConversationInterface.tsx\");\n/* harmony import */ var _components_ChatDisplay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ChatDisplay */ \"(app-pages-browser)/./components/ChatDisplay.tsx\");\n/* harmony import */ var _components_ToolMonitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ToolMonitor */ \"(app-pages-browser)/./components/ToolMonitor.tsx\");\n/* harmony import */ var _components_ProductInfoMonitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ProductInfoMonitor */ \"(app-pages-browser)/./components/ProductInfoMonitor.tsx\");\n/* harmony import */ var _lib_pipecatRTVI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/pipecatRTVI */ \"(app-pages-browser)/./lib/pipecatRTVI.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nfunction Home() {\n    _s();\n    const { isConnected, isInConversation, messages, connectionStatus, userId, setUserId, startConversation, stopConversation, connect, disconnect } = (0,_lib_pipecatRTVI__WEBPACK_IMPORTED_MODULE_6__.usePipecatClient)();\n    const [tempUserId, setTempUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const handleSetUserId = ()=>{\n        if (tempUserId.trim()) {\n            setUserId(tempUserId.trim());\n        }\n    };\n    const handleConnect = ()=>{\n        if (!userId) {\n            alert(\"Please set a User ID first\");\n            return;\n        }\n        connect();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-4xl font-bold text-gray-800 mb-2\",\n                            suppressHydrationWarning: true,\n                            children: \"FunVoice AI Assistant\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600\",\n                            children: \"Live conversational AI powered by Pipecat with Multi-User Support\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 47,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"inline-block px-3 py-1 rounded-full text-sm font-medium \".concat(isConnected ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"),\n                                    children: connectionStatus\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 51,\n                                    columnNumber: 13\n                                }, this),\n                                userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-2 inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800\",\n                                    children: [\n                                        \"User: \",\n                                        userId\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 59,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 50,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                    lineNumber: 43,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-lg p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold mb-4 text-gray-800\",\n                                    suppressHydrationWarning: true,\n                                    children: \"Conversation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 69,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatDisplay__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    messages: messages\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 72,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 68,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-lg p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold mb-4 text-gray-800\",\n                                    children: \"Live Conversation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 77,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-lg font-semibold mb-3 text-gray-800\",\n                                            children: \"User ID Setup\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 83,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: tempUserId,\n                                                    onChange: (e)=>setTempUserId(e.target.value),\n                                                    placeholder: \"Enter your User ID\",\n                                                    className: \"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                                    onKeyPress: (e)=>e.key === \"Enter\" && handleSetUserId()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 87,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleSetUserId,\n                                                    className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors\",\n                                                    children: \"Set ID\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 95,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 86,\n                                            columnNumber: 15\n                                        }, this),\n                                        userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-green-600 mt-2\",\n                                            children: [\n                                                \" User ID set: \",\n                                                userId\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 103,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500 mt-2\",\n                                            children: \"Each user needs a unique ID for isolated conversations and data\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 107,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 82,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6\",\n                                    children: !isConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConnect,\n                                        disabled: !userId,\n                                        className: \"w-full font-semibold py-3 px-4 rounded-lg transition-colors \".concat(userId ? \"bg-blue-600 hover:bg-blue-700 text-white\" : \"bg-gray-400 text-gray-200 cursor-not-allowed\"),\n                                        children: userId ? \"Connect to AI Assistant\" : \"Set User ID First\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                        lineNumber: 115,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: disconnect,\n                                        className: \"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\",\n                                        children: \"Disconnect\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 113,\n                                    columnNumber: 13\n                                }, this),\n                                isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ConversationInterface__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    isConnected: isConnected,\n                                    isInConversation: isInConversation,\n                                    onStartConversation: startConversation,\n                                    onStopConversation: stopConversation\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 138,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 pt-6 border-t border-gray-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-lg font-semibold mb-4 text-gray-800\",\n                                            children: \"Available Voice Commands\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 148,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2 text-sm text-gray-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: [\n                                                        \"\\uD83C\\uDFAF \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                            children: \"Navigation:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                            lineNumber: 152,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        ' \"Navigate to email list\", \"Show home page\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 152,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: [\n                                                        \"\\uD83D\\uDCB0 \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                            children: \"Product Info:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                            lineNumber: 153,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        ' \"Find price for widgets in Germany\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: [\n                                                        \"\\uD83D\\uDCCB \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                            children: \"Quotations:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                            lineNumber: 154,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        ' \"Add product to quotation\", \"Save quotation\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 154,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: [\n                                                        \"\\uD83D\\uDCE7 \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                            children: \"Client Info:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                            lineNumber: 155,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        ' \"Update client information\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 151,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500 mt-3\",\n                                            children: \"All commands are user-specific - only you will see your data and results\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 157,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 147,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 76,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                    lineNumber: 66,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-lg p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold mb-4 text-gray-800\",\n                                    children: \"Tool Commands Monitor\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ToolMonitor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    userId: userId\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-lg p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold mb-4 text-gray-800\",\n                                    children: \"Product Info Monitor\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 174,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ProductInfoMonitor__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    userId: userId\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 177,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                    lineNumber: 165,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 bg-white rounded-xl shadow-lg p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-4 text-gray-800\",\n                            children: \"How to Use FunVoice (Multi-User)\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 183,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"space-y-2 text-gray-600\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 188,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Set your unique User ID (required for multi-user support)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 187,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 192,\n                                            columnNumber: 15\n                                        }, this),\n                                        'Click \"Connect\" to establish connection with the AI assistant'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 191,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 196,\n                                            columnNumber: 15\n                                        }, this),\n                                        'Click \"Start Conversation\" to begin live voice chat'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 200,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Speak naturally - the AI will listen and respond in real-time\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 199,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-green-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 204,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Use voice commands for navigation, product info, and quotations\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 203,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-blue-500 rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 208,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"Multi-User:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Each user gets isolated data and commands\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 207,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 186,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 p-4 bg-blue-50 rounded-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold text-blue-800 mb-2\",\n                                    children: \"Multi-User Benefits:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 214,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"text-sm text-blue-700 space-y-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: \" Each user's product searches are private\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: \" Navigation commands only affect your session\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 217,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: \" Quotations are user-specific\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: \" Multiple users can use the system simultaneously\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                            lineNumber: 219,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                            lineNumber: 213,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n            lineNumber: 42,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/app/page.tsx\",\n        lineNumber: 41,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"rHJuDx0BRRcKbpHc7voJLOvr9OQ=\", false, function() {\n    return [\n        _lib_pipecatRTVI__WEBPACK_IMPORTED_MODULE_6__.usePipecatClient\n    ];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEUsOERBQUN3QjtvQ0FBR3hCLFdBQVU7O3NEQUNaLDhEQUFDSzs0Q0FBS0wsV0FBVTs7Ozs7O3dDQUFnRDs7Ozs7Ozs4Q0FHbEUsOERBQUN3QjtvQ0FBR3hCLFdBQVU7O3NEQUNaLDhEQUFDSzs0Q0FBS0wsV0FBVTs7Ozs7O3dDQUFnRDs7Ozs7Ozs4Q0FHbEUsOERBQUN3QjtvQ0FBR3hCLFdBQVU7O3NEQUNaLDhEQUFDSzs0Q0FBS0wsV0FBVTs7Ozs7O3NEQUNoQiw4REFBQ3NCO3NEQUFPOzs7Ozs7d0NBQW9COzs7Ozs7Ozs7Ozs7O3NDQUloQyw4REFBQ3JCOzRCQUFJRCxXQUFVOzs4Q0FDYiw4REFBQ087b0NBQUdQLFdBQVU7OENBQW1DOzs7Ozs7OENBQ2pELDhEQUFDdUI7b0NBQUd2QixXQUFVOztzREFDWiw4REFBQ3dCO3NEQUFHOzs7Ozs7c0RBQ0osOERBQUNBO3NEQUFHOzs7Ozs7c0RBQ0osOERBQUNBO3NEQUFHOzs7Ozs7c0RBQ0osOERBQUNBO3NEQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9sQjtHQXhOd0IxQzs7UUFZbEJELDhEQUFnQkE7OztLQVpFQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvcGFnZS50c3g/NzYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQ29udmVyc2F0aW9uSW50ZXJmYWNlIGZyb20gJ0AvY29tcG9uZW50cy9Db252ZXJzYXRpb25JbnRlcmZhY2UnXG5pbXBvcnQgQ2hhdERpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL0NoYXREaXNwbGF5J1xuaW1wb3J0IFRvb2xNb25pdG9yIGZyb20gJ0AvY29tcG9uZW50cy9Ub29sTW9uaXRvcidcbmltcG9ydCBQcm9kdWN0SW5mb01vbml0b3IgZnJvbSAnQC9jb21wb25lbnRzL1Byb2R1Y3RJbmZvTW9uaXRvcidcbmltcG9ydCB7IHVzZVBpcGVjYXRDbGllbnQgfSBmcm9tICdAL2xpYi9waXBlY2F0UlRWSSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcbiAgY29uc3Qge1xuICAgIGlzQ29ubmVjdGVkLFxuICAgIGlzSW5Db252ZXJzYXRpb24sXG4gICAgbWVzc2FnZXMsXG4gICAgY29ubmVjdGlvblN0YXR1cyxcbiAgICB1c2VySWQsXG4gICAgc2V0VXNlcklkLFxuICAgIHN0YXJ0Q29udmVyc2F0aW9uLFxuICAgIHN0b3BDb252ZXJzYXRpb24sXG4gICAgY29ubmVjdCxcbiAgICBkaXNjb25uZWN0XG4gIH0gPSB1c2VQaXBlY2F0Q2xpZW50KClcblxuICBjb25zdCBbdGVtcFVzZXJJZCwgc2V0VGVtcFVzZXJJZF0gPSB1c2VTdGF0ZSgnJylcblxuICBjb25zdCBoYW5kbGVTZXRVc2VySWQgPSAoKSA9PiB7XG4gICAgaWYgKHRlbXBVc2VySWQudHJpbSgpKSB7XG4gICAgICBzZXRVc2VySWQodGVtcFVzZXJJZC50cmltKCkpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ29ubmVjdCA9ICgpID0+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgYWxlcnQoJ1BsZWFzZSBzZXQgYSBVc2VyIElEIGZpcnN0JylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25uZWN0KClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPG1haW4gY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tMTAwIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgICAgICAgIEZ1blZvaWNlIEFJIEFzc2lzdGFudFxuICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgTGl2ZSBjb252ZXJzYXRpb25hbCBBSSBwb3dlcmVkIGJ5IFBpcGVjYXQgd2l0aCBNdWx0aS1Vc2VyIFN1cHBvcnRcbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BpbmxpbmUtYmxvY2sgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgIGlzQ29ubmVjdGVkIFxuICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgXG4gICAgICAgICAgICAgICAgOiAnYmctcmVkLTEwMCB0ZXh0LXJlZC04MDAnXG4gICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgIHtjb25uZWN0aW9uU3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge3VzZXJJZCAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgaW5saW5lLWJsb2NrIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LW1lZGl1bSBiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwXCI+XG4gICAgICAgICAgICAgICAgVXNlcjoge3VzZXJJZH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC04XCI+XG4gICAgICAgICAgey8qIENoYXQgRGlzcGxheSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtZ3JheS04MDBcIiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc+XG4gICAgICAgICAgICAgIENvbnZlcnNhdGlvblxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxDaGF0RGlzcGxheSBtZXNzYWdlcz17bWVzc2FnZXN9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ29udmVyc2F0aW9uIENvbnRyb2xzICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02XCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICBMaXZlIENvbnZlcnNhdGlvblxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFVzZXIgSUQgU2V0dXAgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgcC00IGJnLWdyYXktNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTMgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgIFVzZXIgSUQgU2V0dXBcbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcFVzZXJJZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcFVzZXJJZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgVXNlciBJRFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17KGUpID0+IGUua2V5ID09PSAnRW50ZXInICYmIGhhbmRsZVNldFVzZXJJZCgpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2V0VXNlcklkfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTZXQgSURcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHt1c2VySWQgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi02MDAgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAg4pyFIFVzZXIgSUQgc2V0OiB7dXNlcklkfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTJcIj5cbiAgICAgICAgICAgICAgICBFYWNoIHVzZXIgbmVlZHMgYSB1bmlxdWUgSUQgZm9yIGlzb2xhdGVkIGNvbnZlcnNhdGlvbnMgYW5kIGRhdGFcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBDb25uZWN0aW9uIENvbnRyb2xzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgIHshaXNDb25uZWN0ZWQgPyAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29ubmVjdH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdXNlcklkfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGZvbnQtc2VtaWJvbGQgcHktMyBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUnIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktNDAwIHRleHQtZ3JheS0yMDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3VzZXJJZCA/ICdDb25uZWN0IHRvIEFJIEFzc2lzdGFudCcgOiAnU2V0IFVzZXIgSUQgRmlyc3QnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Rpc2Nvbm5lY3R9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctcmVkLTYwMCBob3ZlcjpiZy1yZWQtNzAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0zIHB4LTQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgRGlzY29ubmVjdFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBDb252ZXJzYXRpb24gSW50ZXJmYWNlICovfVxuICAgICAgICAgICAge2lzQ29ubmVjdGVkICYmIChcbiAgICAgICAgICAgICAgPENvbnZlcnNhdGlvbkludGVyZmFjZVxuICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkPXtpc0Nvbm5lY3RlZH1cbiAgICAgICAgICAgICAgICBpc0luQ29udmVyc2F0aW9uPXtpc0luQ29udmVyc2F0aW9ufVxuICAgICAgICAgICAgICAgIG9uU3RhcnRDb252ZXJzYXRpb249e3N0YXJ0Q29udmVyc2F0aW9ufVxuICAgICAgICAgICAgICAgIG9uU3RvcENvbnZlcnNhdGlvbj17c3RvcENvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBWb2ljZSBDb21tYW5kcyBJbmZvICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHB0LTYgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgQXZhaWxhYmxlIFZvaWNlIENvbW1hbmRzXG4gICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwPvCfjq8gPHN0cm9uZz5OYXZpZ2F0aW9uOjwvc3Ryb25nPiBcIk5hdmlnYXRlIHRvIGVtYWlsIGxpc3RcIiwgXCJTaG93IGhvbWUgcGFnZVwiPC9wPlxuICAgICAgICAgICAgICAgIDxwPvCfkrAgPHN0cm9uZz5Qcm9kdWN0IEluZm86PC9zdHJvbmc+IFwiRmluZCBwcmljZSBmb3Igd2lkZ2V0cyBpbiBHZXJtYW55XCI8L3A+XG4gICAgICAgICAgICAgICAgPHA+8J+TiyA8c3Ryb25nPlF1b3RhdGlvbnM6PC9zdHJvbmc+IFwiQWRkIHByb2R1Y3QgdG8gcXVvdGF0aW9uXCIsIFwiU2F2ZSBxdW90YXRpb25cIjwvcD5cbiAgICAgICAgICAgICAgICA8cD7wn5OnIDxzdHJvbmc+Q2xpZW50IEluZm86PC9zdHJvbmc+IFwiVXBkYXRlIGNsaWVudCBpbmZvcm1hdGlvblwiPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIG10LTNcIj5cbiAgICAgICAgICAgICAgICBBbGwgY29tbWFuZHMgYXJlIHVzZXItc3BlY2lmaWMgLSBvbmx5IHlvdSB3aWxsIHNlZSB5b3VyIGRhdGEgYW5kIHJlc3VsdHNcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBUb29sIE1vbml0b3JzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTggbXQtOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02XCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICBUb29sIENvbW1hbmRzIE1vbml0b3JcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8VG9vbE1vbml0b3IgdXNlcklkPXt1c2VySWR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgIFByb2R1Y3QgSW5mbyBNb25pdG9yXG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgPFByb2R1Y3RJbmZvTW9uaXRvciB1c2VySWQ9e3VzZXJJZH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEluc3RydWN0aW9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICBIb3cgdG8gVXNlIEZ1blZvaWNlIChNdWx0aS1Vc2VyKVxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIG1yLTNcIj48L3NwYW4+XG4gICAgICAgICAgICAgIFNldCB5b3VyIHVuaXF1ZSBVc2VyIElEIChyZXF1aXJlZCBmb3IgbXVsdGktdXNlciBzdXBwb3J0KVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgbXItM1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgQ2xpY2sgXCJDb25uZWN0XCIgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24gd2l0aCB0aGUgQUkgYXNzaXN0YW50XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbCBtci0zXCI+PC9zcGFuPlxuICAgICAgICAgICAgICBDbGljayBcIlN0YXJ0IENvbnZlcnNhdGlvblwiIHRvIGJlZ2luIGxpdmUgdm9pY2UgY2hhdFxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgbXItM1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgU3BlYWsgbmF0dXJhbGx5IC0gdGhlIEFJIHdpbGwgbGlzdGVuIGFuZCByZXNwb25kIGluIHJlYWwtdGltZVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgbXItM1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgVXNlIHZvaWNlIGNvbW1hbmRzIGZvciBuYXZpZ2F0aW9uLCBwcm9kdWN0IGluZm8sIGFuZCBxdW90YXRpb25zXG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMiBoLTIgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsIG1yLTNcIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzdHJvbmc+TXVsdGktVXNlcjo8L3N0cm9uZz4gRWFjaCB1c2VyIGdldHMgaXNvbGF0ZWQgZGF0YSBhbmQgY29tbWFuZHNcbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcC00IGJnLWJsdWUtNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTgwMCBtYi0yXCI+TXVsdGktVXNlciBCZW5lZml0czo8L2gzPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTcwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPuKAoiBFYWNoIHVzZXIncyBwcm9kdWN0IHNlYXJjaGVzIGFyZSBwcml2YXRlPC9saT5cbiAgICAgICAgICAgICAgPGxpPuKAoiBOYXZpZ2F0aW9uIGNvbW1hbmRzIG9ubHkgYWZmZWN0IHlvdXIgc2Vzc2lvbjwvbGk+XG4gICAgICAgICAgICAgIDxsaT7igKIgUXVvdGF0aW9ucyBhcmUgdXNlci1zcGVjaWZpYzwvbGk+XG4gICAgICAgICAgICAgIDxsaT7igKIgTXVsdGlwbGUgdXNlcnMgY2FuIHVzZSB0aGUgc3lzdGVtIHNpbXVsdGFuZW91c2x5PC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwiQ29udmVyc2F0aW9uSW50ZXJmYWNlIiwiQ2hhdERpc3BsYXkiLCJUb29sTW9uaXRvciIsIlByb2R1Y3RJbmZvTW9uaXRvciIsInVzZVBpcGVjYXRDbGllbnQiLCJIb21lIiwiaXNDb25uZWN0ZWQiLCJpc0luQ29udmVyc2F0aW9uIiwibWVzc2FnZXMiLCJjb25uZWN0aW9uU3RhdHVzIiwidXNlcklkIiwic2V0VXNlcklkIiwic3RhcnRDb252ZXJzYXRpb24iLCJzdG9wQ29udmVyc2F0aW9uIiwiY29ubmVjdCIsImRpc2Nvbm5lY3QiLCJ0ZW1wVXNlcklkIiwic2V0VGVtcFVzZXJJZCIsImhhbmRsZVNldFVzZXJJZCIsInRyaW0iLCJoYW5kbGVDb25uZWN0IiwiYWxlcnQiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2IiwiaDEiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJwIiwic3BhbiIsImgyIiwiaDMiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwib25LZXlQcmVzcyIsImtleSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsIm9uU3RhcnRDb252ZXJzYXRpb24iLCJvblN0b3BDb252ZXJzYXRpb24iLCJzdHJvbmciLCJ1bCIsImxpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ChatDisplay.tsx":
/*!************************************!*\
  !*** ./components/ChatDisplay.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatDisplay; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction ChatDisplay(param) {\n    let { messages } = param;\n    _s();\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    const formatTime = (timestamp)=>{\n        return timestamp.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    const getMessageStyles = (type)=>{\n        switch(type){\n            case \"user\":\n                return \"bg-blue-500 text-white ml-auto\";\n            case \"assistant\":\n                return \"bg-green-100 text-green-800 mr-auto\";\n            case \"system\":\n                return \"bg-gray-100 text-gray-600 mx-auto text-center text-sm\";\n            case \"error\":\n                return \"bg-red-100 text-red-800 mx-auto text-center\";\n            default:\n                return \"bg-gray-100 text-gray-800\";\n        }\n    };\n    const getMessageIcon = (type, isAudio)=>{\n        if (isAudio && type === \"user\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                className: \"w-4 h-4 mr-2\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M12 2C13.1 2 14 2.9 14 4V12C14 13.1 13.1 14 12 14C10.9 14 10 13.1 10 12V4C10 2.9 10.9 2 12 2M19 12V14C19 17.3 16.3 20 13 20V22H11V20C7.7 20 5 17.3 5 14V12H7V14C7 16.2 8.8 18 11 18H13C15.2 18 17 16.2 17 14V12H19Z\"\n                }, void 0, false, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                    lineNumber: 51,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                lineNumber: 50,\n                columnNumber: 9\n            }, this);\n        }\n        if (type === \"assistant\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                className: \"w-4 h-4 mr-2\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7A7,7 0 0,1 20,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H4A7,7 0 0,1 11,7V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A0.5,0.5 0 0,0 7,13.5A0.5,0.5 0 0,0 7.5,14A0.5,0.5 0 0,0 8,13.5A0.5,0.5 0 0,0 7.5,13M16.5,13A0.5,0.5 0 0,0 16,13.5A0.5,0.5 0 0,0 16.5,14A0.5,0.5 0 0,0 17,13.5A0.5,0.5 0 0,0 16.5,13Z\"\n                }, void 0, false, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                    lineNumber: 59,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                lineNumber: 58,\n                columnNumber: 9\n            }, this);\n        }\n        return null;\n    };\n    if (messages.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-96 flex items-center justify-center text-gray-500 bg-gray-50 rounded-lg\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-12 h-12 mx-auto mb-4 opacity-50\",\n                        fill: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M11,7V13H13V7H11M11,15V17H13V15H11Z\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"No messages yet\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm mt-1\",\n                        children: \"Start a conversation by recording or typing a message\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                lineNumber: 70,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n            lineNumber: 69,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 space-y-3\",\n        children: [\n            messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-xs p-3 rounded-lg \".concat(getMessageStyles(message.type)),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start\",\n                        children: [\n                            getMessageIcon(message.type, message.isAudio),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm whitespace-pre-wrap break-words\",\n                                        children: message.content\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs opacity-70 mt-1\",\n                                        children: formatTime(message.timestamp)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                                        lineNumber: 94,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 11\n                    }, this)\n                }, message.id, false, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: messagesEndRef\n            }, void 0, false, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n                lineNumber: 101,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ChatDisplay.tsx\",\n        lineNumber: 82,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatDisplay, \"0epSoi03NVSoD0I0FiLK4iVNXOA=\");\n_c = ChatDisplay;\nvar _c;\n$RefreshReg$(_c, \"ChatDisplay\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2hhdERpc3BsYXkudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUV5QztBQWMxQixTQUFTRSxZQUFZLEtBQThCO1FBQTlCLEVBQUVDLFFBQVEsRUFBb0IsR0FBOUI7O0lBQ2xDLE1BQU1DLGlCQUFpQkgsNkNBQU1BLENBQWlCO0lBRTlDLE1BQU1JLGlCQUFpQjtZQUNyQkQ7U0FBQUEsMEJBQUFBLGVBQWVFLE9BQU8sY0FBdEJGLDhDQUFBQSx3QkFBd0JHLGNBQWMsQ0FBQztZQUFFQyxVQUFVO1FBQVM7SUFDOUQ7SUFFQVIsZ0RBQVNBLENBQUM7UUFDUks7SUFDRixHQUFHO1FBQUNGO0tBQVM7SUFFYixNQUFNTSxhQUFhLENBQUNDO1FBQ2xCLE9BQU9BLFVBQVVDLGtCQUFrQixDQUFDLEVBQUUsRUFBRTtZQUFFQyxNQUFNO1lBQVdDLFFBQVE7UUFBVTtJQUMvRTtJQUVBLE1BQU1DLG1CQUFtQixDQUFDQztRQUN4QixPQUFRQTtZQUNOLEtBQUs7Z0JBQ0gsT0FBTztZQUNULEtBQUs7Z0JBQ0gsT0FBTztZQUNULEtBQUs7Z0JBQ0gsT0FBTztZQUNULEtBQUs7Z0JBQ0gsT0FBTztZQUNUO2dCQUNFLE9BQU87UUFDWDtJQUNGO0lBRUEsTUFBTUMsaUJBQWlCLENBQUNELE1BQWNFO1FBQ3BDLElBQUlBLFdBQVdGLFNBQVMsUUFBUTtZQUM5QixxQkFDRSw4REFBQ0c7Z0JBQUlDLFdBQVU7Z0JBQWVDLE1BQUs7Z0JBQWVDLFNBQVE7MEJBQ3hELDRFQUFDQztvQkFBS0MsR0FBRTs7Ozs7Ozs7Ozs7UUFHZDtRQUVBLElBQUlSLFNBQVMsYUFBYTtZQUN4QixxQkFDRSw4REFBQ0c7Z0JBQUlDLFdBQVU7Z0JBQWVDLE1BQUs7Z0JBQWVDLFNBQVE7MEJBQ3hELDRFQUFDQztvQkFBS0MsR0FBRTs7Ozs7Ozs7Ozs7UUFHZDtRQUVBLE9BQU87SUFDVDtJQUVBLElBQUlwQixTQUFTcUIsTUFBTSxLQUFLLEdBQUc7UUFDekIscUJBQ0UsOERBQUNDO1lBQUlOLFdBQVU7c0JBQ2IsNEVBQUNNO2dCQUFJTixXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7d0JBQW9DQyxNQUFLO3dCQUFlQyxTQUFRO2tDQUM3RSw0RUFBQ0M7NEJBQUtDLEdBQUU7Ozs7Ozs7Ozs7O2tDQUVWLDhEQUFDRztrQ0FBRTs7Ozs7O2tDQUNILDhEQUFDQTt3QkFBRVAsV0FBVTtrQ0FBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJcEM7SUFFQSxxQkFDRSw4REFBQ007UUFBSU4sV0FBVTs7WUFDWmhCLFNBQVN3QixHQUFHLENBQUMsQ0FBQ0Msd0JBQ2IsOERBQUNIO29CQUVDTixXQUFXLDJCQUEwRCxPQUEvQkwsaUJBQWlCYyxRQUFRYixJQUFJOzhCQUVuRSw0RUFBQ1U7d0JBQUlOLFdBQVU7OzRCQUNaSCxlQUFlWSxRQUFRYixJQUFJLEVBQUVhLFFBQVFYLE9BQU87MENBQzdDLDhEQUFDUTtnQ0FBSU4sV0FBVTs7a0RBQ2IsOERBQUNPO3dDQUFFUCxXQUFVO2tEQUNWUyxRQUFRQyxPQUFPOzs7Ozs7a0RBRWxCLDhEQUFDSDt3Q0FBRVAsV0FBVTtrREFDVlYsV0FBV21CLFFBQVFsQixTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7bUJBVjlCa0IsUUFBUUUsRUFBRTs7Ozs7MEJBZ0JuQiw4REFBQ0w7Z0JBQUlNLEtBQUszQjs7Ozs7Ozs7Ozs7O0FBR2hCO0dBdkZ3QkY7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9DaGF0RGlzcGxheS50c3g/MzAxMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nIHwgJ2Vycm9yJ1xuICBjb250ZW50OiBzdHJpbmdcbiAgdGltZXN0YW1wOiBEYXRlXG4gIGlzQXVkaW8/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBDaGF0RGlzcGxheVByb3BzIHtcbiAgbWVzc2FnZXM6IE1lc3NhZ2VbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0RGlzcGxheSh7IG1lc3NhZ2VzIH06IENoYXREaXNwbGF5UHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAodGltZXN0YW1wOiBEYXRlKSA9PiB7XG4gICAgcmV0dXJuIHRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxuICB9XG5cbiAgY29uc3QgZ2V0TWVzc2FnZVN0eWxlcyA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICByZXR1cm4gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUgbWwtYXV0bydcbiAgICAgIGNhc2UgJ2Fzc2lzdGFudCc6XG4gICAgICAgIHJldHVybiAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIG1yLWF1dG8nXG4gICAgICBjYXNlICdzeXN0ZW0nOlxuICAgICAgICByZXR1cm4gJ2JnLWdyYXktMTAwIHRleHQtZ3JheS02MDAgbXgtYXV0byB0ZXh0LWNlbnRlciB0ZXh0LXNtJ1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwIG14LWF1dG8gdGV4dC1jZW50ZXInXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2JnLWdyYXktMTAwIHRleHQtZ3JheS04MDAnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0TWVzc2FnZUljb24gPSAodHlwZTogc3RyaW5nLCBpc0F1ZGlvPzogYm9vbGVhbikgPT4ge1xuICAgIGlmIChpc0F1ZGlvICYmIHR5cGUgPT09ICd1c2VyJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMkMxMy4xIDIgMTQgMi45IDE0IDRWMTJDMTQgMTMuMSAxMy4xIDE0IDEyIDE0QzEwLjkgMTQgMTAgMTMuMSAxMCAxMlY0QzEwIDIuOSAxMC45IDIgMTIgMk0xOSAxMlYxNEMxOSAxNy4zIDE2LjMgMjAgMTMgMjBWMjJIMTFWMjBDNy43IDIwIDUgMTcuMyA1IDE0VjEySDdWMTRDNyAxNi4yIDguOCAxOCAxMSAxOEgxM0MxNS4yIDE4IDE3IDE2LjIgMTcgMTRWMTJIMTlaXCIgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTIsMkEyLDIgMCAwLDEgMTQsNEMxNCw0Ljc0IDEzLjYsNS4zOSAxMyw1LjczVjdBNyw3IDAgMCwxIDIwLDE0SDIyQTEsMSAwIDAsMSAyMywxNVYxOEExLDEgMCAwLDEgMjIsMTlIMjFWMjBBMiwyIDAgMCwxIDE5LDIySDVBMiwyIDAgMCwxIDMsMjBWMTlIMkExLDEgMCAwLDEgMSwxOFYxNUExLDEgMCAwLDEgMiwxNEg0QTcsNyAwIDAsMSAxMSw3VjUuNzNDMTAuNCw1LjM5IDEwLDQuNzQgMTAsNEEyLDIgMCAwLDEgMTIsMk03LjUsMTNBMC41LDAuNSAwIDAsMCA3LDEzLjVBMC41LDAuNSAwIDAsMCA3LjUsMTRBMC41LDAuNSAwIDAsMCA4LDEzLjVBMC41LDAuNSAwIDAsMCA3LjUsMTNNMTYuNSwxM0EwLjUsMC41IDAgMCwwIDE2LDEzLjVBMC41LDAuNSAwIDAsMCAxNi41LDE0QTAuNSwwLjUgMCAwLDAgMTcsMTMuNUEwLjUsMC41IDAgMCwwIDE2LjUsMTNaXCIgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC05NiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwIGJnLWdyYXktNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IG9wYWNpdHktNTBcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0xMiwyQzYuNDgsMiAyLDYuNDggMiwxMkMyLDE3LjUyIDYuNDgsMjIgMTIsMjJDMTcuNTIsMjIgMjIsMTcuNTIgMjIsMTJDMjIsNi40OCAxNy41MiwyIDEyLDJNMTIsNEMxNi40MSw0IDIwLDcuNTkgMjAsMTJDMjAsMTYuNDEgMTYuNDEsMjAgMTIsMjBDNy41OSwyMCA0LDE2LjQxIDQsMTJDNCw3LjU5IDcuNTksNCAxMiw0TTExLDdWMTNIMTNWN0gxMU0xMSwxNVYxN0gxM1YxNUgxMVpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxwPk5vIG1lc3NhZ2VzIHlldDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTFcIj5TdGFydCBhIGNvbnZlcnNhdGlvbiBieSByZWNvcmRpbmcgb3IgdHlwaW5nIGEgbWVzc2FnZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC05NiBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtNCBzcGFjZS15LTNcIj5cbiAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cbiAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy14cyBwLTMgcm91bmRlZC1sZyAke2dldE1lc3NhZ2VTdHlsZXMobWVzc2FnZS50eXBlKX1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICB7Z2V0TWVzc2FnZUljb24obWVzc2FnZS50eXBlLCBtZXNzYWdlLmlzQXVkaW8pfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLXdvcmRzXCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgbXQtMVwiPlxuICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKG1lc3NhZ2UudGltZXN0YW1wKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiQ2hhdERpc3BsYXkiLCJtZXNzYWdlcyIsIm1lc3NhZ2VzRW5kUmVmIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImZvcm1hdFRpbWUiLCJ0aW1lc3RhbXAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiZ2V0TWVzc2FnZVN0eWxlcyIsInR5cGUiLCJnZXRNZXNzYWdlSWNvbiIsImlzQXVkaW8iLCJzdmciLCJjbGFzc05hbWUiLCJmaWxsIiwidmlld0JveCIsInBhdGgiLCJkIiwibGVuZ3RoIiwiZGl2IiwicCIsIm1hcCIsIm1lc3NhZ2UiLCJjb250ZW50IiwiaWQiLCJyZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ChatDisplay.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ConversationInterface.tsx":
/*!**********************************************!*\
  !*** ./components/ConversationInterface.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ConversationInterface; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction ConversationInterface(param) {\n    let { isConnected, isInConversation, onStartConversation, onStopConversation } = param;\n    _s();\n    const [audioLevel, setAudioLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isPermissionGranted, setIsPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [permissionError, setPermissionError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Check microphone permission on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkMicrophonePermission();\n    }, []);\n    const checkMicrophonePermission = async ()=>{\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            setIsPermissionGranted(true);\n            setPermissionError(\"\");\n            // Stop the stream immediately since we only wanted to check permission\n            stream.getTracks().forEach((track)=>track.stop());\n        } catch (error) {\n            setIsPermissionGranted(false);\n            setPermissionError(\"Microphone access denied. Please enable microphone permissions.\");\n            console.error(\"Microphone permission error:\", error);\n        }\n    };\n    const handleClick = ()=>{\n        console.log(\"Button clicked, isConnected:\", isConnected, \"isInConversation:\", isInConversation, \"isPermissionGranted:\", isPermissionGranted);\n        if (!isPermissionGranted) {\n            console.log(\"No permission, checking microphone...\");\n            checkMicrophonePermission();\n            return;\n        }\n        if (!isConnected) {\n            console.log(\"Not connected\");\n            return;\n        }\n        if (isInConversation) {\n            console.log(\"Stopping conversation...\");\n            onStopConversation();\n        } else {\n            console.log(\"Starting conversation...\");\n            onStartConversation();\n        }\n    };\n    const getButtonText = ()=>{\n        if (!isPermissionGranted) {\n            return \"Enable Microphone\";\n        }\n        if (!isConnected) {\n            return \"Not Connected\";\n        }\n        if (isInConversation) {\n            return \"End Conversation\";\n        }\n        return \"Start Conversation\";\n    };\n    const getButtonDescription = ()=>{\n        if (!isPermissionGranted) {\n            return \"Click to enable microphone access\";\n        }\n        if (!isConnected) {\n            return \"Please connect to the server first\";\n        }\n        if (isInConversation) {\n            return \"Click to end the live conversation\";\n        }\n        return \"Click to start a live conversation with AI\";\n    };\n    const getButtonColor = ()=>{\n        if (!isPermissionGranted) {\n            return \"bg-gray-400 border-gray-300 cursor-not-allowed\";\n        }\n        if (!isConnected) {\n            return \"bg-gray-400 border-gray-300 cursor-not-allowed\";\n        }\n        if (isInConversation) {\n            return \"bg-red-500 border-red-400 hover:bg-red-600 cursor-pointer animate-pulse\";\n        }\n        return \"bg-green-500 border-green-400 hover:bg-green-600 hover:scale-105 cursor-pointer\";\n    };\n    const getShadowColor = ()=>{\n        if (isInConversation) {\n            return \"shadow-lg shadow-red-200\";\n        }\n        return \"shadow-lg shadow-green-200\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center space-y-4\",\n        children: [\n            permissionError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm\",\n                children: permissionError\n            }, void 0, false, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                lineNumber: 114,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClick,\n                        disabled: !isPermissionGranted || !isConnected,\n                        className: \"\\n            relative z-10 w-32 h-32 rounded-full border-4 transition-all duration-200 \\n            flex items-center justify-center text-white font-bold text-lg\\n            \".concat(getButtonColor(), \"\\n            \").concat(getShadowColor(), \"\\n          \"),\n                        style: {\n                            userSelect: \"none\",\n                            WebkitUserSelect: \"none\",\n                            MozUserSelect: \"none\",\n                            msUserSelect: \"none\",\n                            pointerEvents: \"auto\",\n                            zIndex: 10\n                        },\n                        children: isInConversation ? // Stop icon\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-12 h-12\",\n                            fill: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                x: \"6\",\n                                y: \"6\",\n                                width: \"12\",\n                                height: \"12\",\n                                rx: \"2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                            lineNumber: 141,\n                            columnNumber: 13\n                        }, this) : // Microphone icon\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-12 h-12\",\n                            fill: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M12 2C13.1 2 14 2.9 14 4V12C14 13.1 13.1 14 12 14C10.9 14 10 13.1 10 12V4C10 2.9 10.9 2 12 2M19 12V14C19 17.3 16.3 20 13 20V22H11V20C7.7 20 5 17.3 5 14V12H7V14C7 16.2 8.8 18 11 18H13C15.2 18 17 16.2 17 14V12H19Z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                                lineNumber: 147,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                            lineNumber: 146,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 121,\n                        columnNumber: 9\n                    }, this),\n                    isInConversation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 rounded-full border-2 border-red-300 animate-ping pointer-events-none z-0\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                                lineNumber: 155,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 rounded-full border border-red-200 animate-pulse pointer-events-none z-0\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                                lineNumber: 156,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                lineNumber: 120,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-700 font-medium\",\n                        children: getButtonText()\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 163,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: getButtonDescription()\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 166,\n                        columnNumber: 9\n                    }, this),\n                    isInConversation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-green-600 mt-2 font-medium\",\n                        children: \"\\uD83C\\uDF99 Live conversation active - speak naturally!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 170,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                lineNumber: 162,\n                columnNumber: 7\n            }, this),\n            isInConversation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-xs\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1 justify-center\",\n                        children: [\n                            ...Array(10)\n                        ].map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"\\n                  w-1 h-6 bg-gradient-to-t from-green-400 to-green-600 rounded-full transition-all duration-100\\n                  \".concat(audioLevel > i * 10 ? \"opacity-100\" : \"opacity-30\", \"\\n                \"),\n                                style: {\n                                    height: \"\".concat(Math.max(8, audioLevel > i * 10 ? 20 + (audioLevel - i * 10) / 2 : 8), \"px\")\n                                }\n                            }, i, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-center text-gray-500 mt-2\",\n                        children: \"Audio level visualization\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                        lineNumber: 193,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ConversationInterface.tsx\",\n        lineNumber: 111,\n        columnNumber: 5\n    }, this);\n}\n_s(ConversationInterface, \"SjwpXqZ7yYaitzRlkSRJ5keEYsc=\");\n_c = ConversationInterface;\nvar _c;\n$RefreshReg$(_c, \"ConversationInterface\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ29udmVyc2F0aW9uSW50ZXJmYWNlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFbUQ7QUFTcEMsU0FBU0Usc0JBQXNCLEtBS2pCO1FBTGlCLEVBQzVDQyxXQUFXLEVBQ1hDLGdCQUFnQixFQUNoQkMsbUJBQW1CLEVBQ25CQyxrQkFBa0IsRUFDUyxHQUxpQjs7SUFNNUMsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdSLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ1MscUJBQXFCQyx1QkFBdUIsR0FBR1YsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDVyxpQkFBaUJDLG1CQUFtQixHQUFHWiwrQ0FBUUEsQ0FBQztJQUV2RCxpREFBaUQ7SUFDakRDLGdEQUFTQSxDQUFDO1FBQ1JZO0lBQ0YsR0FBRyxFQUFFO0lBRUwsTUFBTUEsNEJBQTRCO1FBQ2hDLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU1DLFVBQVVDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDO2dCQUFFQyxPQUFPO1lBQUs7WUFDdkVSLHVCQUF1QjtZQUN2QkUsbUJBQW1CO1lBQ25CLHVFQUF1RTtZQUN2RUUsT0FBT0ssU0FBUyxHQUFHQyxPQUFPLENBQUNDLENBQUFBLFFBQVNBLE1BQU1DLElBQUk7UUFDaEQsRUFBRSxPQUFPQyxPQUFPO1lBQ2RiLHVCQUF1QjtZQUN2QkUsbUJBQW1CO1lBQ25CWSxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUNoRDtJQUNGO0lBRUEsTUFBTUUsY0FBYztRQUNsQkQsUUFBUUUsR0FBRyxDQUFDLGdDQUFnQ3ZCLGFBQWEscUJBQXFCQyxrQkFBa0Isd0JBQXdCSztRQUV4SCxJQUFJLENBQUNBLHFCQUFxQjtZQUN4QmUsUUFBUUUsR0FBRyxDQUFDO1lBQ1piO1lBQ0E7UUFDRjtRQUVBLElBQUksQ0FBQ1YsYUFBYTtZQUNoQnFCLFFBQVFFLEdBQUcsQ0FBQztZQUNaO1FBQ0Y7UUFFQSxJQUFJdEIsa0JBQWtC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LCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9Db252ZXJzYXRpb25JbnRlcmZhY2UudHN4P2Y4MWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uSW50ZXJmYWNlUHJvcHMge1xuICBpc0Nvbm5lY3RlZDogYm9vbGVhblxuICBpc0luQ29udmVyc2F0aW9uOiBib29sZWFuXG4gIG9uU3RhcnRDb252ZXJzYXRpb246ICgpID0+IHZvaWRcbiAgb25TdG9wQ29udmVyc2F0aW9uOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnZlcnNhdGlvbkludGVyZmFjZSh7XG4gIGlzQ29ubmVjdGVkLFxuICBpc0luQ29udmVyc2F0aW9uLFxuICBvblN0YXJ0Q29udmVyc2F0aW9uLFxuICBvblN0b3BDb252ZXJzYXRpb25cbn06IENvbnZlcnNhdGlvbkludGVyZmFjZVByb3BzKSB7XG4gIGNvbnN0IFthdWRpb0xldmVsLCBzZXRBdWRpb0xldmVsXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtpc1Blcm1pc3Npb25HcmFudGVkLCBzZXRJc1Blcm1pc3Npb25HcmFudGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbcGVybWlzc2lvbkVycm9yLCBzZXRQZXJtaXNzaW9uRXJyb3JdID0gdXNlU3RhdGUoJycpXG5cbiAgLy8gQ2hlY2sgbWljcm9waG9uZSBwZXJtaXNzaW9uIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrTWljcm9waG9uZVBlcm1pc3Npb24oKVxuICB9LCBbXSlcblxuICBjb25zdCBjaGVja01pY3JvcGhvbmVQZXJtaXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pXG4gICAgICBzZXRJc1Blcm1pc3Npb25HcmFudGVkKHRydWUpXG4gICAgICBzZXRQZXJtaXNzaW9uRXJyb3IoJycpXG4gICAgICAvLyBTdG9wIHRoZSBzdHJlYW0gaW1tZWRpYXRlbHkgc2luY2Ugd2Ugb25seSB3YW50ZWQgdG8gY2hlY2sgcGVybWlzc2lvblxuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRJc1Blcm1pc3Npb25HcmFudGVkKGZhbHNlKVxuICAgICAgc2V0UGVybWlzc2lvbkVycm9yKCdNaWNyb3Bob25lIGFjY2VzcyBkZW5pZWQuIFBsZWFzZSBlbmFibGUgbWljcm9waG9uZSBwZXJtaXNzaW9ucy4nKVxuICAgICAgY29uc29sZS5lcnJvcignTWljcm9waG9uZSBwZXJtaXNzaW9uIGVycm9yOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdCdXR0b24gY2xpY2tlZCwgaXNDb25uZWN0ZWQ6JywgaXNDb25uZWN0ZWQsICdpc0luQ29udmVyc2F0aW9uOicsIGlzSW5Db252ZXJzYXRpb24sICdpc1Blcm1pc3Npb25HcmFudGVkOicsIGlzUGVybWlzc2lvbkdyYW50ZWQpXG4gICAgXG4gICAgaWYgKCFpc1Blcm1pc3Npb25HcmFudGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gcGVybWlzc2lvbiwgY2hlY2tpbmcgbWljcm9waG9uZS4uLicpXG4gICAgICBjaGVja01pY3JvcGhvbmVQZXJtaXNzaW9uKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm90IGNvbm5lY3RlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgaWYgKGlzSW5Db252ZXJzYXRpb24pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTdG9wcGluZyBjb252ZXJzYXRpb24uLi4nKVxuICAgICAgb25TdG9wQ29udmVyc2F0aW9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGNvbnZlcnNhdGlvbi4uLicpXG4gICAgICBvblN0YXJ0Q29udmVyc2F0aW9uKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRCdXR0b25UZXh0ID0gKCkgPT4ge1xuICAgIGlmICghaXNQZXJtaXNzaW9uR3JhbnRlZCkge1xuICAgICAgcmV0dXJuICdFbmFibGUgTWljcm9waG9uZSdcbiAgICB9XG4gICAgaWYgKCFpc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuICdOb3QgQ29ubmVjdGVkJ1xuICAgIH1cbiAgICBpZiAoaXNJbkNvbnZlcnNhdGlvbikge1xuICAgICAgcmV0dXJuICdFbmQgQ29udmVyc2F0aW9uJ1xuICAgIH1cbiAgICByZXR1cm4gJ1N0YXJ0IENvbnZlcnNhdGlvbidcbiAgfVxuXG4gIGNvbnN0IGdldEJ1dHRvbkRlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICghaXNQZXJtaXNzaW9uR3JhbnRlZCkge1xuICAgICAgcmV0dXJuICdDbGljayB0byBlbmFibGUgbWljcm9waG9uZSBhY2Nlc3MnXG4gICAgfVxuICAgIGlmICghaXNDb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiAnUGxlYXNlIGNvbm5lY3QgdG8gdGhlIHNlcnZlciBmaXJzdCdcbiAgICB9XG4gICAgaWYgKGlzSW5Db252ZXJzYXRpb24pIHtcbiAgICAgIHJldHVybiAnQ2xpY2sgdG8gZW5kIHRoZSBsaXZlIGNvbnZlcnNhdGlvbidcbiAgICB9XG4gICAgcmV0dXJuICdDbGljayB0byBzdGFydCBhIGxpdmUgY29udmVyc2F0aW9uIHdpdGggQUknXG4gIH1cblxuICBjb25zdCBnZXRCdXR0b25Db2xvciA9ICgpID0+IHtcbiAgICBpZiAoIWlzUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgIHJldHVybiAnYmctZ3JheS00MDAgYm9yZGVyLWdyYXktMzAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICB9XG4gICAgaWYgKCFpc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuICdiZy1ncmF5LTQwMCBib3JkZXItZ3JheS0zMDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgIH1cbiAgICBpZiAoaXNJbkNvbnZlcnNhdGlvbikge1xuICAgICAgcmV0dXJuICdiZy1yZWQtNTAwIGJvcmRlci1yZWQtNDAwIGhvdmVyOmJnLXJlZC02MDAgY3Vyc29yLXBvaW50ZXIgYW5pbWF0ZS1wdWxzZSdcbiAgICB9XG4gICAgcmV0dXJuICdiZy1ncmVlbi01MDAgYm9yZGVyLWdyZWVuLTQwMCBob3ZlcjpiZy1ncmVlbi02MDAgaG92ZXI6c2NhbGUtMTA1IGN1cnNvci1wb2ludGVyJ1xuICB9XG5cbiAgY29uc3QgZ2V0U2hhZG93Q29sb3IgPSAoKSA9PiB7XG4gICAgaWYgKGlzSW5Db252ZXJzYXRpb24pIHtcbiAgICAgIHJldHVybiAnc2hhZG93LWxnIHNoYWRvdy1yZWQtMjAwJ1xuICAgIH1cbiAgICByZXR1cm4gJ3NoYWRvdy1sZyBzaGFkb3ctZ3JlZW4tMjAwJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgey8qIFBlcm1pc3Npb24gRXJyb3IgKi99XG4gICAgICB7cGVybWlzc2lvbkVycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJnLXJlZC0xMDAgYm9yZGVyIGJvcmRlci1yZWQtNDAwIHRleHQtcmVkLTcwMCByb3VuZGVkLWxnIHRleHQtc21cIj5cbiAgICAgICAgICB7cGVybWlzc2lvbkVycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBNYWluIENvbnZlcnNhdGlvbiBCdXR0b24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgICBkaXNhYmxlZD17IWlzUGVybWlzc2lvbkdyYW50ZWQgfHwgIWlzQ29ubmVjdGVkfVxuICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgcmVsYXRpdmUgei0xMCB3LTMyIGgtMzIgcm91bmRlZC1mdWxsIGJvcmRlci00IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBcbiAgICAgICAgICAgIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtbGdcbiAgICAgICAgICAgICR7Z2V0QnV0dG9uQ29sb3IoKX1cbiAgICAgICAgICAgICR7Z2V0U2hhZG93Q29sb3IoKX1cbiAgICAgICAgICBgfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgICAgICBNb3pVc2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgICAgICBtc1VzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAgICAgICAgIHpJbmRleDogMTBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2lzSW5Db252ZXJzYXRpb24gPyAoXG4gICAgICAgICAgICAvLyBTdG9wIGljb25cbiAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0xMiBoLTEyXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHJlY3QgeD1cIjZcIiB5PVwiNlwiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHJ4PVwiMlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgLy8gTWljcm9waG9uZSBpY29uXG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMTIgaC0xMlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMkMxMy4xIDIgMTQgMi45IDE0IDRWMTJDMTQgMTMuMSAxMy4xIDE0IDEyIDE0QzEwLjkgMTQgMTAgMTMuMSAxMCAxMlY0QzEwIDIuOSAxMC45IDIgMTIgMk0xOSAxMlYxNEMxOSAxNy4zIDE2LjMgMjAgMTMgMjBWMjJIMTFWMjBDNy43IDIwIDUgMTcuMyA1IDE0VjEySDdWMTRDNyAxNi4yIDguOCAxOCAxMSAxOEgxM0MxNS4yIDE4IDE3IDE2LjIgMTcgMTRWMTJIMTlaXCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiBDb252ZXJzYXRpb24gaW5kaWNhdG9yIHJpbmdzICovfVxuICAgICAgICB7aXNJbkNvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXJlZC0zMDAgYW5pbWF0ZS1waW5nIHBvaW50ZXItZXZlbnRzLW5vbmUgei0wXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItcmVkLTIwMCBhbmltYXRlLXB1bHNlIHBvaW50ZXItZXZlbnRzLW5vbmUgei0wXCI+PC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEluc3RydWN0aW9ucyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAge2dldEJ1dHRvblRleHQoKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPlxuICAgICAgICAgIHtnZXRCdXR0b25EZXNjcmlwdGlvbigpfVxuICAgICAgICA8L3A+XG4gICAgICAgIHtpc0luQ29udmVyc2F0aW9uICYmIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNjAwIG10LTIgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIPCfjpnvuI8gTGl2ZSBjb252ZXJzYXRpb24gYWN0aXZlIC0gc3BlYWsgbmF0dXJhbGx5IVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQXVkaW8gTGV2ZWwgSW5kaWNhdG9yIC0gc2hvd24gd2hlbiBpbiBjb252ZXJzYXRpb24gKi99XG4gICAgICB7aXNJbkNvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIHtbLi4uQXJyYXkoMTApXS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgIHctMSBoLTYgYmctZ3JhZGllbnQtdG8tdCBmcm9tLWdyZWVuLTQwMCB0by1ncmVlbi02MDAgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMFxuICAgICAgICAgICAgICAgICAgJHthdWRpb0xldmVsID4gaSAqIDEwID8gJ29wYWNpdHktMTAwJyA6ICdvcGFjaXR5LTMwJ31cbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke01hdGgubWF4KDgsIChhdWRpb0xldmVsID4gaSAqIDEwID8gMjAgKyAoYXVkaW9MZXZlbCAtIGkgKiAxMCkgLyAyIDogOCkpfXB4YFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgbXQtMlwiPlxuICAgICAgICAgICAgQXVkaW8gbGV2ZWwgdmlzdWFsaXphdGlvblxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQ29udmVyc2F0aW9uSW50ZXJmYWNlIiwiaXNDb25uZWN0ZWQiLCJpc0luQ29udmVyc2F0aW9uIiwib25TdGFydENvbnZlcnNhdGlvbiIsIm9uU3RvcENvbnZlcnNhdGlvbiIsImF1ZGlvTGV2ZWwiLCJzZXRBdWRpb0xldmVsIiwiaXNQZXJtaXNzaW9uR3JhbnRlZCIsInNldElzUGVybWlzc2lvbkdyYW50ZWQiLCJwZXJtaXNzaW9uRXJyb3IiLCJzZXRQZXJtaXNzaW9uRXJyb3IiLCJjaGVja01pY3JvcGhvbmVQZXJtaXNzaW9uIiwic3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlQ2xpY2siLCJsb2ciLCJnZXRCdXR0b25UZXh0IiwiZ2V0QnV0dG9uRGVzY3JpcHRpb24iLCJnZXRCdXR0b25Db2xvciIsImdldFNoYWRvd0NvbG9yIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic3R5bGUiLCJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsIk1velVzZXJTZWxlY3QiLCJtc1VzZXJTZWxlY3QiLCJwb2ludGVyRXZlbnRzIiwiekluZGV4Iiwic3ZnIiwiZmlsbCIsInZpZXdCb3giLCJyZWN0IiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInJ4IiwicGF0aCIsImQiLCJwIiwiQXJyYXkiLCJtYXAiLCJfIiwiaSIsIk1hdGgiLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ConversationInterface.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ProductInfoMonitor.tsx":
/*!*******************************************!*\
  !*** ./components/ProductInfoMonitor.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/websocketConfig */ \"(app-pages-browser)/./lib/websocketConfig.ts\");\n\nvar _s = $RefreshSig$();\n\n\nconst ProductInfoMonitor = (param)=>{\n    let { userId } = param;\n    _s();\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isConnecting, setIsConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [endpoint, setEndpoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [streamingStatus, setStreamingStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const reconnectTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isConnectingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const connectWebSocket = ()=>{\n        var _wsRef_current;\n        // Prevent multiple simultaneous connection attempts\n        if (isConnectingRef.current || ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN) {\n            console.log(\"\\uD83D\\uDD12 Connection already in progress or established\");\n            return;\n        }\n        if (!userId) {\n            console.error(\" Cannot connect: User ID is required\");\n            setError(\"User ID is required for connection\");\n            return;\n        }\n        try {\n            const wsUrl = (0,_lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__.getWebSocketUrl)(\"/ws/product_info\", userId);\n            console.log(\"\\uD83D\\uDD17 Attempting to connect to:\", wsUrl);\n            setIsConnecting(true);\n            isConnectingRef.current = true;\n            setError(null);\n            const ws = new WebSocket(wsUrl);\n            wsRef.current = ws;\n            ws.onopen = ()=>{\n                console.log(\" ProductInfo WebSocket connected\");\n                setIsConnected(true);\n                setIsConnecting(false);\n                isConnectingRef.current = false;\n                setError(null);\n            };\n            ws.onmessage = (event)=>{\n                const timestamp = new Date().toLocaleTimeString();\n                let parsedData;\n                try {\n                    parsedData = JSON.parse(event.data);\n                } catch (e) {\n                    parsedData = {\n                        raw: event.data\n                    };\n                }\n                const message = {\n                    timestamp,\n                    data: parsedData,\n                    raw: event.data\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        message\n                    ]);\n                console.log(\"\\uD83D\\uDCE8 Received message:\", message);\n            };\n            ws.onclose = (event)=>{\n                console.log(\"\\uD83D\\uDC4B ProductInfo WebSocket disconnected:\", event.code, event.reason);\n                setIsConnected(false);\n                setIsConnecting(false);\n                isConnectingRef.current = false;\n                // Clear the websocket reference\n                wsRef.current = null;\n                // Auto-reconnect only if not a normal closure and not manually disconnected\n                if (event.code !== 1000 && event.code !== 4000) {\n                    setError(\"Connection closed: \".concat(event.reason || \"Unknown reason\", \" (Code: \").concat(event.code, \")\"));\n                    console.log(\"\\uD83D\\uDD04 Scheduling auto-reconnect in 3 seconds...\");\n                    reconnectTimeoutRef.current = setTimeout(()=>{\n                        if (!isConnectingRef.current) {\n                            connectWebSocket();\n                        }\n                    }, 3000);\n                } else if (event.code === 4000) {\n                    setError(\"Another client is already connected to this endpoint\");\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error(\" ProductInfo WebSocket error:\", error);\n                setError(\"WebSocket connection error\");\n                setIsConnecting(false);\n                isConnectingRef.current = false;\n            };\n        } catch (err) {\n            console.error(\" Failed to create ProductInfo WebSocket:\", err);\n            setError(\"Failed to create WebSocket connection\");\n            setIsConnecting(false);\n            isConnectingRef.current = false;\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        console.log(\"\\uD83D\\uDED1 Manually disconnecting WebSocket\");\n        // Clear any pending reconnect\n        if (reconnectTimeoutRef.current) {\n            clearTimeout(reconnectTimeoutRef.current);\n            reconnectTimeoutRef.current = null;\n        }\n        // Close the websocket if it exists\n        if (wsRef.current) {\n            wsRef.current.close(1000, \"Manual disconnect\");\n            wsRef.current = null;\n        }\n        setIsConnected(false);\n        setIsConnecting(false);\n        isConnectingRef.current = false;\n        setError(null);\n    };\n    const resetConnection = async ()=>{\n        try {\n            console.log(\"\\uD83D\\uDD04 Resetting ProductInfo connection...\");\n            const backendUrl = (0,_lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__.getHttpUrl)(\"/product-info-reset\");\n            const response = await fetch(backendUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (response.ok) {\n                console.log(\" ProductInfo connection reset successfully\");\n                setError(null);\n                // Try to reconnect after a short delay\n                setTimeout(()=>{\n                    if (!isConnectingRef.current && !isConnected) {\n                        connectWebSocket();\n                    }\n                }, 1000);\n            } else {\n                console.error(\" Failed to reset connection\");\n                setError(\"Failed to reset connection\");\n            }\n        } catch (err) {\n            console.error(\" Error resetting connection:\", err);\n            setError(\"Error resetting connection\");\n        }\n    };\n    const clearMessages = ()=>{\n        setMessages([]);\n    };\n    const checkStreamingStatus = async ()=>{\n        try {\n            const backendUrl = (0,_lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__.getHttpUrl)(\"/product-info-status\");\n            const response = await fetch(backendUrl);\n            if (response.ok) {\n                const data = await response.json();\n                setStreamingStatus(data.data);\n                console.log(\"\\uD83D\\uDCCA Streaming status:\", data.data);\n            }\n        } catch (err) {\n            console.error(\" Error checking streaming status:\", err);\n        }\n    };\n    // Set endpoint on client side only\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if ( true && userId) {\n            setEndpoint((0,_lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__.getWebSocketUrl)(\"/ws/product_info\", userId));\n        }\n    }, [\n        userId\n    ]);\n    // Connect on mount, disconnect on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (userId) {\n            console.log(\"\\uD83D\\uDE80 ProductInfoMonitor mounted, connecting...\");\n            connectWebSocket();\n            // Check streaming status periodically\n            const statusInterval = setInterval(checkStreamingStatus, 5000);\n            return ()=>{\n                console.log(\"\\uD83E\\uDDF9 ProductInfoMonitor unmounting, cleaning up...\");\n                disconnectWebSocket();\n                clearInterval(statusInterval);\n            };\n        }\n    }, [\n        userId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-bold text-gray-800\",\n                        children: \"\\uD83D\\uDCCA Product Info Stream Monitor\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3 rounded-full \".concat(isConnected ? \"bg-green-500\" : isConnecting ? \"bg-yellow-500\" : \"bg-red-500\")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm font-medium\",\n                                        children: isConnected ? \"Connected\" : isConnecting ? \"Connecting...\" : \"Disconnected\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                        lineNumber: 220,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 215,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: isConnected ? disconnectWebSocket : connectWebSocket,\n                                disabled: isConnecting,\n                                className: \"px-4 py-2 rounded-md text-sm font-medium \".concat(isConnected ? \"bg-red-500 hover:bg-red-600 text-white\" : \"bg-green-500 hover:bg-green-600 text-white\", \" \").concat(isConnecting ? \"opacity-50 cursor-not-allowed\" : \"\"),\n                                children: isConnected ? \"Disconnect\" : isConnecting ? \"Connecting...\" : \"Connect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearMessages,\n                                className: \"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-md text-sm font-medium\",\n                                children: \"Clear\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 237,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: resetConnection,\n                                className: \"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-md text-sm font-medium\",\n                                children: \"Reset\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                lineNumber: 210,\n                columnNumber: 7\n            }, undefined),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"Error:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 11\n                    }, undefined),\n                    \" \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                lineNumber: 253,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4 h-96 overflow-y-auto\",\n                children: messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center text-gray-500 py-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-4xl mb-2\",\n                            children: \"\\uD83D\\uDCE1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                            lineNumber: 261,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Waiting for product info stream...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                            lineNumber: 262,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm mt-2\",\n                            children: [\n                                \"Connect to \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                    className: \"bg-gray-200 px-1 rounded\",\n                                    children: \"/ws/product_info\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 26\n                                }, undefined),\n                                \" to receive data\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                            lineNumber: 263,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                    lineNumber: 260,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-lg p-3 border border-gray-200\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-500 font-mono\",\n                                            children: message.timestamp\n                                        }, void 0, false, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                            lineNumber: 272,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",\n                                            children: [\n                                                \"Message #\",\n                                                index + 1\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                            lineNumber: 275,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                    lineNumber: 271,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: message.data.raw ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-600 mb-1\",\n                                                children: \"Raw Data:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                                lineNumber: 283,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                className: \"text-xs bg-gray-100 p-2 rounded overflow-x-auto\",\n                                                children: message.data.raw\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                                lineNumber: 284,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                        lineNumber: 282,\n                                        columnNumber: 21\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-600 mb-1\",\n                                                children: \"Parsed Data:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                                lineNumber: 290,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                className: \"text-xs bg-gray-100 p-2 rounded overflow-x-auto\",\n                                                children: JSON.stringify(message.data, null, 2)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                                lineNumber: 291,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                        lineNumber: 289,\n                                        columnNumber: 21\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                    lineNumber: 280,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                            lineNumber: 270,\n                            columnNumber: 15\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                    lineNumber: 268,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                lineNumber: 258,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 text-xs text-gray-500\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Status:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 12\n                            }, undefined),\n                            \" \",\n                            isConnected ? \"Streaming active\" : isConnecting ? \"Connecting...\" : \"Waiting for connection\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 304,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Messages received:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 12\n                            }, undefined),\n                            \" \",\n                            messages.length\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 306,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Endpoint:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 307,\n                                columnNumber: 12\n                            }, undefined),\n                            \" \",\n                            endpoint || \"Loading...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 307,\n                        columnNumber: 9\n                    }, undefined),\n                    streamingStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 p-2 bg-blue-50 rounded border\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: \"Backend Status:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                    lineNumber: 310,\n                                    columnNumber: 16\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 310,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \" Streaming: \",\n                                    streamingStatus.is_streaming ? \" Active\" : \" Inactive\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \" External WS: \",\n                                    streamingStatus.external_connected ? \" Connected\" : \" Disconnected\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \" Has Clients: \",\n                                    streamingStatus.has_clients ? \" Yes\" : \" No\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 313,\n                                columnNumber: 13\n                            }, undefined),\n                            streamingStatus.last_message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \" Last Message: \",\n                                    streamingStatus.last_message\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                                lineNumber: 315,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                        lineNumber: 309,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n                lineNumber: 303,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ProductInfoMonitor.tsx\",\n        lineNumber: 209,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ProductInfoMonitor, \"fB+n0idiYuyS2rI/HsKo5leNs0s=\");\n_c = ProductInfoMonitor;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductInfoMonitor);\nvar _c;\n$RefreshReg$(_c, \"ProductInfoMonitor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUHJvZHVjdEluZm9Nb25pdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ1M7QUFZcEUsTUFBTU0scUJBQXdEO1FBQUMsRUFBRUMsTUFBTSxFQUFFOztJQUN2RSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1IsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDUyxjQUFjQyxnQkFBZ0IsR0FBR1YsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDVyxVQUFVQyxZQUFZLEdBQUdaLCtDQUFRQSxDQUF1QixFQUFFO0lBQ2pFLE1BQU0sQ0FBQ2EsT0FBT0MsU0FBUyxHQUFHZCwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDZSxVQUFVQyxZQUFZLEdBQUdoQiwrQ0FBUUEsQ0FBUztJQUNqRCxNQUFNLENBQUNpQixpQkFBaUJDLG1CQUFtQixHQUFHbEIsK0NBQVFBLENBQU07SUFDNUQsTUFBTW1CLFFBQVFqQiw2Q0FBTUEsQ0FBbUI7SUFDdkMsTUFBTWtCLHNCQUFzQmxCLDZDQUFNQSxDQUF3QjtJQUMxRCxNQUFNbUIsa0JBQWtCbkIsNkNBQU1BLENBQUM7SUFFL0IsTUFBTW9CLG1CQUFtQjtZQUVRSDtRQUQvQixvREFBb0Q7UUFDcEQsSUFBSUUsZ0JBQWdCRSxPQUFPLElBQUlKLEVBQUFBLGlCQUFBQSxNQUFNSSxPQUFPLGNBQWJKLHFDQUFBQSxlQUFlSyxVQUFVLE1BQUtDLFVBQVVDLElBQUksRUFBRTtZQUMzRUMsUUFBUUMsR0FBRyxDQUFDO1lBQ1o7UUFDRjtRQUVBLElBQUksQ0FBQ3RCLFFBQVE7WUFDWHFCLFFBQVFkLEtBQUssQ0FBQztZQUNkQyxTQUFTO1lBQ1Q7UUFDRjtRQUVBLElBQUk7WUFDRixNQUFNZSxRQUFRMUIscUVBQWVBLENBQUMsb0JBQW9CRztZQUNsRHFCLFFBQVFDLEdBQUcsQ0FBQywwQ0FBZ0NDO1lBRTVDbkIsZ0JBQWdCO1lBQ2hCVyxnQkFBZ0JFLE9BQU8sR0FB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QUNYLDhEQUFDRTs7b0NBQUU7b0NBQWMxRCxnQkFBZ0IrRCxZQUFZLEdBQUcsYUFBYTs7Ozs7OzswQ0FDN0QsOERBQUNMOztvQ0FBRTtvQ0FBZ0IxRCxnQkFBZ0JnRSxrQkFBa0IsR0FBRyxnQkFBZ0I7Ozs7Ozs7MENBQ3hFLDhEQUFDTjs7b0NBQUU7b0NBQWdCMUQsZ0JBQWdCaUUsV0FBVyxHQUFHLFVBQVU7Ozs7Ozs7NEJBQzFEakUsZ0JBQWdCa0UsWUFBWSxrQkFDM0IsOERBQUNSOztvQ0FBRTtvQ0FBaUIxRCxnQkFBZ0JrRSxZQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzlEO0dBcFRNOUU7S0FBQUE7QUFzVE4sK0RBQWVBLGtCQUFrQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1Byb2R1Y3RJbmZvTW9uaXRvci50c3g/YjZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0V2ViU29ja2V0VXJsLCBnZXRIdHRwVXJsIH0gZnJvbSAnQC9saWIvd2Vic29ja2V0Q29uZmlnJztcblxuaW50ZXJmYWNlIFByb2R1Y3RJbmZvTWVzc2FnZSB7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBkYXRhOiBhbnk7XG4gIHJhdzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJvZHVjdEluZm9Nb25pdG9yUHJvcHMge1xuICB1c2VySWQ/OiBzdHJpbmcgfCBudWxsXG59XG5cbmNvbnN0IFByb2R1Y3RJbmZvTW9uaXRvcjogUmVhY3QuRkM8UHJvZHVjdEluZm9Nb25pdG9yUHJvcHM+ID0gKHsgdXNlcklkIH0pID0+IHtcbiAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RpbmcsIHNldElzQ29ubmVjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8UHJvZHVjdEluZm9NZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VuZHBvaW50LCBzZXRFbmRwb2ludF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc3RyZWFtaW5nU3RhdHVzLCBzZXRTdHJlYW1pbmdTdGF0dXNdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWY8V2ViU29ja2V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHJlY29ubmVjdFRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaXNDb25uZWN0aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICBjb25zdCBjb25uZWN0V2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGNvbm5lY3Rpb24gYXR0ZW1wdHNcbiAgICBpZiAoaXNDb25uZWN0aW5nUmVmLmN1cnJlbnQgfHwgd3NSZWYuY3VycmVudD8ucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SSIENvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcyBvciBlc3RhYmxpc2hlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQ2Fubm90IGNvbm5lY3Q6IFVzZXIgSUQgaXMgcmVxdWlyZWQnKTtcbiAgICAgIHNldEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkIGZvciBjb25uZWN0aW9uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdzVXJsID0gZ2V0V2ViU29ja2V0VXJsKCcvd3MvcHJvZHVjdF9pbmZvJywgdXNlcklkKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SXIEF0dGVtcHRpbmcgdG8gY29ubmVjdCB0bzonLCB3c1VybCk7XG4gICAgICBcbiAgICAgIHNldElzQ29ubmVjdGluZyh0cnVlKTtcbiAgICAgIGlzQ29ubmVjdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xuICAgICAgd3NSZWYuY3VycmVudCA9IHdzO1xuXG4gICAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJvZHVjdEluZm8gV2ViU29ja2V0IGNvbm5lY3RlZCcpO1xuICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcbiAgICAgICAgc2V0SXNDb25uZWN0aW5nKGZhbHNlKTtcbiAgICAgICAgaXNDb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9O1xuXG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICAgICAgbGV0IHBhcnNlZERhdGE7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBwYXJzZWREYXRhID0geyByYXc6IGV2ZW50LmRhdGEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFByb2R1Y3RJbmZvTWVzc2FnZSA9IHtcbiAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgZGF0YTogcGFyc2VkRGF0YSxcbiAgICAgICAgICByYXc6IGV2ZW50LmRhdGFcbiAgICAgICAgfTtcblxuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBtZXNzYWdlXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OoIFJlY2VpdmVkIG1lc3NhZ2U6JywgbWVzc2FnZSk7XG4gICAgICB9O1xuXG4gICAgICB3cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GLIFByb2R1Y3RJbmZvIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQ6JywgZXZlbnQuY29kZSwgZXZlbnQucmVhc29uKTtcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xuICAgICAgICBzZXRJc0Nvbm5lY3RpbmcoZmFsc2UpO1xuICAgICAgICBpc0Nvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHdlYnNvY2tldCByZWZlcmVuY2VcbiAgICAgICAgd3NSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBBdXRvLXJlY29ubmVjdCBvbmx5IGlmIG5vdCBhIG5vcm1hbCBjbG9zdXJlIGFuZCBub3QgbWFudWFsbHkgZGlzY29ubmVjdGVkXG4gICAgICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAwICYmIGV2ZW50LmNvZGUgIT09IDQwMDApIHtcbiAgICAgICAgICBzZXRFcnJvcihgQ29ubmVjdGlvbiBjbG9zZWQ6ICR7ZXZlbnQucmVhc29uIHx8ICdVbmtub3duIHJlYXNvbid9IChDb2RlOiAke2V2ZW50LmNvZGV9KWApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFNjaGVkdWxpbmcgYXV0by1yZWNvbm5lY3QgaW4gMyBzZWNvbmRzLi4uJyk7XG4gICAgICAgICAgcmVjb25uZWN0VGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzQ29ubmVjdGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSA0MDAwKSB7XG4gICAgICAgICAgc2V0RXJyb3IoJ0Fub3RoZXIgY2xpZW50IGlzIGFscmVhZHkgY29ubmVjdGVkIHRvIHRoaXMgZW5kcG9pbnQnKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgUHJvZHVjdEluZm8gV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yJyk7XG4gICAgICAgIHNldElzQ29ubmVjdGluZyhmYWxzZSk7XG4gICAgICAgIGlzQ29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGNyZWF0ZSBQcm9kdWN0SW5mbyBXZWJTb2NrZXQ6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFdlYlNvY2tldCBjb25uZWN0aW9uJyk7XG4gICAgICBzZXRJc0Nvbm5lY3RpbmcoZmFsc2UpO1xuICAgICAgaXNDb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzY29ubmVjdFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+bkSBNYW51YWxseSBkaXNjb25uZWN0aW5nIFdlYlNvY2tldCcpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIHJlY29ubmVjdFxuICAgIGlmIChyZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgcmVjb25uZWN0VGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xvc2UgdGhlIHdlYnNvY2tldCBpZiBpdCBleGlzdHNcbiAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgd3NSZWYuY3VycmVudC5jbG9zZSgxMDAwLCAnTWFudWFsIGRpc2Nvbm5lY3QnKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgc2V0SXNDb25uZWN0aW5nKGZhbHNlKTtcbiAgICBpc0Nvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIHNldEVycm9yKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IHJlc2V0Q29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgUmVzZXR0aW5nIFByb2R1Y3RJbmZvIGNvbm5lY3Rpb24uLi4nKTtcbiAgICAgIGNvbnN0IGJhY2tlbmRVcmwgPSBnZXRIdHRwVXJsKCcvcHJvZHVjdC1pbmZvLXJlc2V0Jyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGJhY2tlbmRVcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFByb2R1Y3RJbmZvIGNvbm5lY3Rpb24gcmVzZXQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAvLyBUcnkgdG8gcmVjb25uZWN0IGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc0Nvbm5lY3RpbmdSZWYuY3VycmVudCAmJiAhaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byByZXNldCBjb25uZWN0aW9uJyk7XG4gICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gcmVzZXQgY29ubmVjdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHJlc2V0dGluZyBjb25uZWN0aW9uOicsIGVycik7XG4gICAgICBzZXRFcnJvcignRXJyb3IgcmVzZXR0aW5nIGNvbm5lY3Rpb24nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xlYXJNZXNzYWdlcyA9ICgpID0+IHtcbiAgICBzZXRNZXNzYWdlcyhbXSk7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tTdHJlYW1pbmdTdGF0dXMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJhY2tlbmRVcmwgPSBnZXRIdHRwVXJsKCcvcHJvZHVjdC1pbmZvLXN0YXR1cycpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChiYWNrZW5kVXJsKTtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRTdHJlYW1pbmdTdGF0dXMoZGF0YS5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogU3RyZWFtaW5nIHN0YXR1czonLCBkYXRhLmRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIHN0cmVhbWluZyBzdGF0dXM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0IGVuZHBvaW50IG9uIGNsaWVudCBzaWRlIG9ubHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlcklkKSB7XG4gICAgICBzZXRFbmRwb2ludChnZXRXZWJTb2NrZXRVcmwoJy93cy9wcm9kdWN0X2luZm8nLCB1c2VySWQpKTtcbiAgICB9XG4gIH0sIFt1c2VySWRdKTtcblxuICAvLyBDb25uZWN0IG9uIG1vdW50LCBkaXNjb25uZWN0IG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBQcm9kdWN0SW5mb01vbml0b3IgbW91bnRlZCwgY29ubmVjdGluZy4uLicpO1xuICAgICAgY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBzdHJlYW1pbmcgc3RhdHVzIHBlcmlvZGljYWxseVxuICAgICAgY29uc3Qgc3RhdHVzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja1N0cmVhbWluZ1N0YXR1cywgNTAwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IFByb2R1Y3RJbmZvTW9uaXRvciB1bm1vdW50aW5nLCBjbGVhbmluZyB1cC4uLicpO1xuICAgICAgICBkaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc3RhdHVzSW50ZXJ2YWwpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFt1c2VySWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC02IG1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAg8J+TiiBQcm9kdWN0IEluZm8gU3RyZWFtIE1vbml0b3JcbiAgICAgICAgPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTMgaC0zIHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICBpc0Nvbm5lY3RlZCA/ICdiZy1ncmVlbi01MDAnIDogXG4gICAgICAgICAgICAgIGlzQ29ubmVjdGluZyA/ICdiZy15ZWxsb3ctNTAwJyA6ICdiZy1yZWQtNTAwJ1xuICAgICAgICAgICAgfWB9PjwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICB7aXNDb25uZWN0ZWQgPyAnQ29ubmVjdGVkJyA6IFxuICAgICAgICAgICAgICAgaXNDb25uZWN0aW5nID8gJ0Nvbm5lY3RpbmcuLi4nIDogJ0Rpc2Nvbm5lY3RlZCd9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aXNDb25uZWN0ZWQgPyBkaXNjb25uZWN0V2ViU29ja2V0IDogY29ubmVjdFdlYlNvY2tldH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0Nvbm5lY3Rpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgIGlzQ29ubmVjdGVkIFxuICAgICAgICAgICAgICAgID8gJ2JnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICB9ICR7aXNDb25uZWN0aW5nID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzQ29ubmVjdGVkID8gJ0Rpc2Nvbm5lY3QnIDogXG4gICAgICAgICAgICAgaXNDb25uZWN0aW5nID8gJ0Nvbm5lY3RpbmcuLi4nIDogJ0Nvbm5lY3QnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyTWVzc2FnZXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS01MDAgaG92ZXI6YmctZ3JheS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17cmVzZXRDb25uZWN0aW9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVzZXRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1yZWQtMTAwIGJvcmRlciBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAgcm91bmRlZFwiPlxuICAgICAgICAgIDxzdHJvbmc+RXJyb3I6PC9zdHJvbmc+IHtlcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcm91bmRlZC1sZyBwLTQgaC05NiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgcHktOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi0yXCI+8J+ToTwvZGl2PlxuICAgICAgICAgICAgPHA+V2FpdGluZyBmb3IgcHJvZHVjdCBpbmZvIHN0cmVhbS4uLjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbXQtMlwiPlxuICAgICAgICAgICAgICBDb25uZWN0IHRvIDxjb2RlIGNsYXNzTmFtZT1cImJnLWdyYXktMjAwIHB4LTEgcm91bmRlZFwiPi93cy9wcm9kdWN0X2luZm88L2NvZGU+IHRvIHJlY2VpdmUgZGF0YVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC0zIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZm9udC1tb25vXCI+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMCBweC0yIHB5LTEgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlICN7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5kYXRhLnJhdyA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBtYi0xXCI+UmF3IERhdGE6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJ0ZXh0LXhzIGJnLWdyYXktMTAwIHAtMiByb3VuZGVkIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuZGF0YS5yYXd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wcmU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBtYi0xXCI+UGFyc2VkIERhdGE6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJ0ZXh0LXhzIGJnLWdyYXktMTAwIHAtMiByb3VuZGVkIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UuZGF0YSwgbnVsbCwgMil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wcmU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgIDxwPjxzdHJvbmc+U3RhdHVzOjwvc3Ryb25nPiB7aXNDb25uZWN0ZWQgPyAnU3RyZWFtaW5nIGFjdGl2ZScgOiBcbiAgICAgICAgICAgaXNDb25uZWN0aW5nID8gJ0Nvbm5lY3RpbmcuLi4nIDogJ1dhaXRpbmcgZm9yIGNvbm5lY3Rpb24nfTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5NZXNzYWdlcyByZWNlaXZlZDo8L3N0cm9uZz4ge21lc3NhZ2VzLmxlbmd0aH08L3A+XG4gICAgICAgIDxwPjxzdHJvbmc+RW5kcG9pbnQ6PC9zdHJvbmc+IHtlbmRwb2ludCB8fCAnTG9hZGluZy4uLid9PC9wPlxuICAgICAgICB7c3RyZWFtaW5nU3RhdHVzICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgcC0yIGJnLWJsdWUtNTAgcm91bmRlZCBib3JkZXJcIj5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+QmFja2VuZCBTdGF0dXM6PC9zdHJvbmc+PC9wPlxuICAgICAgICAgICAgPHA+4oCiIFN0cmVhbWluZzoge3N0cmVhbWluZ1N0YXR1cy5pc19zdHJlYW1pbmcgPyAn4pyFIEFjdGl2ZScgOiAn4p2MIEluYWN0aXZlJ308L3A+XG4gICAgICAgICAgICA8cD7igKIgRXh0ZXJuYWwgV1M6IHtzdHJlYW1pbmdTdGF0dXMuZXh0ZXJuYWxfY29ubmVjdGVkID8gJ+KchSBDb25uZWN0ZWQnIDogJ+KdjCBEaXNjb25uZWN0ZWQnfTwvcD5cbiAgICAgICAgICAgIDxwPuKAoiBIYXMgQ2xpZW50czoge3N0cmVhbWluZ1N0YXR1cy5oYXNfY2xpZW50cyA/ICfinIUgWWVzJyA6ICfinYwgTm8nfTwvcD5cbiAgICAgICAgICAgIHtzdHJlYW1pbmdTdGF0dXMubGFzdF9tZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgPHA+4oCiIExhc3QgTWVzc2FnZToge3N0cmVhbWluZ1N0YXR1cy5sYXN0X21lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdEluZm9Nb25pdG9yOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsImdldFdlYlNvY2tldFVybCIsImdldEh0dHBVcmwiLCJQcm9kdWN0SW5mb01vbml0b3IiLCJ1c2VySWQiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiaXNDb25uZWN0aW5nIiwic2V0SXNDb25uZWN0aW5nIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImVycm9yIiwic2V0RXJyb3IiLCJlbmRwb2ludCIsInNldEVuZHBvaW50Iiwic3RyZWFtaW5nU3RhdHVzIiwic2V0U3RyZWFtaW5nU3RhdHVzIiwid3NSZWYiLCJyZWNvbm5lY3RUaW1lb3V0UmVmIiwiaXNDb25uZWN0aW5nUmVmIiwiY29ubmVjdFdlYlNvY2tldCIsImN1cnJlbnQiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsImNvbnNvbGUiLCJsb2ciLCJ3c1VybCIsIndzIiwib25vcGVuIiwib25tZXNzYWdlIiwiZXZlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJyYXciLCJtZXNzYWdlIiwicHJldiIsIm9uY2xvc2UiLCJjb2RlIiwicmVhc29uIiwic2V0VGltZW91dCIsIm9uZXJyb3IiLCJlcnIiLCJkaXNjb25uZWN0V2ViU29ja2V0IiwiY2xlYXJUaW1lb3V0IiwiY2xvc2UiLCJyZXNldENvbm5lY3Rpb24iLCJiYWNrZW5kVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImNsZWFyTWVzc2FnZXMiLCJjaGVja1N0cmVhbWluZ1N0YXR1cyIsImpzb24iLCJzdGF0dXNJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInN0cm9uZyIsImxlbmd0aCIsInAiLCJtYXAiLCJpbmRleCIsInByZSIsInN0cmluZ2lmeSIsImlzX3N0cmVhbWluZyIsImV4dGVybmFsX2Nvbm5lY3RlZCIsImhhc19jbGllbnRzIiwibGFzdF9tZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ProductInfoMonitor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ToolMonitor.tsx":
/*!************************************!*\
  !*** ./components/ToolMonitor.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ToolMonitor; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/websocketConfig */ \"(app-pages-browser)/./lib/websocketConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction ToolMonitor(param) {\n    let { userId } = param;\n    _s();\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isExpanded, setIsExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    const connectToToolsWebSocket = ()=>{\n        if (!userId) {\n            console.error(\" Cannot connect: User ID is required\");\n            return;\n        }\n        try {\n            // Connect to the tools WebSocket endpoint with user_id\n            const wsUrl = (0,_lib_websocketConfig__WEBPACK_IMPORTED_MODULE_2__.getWebSocketUrl)(\"/ws/tools\", userId);\n            const ws = new WebSocket(wsUrl);\n            ws.onopen = ()=>{\n                console.log(\" Connected to tools WebSocket\");\n                setIsConnected(true);\n                // Add connection message\n                const connectionMessage = {\n                    id: \"conn_\".concat(Date.now()),\n                    timestamp: new Date().toLocaleTimeString(),\n                    type: \"connection\",\n                    action: \"connected\",\n                    data: {\n                        status: \"Connected to /ws/tools\"\n                    }\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        connectionMessage\n                    ]);\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const data = JSON.parse(event.data);\n                    console.log(\"\\uD83D\\uDD27 Tool message received:\", data);\n                    // Create a new message entry\n                    const newMessage = {\n                        id: \"msg_\".concat(Date.now(), \"_\").concat(Math.random()),\n                        timestamp: new Date().toLocaleTimeString(),\n                        type: data.type || \"unknown\",\n                        action: data.action || \"unknown\",\n                        data: data\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            newMessage\n                        ]);\n                } catch (error) {\n                    console.error(\"Error parsing tool message:\", error);\n                    // Add error message\n                    const errorMessage = {\n                        id: \"err_\".concat(Date.now()),\n                        timestamp: new Date().toLocaleTimeString(),\n                        type: \"error\",\n                        action: \"parse_error\",\n                        data: {\n                            error: \"Failed to parse message\",\n                            raw: event.data\n                        }\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            errorMessage\n                        ]);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error(\" Tools WebSocket error:\", error);\n                const errorMessage = {\n                    id: \"err_\".concat(Date.now()),\n                    timestamp: new Date().toLocaleTimeString(),\n                    type: \"error\",\n                    action: \"websocket_error\",\n                    data: {\n                        error: \"WebSocket connection error\"\n                    }\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        errorMessage\n                    ]);\n            };\n            ws.onclose = ()=>{\n                console.log(\"\\uD83D\\uDC4B Tools WebSocket disconnected\");\n                setIsConnected(false);\n                const disconnectionMessage = {\n                    id: \"disc_\".concat(Date.now()),\n                    timestamp: new Date().toLocaleTimeString(),\n                    type: \"connection\",\n                    action: \"disconnected\",\n                    data: {\n                        status: \"Disconnected from /ws/tools\"\n                    }\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        disconnectionMessage\n                    ]);\n            };\n            wsRef.current = ws;\n        } catch (error) {\n            console.error(\"Failed to connect to tools WebSocket:\", error);\n        }\n    };\n    const disconnectFromToolsWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close();\n            wsRef.current = null;\n        }\n    };\n    const clearMessages = ()=>{\n        setMessages([]);\n    };\n    const getMessageIcon = (type)=>{\n        switch(type){\n            case \"invoice_command\":\n                return \"\\uD83D\\uDCCB\";\n            case \"request_money_command\":\n                return \"\\uD83D\\uDCB0\";\n            case \"quotation_command\":\n                return \"\\uD83D\\uDCC4\";\n            case \"connection\":\n                return \"\\uD83D\\uDD17\";\n            case \"error\":\n                return \"\";\n            default:\n                return \"\\uD83D\\uDD27\";\n        }\n    };\n    const getMessageColor = (type)=>{\n        switch(type){\n            case \"invoice_command\":\n                return \"border-l-blue-500 bg-blue-50\";\n            case \"request_money_command\":\n                return \"border-l-green-500 bg-green-50\";\n            case \"quotation_command\":\n                return \"border-l-purple-500 bg-purple-50\";\n            case \"connection\":\n                return \"border-l-gray-500 bg-gray-50\";\n            case \"error\":\n                return \"border-l-red-500 bg-red-50\";\n            default:\n                return \"border-l-yellow-500 bg-yellow-50\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-lg font-semibold text-gray-800\",\n                                        children: \"\\uD83D\\uDD27 Tool Monitor\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 161,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-2 py-1 rounded-full text-xs font-medium \".concat(isConnected ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"),\n                                        children: isConnected ? \"Connected\" : \"Disconnected\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 164,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 160,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setIsExpanded(!isExpanded),\n                                    className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n                                    children: isExpanded ? \"\\uD83D\\uDD3C\" : \"\\uD83D\\uDD3D\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 174,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                        lineNumber: 159,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 mt-3\",\n                        children: [\n                            !isConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: connectToToolsWebSocket,\n                                disabled: !userId,\n                                className: \"px-3 py-1 text-sm rounded-lg transition-colors \".concat(userId ? \"bg-blue-600 hover:bg-blue-700 text-white\" : \"bg-gray-400 text-gray-200 cursor-not-allowed\"),\n                                children: userId ? \"Connect to /ws/tools\" : \"Set User ID First\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 186,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: disconnectFromToolsWebSocket,\n                                className: \"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-colors\",\n                                children: \"Disconnect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 198,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearMessages,\n                                className: \"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg transition-colors\",\n                                children: \"Clear Log\"\n                            }, void 0, false, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 206,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm text-gray-500\",\n                                children: [\n                                    messages.length,\n                                    \" messages\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                lineNumber: 158,\n                columnNumber: 7\n            }, this),\n            isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-64 overflow-y-auto border border-gray-200 rounded-lg bg-gray-50\",\n                        children: messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-center h-full text-gray-500\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-2xl mb-2\",\n                                        children: \"\\uD83D\\uDD27\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 226,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: \"No tool messages yet\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm mt-1\",\n                                        children: isConnected ? \"Waiting for tool calls...\" : \"Connect to start monitoring\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 228,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                            lineNumber: 224,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 space-y-2\",\n                            children: [\n                                messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-l-4 rounded-r-lg \".concat(getMessageColor(message.type)),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-lg\",\n                                                                children: getMessageIcon(message.type)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                                lineNumber: 242,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-medium text-sm\",\n                                                                children: message.type\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                                lineNumber: 243,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500\",\n                                                                children: message.action\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                                lineNumber: 246,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                        lineNumber: 241,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-400\",\n                                                        children: message.timestamp\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                        lineNumber: 250,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                lineNumber: 240,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-white p-2 rounded border text-xs\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                    className: \"whitespace-pre-wrap text-gray-700 max-h-20 overflow-y-auto\",\n                                                    children: JSON.stringify(message.data, null, 2)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                    lineNumber: 256,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, message.id, true, {\n                                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                        lineNumber: 236,\n                                        columnNumber: 19\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: messagesEndRef\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 262,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                            lineNumber: 234,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 11\n                    }, this),\n                    isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3 text-xs text-gray-500\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"\\uD83D\\uDCCB Invoice commands\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 270,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"\\uD83D\\uDCB0 Payment requests\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 271,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"\\uD83D\\uDCC4 Quotation commands\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 272,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"\\uD83D\\uDD17 Connection events\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                                    lineNumber: 273,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                            lineNumber: 269,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                        lineNumber: 268,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n                lineNumber: 221,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/nilab/Desktop/projects/gti/fubnvoicechat-frontend/components/ToolMonitor.tsx\",\n        lineNumber: 156,\n        columnNumber: 5\n    }, this);\n}\n_s(ToolMonitor, \"Y9gebsUakItDk0MckwfuZw9/A1A=\");\n_c = ToolMonitor;\nvar _c;\n$RefreshReg$(_c, \"ToolMonitor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvVG9vbE1vbml0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFbUQ7QUFDSTtBQWN4QyxTQUFTSSxZQUFZLEtBQTRCO1FBQTVCLEVBQUVDLE1BQU0sRUFBb0IsR0FBNUI7O0lBQ2xDLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHUCwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNRLFVBQVVDLFlBQVksR0FBR1QsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDVSxZQUFZQyxjQUFjLEdBQUdYLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU1ZLFFBQVFWLDZDQUFNQSxDQUFtQjtJQUN2QyxNQUFNVyxpQkFBaUJYLDZDQUFNQSxDQUFpQjtJQUU5QyxNQUFNWSxpQkFBaUI7WUFDckJEO1NBQUFBLDBCQUFBQSxlQUFlRSxPQUFPLGNBQXRCRiw4Q0FBQUEsd0JBQXdCRyxjQUFjLENBQUM7WUFBRUMsVUFBVTtRQUFTO0lBQzlEO0lBRUFoQixnREFBU0EsQ0FBQztRQUNSYTtJQUNGLEdBQUc7UUFBQ047S0FBUztJQUViLE1BQU1VLDBCQUEwQjtRQUM5QixJQUFJLENBQUNiLFFBQVE7WUFDWGMsUUFBUUMsS0FBSyxDQUFDO1lBQ2Q7UUFDRjtRQUVBLElBQUk7WUFDRix1REFBdUQ7WUFDdkQsTUFBTUMsUUFBUWxCLHFFQUFlQSxDQUFDLGFBQWFFO1lBQzNDLE1BQU1pQixLQUFLLElBQUlDLFVBQVVGO1lBRXpCQyxHQUFHRSxNQUFNLEdBQUc7Z0JBQ1ZMLFFBQVFNLEdBQUcsQ0FBQztnQkFDWmxCLGVBQWU7Z0JBRWYseUJBQXlCO2dCQUN6QixNQUFNbUIsb0JBQWlDO29CQUNyQ0MsSUFBSSxRQUFtQixPQUFYQyxLQUFLQyxHQUFHO29CQUNwQkMsV0FBVyxJQUFJRixPQUFPRyxrQkFBa0I7b0JBQ3hDQyxNQUFNO29CQUNOQyxRQUFRO29CQUNSQyxNQUFNO3dCQUFFQyxRQUFRO29CQUF5QjtnQkFDM0M7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TW9uaXRvci50c3g/Nzg5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBnZXRXZWJTb2NrZXRVcmwgfSBmcm9tICdAL2xpYi93ZWJzb2NrZXRDb25maWcnXG5cbmludGVyZmFjZSBUb29sTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmdcbiAgdGltZXN0YW1wOiBzdHJpbmdcbiAgdHlwZTogc3RyaW5nXG4gIGFjdGlvbjogc3RyaW5nXG4gIGRhdGE6IGFueVxufVxuXG5pbnRlcmZhY2UgVG9vbE1vbml0b3JQcm9wcyB7XG4gIHVzZXJJZD86IHN0cmluZyB8IG51bGxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9vbE1vbml0b3IoeyB1c2VySWQgfTogVG9vbE1vbml0b3JQcm9wcykge1xuICBjb25zdCBbaXNDb25uZWN0ZWQsIHNldElzQ29ubmVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPFRvb2xNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbaXNFeHBhbmRlZCwgc2V0SXNFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWY8V2ViU29ja2V0IHwgbnVsbD4obnVsbClcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpXG4gIH0sIFttZXNzYWdlc10pXG5cbiAgY29uc3QgY29ubmVjdFRvVG9vbHNXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYW5ub3QgY29ubmVjdDogVXNlciBJRCBpcyByZXF1aXJlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbm5lY3QgdG8gdGhlIHRvb2xzIFdlYlNvY2tldCBlbmRwb2ludCB3aXRoIHVzZXJfaWRcbiAgICAgIGNvbnN0IHdzVXJsID0gZ2V0V2ViU29ja2V0VXJsKCcvd3MvdG9vbHMnLCB1c2VySWQpXG4gICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpXG4gICAgICBcbiAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBDb25uZWN0ZWQgdG8gdG9vbHMgV2ViU29ja2V0JylcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSlcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjb25uZWN0aW9uIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbk1lc3NhZ2U6IFRvb2xNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiBgY29ubl8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24nLFxuICAgICAgICAgIGFjdGlvbjogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgZGF0YTogeyBzdGF0dXM6ICdDb25uZWN0ZWQgdG8gL3dzL3Rvb2xzJyB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgY29ubmVjdGlvbk1lc3NhZ2VdKVxuICAgICAgfVxuXG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFRvb2wgbWVzc2FnZSByZWNlaXZlZDonLCBkYXRhKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtZXNzYWdlIGVudHJ5XG4gICAgICAgICAgY29uc3QgbmV3TWVzc2FnZTogVG9vbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogYG1zZ18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgIGFjdGlvbjogZGF0YS5hY3Rpb24gfHwgJ3Vua25vd24nLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdNZXNzYWdlXSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHRvb2wgbWVzc2FnZTonLCBlcnJvcilcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogVG9vbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogYGVycl8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBhY3Rpb246ICdwYXJzZV9lcnJvcicsXG4gICAgICAgICAgICBkYXRhOiB7IGVycm9yOiAnRmFpbGVkIHRvIHBhcnNlIG1lc3NhZ2UnLCByYXc6IGV2ZW50LmRhdGEgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFRvb2xzIFdlYlNvY2tldCBlcnJvcjonLCBlcnJvcilcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogVG9vbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IGBlcnJfJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgYWN0aW9uOiAnd2Vic29ja2V0X2Vycm9yJyxcbiAgICAgICAgICBkYXRhOiB7IGVycm9yOiAnV2ViU29ja2V0IGNvbm5lY3Rpb24gZXJyb3InIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKVxuICAgICAgfVxuXG4gICAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+RiyBUb29scyBXZWJTb2NrZXQgZGlzY29ubmVjdGVkJylcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBkaXNjb25uZWN0aW9uTWVzc2FnZTogVG9vbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IGBkaXNjXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbicsXG4gICAgICAgICAgYWN0aW9uOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICBkYXRhOiB7IHN0YXR1czogJ0Rpc2Nvbm5lY3RlZCBmcm9tIC93cy90b29scycgfVxuICAgICAgICB9XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGRpc2Nvbm5lY3Rpb25NZXNzYWdlXSlcbiAgICAgIH1cblxuICAgICAgd3NSZWYuY3VycmVudCA9IHdzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIHRvb2xzIFdlYlNvY2tldDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICBjb25zdCBkaXNjb25uZWN0RnJvbVRvb2xzV2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKClcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2xlYXJNZXNzYWdlcyA9ICgpID0+IHtcbiAgICBzZXRNZXNzYWdlcyhbXSlcbiAgfVxuXG4gIGNvbnN0IGdldE1lc3NhZ2VJY29uID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnaW52b2ljZV9jb21tYW5kJzogcmV0dXJuICfwn5OLJ1xuICAgICAgY2FzZSAncmVxdWVzdF9tb25leV9jb21tYW5kJzogcmV0dXJuICfwn5KwJ1xuICAgICAgY2FzZSAncXVvdGF0aW9uX2NvbW1hbmQnOiByZXR1cm4gJ/Cfk4QnXG4gICAgICBjYXNlICdjb25uZWN0aW9uJzogcmV0dXJuICfwn5SXJ1xuICAgICAgY2FzZSAnZXJyb3InOiByZXR1cm4gJ+KdjCdcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAn8J+UpydcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRNZXNzYWdlQ29sb3IgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdpbnZvaWNlX2NvbW1hbmQnOiByZXR1cm4gJ2JvcmRlci1sLWJsdWUtNTAwIGJnLWJsdWUtNTAnXG4gICAgICBjYXNlICdyZXF1ZXN0X21vbmV5X2NvbW1hbmQnOiByZXR1cm4gJ2JvcmRlci1sLWdyZWVuLTUwMCBiZy1ncmVlbi01MCdcbiAgICAgIGNhc2UgJ3F1b3RhdGlvbl9jb21tYW5kJzogcmV0dXJuICdib3JkZXItbC1wdXJwbGUtNTAwIGJnLXB1cnBsZS01MCdcbiAgICAgIGNhc2UgJ2Nvbm5lY3Rpb24nOiByZXR1cm4gJ2JvcmRlci1sLWdyYXktNTAwIGJnLWdyYXktNTAnXG4gICAgICBjYXNlICdlcnJvcic6IHJldHVybiAnYm9yZGVyLWwtcmVkLTUwMCBiZy1yZWQtNTAnXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ2JvcmRlci1sLXllbGxvdy01MDAgYmcteWVsbG93LTUwJ1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1sZ1wiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAg8J+UpyBUb29sIE1vbml0b3JcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICBpc0Nvbm5lY3RlZCBcbiAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAnIFxuICAgICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJ1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICB7aXNDb25uZWN0ZWQgPyAnQ29ubmVjdGVkJyA6ICdEaXNjb25uZWN0ZWQnfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFeHBhbmRlZCghaXNFeHBhbmRlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc0V4cGFuZGVkID8gJ/CflLwnIDogJ/CflL0nfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIENvbnRyb2xzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtdC0zXCI+XG4gICAgICAgICAgeyFpc0Nvbm5lY3RlZCA/IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17Y29ubmVjdFRvVG9vbHNXZWJTb2NrZXR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdXNlcklkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgdGV4dC1zbSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgdXNlcklkIFxuICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZScgXG4gICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTQwMCB0ZXh0LWdyYXktMjAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt1c2VySWQgPyAnQ29ubmVjdCB0byAvd3MvdG9vbHMnIDogJ1NldCBVc2VyIElEIEZpcnN0J31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Rpc2Nvbm5lY3RGcm9tVG9vbHNXZWJTb2NrZXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC03MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBEaXNjb25uZWN0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyTWVzc2FnZXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS03MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIENsZWFyIExvZ1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAge21lc3NhZ2VzLmxlbmd0aH0gbWVzc2FnZXNcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyBEaXNwbGF5ICovfVxuICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02NCBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIGJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTJcIj7wn5SnPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2Pk5vIHRvb2wgbWVzc2FnZXMgeWV0PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICB7aXNDb25uZWN0ZWQgPyAnV2FpdGluZyBmb3IgdG9vbCBjYWxscy4uLicgOiAnQ29ubmVjdCB0byBzdGFydCBtb25pdG9yaW5nJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLmlkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgYm9yZGVyLWwtNCByb3VuZGVkLXItbGcgJHtnZXRNZXNzYWdlQ29sb3IobWVzc2FnZS50eXBlKX1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZ1wiPntnZXRNZXNzYWdlSWNvbihtZXNzYWdlLnR5cGUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5hY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXB9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC0yIHJvdW5kZWQgYm9yZGVyIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1ncmF5LTcwMCBtYXgtaC0yMCBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLmRhdGEsIG51bGwsIDIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHtpc0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdj7wn5OLIEludm9pY2UgY29tbWFuZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PvCfkrAgUGF5bWVudCByZXF1ZXN0czwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+8J+ThCBRdW90YXRpb24gY29tbWFuZHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PvCflJcgQ29ubmVjdGlvbiBldmVudHM8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiZ2V0V2ViU29ja2V0VXJsIiwiVG9vbE1vbml0b3IiLCJ1c2VySWQiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlzRXhwYW5kZWQiLCJzZXRJc0V4cGFuZGVkIiwid3NSZWYiLCJtZXNzYWdlc0VuZFJlZiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJjb25uZWN0VG9Ub29sc1dlYlNvY2tldCIsImNvbnNvbGUiLCJlcnJvciIsIndzVXJsIiwid3MiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJsb2ciLCJjb25uZWN0aW9uTWVzc2FnZSIsImlkIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsInRvTG9jYWxlVGltZVN0cmluZyIsInR5cGUiLCJhY3Rpb24iLCJkYXRhIiwic3RhdHVzIiwicHJldiIsIm9ubWVzc2FnZSIsImV2ZW50IiwiSlNPTiIsInBhcnNlIiwibmV3TWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJlcnJvck1lc3NhZ2UiLCJyYXciLCJvbmVycm9yIiwib25jbG9zZSIsImRpc2Nvbm5lY3Rpb25NZXNzYWdlIiwiZGlzY29ubmVjdEZyb21Ub29sc1dlYlNvY2tldCIsImNsb3NlIiwiY2xlYXJNZXNzYWdlcyIsImdldE1lc3NhZ2VJY29uIiwiZ2V0TWVzc2FnZUNvbG9yIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwibGVuZ3RoIiwibWFwIiwibWVzc2FnZSIsInByZSIsInN0cmluZ2lmeSIsInJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ToolMonitor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/pipecatRTVI.ts":
/*!****************************!*\
  !*** ./lib/pipecatRTVI.ts ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePipecatClient: function() { return /* binding */ usePipecatClient; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(app-pages-browser)/./node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var _pipecat_ai_websocket_transport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pipecat-ai/websocket-transport */ \"(app-pages-browser)/./node_modules/@pipecat-ai/websocket-transport/dist/index.module.js\");\n/* harmony import */ var _websocketConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./websocketConfig */ \"(app-pages-browser)/./lib/websocketConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ usePipecatClient auto */ \n\n\n\nfunction usePipecatClient() {\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isInConversation, setIsInConversation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [connectionStatus, setConnectionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"Disconnected\");\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const rtviClientRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const toolWebSocketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const addMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((message)=>{\n        const newMessage = {\n            ...message,\n            id: Date.now().toString(),\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newMessage\n            ]);\n    }, []);\n    const connectToolWebSocket = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (toolWebSocketRef.current) {\n            return;\n        }\n        if (!userId) {\n            console.error(\" Cannot connect to tool WebSocket: User ID is required\");\n            return;\n        }\n        try {\n            console.log(\"\\uD83D\\uDD27 Connecting to tool WebSocket...\");\n            const toolWsUrl = (0,_websocketConfig__WEBPACK_IMPORTED_MODULE_3__.getWebSocketUrl)(\"/ws/tools\", userId);\n            toolWebSocketRef.current = new WebSocket(toolWsUrl);\n            toolWebSocketRef.current.onopen = ()=>{\n                console.log(\"\\uD83D\\uDD27 Tool WebSocket connected\");\n                addMessage({\n                    type: \"system\",\n                    content: \"\\uD83D\\uDD27 Tool connection established\"\n                });\n            };\n            toolWebSocketRef.current.onmessage = (event)=>{\n                try {\n                    const data = JSON.parse(event.data);\n                    console.log(\"\\uD83D\\uDD27 Received tool message:\", data);\n                    if (data.type === \"navigation_command\") {\n                        console.log(\"\\uD83D\\uDD27 Processing navigation command from tool WebSocket:\", data);\n                        addMessage({\n                            type: \"system\",\n                            content: \"\\uD83E\\uDDED Navigation: \".concat(data.action, \" - \").concat(JSON.stringify(data.data))\n                        });\n                    } else if (data.type === \"quotation_management_command\") {\n                        console.log(\"\\uD83D\\uDD27 Processing quotation management command from tool WebSocket:\", data);\n                        addMessage({\n                            type: \"system\",\n                            content: \"\\uD83D\\uDD27 Quotation: \".concat(data.action, \" - \").concat(JSON.stringify(data.data))\n                        });\n                    }\n                } catch (error) {\n                    console.error(\"\\uD83D\\uDD27 Error parsing tool message:\", error);\n                }\n            };\n            toolWebSocketRef.current.onclose = ()=>{\n                console.log(\"\\uD83D\\uDD27 Tool WebSocket disconnected\");\n                toolWebSocketRef.current = null;\n            };\n            toolWebSocketRef.current.onerror = (error)=>{\n                console.error(\"\\uD83D\\uDD27 Tool WebSocket error:\", error);\n                toolWebSocketRef.current = null;\n            };\n        } catch (error) {\n            console.error(\"\\uD83D\\uDD27 Error connecting to tool WebSocket:\", error);\n        }\n    }, [\n        addMessage,\n        userId\n    ]);\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (rtviClientRef.current) {\n            return;\n        }\n        if (!userId) {\n            setConnectionStatus(\"User ID Required\");\n            addMessage({\n                type: \"error\",\n                content: \"Please set a User ID before connecting\"\n            });\n            return;\n        }\n        try {\n            setConnectionStatus(\"Connecting...\");\n            addMessage({\n                type: \"system\",\n                content: \"Connecting to FunVoice AI assistant as user: \".concat(userId, \"...\")\n            });\n            // Connect to tool WebSocket first\n            connectToolWebSocket();\n            // Create transport\n            const transport = new _pipecat_ai_websocket_transport__WEBPACK_IMPORTED_MODULE_2__.WebSocketTransport();\n            const rtviConfig = {\n                transport,\n                params: {\n                    baseUrl: (0,_websocketConfig__WEBPACK_IMPORTED_MODULE_3__.getHttpUrl)(\"\"),\n                    endpoints: {\n                        connect: \"/connect\"\n                    }\n                },\n                enableMic: true,\n                enableCam: false,\n                callbacks: {\n                    onConnected: ()=>{\n                        setIsConnected(true);\n                        setConnectionStatus(\"Connected\");\n                        addMessage({\n                            type: \"system\",\n                            content: \" Connected to FunVoice AI assistant\"\n                        });\n                    },\n                    onDisconnected: ()=>{\n                        setIsConnected(false);\n                        setIsInConversation(false);\n                        setConnectionStatus(\"Disconnected\");\n                        addMessage({\n                            type: \"system\",\n                            content: \"\\uD83D\\uDC4B Disconnected from AI assistant\"\n                        });\n                    },\n                    onBotReady: (data)=>{\n                        console.log(\"Bot ready:\", data);\n                        addMessage({\n                            type: \"system\",\n                            content: \"\\uD83E\\uDD16 AI is ready to chat!\"\n                        });\n                    },\n                    onUserTranscript: (data)=>{\n                        if (data.final) {\n                            addMessage({\n                                type: \"user\",\n                                content: data.text,\n                                isAudio: true\n                            });\n                        }\n                    },\n                    onBotTranscript: (data)=>{\n                        addMessage({\n                            type: \"assistant\",\n                            content: data.text\n                        });\n                    },\n                    onMessageError: (error)=>{\n                        console.error(\"Message error:\", error);\n                        addMessage({\n                            type: \"error\",\n                            content: \"Message error: \".concat(error.message || \"Unknown error\")\n                        });\n                    },\n                    onError: (error)=>{\n                        console.error(\"RTVI Error:\", error);\n                        addMessage({\n                            type: \"error\",\n                            content: \"Connection error: \".concat(error.message || \"Unknown error\")\n                        });\n                    }\n                }\n            };\n            rtviClientRef.current = new _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIClient(rtviConfig);\n            console.log(\"Initializing devices...\");\n            await rtviClientRef.current.initDevices();\n            console.log(\"Connecting to bot with user_id:\", userId);\n            await rtviClientRef.current.connect();\n            addMessage({\n                type: \"system\",\n                content: \"\\uD83C\\uDFA4 Connection complete! Ready for conversation.\"\n            });\n        } catch (error) {\n            console.error(\"Error connecting:\", error);\n            setConnectionStatus(\"Connection Error\");\n            addMessage({\n                type: \"error\",\n                content: \"Failed to connect: \".concat(error.message)\n            });\n            // Clean up on error\n            if (rtviClientRef.current) {\n                try {\n                    await rtviClientRef.current.disconnect();\n                } catch (disconnectError) {\n                    console.error(\"Error during cleanup disconnect:\", disconnectError);\n                }\n                rtviClientRef.current = null;\n            }\n        }\n    }, [\n        addMessage,\n        userId,\n        connectToolWebSocket\n    ]);\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (rtviClientRef.current) {\n            try {\n                await rtviClientRef.current.disconnect();\n                rtviClientRef.current = null;\n                setIsConnected(false);\n                setIsInConversation(false);\n                setConnectionStatus(\"Disconnected\");\n            } catch (error) {\n                console.error(\"Error disconnecting:\", error);\n                addMessage({\n                    type: \"error\",\n                    content: \"Error disconnecting: \".concat(error.message)\n                });\n            }\n        }\n        // Also close tool WebSocket\n        if (toolWebSocketRef.current) {\n            try {\n                toolWebSocketRef.current.close();\n                toolWebSocketRef.current = null;\n                console.log(\"\\uD83D\\uDD27 Tool WebSocket closed\");\n            } catch (error) {\n                console.error(\"\\uD83D\\uDD27 Error closing tool WebSocket:\", error);\n            }\n        }\n    }, [\n        addMessage\n    ]);\n    const startConversation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!isConnected || isInConversation) {\n            console.log(\"Cannot start conversation: not connected or already in conversation\");\n            return;\n        }\n        try {\n            setIsInConversation(true);\n            addMessage({\n                type: \"system\",\n                content: \"\\uD83C\\uDF99 Live conversation started! Speak naturally with the AI.\"\n            });\n        // The RTVI client automatically handles microphone streaming once connected\n        } catch (error) {\n            console.error(\"Error starting conversation:\", error);\n            addMessage({\n                type: \"error\",\n                content: \"Failed to start conversation. Please check microphone permissions.\"\n            });\n            setIsInConversation(false);\n        }\n    }, [\n        isConnected,\n        isInConversation,\n        addMessage\n    ]);\n    const stopConversation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setIsInConversation(false);\n        addMessage({\n            type: \"system\",\n            content: \" Conversation paused. Click Start Conversation to resume.\"\n        });\n    }, [\n        addMessage\n    ]);\n    return {\n        isConnected,\n        isInConversation,\n        messages,\n        connectionStatus,\n        userId,\n        setUserId,\n        startConversation,\n        stopConversation,\n        connect,\n        disconnect\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUJ0RSxrREFBV0EsQ0FBQztRQUNuQ1Msb0JBQW9CO1FBQ3BCUyxXQUFXO1lBQ1RpQixNQUFNO1lBQ05DLFNBQVM7UUFDWDtJQUNGLEdBQUc7UUFBQ2xCO0tBQVc7SUFFZixPQUFPO1FBQ0xaO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FDO1FBQ0FzRDtRQUNBQztRQUNBeEI7UUFDQW9CO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvcGlwZWNhdFJUVkkudHM/ZDU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvQ2hhdERpc3BsYXknXG5pbXBvcnQgeyBSVFZJQ2xpZW50LCBSVFZJQ2xpZW50T3B0aW9ucyB9IGZyb20gJ0BwaXBlY2F0LWFpL2NsaWVudC1qcydcbmltcG9ydCB7IFdlYlNvY2tldFRyYW5zcG9ydCB9IGZyb20gJ0BwaXBlY2F0LWFpL3dlYnNvY2tldC10cmFuc3BvcnQnXG5pbXBvcnQgeyBnZXRXZWJTb2NrZXRVcmwsIGdldEh0dHBVcmwgfSBmcm9tICcuL3dlYnNvY2tldENvbmZpZydcblxuaW50ZXJmYWNlIFBpcGVjYXRDbGllbnRIb29rIHtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW5cbiAgaXNJbkNvbnZlcnNhdGlvbjogYm9vbGVhblxuICBtZXNzYWdlczogTWVzc2FnZVtdXG4gIGNvbm5lY3Rpb25TdGF0dXM6IHN0cmluZ1xuICB1c2VySWQ6IHN0cmluZyB8IG51bGxcbiAgc2V0VXNlcklkOiAodXNlcklkOiBzdHJpbmcpID0+IHZvaWRcbiAgc3RhcnRDb252ZXJzYXRpb246ICgpID0+IHZvaWRcbiAgc3RvcENvbnZlcnNhdGlvbjogKCkgPT4gdm9pZFxuICBjb25uZWN0OiAoKSA9PiB2b2lkXG4gIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBpcGVjYXRDbGllbnQoKTogUGlwZWNhdENsaWVudEhvb2sge1xuICBjb25zdCBbaXNDb25uZWN0ZWQsIHNldElzQ29ubmVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNJbkNvbnZlcnNhdGlvbiwgc2V0SXNJbkNvbnZlcnNhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbY29ubmVjdGlvblN0YXR1cywgc2V0Q29ubmVjdGlvblN0YXR1c10gPSB1c2VTdGF0ZSgnRGlzY29ubmVjdGVkJylcbiAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgcnR2aUNsaWVudFJlZiA9IHVzZVJlZjxSVFZJQ2xpZW50IHwgbnVsbD4obnVsbClcbiAgY29uc3QgdG9vbFdlYlNvY2tldFJlZiA9IHVzZVJlZjxXZWJTb2NrZXQgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IGFkZE1lc3NhZ2UgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogT21pdDxNZXNzYWdlLCAnaWQnIHwgJ3RpbWVzdGFtcCc+KSA9PiB7XG4gICAgY29uc3QgbmV3TWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfVxuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG5ld01lc3NhZ2VdKVxuICB9LCBbXSlcblxuICBjb25zdCBjb25uZWN0VG9vbFdlYlNvY2tldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAodG9vbFdlYlNvY2tldFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIENhbm5vdCBjb25uZWN0IHRvIHRvb2wgV2ViU29ja2V0OiBVc2VyIElEIGlzIHJlcXVpcmVkJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UpyBDb25uZWN0aW5nIHRvIHRvb2wgV2ViU29ja2V0Li4uJylcbiAgICAgIGNvbnN0IHRvb2xXc1VybCA9IGdldFdlYlNvY2tldFVybCgnL3dzL3Rvb2xzJywgdXNlcklkKVxuICAgICAgdG9vbFdlYlNvY2tldFJlZi5jdXJyZW50ID0gbmV3IFdlYlNvY2tldCh0b29sV3NVcmwpXG4gICAgICBcbiAgICAgIHRvb2xXZWJTb2NrZXRSZWYuY3VycmVudC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFRvb2wgV2ViU29ja2V0IGNvbm5lY3RlZCcpXG4gICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6ICfwn5SnIFRvb2wgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdG9vbFdlYlNvY2tldFJlZi5jdXJyZW50Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgUmVjZWl2ZWQgdG9vbCBtZXNzYWdlOicsIGRhdGEpXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ25hdmlnYXRpb25fY29tbWFuZCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFByb2Nlc3NpbmcgbmF2aWdhdGlvbiBjb21tYW5kIGZyb20gdG9vbCBXZWJTb2NrZXQ6JywgZGF0YSlcbiAgICAgICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgY29udGVudDogYPCfp60gTmF2aWdhdGlvbjogJHtkYXRhLmFjdGlvbn0gLSAke0pTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSl9YFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3F1b3RhdGlvbl9tYW5hZ2VtZW50X2NvbW1hbmQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBQcm9jZXNzaW5nIHF1b3RhdGlvbiBtYW5hZ2VtZW50IGNvbW1hbmQgZnJvbSB0b29sIFdlYlNvY2tldDonLCBkYXRhKVxuICAgICAgICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgICBjb250ZW50OiBg8J+UpyBRdW90YXRpb246ICR7ZGF0YS5hY3Rpb259IC0gJHtKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpfWBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflKcgRXJyb3IgcGFyc2luZyB0b29sIG1lc3NhZ2U6JywgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgdG9vbFdlYlNvY2tldFJlZi5jdXJyZW50Lm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFRvb2wgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcpXG4gICAgICAgIHRvb2xXZWJTb2NrZXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdG9vbFdlYlNvY2tldFJlZi5jdXJyZW50Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+UpyBUb29sIFdlYlNvY2tldCBlcnJvcjonLCBlcnJvcilcbiAgICAgICAgdG9vbFdlYlNvY2tldFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5SnIEVycm9yIGNvbm5lY3RpbmcgdG8gdG9vbCBXZWJTb2NrZXQ6JywgZXJyb3IpXG4gICAgfVxuICB9LCBbYWRkTWVzc2FnZSwgdXNlcklkXSlcblxuICBjb25zdCBjb25uZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChydHZpQ2xpZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdVc2VyIElEIFJlcXVpcmVkJylcbiAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBjb250ZW50OiAnUGxlYXNlIHNldCBhIFVzZXIgSUQgYmVmb3JlIGNvbm5lY3RpbmcnXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldENvbm5lY3Rpb25TdGF0dXMoJ0Nvbm5lY3RpbmcuLi4nKVxuICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiBgQ29ubmVjdGluZyB0byBGdW5Wb2ljZSBBSSBhc3Npc3RhbnQgYXMgdXNlcjogJHt1c2VySWR9Li4uYFxuICAgICAgfSlcblxuICAgICAgLy8gQ29ubmVjdCB0byB0b29sIFdlYlNvY2tldCBmaXJzdFxuICAgICAgY29ubmVjdFRvb2xXZWJTb2NrZXQoKVxuXG4gICAgICAvLyBDcmVhdGUgdHJhbnNwb3J0XG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgV2ViU29ja2V0VHJhbnNwb3J0KClcbiAgICAgIFxuICAgICAgY29uc3QgcnR2aUNvbmZpZzogUlRWSUNsaWVudE9wdGlvbnMgPSB7XG4gICAgICAgIHRyYW5zcG9ydCxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgYmFzZVVybDogZ2V0SHR0cFVybCgnJyksXG4gICAgICAgICAgZW5kcG9pbnRzOiB7IFxuICAgICAgICAgICAgY29ubmVjdDogJy9jb25uZWN0JyBcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBlbmFibGVNaWM6IHRydWUsXG4gICAgICAgIGVuYWJsZUNhbTogZmFsc2UsXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKVxuICAgICAgICAgICAgc2V0Q29ubmVjdGlvblN0YXR1cygnQ29ubmVjdGVkJylcbiAgICAgICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgY29udGVudDogJ+KchSBDb25uZWN0ZWQgdG8gRnVuVm9pY2UgQUkgYXNzaXN0YW50J1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRGlzY29ubmVjdGVkOiAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSlcbiAgICAgICAgICAgIHNldElzSW5Db252ZXJzYXRpb24oZmFsc2UpXG4gICAgICAgICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdEaXNjb25uZWN0ZWQnKVxuICAgICAgICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgICBjb250ZW50OiAn8J+RiyBEaXNjb25uZWN0ZWQgZnJvbSBBSSBhc3Npc3RhbnQnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Cb3RSZWFkeTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBCb3QgcmVhZHk6YCwgZGF0YSlcbiAgICAgICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgY29udGVudDogJ/CfpJYgQUkgaXMgcmVhZHkgdG8gY2hhdCEnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Vc2VyVHJhbnNjcmlwdDogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmZpbmFsKSB7XG4gICAgICAgICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBkYXRhLnRleHQsXG4gICAgICAgICAgICAgICAgaXNBdWRpbzogdHJ1ZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Cb3RUcmFuc2NyaXB0OiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICBjb250ZW50OiBkYXRhLnRleHRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbk1lc3NhZ2VFcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNZXNzYWdlIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGBNZXNzYWdlIGVycm9yOiAkeyhlcnJvciBhcyBhbnkpLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JUVkkgRXJyb3I6JywgZXJyb3IpXG4gICAgICAgICAgICBhZGRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgY29udGVudDogYENvbm5lY3Rpb24gZXJyb3I6ICR7KGVycm9yIGFzIGFueSkubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICBydHZpQ2xpZW50UmVmLmN1cnJlbnQgPSBuZXcgUlRWSUNsaWVudChydHZpQ29uZmlnKVxuXG4gICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGRldmljZXMuLi4nKVxuICAgICAgYXdhaXQgcnR2aUNsaWVudFJlZi5jdXJyZW50LmluaXREZXZpY2VzKClcblxuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gYm90IHdpdGggdXNlcl9pZDonLCB1c2VySWQpXG4gICAgICBhd2FpdCBydHZpQ2xpZW50UmVmLmN1cnJlbnQuY29ubmVjdCgpXG5cbiAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgY29udGVudDogJ/CfjqQgQ29ubmVjdGlvbiBjb21wbGV0ZSEgUmVhZHkgZm9yIGNvbnZlcnNhdGlvbi4nXG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3Rpbmc6JywgZXJyb3IpXG4gICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdDb25uZWN0aW9uIEVycm9yJylcbiAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBjb250ZW50OiBgRmFpbGVkIHRvIGNvbm5lY3Q6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWBcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIG9uIGVycm9yXG4gICAgICBpZiAocnR2aUNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgcnR2aUNsaWVudFJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICB9IGNhdGNoIChkaXNjb25uZWN0RXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgY2xlYW51cCBkaXNjb25uZWN0OicsIGRpc2Nvbm5lY3RFcnJvcilcbiAgICAgICAgfVxuICAgICAgICBydHZpQ2xpZW50UmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgfVxuICB9LCBbYWRkTWVzc2FnZSwgdXNlcklkLCBjb25uZWN0VG9vbFdlYlNvY2tldF0pXG5cbiAgY29uc3QgZGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAocnR2aUNsaWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBydHZpQ2xpZW50UmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG4gICAgICAgIHJ0dmlDbGllbnRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgICAgICBzZXRJc0luQ29udmVyc2F0aW9uKGZhbHNlKVxuICAgICAgICBzZXRDb25uZWN0aW9uU3RhdHVzKCdEaXNjb25uZWN0ZWQnKVxuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRpc2Nvbm5lY3Rpbmc6JywgZXJyb3IpXG4gICAgICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgY29udGVudDogYEVycm9yIGRpc2Nvbm5lY3Rpbmc6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWBcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQWxzbyBjbG9zZSB0b29sIFdlYlNvY2tldFxuICAgIGlmICh0b29sV2ViU29ja2V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRvb2xXZWJTb2NrZXRSZWYuY3VycmVudC5jbG9zZSgpXG4gICAgICAgIHRvb2xXZWJTb2NrZXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgY29uc29sZS5sb2coJ/CflKcgVG9vbCBXZWJTb2NrZXQgY2xvc2VkJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflKcgRXJyb3IgY2xvc2luZyB0b29sIFdlYlNvY2tldDonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gIH0sIFthZGRNZXNzYWdlXSlcblxuICBjb25zdCBzdGFydENvbnZlcnNhdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlzQ29ubmVjdGVkIHx8IGlzSW5Db252ZXJzYXRpb24pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3Qgc3RhcnQgY29udmVyc2F0aW9uOiBub3QgY29ubmVjdGVkIG9yIGFscmVhZHkgaW4gY29udmVyc2F0aW9uJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRJc0luQ29udmVyc2F0aW9uKHRydWUpXG4gICAgICBhZGRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6ICfwn46Z77iPIExpdmUgY29udmVyc2F0aW9uIHN0YXJ0ZWQhIFNwZWFrIG5hdHVyYWxseSB3aXRoIHRoZSBBSS4nXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBUaGUgUlRWSSBjbGllbnQgYXV0b21hdGljYWxseSBoYW5kbGVzIG1pY3JvcGhvbmUgc3RyZWFtaW5nIG9uY2UgY29ubmVjdGVkXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RhcnRpbmcgY29udmVyc2F0aW9uOicsIGVycm9yKVxuICAgICAgYWRkTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGNvbnRlbnQ6ICdGYWlsZWQgdG8gc3RhcnQgY29udmVyc2F0aW9uLiBQbGVhc2UgY2hlY2sgbWljcm9waG9uZSBwZXJtaXNzaW9ucy4nXG4gICAgICB9KVxuICAgICAgc2V0SXNJbkNvbnZlcnNhdGlvbihmYWxzZSlcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RlZCwgaXNJbkNvbnZlcnNhdGlvbiwgYWRkTWVzc2FnZV0pXG5cbiAgY29uc3Qgc3RvcENvbnZlcnNhdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0luQ29udmVyc2F0aW9uKGZhbHNlKVxuICAgIGFkZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogJ3N5c3RlbScsXG4gICAgICBjb250ZW50OiAn4o+577iPIENvbnZlcnNhdGlvbiBwYXVzZWQuIENsaWNrIFN0YXJ0IENvbnZlcnNhdGlvbiB0byByZXN1bWUuJ1xuICAgIH0pXG4gIH0sIFthZGRNZXNzYWdlXSlcblxuICByZXR1cm4ge1xuICAgIGlzQ29ubmVjdGVkLFxuICAgIGlzSW5Db252ZXJzYXRpb24sXG4gICAgbWVzc2FnZXMsXG4gICAgY29ubmVjdGlvblN0YXR1cyxcbiAgICB1c2VySWQsXG4gICAgc2V0VXNlcklkLFxuICAgIHN0YXJ0Q29udmVyc2F0aW9uLFxuICAgIHN0b3BDb252ZXJzYXRpb24sXG4gICAgY29ubmVjdCxcbiAgICBkaXNjb25uZWN0XG4gIH1cbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIlJUVklDbGllbnQiLCJXZWJTb2NrZXRUcmFuc3BvcnQiLCJnZXRXZWJTb2NrZXRVcmwiLCJnZXRIdHRwVXJsIiwidXNlUGlwZWNhdENsaWVudCIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJpc0luQ29udmVyc2F0aW9uIiwic2V0SXNJbkNvbnZlcnNhdGlvbiIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjb25uZWN0aW9uU3RhdHVzIiwic2V0Q29ubmVjdGlvblN0YXR1cyIsInVzZXJJZCIsInNldFVzZXJJZCIsInJ0dmlDbGllbnRSZWYiLCJ0b29sV2ViU29ja2V0UmVmIiwiYWRkTWVzc2FnZSIsIm1lc3NhZ2UiLCJuZXdNZXNzYWdlIiwiaWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJ0aW1lc3RhbXAiLCJwcmV2IiwiY29ubmVjdFRvb2xXZWJTb2NrZXQiLCJjdXJyZW50IiwiY29uc29sZSIsImVycm9yIiwibG9nIiwidG9vbFdzVXJsIiwiV2ViU29ja2V0Iiwib25vcGVuIiwidHlwZSIsImNvbnRlbnQiLCJvbm1lc3NhZ2UiLCJldmVudCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJhY3Rpb24iLCJzdHJpbmdpZnkiLCJvbmNsb3NlIiwib25lcnJvciIsImNvbm5lY3QiLCJ0cmFuc3BvcnQiLCJydHZpQ29uZmlnIiwicGFyYW1zIiwiYmFzZVVybCIsImVuZHBvaW50cyIsImVuYWJsZU1pYyIsImVuYWJsZUNhbSIsImNhbGxiYWNrcyIsIm9uQ29ubmVjdGVkIiwib25EaXNjb25uZWN0ZWQiLCJvbkJvdFJlYWR5Iiwib25Vc2VyVHJhbnNjcmlwdCIsImZpbmFsIiwidGV4dCIsImlzQXVkaW8iLCJvbkJvdFRyYW5zY3JpcHQiLCJvbk1lc3NhZ2VFcnJvciIsIm9uRXJyb3IiLCJpbml0RGV2aWNlcyIsImRpc2Nvbm5lY3QiLCJkaXNjb25uZWN0RXJyb3IiLCJjbG9zZSIsInN0YXJ0Q29udmVyc2F0aW9uIiwic3RvcENvbnZlcnNhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/pipecatRTVI.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/websocketConfig.ts":
/*!********************************!*\
  !*** ./lib/websocketConfig.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWebSocket: function() { return /* binding */ createWebSocket; },\n/* harmony export */   getCurrentConfig: function() { return /* binding */ getCurrentConfig; },\n/* harmony export */   getHttpUrl: function() { return /* binding */ getHttpUrl; },\n/* harmony export */   getWebSocketConfig: function() { return /* binding */ getWebSocketConfig; },\n/* harmony export */   getWebSocketUrl: function() { return /* binding */ getWebSocketUrl; },\n/* harmony export */   validateWebSocketConfig: function() { return /* binding */ validateWebSocketConfig; }\n/* harmony export */ });\n/**\n * Simplified WebSocket Configuration Utility\n * Uses only NEXT_PUBLIC_BACKEND_URL and NEXT_PUBLIC_USE_HTTPS\n */ /**\n * Get WebSocket configuration from environment variables\n * Simplified version using only URL and protocol choice\n */ function getWebSocketConfig() {\n    // Get backend URL from environment (default to localhost:1294)\n    const backendUrl = \"176.9.16.194:1294\" || 0;\n    // Get protocol choice: 0 = HTTP/WS, 1 = HTTPS/WSS\n    const useHttps = \"1\" === \"1\";\n    const httpProtocol = useHttps ? \"https:\" : \"http:\";\n    const wsProtocol = useHttps ? \"wss:\" : \"ws:\";\n    const httpUrl = \"\".concat(httpProtocol, \"//\").concat(backendUrl);\n    const wsUrl = \"\".concat(wsProtocol, \"//\").concat(backendUrl);\n    return {\n        baseUrl: backendUrl,\n        wsUrl,\n        httpUrl,\n        isSecure: useHttps\n    };\n}\n/**\n * Generate WebSocket URL for a specific endpoint\n */ function getWebSocketUrl(endpoint, userId) {\n    const config = getWebSocketConfig();\n    const baseWsUrl = config.wsUrl;\n    // Add user_id parameter if provided\n    const userParam = userId ? \"?user_id=\".concat(encodeURIComponent(userId)) : \"\";\n    return \"\".concat(baseWsUrl).concat(endpoint).concat(userParam);\n}\n/**\n * Generate HTTP URL for a specific endpoint\n */ function getHttpUrl(endpoint) {\n    const config = getWebSocketConfig();\n    return \"\".concat(config.httpUrl).concat(endpoint);\n}\n/**\n * Get the current configuration for debugging\n */ function getCurrentConfig() {\n    return getWebSocketConfig();\n}\n/**\n * Create WebSocket with proper configuration\n */ function createWebSocket(url, options) {\n    try {\n        const ws = new WebSocket(url, options === null || options === void 0 ? void 0 : options.protocols);\n        return ws;\n    } catch (error) {\n        console.error(\"Failed to create WebSocket:\", error);\n        throw error;\n    }\n}\n/**\n * Validate WebSocket configuration\n */ function validateWebSocketConfig() {\n    const errors = [];\n    // Check if backend URL is configured\n    const backendUrl = \"176.9.16.194:1294\";\n    if (!backendUrl) {\n        errors.push(\"NEXT_PUBLIC_BACKEND_URL is not set. Using default: localhost:1294\");\n    }\n    // Validate protocol choice\n    const useHttps = \"1\";\n    if (useHttps && useHttps !== \"0\" && useHttps !== \"1\") {\n        errors.push('NEXT_PUBLIC_USE_HTTPS must be either \"0\" (HTTP/WS) or \"1\" (HTTPS/WSS)');\n    }\n    return {\n        isValid: errors.length === 0,\n        errors\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi93ZWJzb2NrZXRDb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBU0Q7OztDQUdDLEdBQ00sU0FBU0E7SUFDZCwrREFBK0Q7SUFDL0QsTUFBTUMsYUFBYUMsbUJBQW1DLElBQUk7SUFFMUQsa0RBQWtEO0lBQ2xELE1BQU1HLFdBQVdILEdBQWlDLEtBQUs7SUFFdkQsTUFBTUssZUFBZUYsV0FBVyxXQUFXO0lBQzNDLE1BQU1HLGFBQWFILFdBQVcsU0FBUztJQUV2QyxNQUFNSSxVQUFVLEdBQW9CUixPQUFqQk0sY0FBYSxNQUFlLE9BQVhOO0lBQ3BDLE1BQU1TLFFBQVEsR0FBa0JULE9BQWZPLFlBQVcsTUFBZSxPQUFYUDtJQUVoQyxPQUFPO1FBQ0xVLFNBQVNWO1FBQ1RTO1FBQ0FEO1FBQ0FHLFVBQVVQO0lBQ1o7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU1EsZ0JBQWdCQyxRQUFnQixFQUFFQyxNQUFlO0lBQy9ELE1BQU1DLFNBQVNoQjtJQUNmLE1BQU1pQixZQUFZRCxPQUFPTixLQUFLO0lBRTlCLG9DQUFvQztJQUNwQyxNQUFNUSxZQUFZSCxTQUFTLFlBQXVDLE9BQTNCSSxtQkFBbUJKLFdBQVk7SUFFdEUsT0FBTyxHQUFlRCxPQUFaRyxXQUF1QkMsT0FBWEosVUFBcUIsT0FBVkk7QUFDbkM7QUFFQTs7Q0FFQyxHQUNNLFNBQVNFLFdBQVdOLFFBQWdCO0lBQ3pDLE1BQU1FLFNBQVNoQjtJQUNmLE9BQU8sR0FBb0JjLE9BQWpCRSxPQUFPUCxPQUFPLEVBQVksT0FBVEs7QUFDN0I7QUFFQTs7Q0FFQyxHQUNNLFNBQVNPO0lBQ2QsT0FBT3JCO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVNzQixnQkFBZ0JDLEdBQVcsRUFBRUMsT0FFNUM7SUFDQyxJQUFJO1FBQ0YsTUFBTUMsS0FBSyxJQUFJQyxVQUFVSCxLQUFLQyxvQkFBQUEsOEJBQUFBLFFBQVNHLFNBQVM7UUFDaEQsT0FBT0Y7SUFDVCxFQUFFLE9BQU9HLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsTUFBTUE7SUFDUjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTRTtJQUNkLE1BQU1DLFNBQW1CLEVBQUU7SUFFM0IscUNBQXFDO0lBQ3JDLE1BQU05QixhQUFhQyxtQkFBbUM7SUFDdEQsSUFBSSxDQUFDRCxZQUFZO1FBQ2Y4QixPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLDJCQUEyQjtJQUMzQixNQUFNM0IsV0FBV0gsR0FBaUM7SUFDbEQsSUFBSUcsWUFBWUEsYUFBYSxPQUFPQSxhQUFhLEtBQUs7UUFDcEQwQixPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLE9BQU87UUFDTEMsU0FBU0YsT0FBT0csTUFBTSxLQUFLO1FBQzNCSDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3dlYnNvY2tldENvbmZpZy50cz9iYmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxpZmllZCBXZWJTb2NrZXQgQ29uZmlndXJhdGlvbiBVdGlsaXR5XG4gKiBVc2VzIG9ubHkgTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgYW5kIE5FWFRfUFVCTElDX1VTRV9IVFRQU1xuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU29ja2V0Q29uZmlnIHtcbiAgYmFzZVVybDogc3RyaW5nO1xuICB3c1VybDogc3RyaW5nO1xuICBodHRwVXJsOiBzdHJpbmc7XG4gIGlzU2VjdXJlOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEdldCBXZWJTb2NrZXQgY29uZmlndXJhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICogU2ltcGxpZmllZCB2ZXJzaW9uIHVzaW5nIG9ubHkgVVJMIGFuZCBwcm90b2NvbCBjaG9pY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlYlNvY2tldENvbmZpZygpOiBXZWJTb2NrZXRDb25maWcge1xuICAvLyBHZXQgYmFja2VuZCBVUkwgZnJvbSBlbnZpcm9ubWVudCAoZGVmYXVsdCB0byBsb2NhbGhvc3Q6MTI5NClcbiAgY29uc3QgYmFja2VuZFVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIHx8ICdsb2NhbGhvc3Q6MTI5NCc7XG4gIFxuICAvLyBHZXQgcHJvdG9jb2wgY2hvaWNlOiAwID0gSFRUUC9XUywgMSA9IEhUVFBTL1dTU1xuICBjb25zdCB1c2VIdHRwcyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9IVFRQUyA9PT0gJzEnO1xuICBcbiAgY29uc3QgaHR0cFByb3RvY29sID0gdXNlSHR0cHMgPyAnaHR0cHM6JyA6ICdodHRwOic7XG4gIGNvbnN0IHdzUHJvdG9jb2wgPSB1c2VIdHRwcyA/ICd3c3M6JyA6ICd3czonO1xuICBcbiAgY29uc3QgaHR0cFVybCA9IGAke2h0dHBQcm90b2NvbH0vLyR7YmFja2VuZFVybH1gO1xuICBjb25zdCB3c1VybCA9IGAke3dzUHJvdG9jb2x9Ly8ke2JhY2tlbmRVcmx9YDtcbiAgXG4gIHJldHVybiB7XG4gICAgYmFzZVVybDogYmFja2VuZFVybCxcbiAgICB3c1VybCxcbiAgICBodHRwVXJsLFxuICAgIGlzU2VjdXJlOiB1c2VIdHRwc1xuICB9O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIFdlYlNvY2tldCBVUkwgZm9yIGEgc3BlY2lmaWMgZW5kcG9pbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlYlNvY2tldFVybChlbmRwb2ludDogc3RyaW5nLCB1c2VySWQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBjb25maWcgPSBnZXRXZWJTb2NrZXRDb25maWcoKTtcbiAgY29uc3QgYmFzZVdzVXJsID0gY29uZmlnLndzVXJsO1xuICBcbiAgLy8gQWRkIHVzZXJfaWQgcGFyYW1ldGVyIGlmIHByb3ZpZGVkXG4gIGNvbnN0IHVzZXJQYXJhbSA9IHVzZXJJZCA/IGA/dXNlcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudCh1c2VySWQpfWAgOiAnJztcbiAgXG4gIHJldHVybiBgJHtiYXNlV3NVcmx9JHtlbmRwb2ludH0ke3VzZXJQYXJhbX1gO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIEhUVFAgVVJMIGZvciBhIHNwZWNpZmljIGVuZHBvaW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIdHRwVXJsKGVuZHBvaW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBjb25maWcgPSBnZXRXZWJTb2NrZXRDb25maWcoKTtcbiAgcmV0dXJuIGAke2NvbmZpZy5odHRwVXJsfSR7ZW5kcG9pbnR9YDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiBmb3IgZGVidWdnaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50Q29uZmlnKCk6IFdlYlNvY2tldENvbmZpZyB7XG4gIHJldHVybiBnZXRXZWJTb2NrZXRDb25maWcoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgV2ViU29ja2V0IHdpdGggcHJvcGVyIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdlYlNvY2tldCh1cmw6IHN0cmluZywgb3B0aW9ucz86IHtcbiAgcHJvdG9jb2xzPzogc3RyaW5nIHwgc3RyaW5nW107XG59KTogV2ViU29ja2V0IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsLCBvcHRpb25zPy5wcm90b2NvbHMpO1xuICAgIHJldHVybiB3cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFdlYlNvY2tldDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBXZWJTb2NrZXQgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVXZWJTb2NrZXRDb25maWcoKTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gIFxuICAvLyBDaGVjayBpZiBiYWNrZW5kIFVSTCBpcyBjb25maWd1cmVkXG4gIGNvbnN0IGJhY2tlbmRVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTDtcbiAgaWYgKCFiYWNrZW5kVXJsKSB7XG4gICAgZXJyb3JzLnB1c2goJ05FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIGlzIG5vdCBzZXQuIFVzaW5nIGRlZmF1bHQ6IGxvY2FsaG9zdDoxMjk0Jyk7XG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIHByb3RvY29sIGNob2ljZVxuICBjb25zdCB1c2VIdHRwcyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9IVFRQUztcbiAgaWYgKHVzZUh0dHBzICYmIHVzZUh0dHBzICE9PSAnMCcgJiYgdXNlSHR0cHMgIT09ICcxJykge1xuICAgIGVycm9ycy5wdXNoKCdORVhUX1BVQkxJQ19VU0VfSFRUUFMgbXVzdCBiZSBlaXRoZXIgXCIwXCIgKEhUVFAvV1MpIG9yIFwiMVwiIChIVFRQUy9XU1MpJyk7XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnNcbiAgfTtcbn0gIl0sIm5hbWVzIjpbImdldFdlYlNvY2tldENvbmZpZyIsImJhY2tlbmRVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwiLCJ1c2VIdHRwcyIsIk5FWFRfUFVCTElDX1VTRV9IVFRQUyIsImh0dHBQcm90b2NvbCIsIndzUHJvdG9jb2wiLCJodHRwVXJsIiwid3NVcmwiLCJiYXNlVXJsIiwiaXNTZWN1cmUiLCJnZXRXZWJTb2NrZXRVcmwiLCJlbmRwb2ludCIsInVzZXJJZCIsImNvbmZpZyIsImJhc2VXc1VybCIsInVzZXJQYXJhbSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldEh0dHBVcmwiLCJnZXRDdXJyZW50Q29uZmlnIiwiY3JlYXRlV2ViU29ja2V0IiwidXJsIiwib3B0aW9ucyIsIndzIiwiV2ViU29ja2V0IiwicHJvdG9jb2xzIiwiZXJyb3IiLCJjb25zb2xlIiwidmFsaWRhdGVXZWJTb2NrZXRDb25maWciLCJlcnJvcnMiLCJwdXNoIiwiaXNWYWxpZCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/websocketConfig.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz83NGFjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/YjZlNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/x-law/dist/index.js":
/*!******************************************!*\
  !*** ./node_modules/x-law/dist/index.js ***!
  \******************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   alaw: function() { return /* binding */ alaw_exports; },\n/* harmony export */   mulaw: function() { return /* binding */ mulaw_exports; },\n/* harmony export */   utils: function() { return /* binding */ utils_exports; }\n/* harmony export */ });\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\nvar __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/lib/alaw.ts\nvar alaw_exports = {};\n__export(alaw_exports, {\n  decode: () => decode,\n  decodeBuffer: () => decodeBuffer,\n  decodeSample: () => decodeSample,\n  encode: () => encode,\n  encodeBuffer: () => encodeBuffer,\n  encodeSample: () => encodeSample\n});\nvar LOG_TABLE = [\n  1,\n  1,\n  2,\n  2,\n  3,\n  3,\n  3,\n  3,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7\n];\nfunction encodeSample(sample) {\n  let compandedValue;\n  sample = sample == -32768 ? -32767 : sample;\n  let sign = ~sample >> 8 & 128;\n  if (!sign) {\n    sample = sample * -1;\n  }\n  if (sample > 32635) {\n    sample = 32635;\n  }\n  if (sample >= 256) {\n    let exponent = LOG_TABLE[sample >> 8 & 127];\n    let mantissa = sample >> exponent + 3 & 15;\n    compandedValue = exponent << 4 | mantissa;\n  } else {\n    compandedValue = sample >> 4;\n  }\n  return compandedValue ^ (sign ^ 85);\n}\n__name(encodeSample, \"encodeSample\");\nfunction decodeSample(sample) {\n  let sign = 0;\n  sample ^= 85;\n  if (sample & 128) {\n    sample &= -129;\n    sign = -1;\n  }\n  let position = ((sample & 240) >> 4) + 4;\n  let decoded = 0;\n  if (position != 4) {\n    decoded = 1 << position | (sample & 15) << position - 4 | 1 << position - 5;\n  } else {\n    decoded = sample << 1 | 1;\n  }\n  decoded = sign === 0 ? decoded : -decoded;\n  return decoded * 8 * -1;\n}\n__name(decodeSample, \"decodeSample\");\nfunction encode(samples) {\n  let aLawSamples = new Uint8Array(samples.length);\n  for (let i = 0; i < samples.length; i++) {\n    aLawSamples[i] = encodeSample(samples[i]);\n  }\n  return aLawSamples;\n}\n__name(encode, \"encode\");\nfunction decode(samples) {\n  let pcmSamples = new Int16Array(samples.length);\n  for (let i = 0; i < samples.length; i++) {\n    pcmSamples[i] = decodeSample(samples[i]);\n  }\n  return pcmSamples;\n}\n__name(decode, \"decode\");\nfunction encodeBuffer(buffer) {\n  const numSamples = Math.floor(buffer.length / 2);\n  const samples = new Int16Array(numSamples);\n  for (let i = 0; i < numSamples; i++) {\n    samples[i] = buffer.readInt16LE(i * 2);\n  }\n  return Buffer.from(encode(samples).buffer);\n}\n__name(encodeBuffer, \"encodeBuffer\");\nfunction decodeBuffer(buffer) {\n  const samples = decode(new Uint8Array(buffer));\n  return Buffer.from(samples.buffer);\n}\n__name(decodeBuffer, \"decodeBuffer\");\n\n// src/lib/mulaw.ts\nvar mulaw_exports = {};\n__export(mulaw_exports, {\n  decode: () => decode2,\n  decodeBuffer: () => decodeBuffer2,\n  decodeSample: () => decodeSample2,\n  encode: () => encode2,\n  encodeBuffer: () => encodeBuffer2,\n  encodeSample: () => encodeSample2\n});\nvar BIAS = 132;\nvar CLIP = 32635;\nvar encodeTable = [\n  0,\n  0,\n  1,\n  1,\n  2,\n  2,\n  2,\n  2,\n  3,\n  3,\n  3,\n  3,\n  3,\n  3,\n  3,\n  3,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7\n];\nvar decodeTable = [0, 132, 396, 924, 1980, 4092, 8316, 16764];\nfunction encodeSample2(sample) {\n  const sign = sample < 0 ? 128 : 0;\n  sample = Math.abs(sample);\n  sample += BIAS;\n  if (sample > CLIP) sample = CLIP;\n  const exponent = encodeTable[sample >> 7 & 255];\n  const mantissa = sample >> exponent + 3 & 15;\n  return ~(sign | exponent << 4 | mantissa) & 255;\n}\n__name(encodeSample2, \"encodeSample\");\nfunction decodeSample2(sample) {\n  sample = ~sample & 255;\n  const sign = sample & 128 ? -1 : 1;\n  const exponent = sample >> 4 & 7;\n  const mantissa = sample & 15;\n  const decodedSample = decodeTable[exponent] + (mantissa << exponent + 3);\n  return sign * decodedSample;\n}\n__name(decodeSample2, \"decodeSample\");\nfunction encode2(samples) {\n  const muLawSamples = new Uint8Array(samples.length);\n  for (let i = 0; i < samples.length; i++) {\n    muLawSamples[i] = encodeSample2(samples[i]);\n  }\n  return muLawSamples;\n}\n__name(encode2, \"encode\");\nfunction decode2(samples) {\n  const pcmSamples = new Int16Array(samples.length);\n  for (let i = 0; i < samples.length; i++) {\n    pcmSamples[i] = decodeSample2(samples[i]);\n  }\n  return pcmSamples;\n}\n__name(decode2, \"decode\");\nfunction encodeBuffer2(buffer) {\n  const numSamples = Math.floor(buffer.length / 2);\n  const samples = new Int16Array(numSamples);\n  for (let i = 0; i < numSamples; i++) {\n    samples[i] = buffer.readInt16LE(i * 2);\n  }\n  return Buffer.from(encode2(samples).buffer);\n}\n__name(encodeBuffer2, \"encodeBuffer\");\nfunction decodeBuffer2(buffer) {\n  const samples = decode2(new Uint8Array(buffer));\n  return Buffer.from(samples.buffer);\n}\n__name(decodeBuffer2, \"decodeBuffer\");\n\n// src/lib/utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  calculateLoudness: () => calculateLoudness,\n  createWavHeader: () => createWavHeader,\n  resample: () => resample\n});\nvar BIT_DEPTHS = [8, 16, 24, 32, 48];\nfunction calculateLoudness(buffer, bitDepth) {\n  if (!(buffer instanceof Buffer) || buffer.length === 0) {\n    throw new Error(\"Invalid buffer, must be a non-empty Buffer.\");\n  }\n  if (!BIT_DEPTHS.includes(bitDepth)) {\n    throw new Error(\"Invalid bit depth, supported values are 8, 16, 24, 32, and 48.\");\n  }\n  if (bitDepth === 48) {\n    throw new Error(\"48-bit audio is not yet implemented.\");\n  }\n  const bytesPerSample = Math.ceil(bitDepth / 8);\n  if (buffer.length % bytesPerSample !== 0) {\n    throw new Error(\n      `Invalid buffer length ${buffer.length}. Must be a multiple of ${bytesPerSample} bytes for ${bitDepth}-bit audio.`\n    );\n  }\n  const maxValue = Math.pow(2, bitDepth - 1) - 1;\n  const numSamples = buffer.length / bytesPerSample;\n  let sumOfSquares = 0;\n  for (let i = 0; i < numSamples; i++) {\n    const offset = i * bytesPerSample;\n    let sample;\n    switch (bitDepth) {\n      case 8:\n        sample = buffer[offset];\n        if (sample & 128) sample = sample - 256;\n        break;\n      case 16:\n        sample = buffer[offset] | buffer[offset + 1] << 8;\n        if (sample & 32768) sample = sample - 65536;\n        break;\n      case 24:\n        sample = buffer[offset] | buffer[offset + 1] << 8 | buffer[offset + 2] << 16;\n        if (sample & 8388608) sample = sample | -16777216;\n        break;\n      case 32:\n        sample = buffer[offset] | buffer[offset + 1] << 8 | buffer[offset + 2] << 16 | buffer[offset + 3] << 24;\n        break;\n      default:\n        throw new Error(`Unsupported bit depth: ${bitDepth}`);\n    }\n    const normalized = sample / maxValue;\n    sumOfSquares += normalized * normalized;\n  }\n  const rms = Math.sqrt(sumOfSquares / numSamples);\n  return rms <= 1e-10 ? -100 : 20 * Math.log10(rms);\n}\n__name(calculateLoudness, \"calculateLoudness\");\nfunction createWavHeader(dataSize, sampleRate, channels, bitDepth) {\n  const headerData = [\n    { value: \"RIFF\", type: \"string\" },\n    { value: 36 + dataSize, type: \"uint32\" },\n    { value: \"WAVE\", type: \"string\" },\n    { value: \"fmt \", type: \"string\" },\n    { value: 16, type: \"uint32\" },\n    { value: 1, type: \"uint16\" },\n    { value: channels, type: \"uint16\" },\n    { value: sampleRate, type: \"uint32\" },\n    { value: sampleRate * channels * bitDepth / 8, type: \"uint32\" },\n    { value: channels * bitDepth / 8, type: \"uint16\" },\n    { value: bitDepth, type: \"uint16\" },\n    { value: \"data\", type: \"string\" },\n    { value: dataSize, type: \"uint32\" }\n  ];\n  const header = Buffer.alloc(44);\n  let offset = 0;\n  headerData.forEach(({ value, type }) => {\n    if (type === \"string\") {\n      header.write(value, offset);\n      offset += 4;\n    } else if (type === \"uint32\") {\n      header.writeUInt32LE(value, offset);\n      offset += 4;\n    } else if (type === \"uint16\") {\n      header.writeUInt16LE(value, offset);\n      offset += 2;\n    }\n  });\n  return header;\n}\n__name(createWavHeader, \"createWavHeader\");\nvar resample = /* @__PURE__ */ __name((samples, inputSampleRate, targetSampleRate, bitDepth) => {\n  if (inputSampleRate <= 0 || targetSampleRate <= 0) {\n    throw new Error(\"Sample rates must be positive.\");\n  }\n  if (!BIT_DEPTHS.includes(bitDepth)) {\n    throw new Error(`Invalid bit depth. Allowed values are: ${BIT_DEPTHS.join(\", \")}`);\n  }\n  const ratio = targetSampleRate / inputSampleRate;\n  const outLength = Math.round(samples.length * ratio);\n  const resampled = new Array(outLength);\n  const maxSample = (1 << bitDepth - 1) - 1;\n  const minSample = -1 << bitDepth - 1;\n  for (let i = 0; i < outLength; i++) {\n    const sourcePos = i / ratio;\n    const index1 = Math.floor(sourcePos);\n    const index2 = Math.min(index1 + 1, samples.length - 1);\n    const alpha = sourcePos - index1;\n    const interpolated = samples[index1] * (1 - alpha) + samples[index2] * alpha;\n    const intSample = Math.round(interpolated);\n    resampled[i] = Math.max(minSample, Math.min(maxSample, intSample));\n  }\n  return resampled;\n}, \"resample\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy94LWxhdy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVMsTUFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxNQUFNO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLFNBQVMsTUFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxNQUFNO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLDBCQUEwQixNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsY0FBYywwQkFBMEIsZ0JBQWdCLFlBQVksU0FBUztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxTQUFTO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0I7QUFDckMsTUFBTSxzQ0FBc0M7QUFDNUMsTUFBTSwrQkFBK0I7QUFDckMsTUFBTSwrQkFBK0I7QUFDckMsTUFBTSwyQkFBMkI7QUFDakMsTUFBTSwwQkFBMEI7QUFDaEMsTUFBTSxpQ0FBaUM7QUFDdkMsTUFBTSxtQ0FBbUM7QUFDekMsTUFBTSw2REFBNkQ7QUFDbkUsTUFBTSxnREFBZ0Q7QUFDdEQsTUFBTSxpQ0FBaUM7QUFDdkMsTUFBTSwrQkFBK0I7QUFDckMsTUFBTTtBQUNOO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxzQkFBc0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFK0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3gtbGF3L2Rpc3QvaW5kZXguanM/MjU5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xuXG4vLyBzcmMvbGliL2FsYXcudHNcbnZhciBhbGF3X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGFsYXdfZXhwb3J0cywge1xuICBkZWNvZGU6ICgpID0+IGRlY29kZSxcbiAgZGVjb2RlQnVmZmVyOiAoKSA9PiBkZWNvZGVCdWZmZXIsXG4gIGRlY29kZVNhbXBsZTogKCkgPT4gZGVjb2RlU2FtcGxlLFxuICBlbmNvZGU6ICgpID0+IGVuY29kZSxcbiAgZW5jb2RlQnVmZmVyOiAoKSA9PiBlbmNvZGVCdWZmZXIsXG4gIGVuY29kZVNhbXBsZTogKCkgPT4gZW5jb2RlU2FtcGxlXG59KTtcbnZhciBMT0dfVEFCTEUgPSBbXG4gIDEsXG4gIDEsXG4gIDIsXG4gIDIsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDdcbl07XG5mdW5jdGlvbiBlbmNvZGVTYW1wbGUoc2FtcGxlKSB7XG4gIGxldCBjb21wYW5kZWRWYWx1ZTtcbiAgc2FtcGxlID0gc2FtcGxlID09IC0zMjc2OCA/IC0zMjc2NyA6IHNhbXBsZTtcbiAgbGV0IHNpZ24gPSB+c2FtcGxlID4+IDggJiAxMjg7XG4gIGlmICghc2lnbikge1xuICAgIHNhbXBsZSA9IHNhbXBsZSAqIC0xO1xuICB9XG4gIGlmIChzYW1wbGUgPiAzMjYzNSkge1xuICAgIHNhbXBsZSA9IDMyNjM1O1xuICB9XG4gIGlmIChzYW1wbGUgPj0gMjU2KSB7XG4gICAgbGV0IGV4cG9uZW50ID0gTE9HX1RBQkxFW3NhbXBsZSA+PiA4ICYgMTI3XTtcbiAgICBsZXQgbWFudGlzc2EgPSBzYW1wbGUgPj4gZXhwb25lbnQgKyAzICYgMTU7XG4gICAgY29tcGFuZGVkVmFsdWUgPSBleHBvbmVudCA8PCA0IHwgbWFudGlzc2E7XG4gIH0gZWxzZSB7XG4gICAgY29tcGFuZGVkVmFsdWUgPSBzYW1wbGUgPj4gNDtcbiAgfVxuICByZXR1cm4gY29tcGFuZGVkVmFsdWUgXiAoc2lnbiBeIDg1KTtcbn1cbl9fbmFtZShlbmNvZGVTYW1wbGUsIFwiZW5jb2RlU2FtcGxlXCIpO1xuZnVuY3Rpb24gZGVjb2RlU2FtcGxlKHNhbXBsZSkge1xuICBsZXQgc2lnbiA9IDA7XG4gIHNhbXBsZSBePSA4NTtcbiAgaWYgKHNhbXBsZSAmIDEyOCkge1xuICAgIHNhbXBsZSAmPSAtMTI5O1xuICAgIHNpZ24gPSAtMTtcbiAgfVxuICBsZXQgcG9zaXRpb24gPSAoKHNhbXBsZSAmIDI0MCkgPj4gNCkgKyA0O1xuICBsZXQgZGVjb2RlZCA9IDA7XG4gIGlmIChwb3NpdGlvbiAhPSA0KSB7XG4gICAgZGVjb2RlZCA9IDEgPDwgcG9zaXRpb24gfCAoc2FtcGxlICYgMTUpIDw8IHBvc2l0aW9uIC0gNCB8IDEgPDwgcG9zaXRpb24gLSA1O1xuICB9IGVsc2Uge1xuICAgIGRlY29kZWQgPSBzYW1wbGUgPDwgMSB8IDE7XG4gIH1cbiAgZGVjb2RlZCA9IHNpZ24gPT09IDAgPyBkZWNvZGVkIDogLWRlY29kZWQ7XG4gIHJldHVybiBkZWNvZGVkICogOCAqIC0xO1xufVxuX19uYW1lKGRlY29kZVNhbXBsZSwgXCJkZWNvZGVTYW1wbGVcIik7XG5mdW5jdGlvbiBlbmNvZGUoc2FtcGxlcykge1xuICBsZXQgYUxhd1NhbXBsZXMgPSBuZXcgVWludDhBcnJheShzYW1wbGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgIGFMYXdTYW1wbGVzW2ldID0gZW5jb2RlU2FtcGxlKHNhbXBsZXNbaV0pO1xuICB9XG4gIHJldHVybiBhTGF3U2FtcGxlcztcbn1cbl9fbmFtZShlbmNvZGUsIFwiZW5jb2RlXCIpO1xuZnVuY3Rpb24gZGVjb2RlKHNhbXBsZXMpIHtcbiAgbGV0IHBjbVNhbXBsZXMgPSBuZXcgSW50MTZBcnJheShzYW1wbGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHBjbVNhbXBsZXNbaV0gPSBkZWNvZGVTYW1wbGUoc2FtcGxlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHBjbVNhbXBsZXM7XG59XG5fX25hbWUoZGVjb2RlLCBcImRlY29kZVwiKTtcbmZ1bmN0aW9uIGVuY29kZUJ1ZmZlcihidWZmZXIpIHtcbiAgY29uc3QgbnVtU2FtcGxlcyA9IE1hdGguZmxvb3IoYnVmZmVyLmxlbmd0aCAvIDIpO1xuICBjb25zdCBzYW1wbGVzID0gbmV3IEludDE2QXJyYXkobnVtU2FtcGxlcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU2FtcGxlczsgaSsrKSB7XG4gICAgc2FtcGxlc1tpXSA9IGJ1ZmZlci5yZWFkSW50MTZMRShpICogMik7XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVuY29kZShzYW1wbGVzKS5idWZmZXIpO1xufVxuX19uYW1lKGVuY29kZUJ1ZmZlciwgXCJlbmNvZGVCdWZmZXJcIik7XG5mdW5jdGlvbiBkZWNvZGVCdWZmZXIoYnVmZmVyKSB7XG4gIGNvbnN0IHNhbXBsZXMgPSBkZWNvZGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gIHJldHVybiBCdWZmZXIuZnJvbShzYW1wbGVzLmJ1ZmZlcik7XG59XG5fX25hbWUoZGVjb2RlQnVmZmVyLCBcImRlY29kZUJ1ZmZlclwiKTtcblxuLy8gc3JjL2xpYi9tdWxhdy50c1xudmFyIG11bGF3X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG11bGF3X2V4cG9ydHMsIHtcbiAgZGVjb2RlOiAoKSA9PiBkZWNvZGUyLFxuICBkZWNvZGVCdWZmZXI6ICgpID0+IGRlY29kZUJ1ZmZlcjIsXG4gIGRlY29kZVNhbXBsZTogKCkgPT4gZGVjb2RlU2FtcGxlMixcbiAgZW5jb2RlOiAoKSA9PiBlbmNvZGUyLFxuICBlbmNvZGVCdWZmZXI6ICgpID0+IGVuY29kZUJ1ZmZlcjIsXG4gIGVuY29kZVNhbXBsZTogKCkgPT4gZW5jb2RlU2FtcGxlMlxufSk7XG52YXIgQklBUyA9IDEzMjtcbnZhciBDTElQID0gMzI2MzU7XG52YXIgZW5jb2RlVGFibGUgPSBbXG4gIDAsXG4gIDAsXG4gIDEsXG4gIDEsXG4gIDIsXG4gIDIsXG4gIDIsXG4gIDIsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDMsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDQsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDUsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDYsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDcsXG4gIDdcbl07XG52YXIgZGVjb2RlVGFibGUgPSBbMCwgMTMyLCAzOTYsIDkyNCwgMTk4MCwgNDA5MiwgODMxNiwgMTY3NjRdO1xuZnVuY3Rpb24gZW5jb2RlU2FtcGxlMihzYW1wbGUpIHtcbiAgY29uc3Qgc2lnbiA9IHNhbXBsZSA8IDAgPyAxMjggOiAwO1xuICBzYW1wbGUgPSBNYXRoLmFicyhzYW1wbGUpO1xuICBzYW1wbGUgKz0gQklBUztcbiAgaWYgKHNhbXBsZSA+IENMSVApIHNhbXBsZSA9IENMSVA7XG4gIGNvbnN0IGV4cG9uZW50ID0gZW5jb2RlVGFibGVbc2FtcGxlID4+IDcgJiAyNTVdO1xuICBjb25zdCBtYW50aXNzYSA9IHNhbXBsZSA+PiBleHBvbmVudCArIDMgJiAxNTtcbiAgcmV0dXJuIH4oc2lnbiB8IGV4cG9uZW50IDw8IDQgfCBtYW50aXNzYSkgJiAyNTU7XG59XG5fX25hbWUoZW5jb2RlU2FtcGxlMiwgXCJlbmNvZGVTYW1wbGVcIik7XG5mdW5jdGlvbiBkZWNvZGVTYW1wbGUyKHNhbXBsZSkge1xuICBzYW1wbGUgPSB+c2FtcGxlICYgMjU1O1xuICBjb25zdCBzaWduID0gc2FtcGxlICYgMTI4ID8gLTEgOiAxO1xuICBjb25zdCBleHBvbmVudCA9IHNhbXBsZSA+PiA0ICYgNztcbiAgY29uc3QgbWFudGlzc2EgPSBzYW1wbGUgJiAxNTtcbiAgY29uc3QgZGVjb2RlZFNhbXBsZSA9IGRlY29kZVRhYmxlW2V4cG9uZW50XSArIChtYW50aXNzYSA8PCBleHBvbmVudCArIDMpO1xuICByZXR1cm4gc2lnbiAqIGRlY29kZWRTYW1wbGU7XG59XG5fX25hbWUoZGVjb2RlU2FtcGxlMiwgXCJkZWNvZGVTYW1wbGVcIik7XG5mdW5jdGlvbiBlbmNvZGUyKHNhbXBsZXMpIHtcbiAgY29uc3QgbXVMYXdTYW1wbGVzID0gbmV3IFVpbnQ4QXJyYXkoc2FtcGxlcy5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBtdUxhd1NhbXBsZXNbaV0gPSBlbmNvZGVTYW1wbGUyKHNhbXBsZXNbaV0pO1xuICB9XG4gIHJldHVybiBtdUxhd1NhbXBsZXM7XG59XG5fX25hbWUoZW5jb2RlMiwgXCJlbmNvZGVcIik7XG5mdW5jdGlvbiBkZWNvZGUyKHNhbXBsZXMpIHtcbiAgY29uc3QgcGNtU2FtcGxlcyA9IG5ldyBJbnQxNkFycmF5KHNhbXBsZXMubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcGNtU2FtcGxlc1tpXSA9IGRlY29kZVNhbXBsZTIoc2FtcGxlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHBjbVNhbXBsZXM7XG59XG5fX25hbWUoZGVjb2RlMiwgXCJkZWNvZGVcIik7XG5mdW5jdGlvbiBlbmNvZGVCdWZmZXIyKGJ1ZmZlcikge1xuICBjb25zdCBudW1TYW1wbGVzID0gTWF0aC5mbG9vcihidWZmZXIubGVuZ3RoIC8gMik7XG4gIGNvbnN0IHNhbXBsZXMgPSBuZXcgSW50MTZBcnJheShudW1TYW1wbGVzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TYW1wbGVzOyBpKyspIHtcbiAgICBzYW1wbGVzW2ldID0gYnVmZmVyLnJlYWRJbnQxNkxFKGkgKiAyKTtcbiAgfVxuICByZXR1cm4gQnVmZmVyLmZyb20oZW5jb2RlMihzYW1wbGVzKS5idWZmZXIpO1xufVxuX19uYW1lKGVuY29kZUJ1ZmZlcjIsIFwiZW5jb2RlQnVmZmVyXCIpO1xuZnVuY3Rpb24gZGVjb2RlQnVmZmVyMihidWZmZXIpIHtcbiAgY29uc3Qgc2FtcGxlcyA9IGRlY29kZTIobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gIHJldHVybiBCdWZmZXIuZnJvbShzYW1wbGVzLmJ1ZmZlcik7XG59XG5fX25hbWUoZGVjb2RlQnVmZmVyMiwgXCJkZWNvZGVCdWZmZXJcIik7XG5cbi8vIHNyYy9saWIvdXRpbHMudHNcbnZhciB1dGlsc19leHBvcnRzID0ge307XG5fX2V4cG9ydCh1dGlsc19leHBvcnRzLCB7XG4gIGNhbGN1bGF0ZUxvdWRuZXNzOiAoKSA9PiBjYWxjdWxhdGVMb3VkbmVzcyxcbiAgY3JlYXRlV2F2SGVhZGVyOiAoKSA9PiBjcmVhdGVXYXZIZWFkZXIsXG4gIHJlc2FtcGxlOiAoKSA9PiByZXNhbXBsZVxufSk7XG52YXIgQklUX0RFUFRIUyA9IFs4LCAxNiwgMjQsIDMyLCA0OF07XG5mdW5jdGlvbiBjYWxjdWxhdGVMb3VkbmVzcyhidWZmZXIsIGJpdERlcHRoKSB7XG4gIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikgfHwgYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYnVmZmVyLCBtdXN0IGJlIGEgbm9uLWVtcHR5IEJ1ZmZlci5cIik7XG4gIH1cbiAgaWYgKCFCSVRfREVQVEhTLmluY2x1ZGVzKGJpdERlcHRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYml0IGRlcHRoLCBzdXBwb3J0ZWQgdmFsdWVzIGFyZSA4LCAxNiwgMjQsIDMyLCBhbmQgNDguXCIpO1xuICB9XG4gIGlmIChiaXREZXB0aCA9PT0gNDgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCI0OC1iaXQgYXVkaW8gaXMgbm90IHlldCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgY29uc3QgYnl0ZXNQZXJTYW1wbGUgPSBNYXRoLmNlaWwoYml0RGVwdGggLyA4KTtcbiAgaWYgKGJ1ZmZlci5sZW5ndGggJSBieXRlc1BlclNhbXBsZSAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGJ1ZmZlciBsZW5ndGggJHtidWZmZXIubGVuZ3RofS4gTXVzdCBiZSBhIG11bHRpcGxlIG9mICR7Ynl0ZXNQZXJTYW1wbGV9IGJ5dGVzIGZvciAke2JpdERlcHRofS1iaXQgYXVkaW8uYFxuICAgICk7XG4gIH1cbiAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLnBvdygyLCBiaXREZXB0aCAtIDEpIC0gMTtcbiAgY29uc3QgbnVtU2FtcGxlcyA9IGJ1ZmZlci5sZW5ndGggLyBieXRlc1BlclNhbXBsZTtcbiAgbGV0IHN1bU9mU3F1YXJlcyA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtU2FtcGxlczsgaSsrKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gaSAqIGJ5dGVzUGVyU2FtcGxlO1xuICAgIGxldCBzYW1wbGU7XG4gICAgc3dpdGNoIChiaXREZXB0aCkge1xuICAgICAgY2FzZSA4OlxuICAgICAgICBzYW1wbGUgPSBidWZmZXJbb2Zmc2V0XTtcbiAgICAgICAgaWYgKHNhbXBsZSAmIDEyOCkgc2FtcGxlID0gc2FtcGxlIC0gMjU2O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTY6XG4gICAgICAgIHNhbXBsZSA9IGJ1ZmZlcltvZmZzZXRdIHwgYnVmZmVyW29mZnNldCArIDFdIDw8IDg7XG4gICAgICAgIGlmIChzYW1wbGUgJiAzMjc2OCkgc2FtcGxlID0gc2FtcGxlIC0gNjU1MzY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyNDpcbiAgICAgICAgc2FtcGxlID0gYnVmZmVyW29mZnNldF0gfCBidWZmZXJbb2Zmc2V0ICsgMV0gPDwgOCB8IGJ1ZmZlcltvZmZzZXQgKyAyXSA8PCAxNjtcbiAgICAgICAgaWYgKHNhbXBsZSAmIDgzODg2MDgpIHNhbXBsZSA9IHNhbXBsZSB8IC0xNjc3NzIxNjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDMyOlxuICAgICAgICBzYW1wbGUgPSBidWZmZXJbb2Zmc2V0XSB8IGJ1ZmZlcltvZmZzZXQgKyAxXSA8PCA4IHwgYnVmZmVyW29mZnNldCArIDJdIDw8IDE2IHwgYnVmZmVyW29mZnNldCArIDNdIDw8IDI0O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgYml0IGRlcHRoOiAke2JpdERlcHRofWApO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkID0gc2FtcGxlIC8gbWF4VmFsdWU7XG4gICAgc3VtT2ZTcXVhcmVzICs9IG5vcm1hbGl6ZWQgKiBub3JtYWxpemVkO1xuICB9XG4gIGNvbnN0IHJtcyA9IE1hdGguc3FydChzdW1PZlNxdWFyZXMgLyBudW1TYW1wbGVzKTtcbiAgcmV0dXJuIHJtcyA8PSAxZS0xMCA/IC0xMDAgOiAyMCAqIE1hdGgubG9nMTAocm1zKTtcbn1cbl9fbmFtZShjYWxjdWxhdGVMb3VkbmVzcywgXCJjYWxjdWxhdGVMb3VkbmVzc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVdhdkhlYWRlcihkYXRhU2l6ZSwgc2FtcGxlUmF0ZSwgY2hhbm5lbHMsIGJpdERlcHRoKSB7XG4gIGNvbnN0IGhlYWRlckRhdGEgPSBbXG4gICAgeyB2YWx1ZTogXCJSSUZGXCIsIHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICB7IHZhbHVlOiAzNiArIGRhdGFTaXplLCB0eXBlOiBcInVpbnQzMlwiIH0sXG4gICAgeyB2YWx1ZTogXCJXQVZFXCIsIHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICB7IHZhbHVlOiBcImZtdCBcIiwgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgIHsgdmFsdWU6IDE2LCB0eXBlOiBcInVpbnQzMlwiIH0sXG4gICAgeyB2YWx1ZTogMSwgdHlwZTogXCJ1aW50MTZcIiB9LFxuICAgIHsgdmFsdWU6IGNoYW5uZWxzLCB0eXBlOiBcInVpbnQxNlwiIH0sXG4gICAgeyB2YWx1ZTogc2FtcGxlUmF0ZSwgdHlwZTogXCJ1aW50MzJcIiB9LFxuICAgIHsgdmFsdWU6IHNhbXBsZVJhdGUgKiBjaGFubmVscyAqIGJpdERlcHRoIC8gOCwgdHlwZTogXCJ1aW50MzJcIiB9LFxuICAgIHsgdmFsdWU6IGNoYW5uZWxzICogYml0RGVwdGggLyA4LCB0eXBlOiBcInVpbnQxNlwiIH0sXG4gICAgeyB2YWx1ZTogYml0RGVwdGgsIHR5cGU6IFwidWludDE2XCIgfSxcbiAgICB7IHZhbHVlOiBcImRhdGFcIiwgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgIHsgdmFsdWU6IGRhdGFTaXplLCB0eXBlOiBcInVpbnQzMlwiIH1cbiAgXTtcbiAgY29uc3QgaGVhZGVyID0gQnVmZmVyLmFsbG9jKDQ0KTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGhlYWRlckRhdGEuZm9yRWFjaCgoeyB2YWx1ZSwgdHlwZSB9KSA9PiB7XG4gICAgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGhlYWRlci53cml0ZSh2YWx1ZSwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldCArPSA0O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ1aW50MzJcIikge1xuICAgICAgaGVhZGVyLndyaXRlVUludDMyTEUodmFsdWUsIG9mZnNldCk7XG4gICAgICBvZmZzZXQgKz0gNDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidWludDE2XCIpIHtcbiAgICAgIGhlYWRlci53cml0ZVVJbnQxNkxFKHZhbHVlLCBvZmZzZXQpO1xuICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlYWRlcjtcbn1cbl9fbmFtZShjcmVhdGVXYXZIZWFkZXIsIFwiY3JlYXRlV2F2SGVhZGVyXCIpO1xudmFyIHJlc2FtcGxlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc2FtcGxlcywgaW5wdXRTYW1wbGVSYXRlLCB0YXJnZXRTYW1wbGVSYXRlLCBiaXREZXB0aCkgPT4ge1xuICBpZiAoaW5wdXRTYW1wbGVSYXRlIDw9IDAgfHwgdGFyZ2V0U2FtcGxlUmF0ZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2FtcGxlIHJhdGVzIG11c3QgYmUgcG9zaXRpdmUuXCIpO1xuICB9XG4gIGlmICghQklUX0RFUFRIUy5pbmNsdWRlcyhiaXREZXB0aCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYml0IGRlcHRoLiBBbGxvd2VkIHZhbHVlcyBhcmU6ICR7QklUX0RFUFRIUy5qb2luKFwiLCBcIil9YCk7XG4gIH1cbiAgY29uc3QgcmF0aW8gPSB0YXJnZXRTYW1wbGVSYXRlIC8gaW5wdXRTYW1wbGVSYXRlO1xuICBjb25zdCBvdXRMZW5ndGggPSBNYXRoLnJvdW5kKHNhbXBsZXMubGVuZ3RoICogcmF0aW8pO1xuICBjb25zdCByZXNhbXBsZWQgPSBuZXcgQXJyYXkob3V0TGVuZ3RoKTtcbiAgY29uc3QgbWF4U2FtcGxlID0gKDEgPDwgYml0RGVwdGggLSAxKSAtIDE7XG4gIGNvbnN0IG1pblNhbXBsZSA9IC0xIDw8IGJpdERlcHRoIC0gMTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNvdXJjZVBvcyA9IGkgLyByYXRpbztcbiAgICBjb25zdCBpbmRleDEgPSBNYXRoLmZsb29yKHNvdXJjZVBvcyk7XG4gICAgY29uc3QgaW5kZXgyID0gTWF0aC5taW4oaW5kZXgxICsgMSwgc2FtcGxlcy5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBhbHBoYSA9IHNvdXJjZVBvcyAtIGluZGV4MTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBzYW1wbGVzW2luZGV4MV0gKiAoMSAtIGFscGhhKSArIHNhbXBsZXNbaW5kZXgyXSAqIGFscGhhO1xuICAgIGNvbnN0IGludFNhbXBsZSA9IE1hdGgucm91bmQoaW50ZXJwb2xhdGVkKTtcbiAgICByZXNhbXBsZWRbaV0gPSBNYXRoLm1heChtaW5TYW1wbGUsIE1hdGgubWluKG1heFNhbXBsZSwgaW50U2FtcGxlKSk7XG4gIH1cbiAgcmV0dXJuIHJlc2FtcGxlZDtcbn0sIFwicmVzYW1wbGVcIik7XG5cbmV4cG9ydCB7IGFsYXdfZXhwb3J0cyBhcyBhbGF3LCBtdWxhd19leHBvcnRzIGFzIG11bGF3LCB1dGlsc19leHBvcnRzIGFzIHV0aWxzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/x-law/dist/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fnilab%2FDesktop%2Fprojects%2Fgti%2Ffubnvoicechat-frontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);